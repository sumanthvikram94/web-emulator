var exports={};class ApiAgent{constructor(){this.isMsgComm=false;this.isInterceptEnabled=false;this.isFromApi=false;this.isWebComponentAPI=false;this.screens=new Map;this.apiConsumerWindow=null;this.apiWrapper=null;this.realMsgListner=!isOnZowe?this.receiveMessage.bind(this):null}setApiWrapper(e,t,i){this.apiWrapper=e;this.isFromApi=t;this.isWebComponentAPI=i;if(this.isWebComponentAPI&&!isOnZowe){this.removeMsgListener()}}addScreen(e){this.screens.set(e.sessionShortName,e)}removeScreen(e){if(this.screens.has(e.sessionShortName)){this.screens.delete(e.sessionShortName)}}getActiveScreen(){let i=undefined;this.screens.forEach((e,t)=>{if(e.sessionShortName){i=e}else{this.screens.delete(t)}});return i}addMsgListener(){window.addEventListener("message",this.realMsgListner,false)}removeMsgListener(){window.removeEventListener("message",this.realMsgListner,false)}handleFunctionIntercept(e){if(this.isMsgComm){this.apiConsumerWindow.postMessage("handleFunctionIntercept:"+e,"*")}else if(this.apiWrapper){this.apiWrapper.emitKeyStroke("handleFunctionIntercept:"+e)}}disconnectAll(){if(this.screens&&this.screens.size>0){this.screens.forEach(e=>{try{e.disconnect()}catch(e){}});this.screens.clear()}}handleApi(e,t,i){let n,r;const s=this.getActiveScreen();if(!s){return}if(e.indexOf("ENALBE_KEY_INTERCEPTING")!=-1){this.isInterceptEnabled=true;console.log("Key interceptor enabled");return}if(e.indexOf("virtualScreen.connect")!=-1){n=e.split("\n");r=new Object;r=Object.assign(r,s.hostInfo);r.host=n[2];r.port=Number(n[3]);r.security=Number(n[4]);s.sessionDeviceName="";if(s.initSomeVTVars)s.initSomeVTVars();s.connect(n[1],r);t({myRetVal:true})}else if(e.indexOf("virtualScreen.disconnect")!=-1){s.disconnect();t({myRetVal:true})}else if(e.indexOf("virtualScreen.focus")!=-1){s.invisibleInput.focus();t({myRetVal:true})}else if(e.indexOf("virtualScreen.getScreenContents")!=-1){n=e.split("\n");const o=s.getScreenContents(Number(n[1])-1,Number(n[2]),Number(n[3])-1,Number(n[4]),false,true,false);t({myRetVal:o})}else if(e.indexOf("virtualScreen.isConnected")!=-1){const o=s.isConnected();t({myRetVal:o})}else{const l=new ScriptManager;const a=l.create("js","s1",e,null);a.compile();const c=new ScriptExecutionContext([s],a,0,"",t,i);c.runTillWaitOrComplete()}}recordMsgConsumerWindow(e){if(!this.apiConsumerWindow){this.isMsgComm=true;this.isFromApi=true;this.apiConsumerWindow=e}}notifyRedirect(){if(this.apiConsumerWindow!==null&&this.isInterceptEnabled===true){this.apiConsumerWindow.postMessage("API_AGENT_EVENT_REDIRECT","*")}}receiveMessage(i){if(i.data.indexOf("host_SetCallback")!=-1){this.recordMsgConsumerWindow(i.source);this.apiConsumerWindow.postMessage("host_SetCallback_ACK","*");return}if(i.data.indexOf("ENALBE_KEY_INTERCEPTING")!=-1){this.isInterceptEnabled=true;this.recordMsgConsumerWindow(i.source);console.log("Key interceptor enabled");return}const e=e=>{const t=e!==undefined&&e.myRetVal!==undefined?e.myRetVal:true;if(t.then!==undefined&&typeof t.then==="function"){t.then(e=>{i.source.postMessage(e,"*")})}else{i.source.postMessage(t,"*")}};const t=e=>{console.error(e);i.source.postMessage("[RTEW_API_ERROR]"+e.message,"*")};this.handleApi(i.data,e,t)}}let isOnZowe=window["ZoweZLUX"];var apiAgent=new ApiAgent;if(!isOnZowe){apiAgent.addMsgListener()}console.log("loading Constants.js");if(!window.COM_RS_COMMON_LOGGER){window.COM_RS_COMMON_LOGGER=function(){console.log("Fallback logger loaded because common logger not found.")};var logString=function(e){if(arguments.length>1){e=arguments[1]}console.log(e)};window.COM_RS_COMMON_LOGGER.makeComponentLogger=function(){return{info:logString,warn:logString,log:logString,debug:logString,severe:logString}}}var tecoreLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore");const WEBSOCKET_REASON_INTERNAL_ERROR=1011;const WEBSOCKET_REASON_CLOSE_GOING_AWAY=1001;const WEBSOCKET_BZW_INTERNAL_ERROR=4999;const WEBSOCKET_BZW_SERVER_SENT_ERROR=4001;const HOTSPOT_WEBLINK_FORMAT="http(s)?://([-a-zA-Z0-9\\u0080-\\uFFFF@:%_+.~#?!&//=]+)";const SPECIAL_CHAR_REX=/[`~!@#$%^&\*()+={}\[\];:\'<>?,]+/;const WORD_CHAR_REX=/[0-9a-zA-Z-_.\/\u0080-\uFFFF]+/;const WORD_CHAR_REX2=/[0-9a-zA-Z-.\u0080-\uFFFF]+/;const TELNET_SUBEND=240;const TELNET_NOP=241;const TELNET_BRK=243;const TELNET_IP=244;const TELNET_ABORT=245;const TELNET_DATA_MARK=242;const TELNET_ERASE_CHARACTER=247;const TELNET_GO_AHEAD=249;const TELNET_SUB=250;const TELNET_WILL=251;const TELNET_WONT=252;const TELNET_DO=253;const TELNET_DONT=254;const TELNET_IAC=255;const TELNET_OPTION_BINARY=0;const TELNET_OPTION_ECHO=1;const TELNET_OPTION_SUPPRESS_GO_AHEAD=3;const TELNET_OPTION_STATUS=5;const TELNET_OPTION_TIMING_MARK=6;const TELNET_OPTION_TERMINAL_TYPE=24;const TELNET_OPTION_END_OF_RECORD=25;const TELNET_OPTION_3270_REGIME=29;const TELNET_OPTION_WINDOW_SIZE=31;const TELNET_OPTION_TERMINAL_SPEED=32;const TELNET_OPTION_REMOTE_FLOW_CONTROL=33;const TELNET_OPTION_LINEMODE=34;const TELNET_OPTION_X_DISPLAY_LOCATION=35;const TELNET_OPTION_ENVIRONMENT=36;const TELNET_OPTION_ENCRYPTION=38;const TELNET_OPTION_NEW_ENVIRONMENT=39;const TELNET_OPTION_TN3270E=40;const TELNET_OPTION_START_TLS=46;const TELNET_RX_DO=1;const TELNET_RX_WILL=2;const TELNET_TX_DO=4;const TELNET_TX_WILL=8;const TELNET_RX_TX_ALL=15;const TERMINAL_PROTOCOL_VT=1;const TERMINAL_PROTOCOL_TN3270=2;const TERMINAL_PROTOCOL_TN5250=3;const TN3270E=40;const TN_NV_IS=0;const TN_NV_SEND=1;const TN_NV_INFO=2;const TN_NV_VAR=0;const TN_NV_VALUE=1;const TN_NV_ESC=2;const TN_NV_USERVAR=3;const DisplayVars=["USER"];const DisplayUservars=["IBMRSEED","IBMSUBSPW","IBMCURLIB","IBMIMENU","IBMPROGRAM","DEVNAME","KBDTYPE","CODEPAGE","CHARSET","IBMSENDCONFREC","IBMASSOCPRT","IBMTICKET"];const PrinterUservars=["DEVNAME","IBMMSGQNAME","IBMMSGQLIB","IBMFONT","IBMFORMFEED","IBMIGCFEAT","IBMTRANSFORM","IBMMFRTYPMDL","IBMWSCSTNAME","IBMWSCSTLIB","IBMBUFFERSIZE","IBMPPRSRC1","IBMPPRSRC2","IBMENVELOPE","IBMASCII899"];const SESSION_NAME_ALPHABET=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"];const cp1047ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,229,231,241,162,46,60,40,43,124,38,233,234,235,232,237,238,239,236,223,33,36,42,41,59,94,45,47,194,196,192,193,195,197,199,209,166,44,37,95,62,63,248,201,202,203,200,205,206,207,204,96,58,35,64,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,126,115,116,117,118,119,120,121,122,161,191,208,91,222,174,172,163,165,183,169,167,182,188,189,190,221,168,175,93,180,215,123,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,125,74,75,76,77,78,79,80,81,82,185,251,252,249,250,255,92,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const geToUnicode=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,65,66,67,68,69,70,71,72,73,0,0,0,0,0,0,0,74,75,76,77,78,79,80,81,82,0,0,0,0,0,0,0,0,83,84,85,86,87,88,89,90,0,0,0,0,0,0,9674,94,168,9019,9080,9079,8866,8867,7515,0,0,0,0,0,0,0,126,61569,61570,61571,61572,9474,0,0,0,0,8593,8595,8804,8968,8970,8594,9109,9612,9616,9600,9604,9608,0,0,0,0,8580,8834,164,9675,177,8592,8254,176,9472,8226,0,0,0,0,0,0,8745,8899,0,91,8805,9702,945,949,953,961,969,0,215,92,247,0,8711,8710,8868,93,8800,9474,123,8317,46,8718,9492,9484,9500,9524,167,0,9074,9073,9015,9021,9026,9049,125,8318,45,9532,9496,9488,9508,9516,182,0,9014,33,9042,9035,9054,9053,8801,8321,8322,8323,9060,9061,9066,8364,0,0,9023,9024,8757,8854,9017,9045,8304,185,178,179,8308,8309,8310,8311,8312,8313,0,9067,9049,9055,9038,0];const ebcdicHexDigits=[240,241,242,243,244,245,246,247,248,249,193,194,195,196,197,198];const TN3270E_CMD_WRITE=241;const TN3270E_CMD_WRITE_LOCAL=1;const TN3270E_CMD_WRITE_ASCII=49;const TN3270E_CMD_ERASE_WRITE=245;const TN3270E_CMD_ERASE_WRITE_LOCAL=5;const TN3270E_CMD_ERASE_WRITE_ASCII=53;const TN3270E_CMD_ERASE_WRITE_ALTERNATE=126;const TN3270E_CMD_ERASE_WRITE_ALTERNATE_LOCAL=13;const TN3270E_CMD_ERASE_WRITE_ALTERNATE_ASCII=61;const TN3270E_CMD_ERASE_ALL_UNPROTECTED=111;const TN3270E_CMD_ERASE_ALL_UNPROTECTED_LOCAL=15;const TN3270E_CMD_ERASE_ALL_UNPROTECTED_ASCII=63;const TN3270E_CMD_WRITE_STRUCTURED_FIELD=243;const TN3270E_CMD_WRITE_STRUCTURED_FIELD_LOCAL=17;const TN3270E_CMD_WRITE_STRUCTURED_FIELD_ASCII=-1234567;const TN3270E_CMD_READ_BUFFER=242;const TN3270E_CMD_READ_BUFFER_LOCAL=2;const TN3270E_CMD_READ_BUFFER_ASCII=50;const TN3270E_CMD_READ_MODIFIED=246;const TN3270E_CMD_READ_MODIFIED_LOCAL=6;const TN3270E_CMD_READ_MODIFIED_ASCII=54;const TN3270E_CMD_READ_MODIFIED_ALL=110;const TN3270E_CMD_READ_MODIFIED_ALL_LOCAL=14;const TN3270E_CMD_READ_MODIFIED_ALL_ASCII=62;const TN3270E_ORDER_START_FIELD=29;const TN3270E_ORDER_START_FIELD_EXTENDED=41;const TN3270E_ORDER_SET_BUFFER_ADDRESS=17;const TN3270E_ORDER_SET_ATTRIBUTE=40;const TN3270E_ORDER_INSERT_CURSOR=19;const TN3270E_ORDER_MODIFY_FIELD=44;const TN3270E_ORDER_PROGRAM_TAB=5;const TN3270E_ORDER_REPEAT_TO_ADDRESS=60;const TN3270E_ORDER_ERASE_UNPROTECTED_TO_ADDRESS=18;const TN3270E_ORDER_GRAPHIC_ESCAPE=8;const TN3270E_DATA_RUN_PSEUDO_ORDER=16777215;const TN3270_REPLY_MODE_FIELD=0;const TN3270_REPLY_MODE_EXTENDED_FIELD=1;const TN3270_REPLY_MODE_CHARACTER=2;const TN3270E_STRUCTURED_FIELD_RESET_PARTITION=0;const TN3270E_STRUCTURED_FIELD_READ_PARTITION=1;const TN3270E_STRUCTURED_FIELD_READ_P_QUERY=258;const TN3270E_STRUCTURED_FIELD_READ_P_QUERY_LIST=259;const TN3270E_STRUCTURED_FIELD_READ_P_MODIFIED_ALL=366;const TN3270E_STRUCTURED_FIELD_READ_P_BUFFER=498;const TN3270E_STRUCTURED_FIELD_READ_P_MODIFIED=502;const TN3270E_STRUCTURED_FIELD_ERASE_RESET=3;const TN3270E_STRUCTURED_FIELD_LOAD_PROGRAMMED_SYMBOLS=6;const TN3270E_STRUCTURED_FIELD_SET_REPLY_MODE=9;const TN3270E_STRUCTURED_FIELD_SET_WINDOW_ORIGIN=11;const TN3270E_STRUCTURED_FIELD_CREATE_PARTITION=12;const TN3270E_STRUCTURED_FIELD_DESTROY_PARTITION=13;const TN3270E_STRUCTURED_FIELD_ACTIVATE_PARTITION=14;const TN3270E_STRUCTURED_FIELD_EXTENSION_F=15;const TN3270E_STRUCTURED_FIELD_SET_MSR_CONTROL=3841;const TN3270E_STRUCTURED_FIELD_DESTINATION_ORIGIN=3842;const TN3270E_STRUCTURED_FIELD_SELECT_COLOR_TABLE=3844;const TN3270E_STRUCTURED_FIELD_LOAD_COLOR_TABLE=3845;const TN3270E_STRUCTURED_FIELD_LOAD_LINE_TYPE=3847;const TN3270E_STRUCTURED_FIELD_SET_PARTITION_CHARACTERISTICS=3848;const TN3270E_STRUCTURED_FIELD_MODIFY_PARTITION=3850;const TN3270E_STRUCTURED_FIELD_OBJECT_DATA=3855;const TN3270E_STRUCTURED_FIELD_OBJECT_PICTURE=3856;const TN3270E_STRUCTURED_FIELD_OBJECT_CONTROL=3857;const TN3270E_STRUCTURED_FIELD_OEM_DATA=3871;const TN3270E_STRUCTURED_FIELD_DATA_CHAIN=3873;const TN3270E_STRUCTURED_FIELD_EXCEPTION_STATUS=3874;const TN3270E_STRUCTURED_FIELD_LOAD_FORMAT_STORAGE=3876;const TN3270E_STRUCTURED_FIELD_SELECT_IPDS_MODE=3971;const TN3270E_STRUCTURED_FIELD_SET_PRINTER_CHARACTERISTICS=3972;const TN3270E_STRUCTURED_FIELD_BEGIN_END_FILE=3973;const TN3270E_STRUCTURED_FIELD_INBOUND_TEXT_HEADER=4017;const TN3270E_STRUCTURED_FIELD_TYPE1_TEXT_OUTBOUND=4033;const TN3270E_STRUCTURED_FIELD_EXTENSION_10=16;const TN3270E_STRUCTURED_FIELD_REQUEST_RECOVERY_DATA=4144;const TN3270E_STRUCTURED_FIELD_RECOVERY_DATA=4145;const TN3270E_STRUCTURED_FIELD_SET_CHECKPOINT_INTERVAL=4146;const TN3270E_STRUCTURED_FIELD_RESTART=4147;const TN3270E_STRUCTURED_FIELD_SAVE_RESTORE_PANEL=4148;const TN3270E_STRUCTURED_FIELD_OUTBOUND_3270DS=64;const TN3270E_STRUCTURED_FIELD_SCS_DATA=65;const TN3270E_STRUCTURED_FIELD_SELECT_FORMAT_GROUP=74;const TN3270E_STRUCTURED_FIELD_PRESENT_ABSOLUTE_FORMAT=75;const TN3270E_STRUCTURED_FIELD_PRESENT_RELATIVE_FORMAT=76;const TN3270E_STRUCTURED_FIELD_INBOUND_3270DS=128;const TN3270E_STRUCTURED_FIELD_QUERY_REPLY=129;const TN3270E_STRUCTURED_FIELD_INDFILE=208;const TN3270E_MSG_3270_DATA=0;const TN3270E_MSG_SCS_DATA=1;const TN3270E_MSG_RESPONSE=2;const TN3270E_MSG_BIND_IMAGE=3;const TN3270E_MSG_UNBIND=4;const TN3270E_MSG_NVT_DATA=5;const TN3270E_MSG_REQUEST=6;const TN3270E_MSG_SSCP_LU_DATA=7;const TN3270E_MSG_PRINT_EOJ=8;const TN3270E_MSG_BID=9;const TN3270E_TELNET_MESSAGE_END=239;const TN3270E_TELNET_SUB_DEVICE_TYPE=2;const TN3270E_TELNET_SUB_REQUEST=7;const TN3270E_TELNET_SUB_SEND=8;const TN3270E_TELNET_SUB_FUNCTIONS=3;const TN3270E_TELNET_SUB_ASSOCIATE=0;const TN3270E_TELNET_SUB_CONNECT=1;const TN3270E_TELNET_SUB_IS=4;const TN3270E_TELNET_SUB_REJECT=6;const TN3270E_TELNET_SUB_REASON=5;const TN3270_TELNET_REASON_CODES_CONN_PARTNER=0;const TN3270_TELNET_REASON_CODES_DEVICE_IN_USE=1;const TN3270_TELNET_REASON_CODES_INV_ASSOCIATE=2;const TN3270_TELNET_REASON_CODES_INV_NAME=3;const TN3270_TELNET_REASON_CODES_INV_DEVICE_TYPE=4;const TN3270_TELNET_REASON_CODES_TYPE_NAME_ERROR=5;const TN3270_TELNET_REASON_CODES_UNKNOWN_ERROR=6;const TN3270_TELNET_REASON_CODES_UNSUPPORTED_REQ=7;const TN370_REASON_CODE_EXPLANATION={"CONN-PARTNER":"The requested LU Name is associated with another terminal.","DEVICE-IN-USE":"The requested LU Name is already in use with another session.","INV-ASSOCIATE":"The requested Device Type is not a printer or the associated LU Name is not a terminal.","INV-NAME":"The LU Name is not known to the server.","INV-DEVICE-TYPE":"The server does not support the requested Device Type.","TYPE-NAME-ERROR":"The requested LU Name is incompatible with the requested Device Type.","UNKNOWN-ERROR":"The server rejected the connection but did not give a specific reason.","UNSUPPORTED-REQ":"The server is unable to satisfy a client request.",UNKNOWN:"Unknown error."};const TN3270E_MESSAGE_RESPONSE_POSITIVE=0;const TN3270E_MESSAGE_RESPONSE_NEGATIVE=1;const TN3270_MESSAGE_RESPONSE_IS_REQUIRED=2;const TN3270_MESSAGE_RESPONSE_IF_ERROR=1;const TN3270_MESSAGE_RESPONSE_NO_RESPONSE=0;const TN3270_MESSAGE_RESPONSE_TRAILING_NULL=0;const TN3270_MESSAGE_REQUEST_NULL=0;const TN3270_MESSAGE_REQUEST_SEND_DATA_MASK=1;const TN3270_MESSAGE_REQUEST_KB_RESTORE_MASK=2;const TN3270_MESSAGE_REQUEST_SIGNAL_MASK=4;const TN3270_MESSAGE_NON_ATTRIBUTE={O_MF:"An MF order was received with an invalid value.",O_SFE:"An SFE order was received with an invalid value.",O_SA:"An SA order was received with an invalid attribute type.",O_COM:"An unrecognized write command was received.",O_ORDER:"An unrecognized order was received.",ext_highlingting:"An SFE, SA or MF order was received with an invalid extended highlighting value.",ext_color:"An SFE, SA or MF order was received with an invalid extended color value.",attribute_type:"An SFE, SA or MF order was received with an invalid attribute type.",ext_character_set:"An SFE, SA or MF order was received with an invalid symbol set value.",create_partition_was_ra:"A Create Partition structured field was received, but the partition was too large.",invalid_apl:"An RA order was received with an invalid APL value."};const TN3270E_DEVICE_TYPE_3278_2={type:1,string:"IBM-3278-2",height:24,width:80};const TN3270E_DEVICE_TYPE_3278_2_E={type:2,string:"IBM-3278-2-E",isExtended:true,height:24,width:80};const TN3270E_DEVICE_TYPE_3278_3={type:3,string:"IBM-3278-3",height:32,width:80};const TN3270E_DEVICE_TYPE_3278_3_E={type:4,string:"IBM-3278-3-E",isExtended:true,height:32,width:80};const TN3270E_DEVICE_TYPE_3278_4={type:5,string:"IBM-3278-4",height:43,width:80};const TN3270E_DEVICE_TYPE_3278_4_E={type:6,string:"IBM-3278-4-E",isExtended:true,height:43,width:80};const TN3270E_DEVICE_TYPE_3278_5={type:7,string:"IBM-3278-5",height:27,width:132};const TN3270E_DEVICE_TYPE_3278_5_E={type:8,string:"IBM-3278-5-E",isExtended:true,height:27,width:132};const TN3270E_DEVICE_TYPE_DYNAMIC={type:9,string:"IBM-DYNAMIC",isExtended:true};const TN3270E_DEVICE_TYPE_3287_1={type:10,string:"IBM-3287-1",height:27,width:132};const TN3270E_DEVICE_TYPE_3279_2={type:11,string:"IBM-3279-2",height:24,width:80};const TN3270E_DEVICE_TYPE_3279_2_E={type:12,string:"IBM-3279-2-E",isExtended:true,height:24,width:80};const TN3270E_DEVICE_TYPE_3279_3={type:13,string:"IBM-3279-3",height:32,width:80};const TN3270E_DEVICE_TYPE_3279_3_E={type:14,string:"IBM-3279-3-E",isExtended:true,height:32,width:80};const TN3270E_DEVICE_TYPE_3279_4={type:15,string:"IBM-3279-4",height:43,width:80};const TN3270E_DEVICE_TYPE_3279_4_E={type:16,string:"IBM-3279-4-E",isExtended:true,height:43,width:80};const TN3270E_DEVICE_TYPE_3279_5={type:17,string:"IBM-3279-5",height:27,width:132};const TN3270E_DEVICE_TYPE_3279_5_E={type:18,string:"IBM-3279-5-E",isExtended:true,height:27,width:132};const TN3270E_DEVICE_TYPE_DYNAMIC_3279={type:19,string:"IBM-DYNAMIC",isExtended:true};const TN3270E_FUNCTION_BIND_IMAGE=0;const TN3270E_FUNCTION_RESPONSES=2;const TN3270E_FUNCTION_SYSREQ=4;const TN3270E_FUNCTION_DATA_STREAM_CTL=1;const TN3270E_FUNCTION_SCS_CTL_CODES=3;const TN3270E_FUNCTION_EXTENDED_CONTENTION_RESOLUTION=5;const TN3270E_FUNCTION_EXTENDED_SNA_SENSE=7;const TN3270E_FUNCTION_SUPPORT_STANDARD=[TN3270E_TELNET_SUB_FUNCTIONS,TN3270E_TELNET_SUB_REQUEST,TN3270E_FUNCTION_BIND_IMAGE,TN3270E_FUNCTION_RESPONSES,TN3270E_FUNCTION_SYSREQ];const TN3270E_FUNCTION_SUPPORT_EXTENDED=[TN3270E_TELNET_SUB_FUNCTIONS,TN3270E_TELNET_SUB_REQUEST,TN3270E_FUNCTION_BIND_IMAGE,TN3270E_FUNCTION_RESPONSES,TN3270E_FUNCTION_SYSREQ,TN3270E_FUNCTION_EXTENDED_CONTENTION_RESOLUTION,TN3270E_FUNCTION_EXTENDED_SNA_SENSE];const TN3270E_FUNCTION_SUPPORT_PRINTER=[TN3270E_TELNET_SUB_FUNCTIONS,TN3270E_TELNET_SUB_REQUEST,TN3270E_FUNCTION_BIND_IMAGE,TN3270E_FUNCTION_DATA_STREAM_CTL,TN3270E_FUNCTION_RESPONSES,TN3270E_FUNCTION_SCS_CTL_CODES];const BEL=7;const BS=8;const TAB=9;const LF=10;const FF=12;const CR=13;const DC2=18;const DC4=20;const ESC=27;const DEL=127;const SPACE=" ";const ENDSPACE=170;const DEFTABSIZE=4;const NCOLS=254;const NROWS=254;const HTLEN=(NCOLS+7)/8;const VTLEN=(NROWS+7)/8;const VCSLEN=12;const E1003=4099&65535;const E1005=4101&65535;const BEM=25;const BFF=12;const BNL=21;const BCR=13;const BLF=37;const BAD=false;const GOOD=true;const SCRN_BUF_MAX=16384;const INDFILE_INACTIVE=0;const INDFILE_SEND=1;const INDFILE_RECEIVE=2;const INDFILE_ABORT=3;const IND_PUTCHAR=200;const IND_GETCHAR=201;const IND_MESSAGE=202;const IND_MESSAGEBOX=203;const IND_CLOSE=204;const IND_APPEND=205;const IND_REPLACE=206;const IND_PUTSTRING=207;const IND_GETSTRING=208;const IND_ABORT=209;const TN3270E_REPLY_QCODE_SUMMARY=128;const TN3270E_REPLY_QCODE_USABLE_AREA=129;const TN3270E_REPLY_QCODE_IMAGE=130;const TN3270E_REPLY_QCODE_TEXT_PARTITIIONS=131;const TN3270E_REPLY_QCODE_ALPHANUMERIC_PARTITIONS=132;const TN3270E_REPLY_QCODE_CHARACTER_SETS=133;const TN3270E_REPLY_QCODE_COLOR=134;const TN3270E_REPLY_QCODE_HIGHLIGHTING=135;const TN3270E_REPLY_QCODE_REPLY_MODES=136;const TN3270E_REPLY_QCODE_FIELD_VALIDATION=138;const TN3270E_REPLY_QCODE_MSR_CONTROL=139;const TN3270E_REPLY_QCODE_FIELD_OUTLINING=140;const TN3270E_REPLY_QCODE_PARTITION_CHARACTERISTICS=142;const TN3270E_REPLY_QCODE_OEM_AUXILIARY_DEVICE=143;const TN3270E_REPLY_QCODE_FORMAT_PRESENTATION=144;const TN3270E_REPLY_QCODE_DBCS_ASIA=145;const TN3270E_REPLY_QCODE_SAVE_RESTORE_FORMAT=146;const TN3270E_REPLY_QCODE_FORMAT_STORAGE_AUX_DEVICE=148;const TN3270E_REPLY_QCODE_DISTRIBUTED_DATA_MANAGEMENT=149;const TN3270E_REPLY_QCODE_STORAGE_POOLS=150;const TN3270E_REPLY_QCODE_DOCUMENT_INTERCHANGE_ARCHITECTURE=151;const TN3270E_REPLY_QCODE_DATA_CHAINING=152;const TN3270E_REPLY_QCODE_AUXILIARY_DEVICE=153;const TN3270E_REPLY_QCODE_3270_IPDS=154;const TN3270E_REPLY_QCODE_PRODUCT_DEFINED_DATA_STREAM=156;const TN3270E_REPLY_QCODE_ANOMALY_IMPLEMENTATION=157;const TN3270E_REPLY_QCODE_IBM_AUXILIARY_DEVICE=158;const TN3270E_REPLY_QCODE_BEGIN_END_OF_FILE=159;const TN3270E_REPLY_QCODE_DEVICE_CHARACTERISTICS=160;const TN3270E_REPLY_QCODE_RPQ_NAMES=161;const TN3270E_REPLY_QCODE_DATA_STREAMS=162;const TN3270E_REPLY_QCODE_IMPLICIT_PARTITION=166;const TN3270E_REPLY_QCODE_PAPER_FEED_TECHNIQUES=167;const TN3270E_REPLY_QCODE_TRANSPARENCY=168;const TN3270E_REPLY_QCODE_SETTABLE_PRINTER_CHARACTERISTICS=169;const TN3270E_REPLY_QCODE_IOCA_AUXILIARY_DEVICE=170;const TN3270E_REPLY_QCODE_COOPERATIVE_PROCESSING_REQUESTOR=171;const TN3270E_REPLY_QCODE_SEGMENT=176;const TN3270E_REPLY_QCODE_PROCEDURE=177;const TN3270E_REPLY_QCODE_LINE_TYPES=178;const TN3270E_REPLY_QCODE_PORT=179;const TN3270E_REPLY_QCODE_GRAPHIC_COLOR=180;const TN3270E_REPLY_QCODE_EXTENDED_DRAWING_ROUTINE=181;const TN3270E_REPLY_QCODE_GRAPHIC_SYMBOL_SETS=182;const TN3270E_REPLY_QCODE_NULL=255;const TN3270E_FIELD_ATTRIBUTE_PRINTABLILITY_MASK=192;const TN3270E_FIELD_ATTRIBUTE_PROTECTED=32;const TN3270E_FIELD_ATTRIBUTE_NUMERIC=16;const TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK=12;const TN3270E_FIELD_ATTRIBUTE_MODIFIED=1;const TN3270E_FIELD_ATTRIBUTE_DISPLAY_NOT_DETECTABLE=0;const TN3270E_FIELD_ATTRIBUTE_DISPLAY_DETECTABLE=4;const TN3270E_FIELD_ATTRIBUTE_INTENSIFIED_DETECTABLE=8;const TN3270E_FIELD_ATTRIBUTE_NO_DISPLAY_NOT_DETECTABLE=12;const TN3270E_EXTENDED_ATTRIBUTES_NO_HIGHLIGHTING=240;const TN3270E_EXTENDED_ATTRIBUTES_MANDATORY_FILL=4;const TN3270E_EXTENDED_ATTRIBUTES_MANDATORY_ENTRY=2;const TN3270E_EXTENDED_ATTRIBUTES_TRIGGER=1;const TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_BOTTOM=1;const TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_RIGHT=2;const TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_TOP=4;const TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_LEFT=8;const TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_RECTANGLE=15;const ATTRIBUTE_STANDARD_3270=192;const ATTRIBUTE_VALIDATION=193;const ATTRIBUTE_OUTLINING=194;const ATTRIBUTE_EXTENDED_HIGHLIGHTING=65;const ATTRIBUTE_COLOR=66;const ATTRIBUTE_CHARSET=67;const ATTRIBUTE_BACKGROUND_COLOR=69;const ATTRIBUTE_TRANSPARENCY=70;const ATTRIBUTE_INPUT_CONTROL=254;const EXTENDED_CHAR_ATTR_FOREGROUND_RED=113;const EXTENDED_CHAR_ATTR_FOREGROUND_GREEN=114;const EXTENDED_CHAR_ATTR_FOREGROUND_BLUE=115;const TN3270E_AID_STRUCTURED_FIELD=136;const TN3270E_AID_READ_PARTITION=97;const TN3270E_AID_TRIGGER_ACTION=127;const TN3270E_AID_CLEAR_KEY=109;const TN3270E_AID_CLEAR_PARTITION_KEY=106;const TN3270E_AID_ENTER_KEY=125;const TN3270E_AID_SELECTOR_PEN_ATTN=126;const TN3270E_FORMAT_CONTROL_ORDERS_DUP=28;const TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK=30;const IMPLICIT_SDPID_KEY_LENGTH=3;const implicitPartitionSDPIDKey=[11,1,0];const PRESENTATION_SPACE_SDPID_KEY_LENGTH=2;const presentationSpaceTypeSDPIDKey=[4,5];const TN3270_AID_KEY_MAP={PF01:241,PF02:242,PF03:243,PF04:244,PF05:245,PF06:246,PF07:247,PF08:248,PF09:249,PF10:122,PF11:123,PF12:124,PF13:193,PF14:194,PF15:195,PF16:196,PF17:197,PF18:198,PF19:199,PF20:200,PF21:201,PF22:74,PF23:75,PF24:76,PA1:108,PA2:110,PA3:107,Enter:125,Clear:109,"Cursor Select":126,"Clear Partition":106,Trigger:127};const TN3270_MANDATORY_ENTRY_AID_KEY_MAP=[241,242,243,244,245,246,247,248,249,122,123,124,193,194,195,196,197,198,199,200,201,74,75,76,125,127];const CURSOR_KEY_ARRAY=["Cursor Up","Cursor Right","Rapid Right","Cursor Down","Cursor Left","Rapid Left","Tab","Home","End","New Line","Backspace","Back Tab"];const TN5250_AID_KEY_MAP={CF01:49,CF02:50,CF03:51,CF04:52,CF05:53,CF06:54,CF07:55,CF08:56,CF09:57,CF10:58,CF11:59,CF12:60,CF13:177,CF14:178,CF15:179,CF16:180,CF17:181,CF18:182,CF19:183,CF20:184,CF21:185,CF22:186,CF23:187,CF24:188,Enter:241,Clear:189,"Page Down":245,"Page Up":244,PA1:108,PA2:110,PA3:107,Print:246};const TN5250_FIELD_KEY_MAP=["Field Exit","Field -","Field +","Dup","Field Mark"];const TN5250_NOT_ALLOWED_INSERT_MODE=["Back Tab","CFxx","Clear","Close","End","Erase Input","Field Exit","Home","PA1","PA2","PA3","Print","Page Down","Page Up","Sys Req","Tab","Test Request","Overstrike Sequence"];const TN5250_NOT_ALLOWED_SYSTEM_REQUEST=["CFxx","Clear","Dup","Erase EOF","Erase Field","Field -","Field Mark","Overstrike Sequence","PA1","PA2","PA3","Page Up","Page Down","Print","Rapid Left","Rapid Right","Test Request"];const WORKSTATION_HARDWARE_ERROR=1;const WORKSTATION_NORMAL_LOCKED=2;const WORKSTATION_NORMAL_UNLOCKED=3;const WORKSTATION_POWER_ON=4;const WORKSTATION_PRE_HELP_ERROR=5;const WORKSTATION_POST_HELP_ERROR=6;const WORKSTATION_SS_MESSAGE=7;const WORKSTATION_SYSTEM_REQUEST=8;const TN5250_DEVICE_TYPE_3179_2={type:1,string:"IBM-3179-2",height:24,width:80,devicetype:[243,241,247,249],devicemodel:[240,240,242]};const TN5250_DEVICE_TYPE_3180_2={type:2,string:"IBM-3180-2",height:27,width:132,devicetype:[243,241,248,240],devicemodel:[240,240,242]};const TN5250_DEVICE_TYPE_3196_A1={type:3,string:"IBM-3196-A1",height:24,width:80,devicetype:[243,241,249,246],devicemodel:[240,193,241]};const TN5250_DEVICE_TYPE_3477_FC={type:4,string:"IBM-3477-FC",height:27,width:132,devicetype:[243,244,247,247],devicemodel:[240,198,195]};const TN5250_DEVICE_TYPE_3477_FG={type:5,string:"IBM-3477-FG",height:27,width:132,devicetype:[243,244,247,247],devicemodel:[240,198,199]};const TN5250_DEVICE_TYPE_5251_11={type:6,string:"IBM-5251-11",height:24,width:80,devicetype:[245,242,245,241],devicemodel:[240,241,241]};const TN5250_DEVICE_TYPE_5291_1={type:7,string:"IBM-5291-1",height:24,width:80,devicetype:[245,242,249,241],devicemodel:[240,240,241]};const TN5250_DEVICE_TYPE_5292_2={type:8,string:"IBM-5292-2",height:24,width:80,devicetype:[245,242,249,242],devicemodel:[240,240,242]};const TN5250_DEVICE_TYPE_5555_B01={type:9,string:"IBM-5555-B01",height:24,width:80,devicetype:[245,245,245,245],devicemodel:[194,240,241]};const TN5250_DEVICE_TYPE_5555_C01_132={type:10,string:"IBM-5555-C01",height:27,width:132,devicetype:[245,245,245,245],devicemodel:[195,240,241]};const TN5250_DEVICE_TYPE_5555_C01_80={type:11,string:"IBM-5555-C01",height:24,width:80,devicetype:[245,245,245,245],devicemodel:[195,240,241]};const TN5250_DEVICE_TYPE_3812_1={type:12,string:"IBM-3812-1",height:24,width:80,devicetype:[245,245,245,245],devicemodel:[195,240,241]};const TN5250_DEVICE_TYPE_5553_B01={type:13,string:"IBM-5553-B01",height:24,width:80,devicetype:[245,245,245,245],devicemodel:[195,240,241]};const TN5250_NO_FLAG=0;const TN5250_HELP_FLAG=1;const TN5250_TEST_REQUEST_FLAG=2;const TN5250_SYSTEM_REQUEST_FLAG=4;const TN5250_ATTENTION_FLAG=64;const TN5250_ERROR_FLAG=128;const TN5250_NO_OPERATION=0;const TN5250_INVITE_OPERATION=1;const TN5250_OUTPUT_ONLY=2;const TN5250_PUT_GET_OPERATION=3;const TN5250_SAVE_SCREEN_OPERATION=4;const TN5250_RESTORE_SCREEN_OPERATION=5;const TN5250_READ_IMMEDIATE_OPERATION=6;const TN5250_RESERVED_OP_07=7;const TN5250_READ_SCREEN_OPERATION=8;const TN5250_RESERVED_OP_09=9;const TN5250_CANCEL_INVITE_OPERATION=10;const TN5250_TURN_ON_MESSAGE_LIGHT_OPERATION=11;const TN5250_TURN_OFF_MESSAGE_LIGHT_OPERATION=12;const TN5250_ESCAPE=4;const TN5250_SAVE_SCREEN=2;const TN5250_WRITE_TO_DISPLAY=17;const TN5250_RESTORE_SCREEN=18;const TN5250_RESTORE_SCREEN_PARTIAL=19;const TN5250_COPY_TO_PRINTER=22;const TN5250_CLEAR_UNIT_ALTERNATE=32;const TN5250_WRITE_ERROR_CODE=33;const TN5250_WRITE_ERROR_CODE_TO_WINDOW=34;const TN5250_ROLL=35;const TN5250_CLEAR_UNIT=64;const TN5250_READ_INPUT_FIELDS=66;const TN5250_CLEAR_FORMAT_TABLE=80;const TN5250_READ_MDT_FIELDS=82;const TN5250_READ_SCREEN=98;const TN5250_READ_SCREEN_WITH_EXTENDED_ATTRIBUTES=100;const TN5250_READ_SCREEN_TO_PRINT=102;const TN5250_READ_SCREEN_TO_PRINT_WITH_EXTENDED_ATTRIBUTES=104;const TN5250_READ_IMMEDIATE=114;const TN5250_READ_MDT_FIELDS_ALTERNATE=130;const TN5250_READ_MDT_IMMEDIATE_ALTERNATE=131;const TN5250_WRITE_STRUCTURED_FIELD=243;const TN5250_ATTRIBUTE_NORMAL=32;const TN5250_ATTRIBUTE_REVERSE=1;const TN5250_ATTRIBUTE_HIGH_INTENSITY=2;const TN5250_ATTRIBUTE_UNDERSCORE=4;const TN5250_ATTRIBUTE_NO_DISPLAY=39;const TN5250_ATTRIBUTE_BLINK=8;const TN5250_ATTRIBUTE_COLUMN_SEPARATOR=16;const TN5250_HEADER_LENGTH=9;const TN5250_DEFINE_AUDIT_WINDOW_TABLE=55600;const TN5250_DEFINE_COMMAND_KEY_FUNCTION=55601;const TN5250_READ_TEXT_SCREEN=55602;const TN5250_DEFINE_PENDING_OPERATIONS=55603;const TN5250_DEFINE_TEXT_SCREEN_FORMAT=55604;const TN5250_DEFINE_SCALE_LINE=55605;const TN5250_WRITE_TEXT_SCREEN=55606;const TN5250_DEFINE_SPECIAL_CHARACTERS=55607;const TN5250_PENDING_DATA=55608;const TN5250_DEFINE_OPERATOR_ERROR_MESSAGES=55609;const TN5250_DEFINE_PITCH_TABLE=55610;const TN5250_DEFINE_FAKE_DP_CMD_KEY_FUNCTION=55611;const TN5250_PASS_THROUGH=55615;const TN5250_QUERY=55664;const TN5250_QUERY_STATION_STATE=55666;const TN5250_AID_PSEUDO_COMMAND=30583;const TN5250_START_OF_HEADER_ORDER=1;const TN5250_REPEAT_TO_ADDRESS_ORDER=2;const TN5250_ERASE_TO_ADDRESS_ORDER=3;const TN5250_TRANSPARENT_DATA_ORDER=16;const TN5250_SET_BUFFER_ADDRESS_ORDER=17;const TN5250_WRITE_EXTENDED_ATTRIBUTE_ORDER=18;const TN5250_INSERT_CURSOR_ORDER=19;const TN5250_MOVE_CURSOR_ORDER=20;const TN5250_START_FIELD_ORDER=29;const TN5250_WRITE_TO_DISPLAY_STRUCTURED_FIELD=21;const TN5250_RESTORE_OIA_ERROR=253;const TN5250_INVALID_ORDER=255;const TN5250_DATA_RUN_PSEUDO_ORDER=56026;const TN5250_BZW_RESTORESCREEN_ORDER=254;const DBCS_SHIFT_OUT=14;const DBCS_SHIFT_IN=15;const TN5250_TELNET_MESSAGE_END=239;const TN5250_NO_AID=0;const TN5250_AID_CLEAR=189;const TN5250_AID_ENTER=241;const TN5250_AID_HELP=243;const TN5250_AID_ROLL_DOWN=244;const TN5250_AID_ROLL_UP=245;const TN5250_AID_ROLL_LEFT=217;const TN5250_AID_ROLL_RIGHT=218;const TN5250_AID_PRINT=246;const TN5250_AID_RECORD_BACKSPACE=248;const TN5250_AID_SLP_AUTO_ENTER=63;const TN5250_AID_FORWARD_EGDE_AUTO_ENTER=80;const TN5250_AID_PA1=108;const TN5250_AID_PA2=110;const TN5250_AID_PA3=107;const TN5250_AID_CMD_01=49;const TN5250_AID_CMD_02=50;const TN5250_AID_CMD_03=51;const TN5250_AID_CMD_04=52;const TN5250_AID_CMD_05=53;const TN5250_AID_CMD_06=54;const TN5250_AID_CMD_07=55;const TN5250_AID_CMD_08=56;const TN5250_AID_CMD_09=57;const TN5250_AID_CMD_10=58;const TN5250_AID_CMD_11=59;const TN5250_AID_CMD_12=60;const TN5250_AID_CMD_13=177;const TN5250_AID_CMD_14=178;const TN5250_AID_CMD_15=179;const TN5250_AID_CMD_16=180;const TN5250_AID_CMD_17=181;const TN5250_AID_CMD_18=182;const TN5250_AID_CMD_19=183;const TN5250_AID_CMD_20=184;const TN5250_AID_CMD_21=185;const TN5250_AID_CMD_22=186;const TN5250_AID_CMD_23=187;const TN5250_AID_CMD_24=188;const TN5250_AID_QUERY_REPLY=136;const TN5250_AID_PASS_THROUGH=255;const FFW_MASK=192;const TN5250_FFW_MANDATORY_FILL=7;const TN5250_FFW_RIGHT_ADJUST_BLANK=6;const TN5250_FFW_RIGHT_ADJUST_ZERO=5;const FFW_INDICATOR=64;const ATTRIBUTE_MASK=224;const ATTRIBUTE_INDICATOR=32;const TN5250_FIELD_SHIFT_ALPHABETIC=0;const TN5250_FIELD_SHIFT_ALPHABETIC_ONLY=1;const TN5250_FIELD_SHIFT_NUMERIC=2;const TN5250_FIELD_SHIFT_NUMERIC_ONLY=3;const TN5250_FIELD_SHIFT_KATAKANA=4;const TN5250_FIELD_SHIFT_DIGITS_ONLY=5;const TN5250_FIELD_SHIFT_IO=6;const TN5250_FIELD_SHIFT_SIGNED_NUMERIC=7;const TN5250_FIELD_CONTINUED_ENTREY_FIRST=1;const TN5250_FIELD_CONTINUED_ENTREY_LAST=2;const TN5250_FIELD_CONTINUED_ENTREY_MIDDLE=3;const TN5250_FCW_RESEQUENCING_MASK=65280;const TN5250_FCW_RESEQUENCING_INDICATOR=32768;const TN5250_FCW_MAGNETIC_STRIPE_ENTRY=33025;const TN5250_FCW_SELECTOR_PEN_OR_CURSOR=33026;const TN5250_FCW_MAGNETIC_OR_SELECTOR=33027;const TN5250_FCW_SELECTOR_PEN_AND_ATTENTION=33030;const TN5250_FCW_IDEOGRAPHIC_ONLY_ENTRY=33280;const TN5250_FCW_TYPE={FCW_RESEQUENCING:128,FCW_MSR_SLP:129,FCW_IDEOGRAPHIC:130,FCW_TRANSPARENCY:132,FCW_FORWARD_EDGE:133,FCW_CONTINUED_ENTRY:134,FCW_CURSOR_PROGRESSION:136,FCW_HIGHLIGHTED_ENTRY:137,FCW_MOUSE_SELECTION:138,FCW_SELF_CHECK:177};const TN5250_ATTR_COLUMN_SEPARATOR=16;const TN5250_ATTR_BLINK=8;const TN5250_ATTR_UNDERSCORE=4;const TN5250_ATTR_HIGH_INTENSITY=2;const TN5250_ATTR_REVERSE_IMAGE=1;const TN5250_FIELD_ATTR_NO_DISPLAY=7;const TN5250_FORMAT_CONTROL_ORDERS_DUP=28;const TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK=30;const TN5250_FORMAT_CONTROL_ORDERS_UNITSEP=31;const TN5250_ERROR_CODE={INVALID_PREMATURE:268763425,INVALID_ROW_COLUMN:268763426,INVALID_RA_ADDRESS:268763427,INVALID_FIELD_LENGTH:268763429,INVALID_SF_ADDRESS:268763430,INVALID_DATA_RESTORE:268763431,INVALID_FIELD_END_DISPLAY:268763432,INVALID_TABLE_OVERFELLOW:268763433,INVALID_DATA_END_DISPLAY:268763434,INVALID_SOH_LENGTH:268763435,INVALID_PARAMETER_ROLL:268763436,INVALID_SF_ATTRIBUTE:268763440,INVALID_CONTINUED_ENTRY_FIELD:268763445};const STARTUP_RESPONSE_RECORD_ERROR_CODES={"0001":"System error.","0002":"Userid unknown.","0003":"Userid disabled.","0004":"Invalid password/passphrase/token.","0005":"Password/passphrase/token is expired.","0006":"Pre-V2R2 password.","0008":"Next invalid password/passphrase/token will revoke userid.",2702:"Device description not found.",2703:"Controller description not found.",2777:"Damaged device description.",8901:"Device not varied on.",8902:"Device not available.",8903:"Device not valid for session.",8906:"Session initiation failed.",8907:"Session failure.",8910:"Controller not valid for session.",8916:"No matching device found.",8917:"Not authorized to object.",8918:"Job canceled.",8920:"Object partially damaged.",8921:"Communications error.",8922:"Negative response received.",8923:"Start-up record built incorrectly.",8925:"Creation of device failed.",8928:"Change of device failed.",8929:"Vary on or vary off failed.",8930:"Message queue does not exist.",8934:"Start-up for S/36 WSF received.",8935:"Session rejected.",8936:"Security failure on session attempt.",8937:"Automatic sign-on rejected.",8940:"Automatic configuration failed or not allowed.",I904:"Source system at incompatible release."};const ADVANCED_GOCA_OEM_AUXILIARY_REPLY=[0,0,227,195,215,243,242,247,240,64,217,210,227,243,242,247,240,197,4,1,0,0,14,255,199,214,195,193,231,229,240,241,0,0,0,127];const BZ_SET_CONFORMANCE_LEVEL=[27,80,49,36,114,54,51,59,49,34,112,27,92];const BZ_IMPLICIT_PARTITION_REPLY=[0,0,11,1,0,0,80,0,24,0,132,0,60];const BZ_COLOR_REPLY=[0,8,0,244,241,241,242,242,243,243,244,244,245,245,246,246,247,247];const BZ_HIGHLIGHTING_REPLY=[4,0,240,241,241,242,242,244,244];const BZ_QUERY_REPLY_MODES_REPLY=[0,1,2];const BZ_QUERY_REPLY_AUXILIARY_DEVICE=[0,0];const BZ_QUERY_REPLY_CHARACTER_SETS=[130,0,7,9,64,0,0,0,7,0,0,0,2,185,0,37,1,0,241,3,195,1,54];const BZ_QUERY_REPLY_GRAPHIC_SYMBOL_SETS=[0,0,9,12,0,0,0,16,1,0,0,240,2,2,0,0,0,0,0,2,185,0,37];const BZ_QUERY_REPLY_CHARACTER_SETS_WITH_DBCS=[142,0,16,13,64,0,0,0,11,0,0,0,0,0,0,0,4,150,3,68,1,0,241,0,0,0,0,3,195,1,54,128,32,248,18,16,65,234,3,169,3,69];const BZ_QUERY_REPLY_DBCS_ASIA=[0,3,1,128,3,2,1];const BZ_QUERY_REPLY_DISTRIBUTED_DATA_MANAGEMENT=[0,0,8,0,8,0,1,1];const BZ_QUERY_REPLY_FIELD_VALIDATION=[7];const BZ_QUERY_REPLY_ALPHANUMERIC_PARTITIONS=[0,30,240,0];const BZ_QUERY_REPLY_SUMMARY=[128,129,133,134,135,136,166,132,149,168,150,153,176,177,178,179,180];const BZ_REPLY_QCODE_FIELD_OUTLINING=[0,0,5,1,0,0];const BZ_QUERY_REPLY_STORAGE_POOLS=[13,1,1,0,0,108,0,0,0,108,0,0,7];const BZ_QUERY_REPLY_STORAGE_POOLS_gx=[19,1,1,0,0,80,0,0,0,80,0,0,1,0,5,0,6,0,7];const BZ_QUERY_REPLY_TRANSPARENCY=[2,0,240,255,255];const QUERY_REPLY_SEGMENT_level4_gx1=[0,4,0,252,0,252,0,5,2,4,128,0];const QUERY_REPLY_SEGMENT_level4_gx3=[0,4,0,252,0,252,0,5,2,0,128,0,5,2,4,128,0,5,2,11,128,0];const BZ_QUERY_REPLY_SEGMENT_level3=[0,3,0,252,0,252,0,5,2,0,128,0,5,2,4,128,0,5,2,11,128,0];const BZ_QUERY_REPLY_SEGMENT=[0,2,0,0,0,255,255,5,2,0,128,0,5,2,4,128,0,5,2,11,128,0];const BZ_QUERY_REPLY_PROCEDURE_level1_gx=[0,1,0,0,0,252,0,6,64,6,64,6,1,255,255,255,255];const BZ_QUERY_REPLY_PROCEDURE_level3=[0,1,0,0,0,252,0,6,64,6,64,6,1,255,255,255,240];const BZ_QUERY_REPLY_PROCEDURE=[0,1,0,0,0,255,255,6,0,6,0,6,1,255,255,255,240];const BZ_QUERY_REPLY_LINE_TYPES_gx=[0,9,0,7,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,3,1,64,3,2,255];const BZ_QUERY_REPLY_LINE_TYPES=[0,9,0,7,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8];const BZ_QUERY_REPLY_PORT_sub1=[0,3,2,144,9,1,0,3,2,128,0,127,255];const BZ_QUERY_REPLY_PORT_sub2=[0,7,8,64,7,3,0,1,0,0,28];const BZ_QUERY_REPLY_GRAPHIC_COLOR=[0,4,0,1,255,0,8,0,8,0,0,0,0,0,0,0,1,0,1,0,0,0,2,1,0,0,0,0,3,1,1,0,0,0,4,0,0,1,0,0,5,0,1,1,0,0,6,1,0,1,0,0,7,1,1,1,0];const BZ_QUERY_REPLY_NULL=[];const GOCA_BEGIN_PROCEDURE_COMMAND=48;const GOCA_BEGIN_DATA_UNIT_COMMAND=64;const GOCA_BEGIN_SEGMENT_COMMAND=112;const GOCA_B="603273AF137B23E";const GOCA_D=15e4;const GOCA_NOOP_ORDER=0;const GOCA_COMMENT_ORDER=1;const GOCA_SET_PATTERN_SET_ORDER=8;const GOCA_SET_COLOR_ORDER=10;const GOCA_SET_MIX_ORDER=12;const GOCA_SET_BACKGROUND_MIX_ORDER=13;const GOCA_SET_FRACTIONAL_LINE_WIDTH_ORDER=17;const GOCA_SET_LINE_TYPE_ORDER=24;const GOCA_SET_LINE_WIDTH_ORDER=25;const GOCA_SET_LINE_END_ORDER=26;const GOCA_SET_LINE_JOIN_ORDER=27;const GOCA_SET_CURRENT_POSITION_ORDER=33;const GOCA_SET_ARC_PARAMETERS_ORDER=34;const GOCA_SET_EXTENDED_COLOR_ORDER=38;const GOCA_SET_PATTERN_SYMBOL_ORDER=40;const GOCA_SET_MARKER_SYMBOL_ORDER=41;const GOCA_SET_CHARACTER_CELL_ORDER=51;const GOCA_SET_CHARACTER_ANGLE_ORDER=52;const GOCA_SET_CHARACTER_SHEAR_ORDER=53;const GOCA_SET_MARKER_CELL_ORDER=55;const GOCA_SET_CHARACTER_SET_ORDER=56;const GOCA_SET_CHARACTER_PRECISION_ORDER=57;const GOCA_SET_CHARACTER_DIRECTION_ORDER=58;const GOCA_SET_MARKER_PRECISION_ORDER=59;const GOCA_SET_MARKER_SET_ORDER=60;const GOCA_END_PROLOG_ORDER=62;const GOCA_SET_PICK_IDENTIFIER_ORDER=67;const GOCA_END_AREA_ORDER=96;const GOCA_BEGIN_AREA_ORDER=104;const GOCA_END_SEGMENT_ORDER=113;const GOCA_BOX_AT_CURRENT_POSITION_ORDER=128;const GOCA_LINE_AT_CURRENT_POSITION_ORDER=129;const GOCA_MARKER_AT_CURRENT_POSITION_ORDER=130;const GOCA_CHAR_STRING_AT_CURRENT_POSITION_ORDER=131;const GOCA_FILLET_AT_CURRENT_POSITION_ORDER=133;const GOCA_ARC_AT_CURRENT_POSITION_ORDER=134;const GOCA_FULL_ARC_AT_CURRENT_POSITION_ORDER=135;const GOCA_BEGIN_IMAGE_AT_CURRENT_POSITION_ORDER=145;const GOCA_IMAGE_DATA_ORDER=146;const GOCA_END_IMAGE_AT_CURRENT_POSITION_ORDER=147;const GOCA_RELATIVE_LINE_AT_CURRENT_POSITION_ORDER=161;const GOCA_PARTIAL_ARC_AT_CURRENT_POSITION_ORDER=163;const GOCA_CUBIC_BEZIER_CURVE_AT_CURRENT_POSITION_ORDER=165;const GOCA_SET_PROCESS_COLOR_ORDER=178;const GOCA_BOX_AT_GIVEN_POSITION_ORDER=192;const GOCA_LINE_AT_GIVEN_POSITION_ORDER=193;const GOCA_MARKER_AT_GIVEN_POSITION_ORDER=194;const GOCA_CHAR_STRING_AT_GIVEN_POSITION_ORDER=195;const GOCA_FILLET_AT_GIVEN_POSITION_ORDER=197;const GOCA_ARC_AT_GIVEN_POSITION_ORDER=198;const GOCA_FULL_ARC_AT_GIVEN_POSITION_ORDER=199;const GOCA_BEGIN_IMAGE_AT_GIVEN_POSITION_ORDER=209;const GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER=225;const GOCA_PARTIAL_ARC_AT_GIVEN_POSITION_ORDER=227;const GOCA_CUBIC_BEZIER_CURVE_AT_GIVEN_POSITION_ORDER=229;const GOCA_DRAW_NOOP=0;const GOCA_DRAW_COMMENT=1;const GOCA_SEGMENT_CHARACTERISTICS=4;const GOCA_SET_PATTERN_SET=8;const GOCA_END_SYMBOL_DEFINITION=255;const GOCA_NOOP_INSTRUCTION=0;const GOCA_COMMENT_INSTRUCTION=1;const GOCA_ERASE_INSTRUCTION=10;const GOCA_STOP_DRAW_INSTRUCTION=15;const GOCA_ATTACH_GRAPHIC_CURSOR_INSTRUCTION=8;const GOCA_DETACH_GRAPHIC_CURSOR_INSTRUCTION=9;const GOCA_SET_CURRENT_DEFAULTS_INSTRUCTION=33;const GOCA_SET_GRAPHIC_CURSOR_POSITION_INSTRUCTION=49;const GOCA_SPAN_MASK=192;const GOCA_SPAN_MIDDLE=0;const GOCA_SPAN_LAST=64;const GOCA_SPAN_FIRST=128;const GOCA_SPAN_ONLY=192;const GOCA_OUT_OF_RANGE_COORDINATE=2147483647;const GOCA_ATTRIBUTE_DRAWING=0;const GOCA_ATTRIBUTE_LINE=1;const GOCA_ATTRIBUTE_CHARACTER=2;const GOCA_ATTRIBUTE_MARKER=3;const GOCA_ATTRIBUTE_PATTERN=4;const GOCA_ATTRIBUTE_VIEWING=5;const GOCA_ATTRIBUTE_IMAGE=6;const GOCA_ATTRIBUTE_VIEWING_TRANSFORM=7;const GOCA_ATTRIBUTE_PARAMETER_TYPE=8;const GOCA_ATTRIBUTE_ARC_PARAMETERS=11;const GOCA_ATTRIBUTE_PICK_IDENTIFIER=12;const GOCA_ATTRIBUTE_PICK_WINDOW=13;const GOCA_ATTRIBUTE_DRAW_CONTROL=15;const GOCA_ATTRIBUTE_PROCESS_COLOR=16;const GOCA_ATTRIBUTE_NORMAL_LINE_WIDTH=17;const GOCA_ATTRIBUTE_NAMES=["DRAWING","LINE","CHARACTER","MARKER","PATTERN","VIEWING","IMAGE","VIEWING TRANSFORM","PARAMETER TYPE","RESERVEDx09","RESERVEDx0A","ARC_PARAMETERS","PICK IDENTIFIER","PICK WINDOW","RESERVED0x0E","DRAW CONTROL","PROCESS_COLOR","NORMAL_LINE_WIDTH"];const EXEC_ALLOWED_3270=1;const EXEC_ALLOWED_VT=16;const EXEC_ALLOWED_5250=256;const EXEC_ALLOWED_BLOCK=257;const EXEC_ALLOWED_ALL=273;const DOCUMENT_EXEC_COMMANDS={Copy:EXEC_ALLOWED_ALL,Paste:EXEC_ALLOWED_ALL,Cut:EXEC_ALLOWED_ALL};const ASCII_DELETE_IGNORE=0;const ASCII_DELETE_BACKSPACE=1;const ASCII_DELETE_DELETE=2;const ASCII_DELETE_PRINT=3;const VT_TERM_TYPE_VT320=0;const VT_TERM_TYPE_LINUX=1;const VT_TERM_TYPE_VT220=2;const VT_TERM_TYPE_VT420=3;const VT_REMOTE_CHARACTER_SET={UTF_8:"UTF-8",ISO_8859_1:"ISO-8859-1",DEC_MCS:"DEC_MCS"};const VT_C1_7bit={DCS:[27,80],CSI:[27,91],ST:[27,92]};const VT_C1_8bit={DCS:[144],CSI:[155],ST:[156]};const VT_SEMICOLON_IDENTIFIER=59;const VT_PRIMARY_DA_132_COL=49;const VT_PRIMARY_DA_PRINTER=50;const VT_PRIMARY_DA_ERASE=54;const VT_PRIMARY_DA_DRCS=55;const VT_PRIMARY_DA_UDK=56;const VT_PRIMARY_DA_NATIONAL_CHARSET=57;const VT_PRIMARY_DA_DEC_TECHNICAL=[49,53];const VT_PRIMARY_DA_USER_WINDOWS=[49,56];const VT_PRIMARY_DA_2_SESSIONS=[49,57];const VT_PRIMARY_DA_HORZ_SCROLL=[50,49];const VT_PRIMARY_DA_VT102=[63,54,99];const VT_PRIMARY_DA_VT220=[63,54,50,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_132_COL,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_PRINTER,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_ERASE,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_DRCS,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_UDK,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_NATIONAL_CHARSET,99];const VT_PRIMARY_DA_VT320=[63,54,51,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_132_COL,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_PRINTER,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_ERASE,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_DRCS,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_UDK,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_NATIONAL_CHARSET,99];const VT_PRIMARY_DA_VT420=[63,54,52,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_132_COL,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_PRINTER,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_ERASE,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_DRCS,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_UDK,VT_SEMICOLON_IDENTIFIER,VT_PRIMARY_DA_NATIONAL_CHARSET,VT_SEMICOLON_IDENTIFIER,...VT_PRIMARY_DA_DEC_TECHNICAL,VT_SEMICOLON_IDENTIFIER,...VT_PRIMARY_DA_USER_WINDOWS,VT_SEMICOLON_IDENTIFIER,...VT_PRIMARY_DA_2_SESSIONS,VT_SEMICOLON_IDENTIFIER,...VT_PRIMARY_DA_HORZ_SCROLL,99];const VT_SECONDARY_DA_VT220=[62,49,59,50,48,59,48,99];const VT_SECONDARY_DA_VT320=[62,50,52,59,50,48,59,48,99];const VT_SECONDARY_DA_VT420=[62,52,49,59,50,48,59,48,99];const FKEY_LINUX=[[27,91,91,65],[27,91,91,66],[27,91,91,67],[27,91,91,68],[27,91,91,69],[27,91,91,70],[27,91,49,56,126],[27,91,49,57,126],[27,91,50,48,126],[27,91,50,49,126],[27,91,50,51,126],[27,91,50,52,126],[27,91,50,53,126],[27,91,50,54,126],[27,91,50,56,126],[27,91,50,57,126],[27,91,51,49,126],[27,91,51,50,126],[27,91,51,51,126],[27,91,51,52,126]];const FKEY_VT420=[[27,91,49,49,126],[27,91,49,50,126],[27,91,49,51,126],[27,91,49,52,126],[27,91,49,53,126],[27,91,49,55,126],[27,91,49,56,126],[27,91,49,57,126],[27,91,50,48,126],[27,91,50,49,126],[27,91,50,51,126],[27,91,50,52,126],[27,91,50,53,126],[27,91,50,54,126],[27,91,50,56,126],[27,91,50,57,126],[27,91,51,49,126],[27,91,51,50,126],[27,91,51,51,126],[27,91,51,52,126]];const VT_CURSOR_KEY_MAP={"Cursor Up":[[27,91,65],[27,79,65],[27,65]],"Cursor Down":[[27,91,66],[27,79,66],[27,66]],"Cursor Right":[[27,91,67],[27,79,67],[27,67]],"Cursor Left":[[27,91,68],[27,79,68],[27,68]]};const KEYPAD_MAP_APP_MODE_VT={0:[27,79,112],1:[27,79,113],2:[27,79,114],3:[27,79,115],4:[27,79,116],5:[27,79,117],6:[27,79,118],7:[27,79,119],8:[27,79,120],9:[27,79,121],"+":[27,79,108],".":[27,79,110]};const FUNCTION_MAP_VT220={"Alt+ ":[27,32],"Alt+!":[27,33],'Alt+"':[27,34],"Alt+#":[27,35],"Alt+$":[27,36],"Alt+%":[27,37],"Alt+&":[27,38],"Alt+'":[27,39],"Alt+(":[27,40],"Alt+)":[27,41],"Alt+*":[27,42],"Alt++":[27,43],"Alt+,":[27,44],"Alt+-":[27,45],"Alt+.":[27,46],"Alt+/":[27,47],"Alt+0":[27,48],"Alt+1":[27,49],"Alt+2":[27,50],"Alt+3":[27,51],"Alt+4":[27,52],"Alt+5":[27,53],"Alt+6":[27,54],"Alt+7":[27,55],"Alt+8":[27,56],"Alt+9":[27,57],"Alt+:":[27,58],"Alt+;":[27,59],"Alt+<":[27,60],"Alt+=":[27,61],"Alt+>":[27,62],"Alt+?":[27,63],"Alt+@":[27,64],"Alt+A":[27,65],"Alt+B":[27,66],"Alt+C":[27,67],"Alt+D":[27,68],"Alt+E":[27,69],"Alt+F":[27,70],"Alt+G":[27,71],"Alt+H":[27,72],"Alt+I":[27,73],"Alt+J":[27,74],"Alt+K":[27,75],"Alt+L":[27,76],"Alt+M":[27,77],"Alt+N":[27,78],"Alt+O":[27,79],"Alt+P":[27,80],"Alt+Q":[27,81],"Alt+R":[27,82],"Alt+S":[27,83],"Alt+T":[27,84],"Alt+U":[27,85],"Alt+V":[27,86],"Alt+W":[27,87],"Alt+X":[27,88],"Alt+Y":[27,89],"Alt+Z":[27,90],"Alt+[":[27,91],"Alt+\\":[27,92],"Alt+]":[27,93],"Alt+^":[27,94],"Alt+_":[27,95],"Alt+`":[27,96],"Alt+a":[27,97],"Alt+b":[27,98],"Alt+c":[27,99],"Alt+d":[27,100],"Alt+e":[27,101],"Alt+f":[27,102],"Alt+g":[27,103],"Alt+h":[27,104],"Alt+i":[27,105],"Alt+j":[27,106],"Alt+k":[27,107],"Alt+l":[27,108],"Alt+m":[27,109],"Alt+n":[27,110],"Alt+o":[27,111],"Alt+p":[27,112],"Alt+q":[27,113],"Alt+r":[27,114],"Alt+s":[27,115],"Alt+t":[27,116],"Alt+u":[27,117],"Alt+v":[27,118],"Alt+w":[27,119],"Alt+x":[27,120],"Alt+y":[27,121],"Alt+z":[27,122],"Alt+{":[27,123],"Alt+|":[27,124],"Alt+}":[27,125],"Alt+~":[27,126],"Alt+Delete":[27,127],"Control+a":[1],"Control+b":[2],"Control+c":[3],"Control+d":[4],"Control+e":[5],"Control+f":[6],"Control+g":[7],"Control+h":[8],"Control+i":[9],"Control+j":[10],"Control+k":[11],"Control+l":[12],"Control+m":[13],"Control+n":[14],"Control+o":[15],"Control+p":[16],"Control+q":[17],"Control+r":[18],"Control+s":[19],"Control+t":[20],"Control+u":[21],"Control+v":[22],"Control+w":[23],"Control+x":[24],"Control+y":[25],"Control+z":[26],"Control+@":[0],"Control+3":[27],"Control+[":[27],"Control+\\":[28],"Control+]":[29],"Control+^":[30],"Control+_":[31],KP_PF01:[27,79,80],KP_PF02:[27,79,81],KP_PF03:[27,79,82],KP_PF04:[27,79,83],PF1:[27,79,80],F1:FKEY_VT420[0],PF01:FKEY_VT420[0],PF2:[27,79,81],F2:FKEY_VT420[1],PF02:FKEY_VT420[1],PF3:[27,79,82],F3:FKEY_VT420[2],PF03:FKEY_VT420[2],PF4:[27,79,83],F4:FKEY_VT420[3],PF04:FKEY_VT420[3],F5:FKEY_VT420[4],PF05:FKEY_VT420[4],F6:FKEY_VT420[5],PF06:FKEY_VT420[5],F7:FKEY_VT420[6],PF07:FKEY_VT420[6],F8:FKEY_VT420[7],PF08:FKEY_VT420[7],F9:FKEY_VT420[8],PF09:FKEY_VT420[8],F10:FKEY_VT420[9],PF10:FKEY_VT420[9],F11:FKEY_VT420[10],PF11:FKEY_VT420[10],F12:FKEY_VT420[11],PF12:FKEY_VT420[11],F13:FKEY_VT420[12],PF13:FKEY_VT420[12],F14:FKEY_VT420[13],PF14:FKEY_VT420[13],F15:FKEY_VT420[14],PF15:FKEY_VT420[14],F16:FKEY_VT420[15],PF16:FKEY_VT420[15],F17:FKEY_VT420[16],PF17:FKEY_VT420[16],F18:FKEY_VT420[17],PF18:FKEY_VT420[17],F19:FKEY_VT420[18],PF19:FKEY_VT420[18],F20:FKEY_VT420[19],PF20:FKEY_VT420[19],"Page Up":[21],"Page Down":[22],Backspace:[8],Tab:[9],Escape:[27],Enter:[13],"Cursor Next Line":[27,91,69],"Cursor Previous Line":[27,91,70],"Horizontal Pos Abs":[27,91,71],"Cursor Back Tab":[27,91,90],"Print Screen":[27,91,48,105],"Reset Mode":[27,91,108],Delete:[127],"Delete (Linux)":[27,91,51,126],Home:[1],End:[5],Insert:[27,91,50,126],Find:[27,91,49,126],"Insert Here":[27,91,50,126],Remove:[27,91,51,126],Select:[27,91,52,126],Prev:[27,91,53,126],Next:[27,91,54,126],KP_PF01:[27,79,80],KP_PF02:[27,79,81],KP_PF03:[27,79,82],KP_PF04:[27,79,83]};const FUNCTION_MAP_LINUX={"Alt+ ":[27,32],"Alt+!":[27,33],'Alt+"':[27,34],"Alt+#":[27,35],"Alt+$":[27,36],"Alt+%":[27,37],"Alt+&":[27,38],"Alt+'":[27,39],"Alt+(":[27,40],"Alt+)":[27,41],"Alt+*":[27,42],"Alt++":[27,43],"Alt+,":[27,44],"Alt+-":[27,45],"Alt+.":[27,46],"Alt+/":[27,47],"Alt+0":[27,48],"Alt+1":[27,49],"Alt+2":[27,50],"Alt+3":[27,51],"Alt+4":[27,52],"Alt+5":[27,53],"Alt+6":[27,54],"Alt+7":[27,55],"Alt+8":[27,56],"Alt+9":[27,57],"Alt+:":[27,58],"Alt+;":[27,59],"Alt+<":[27,60],"Alt+=":[27,61],"Alt+>":[27,62],"Alt+?":[27,63],"Alt+@":[27,64],"Alt+A":[27,65],"Alt+B":[27,66],"Alt+C":[27,67],"Alt+D":[27,68],"Alt+E":[27,69],"Alt+F":[27,70],"Alt+G":[27,71],"Alt+H":[27,72],"Alt+I":[27,73],"Alt+J":[27,74],"Alt+K":[27,75],"Alt+L":[27,76],"Alt+M":[27,77],"Alt+N":[27,78],"Alt+O":[27,79],"Alt+P":[27,80],"Alt+Q":[27,81],"Alt+R":[27,82],"Alt+S":[27,83],"Alt+T":[27,84],"Alt+U":[27,85],"Alt+V":[27,86],"Alt+W":[27,87],"Alt+X":[27,88],"Alt+Y":[27,89],"Alt+Z":[27,90],"Alt+[":[27,91],"Alt+\\":[27,92],"Alt+]":[27,93],"Alt+^":[27,94],"Alt+_":[27,95],"Alt+`":[27,96],"Alt+a":[27,97],"Alt+b":[27,98],"Alt+c":[27,99],"Alt+d":[27,100],"Alt+e":[27,101],"Alt+f":[27,102],"Alt+g":[27,103],"Alt+h":[27,104],"Alt+i":[27,105],"Alt+j":[27,106],"Alt+k":[27,107],"Alt+l":[27,108],"Alt+m":[27,109],"Alt+n":[27,110],"Alt+o":[27,111],"Alt+p":[27,112],"Alt+q":[27,113],"Alt+r":[27,114],"Alt+s":[27,115],"Alt+t":[27,116],"Alt+u":[27,117],"Alt+v":[27,118],"Alt+w":[27,119],"Alt+x":[27,120],"Alt+y":[27,121],"Alt+z":[27,122],"Alt+{":[27,123],"Alt+|":[27,124],"Alt+}":[27,125],"Alt+~":[27,126],"Alt+Delete":[27,127],"Control+a":[1],"Control+b":[2],"Control+c":[3],"Control+d":[4],"Control+e":[5],"Control+f":[6],"Control+g":[7],"Control+h":[8],"Control+i":[9],"Control+j":[10],"Control+k":[11],"Control+l":[12],"Control+m":[13],"Control+n":[14],"Control+o":[15],"Control+p":[16],"Control+q":[17],"Control+r":[18],"Control+s":[19],"Control+t":[20],"Control+u":[21],"Control+v":[22],"Control+w":[23],"Control+x":[24],"Control+y":[25],"Control+z":[26],"Control+@":[0],"Control+3":[27],"Control+[":[27],"Control+\\":[28],"Control+]":[29],"Control+^":[30],"Control+_":[31],PF1:[27,79,80],F1:FKEY_LINUX[0],PF01:FKEY_LINUX[0],PF2:[27,79,81],F2:FKEY_LINUX[1],PF02:FKEY_LINUX[1],PF3:[27,79,82],F3:FKEY_LINUX[2],PF03:FKEY_LINUX[2],PF4:[27,79,83],F4:FKEY_LINUX[3],PF04:FKEY_LINUX[3],F05:FKEY_LINUX[4],PF05:FKEY_LINUX[4],F06:FKEY_LINUX[5],PF06:FKEY_LINUX[5],F07:FKEY_LINUX[6],PF07:FKEY_LINUX[6],F08:FKEY_LINUX[7],PF08:FKEY_LINUX[7],F09:FKEY_LINUX[8],PF09:FKEY_LINUX[8],F10:FKEY_LINUX[9],PF10:FKEY_LINUX[9],F11:FKEY_LINUX[10],PF11:FKEY_LINUX[10],F12:FKEY_LINUX[11],PF12:FKEY_LINUX[11],F13:FKEY_LINUX[12],PF13:FKEY_LINUX[12],F14:FKEY_LINUX[13],PF14:FKEY_LINUX[13],F15:FKEY_LINUX[14],PF15:FKEY_LINUX[14],F16:FKEY_LINUX[15],PF16:FKEY_LINUX[15],F17:FKEY_LINUX[16],PF17:FKEY_LINUX[16],F18:FKEY_LINUX[17],PF18:FKEY_LINUX[17],F19:FKEY_LINUX[18],PF19:FKEY_LINUX[18],F20:FKEY_LINUX[19],PF20:FKEY_LINUX[19],"Page Up":[27,91,53,126],"Page Down":[27,91,54,126],Backspace:[8],Tab:[9],Escape:[27],Enter:[13],"Cursor Next Line":[27,91,69],"Cursor Previous Line":[27,91,70],"Horizontal Pos Abs":[27,91,71],"Cursor Back Tab":[27,91,90],"Print Screen":[27,91,48,105],"Reset Mode":[27,91,108],Delete:[127],"Delete (Linux)":[27,91,51,126],Home:[27,91,49,126],End:[27,91,52,126],Insert:[27,91,50,126],KP_PF01:[27,79,80],KP_PF02:[27,79,81],KP_PF03:[27,79,82],KP_PF04:[27,79,83]};const REMOVED_FUNCTION_MAPPINGS={"Set Mode 7800":[27,91,49,113],"Set Mode 7700":[27,91,50,113],"Set Mode 7300":[27,91,51,113],"Set Mode 8300":[27,91,52,113],"Set Mode Ansi":[27,91,53,113],"Save Cursor":[27,91,115],"Restore Cursor":[27,91,117],"Device Status":[27,91,110],"Scrolling Region":[27,91,114],"Set Graphic Rendition":[27,91,109],"End Host Print":[27,91,52,105],"Start Host Print":[27,91,53,105],"Cursor Position":[27,91,72],"Erase Data":[27,91,74],"Erase Line":[27,91,75],"Insert Line":[27,91,76],"Delete Line":[27,91,77],"Erase Area":[27,91,79],"Scroll Up":[27,91,83],"Scroll Down":[27,91,84],"Insert Character":[27,91,64],"Device Attributes":[27,91,99],"Hor/Vertical Position":[27,91,102],"Tab Clear":[27,91,103],"Set Mode":[27,91,104]};const VT_POSITION_MODE_RC=0;const VT_POSITION_MODE_DECIPOINT=1;const VT_INPUT_STATE_NORMAL=0;const VT_INPUT_STATE_USERNAME=1;const VT_INPUT_STATE_PASSWORD=2;const VT_INPUT_STATE_PROMPT=3;const VT_SECURITY_NONE=0;const VT_SECURITY_SSH=1;const VT_SECURITY_TLS=2;const TN3270_SECURITY_NONE=0;const TN3270_SECURITY_TLS=2;const TN5250_SECURITY_NONE=0;const TN5250_SECURITY_TLS=2;const SECURITY_BAD_CERTIFICATE_PROMPT=1;const SECURITY_BAD_CERTIFICATE_ALLOW=0;const OIA_WIDTH=80;const OIA_CU_TELNET=77;const OIA_CU_NVT=66;const OIA_CONNECTION_PROTOCOL_TCPIP=65;const OIA_SYSTEM_AVAILABLE_LU_LU=42;const OIA_SYSTEM_AVAILABLE_SSCP_LU=112;const OIA_SYSTEM_AVAILABLE_NOT_CONNECTED=63;const OIA_SECURITY_ON=43;const OIA_MESSAGE_COLUMN=9;const OIA_MESSAGE_X=88;const OIA_MESSAGE_TERM_PROCESSING=[88,32,91,93];const OIA_MESSAGE_5250_OP_ERROR=[88,32,79,112,114,32];const X_TOO_MUCH=1;const OIA_MESSAGE_X_TOO_MUCH=[88,32,60,45,111,45,62];const X_HOST_PROCESSING=2;const X_INVALID_FUNCTION=3;const OIA_MESSAGE_INVALID_FUNCTION=[88,32,45,102];const X_PROG_ERROR=4;const OIA_MESSAGE_PROG_ERROR=[88,32,80,114,111,103,32];const OIA_MESSAGE_PROG_ERROR_750=[55,53,48];const OIA_MESSAGE_PROG_ERROR_752=[55,53,50];const OIA_MESSAGE_PROG_ERROR_753=[55,53,51];const OIA_MESSAGE_PROG_ERROR_763=[55,54,51];const OIA_MESSAGE_PROG_ERROR_LIST=["750","752","753","763"];const OIA_MESSAGE_WAITING_INDICATOR=26;const OIA_INSERT_MODE=94;const OIA_GRAPHICS_CURSOR_COLUMN=53;const OIA_GRAPHICS_CURSOR=[43,67,82];const OIA_DEVICENAME=59;const OIA_DBCS_COLUMN=31;const OIA_ROW_COLUMN=74;const OIA_POS_SEPERATOR=47;const ALT_LEFT=1;const ALT_RIGHT=2;const CONTROL_LEFT=4;const CONTROL_RIGHT=8;const OS_LEFT=16;const OS_RIGHT=32;const SHIFT_LEFT=64;const SHIFT_RIGHT=128;const CAPS_LOCK=256;const CONNECT_STATE_DISCONNECTED=0;const CONNECT_STATE_CONNECTING=1;const CONNECT_STATE_CONNECTED=2;const SCROLLING_OFFSET=15;const INNER_SCROLLING_DIV_ID_SUFFIX="innerScrolling";const SCROLLING_DIV_OUTER_ID_SUFFIX="scrollingDiv";const SCROLLING_DIV_INNER_ID_SUFFIX="Inner";const SSH_CH_REQ_EXIT_SIGNAL="exit-signal";const MULTINATIONAL_OS_ASCII_MAP=[["n","u",0],["N","U",0],["/","\\",215],[" "," ",160],["-","-",173],["1","4",188],["1","2",189],["3","4",190],["r","o",174],["R","O",174],["c","o",169],["C","O",169],["|","|",124],["|"," ",166],["!"," ",33],["$"," ",36],["c","/",162],["C","/",162],["l","-",163],["L","-",163],["y","=",165],["Y","=",165],[".",".",149],["o","*",164],["O","*",164],["s","s",223],["S","S",223],["o","s",167],["O","S",167],["-","|",172],["_","_",175],["o","o",176],["O","O",176],["m","u",181],["M","U",181],["a","`",224],["e","`",232],["i","`",236],["o","`",242],["u","`",249],["a","~",227],["o","~",245],["y",'"',255],["b","-",222],["d","-",240],["<","<",171],["1","1",185],[">",">",187],["p","i",182],["P","I",182],["y","'",253],["-",":",247],["a",'"',228],["e",'"',235],["i",'"',239],["o",'"',246],["u",'"',252],["a","^",226],["e","^",234],["i","^",238],["o","^",244],["u","^",251],["a","'",225],["e","'",233],["i","'",237],["o","'",243],["u","'",250],["n","~",241],["A","`",192],["E","`",200],["I","`",204],["O","`",210],["U","`",217],["A","~",195],["O","~",213],["+","-",177],["B","-",254],["D","-",208],["?","?",191],["!","!",161],["a","_",170],["Y","'",221],["o","_",186],["A",'"',196],["E",'"',203],["I",'"',207],["O",'"',214],["U",'"',220],["A","^",195],["E","^",202],["I","^",206],["O","^",212],["U","^",219],["A","'",193],["E","'",201],["I","'",205],["O","'",211],["U","'",218],["N","~",209],["a","e",230],["o","/",248],["a",".",229],["c",",",231],["2","2",178],["3","3",179],["A","E",198],["O","/",216],["A",".",197],["C",",",199],[255,255,255]];const AplVec=[127,192,127,192,63,192,255,128,252,63,252,63,248,63,251,191,255,191,255,191,240,63,255,222];const CHARACTER_SET_DEFAULT=0;const CHARACTER_SET_APL=16;const CHARACTER_SET_PSA=32;const CHARACTER_SET_PSB=48;const CHARACTER_SET_PSC=64;const CHARACTER_SET_PSD=80;const CHARACTER_SET_PSE=96;const CHARACTER_SET_PSF=112;const CHARACTER_SET_DBCS=128;const CHARACTER_SET_DBCS2=144;const CHARACTER_SET_APL2=160;if(typeof module!=="undefined"){module.exports={cp1047ToUnicode:cp1047ToUnicode}}var hex=function(e){if(e||e===0){return e.toString(16)}else{return"<FAIL: Not A Number>"}};var hexDump=function(e,t,i,n){if(t&&t.parentLogger&&t.parentLogger.configuration&&2==t.parentLogger.configuration[t.componentName])return;var r=i?i:0;var s=n?n:e.length;var o;var l="";for(o=0;o<s;o++){l+=(hex(e[r+o]).length>1?hex(e[r+o]):"0"+hex(e[r+o])).toUpperCase();l+=" ";if(o%16==15){t&&t.debug?t.debug(l):tecoreLogger.debug(l);l=""}}if(l.length>0){t&&t.debug?t.debug(l):tecoreLogger.debug(l)}};var color=function(e,t,i){return e<<16|t<<8|i};const base64BitValues=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,0,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,0,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];const b64ToBin=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];var utf8ArrayToB64=function(e){var t=[];var i=0;var n=e.length;var r=e.length;var s=Math.floor(r/3);var o=r-3*s;var l=0;for(var a=0;a<s;a++){var c=e[l++]&255;var u=e[l++]&255;var h=e[l++]&255;t.push(binToB64[c>>2]);t.push(binToB64[c<<4&63|u>>4]);t.push(binToB64[u<<2&63|h>>6]);t.push(binToB64[h&63])}if(o!=0){var c=e[l++]&255;t.push(binToB64[c>>2]);if(o==1){t.push(binToB64[c<<4&63]);t.push(61);t.push(61)}else{var u=e[l++]&255;t.push(binToB64[c<<4&63|u>>4]);t.push(binToB64[u<<2&63]);t.push(61)}}return String.fromCharCode.apply(null,t)};var base64ToUint8Array=function(r){var e=r.length;var t=e/4;var i=0;var n=t;var s=0,o=0;var l;if(4*t!=e){tecoreLogger.warn("Base64 decode failed, encountered 4-mult");return null}if(e!=0){if(r[e-1]=="="){i++;n--;if(r[e-2]=="="){i++}}}var a=n*3;if(i!=0){if(i==1){a+=2}else{a++}}var c=new Uint8Array(a);let u=n*4;while(s<u){let e=base64BitValues[r.charCodeAt(s++)];let t=base64BitValues[r.charCodeAt(s++)];let i=base64BitValues[r.charCodeAt(s++)];let n=base64BitValues[r.charCodeAt(s++)];c[o++]=e<<2|t>>4;c[o++]=t<<4|i>>2;c[o++]=i<<6|n}if(i!=0){let e=base64BitValues[r.charCodeAt(s++)];let t=base64BitValues[r.charCodeAt(s++)];c[o++]=e<<2|t>>4;if(i==1){let e=base64BitValues[r.charCodeAt(s++)];c[o++]=t<<4|e>>2}}return c};const binToB64=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47];var byteArrayToBase64String=function(e){};var buildBufferAddress=function(e,t){switch(e&192){case 0:return(e&63)<<8|t;case 64:case 192:return(e&63)<<6|t&63;default:protocolLogger.warn("Bad SBA position, b1=0x"+hex(e)+", b2=0x"+hex(t));return 0}};var readU16=function(e,t){var i=(e[t]&255)<<8;var n=e[t+1]&255;return n|i};var readU24=function(e,t){var i=(e[t]&255)<<16;var n=(e[t+1]&255)<<8;var r=e[t+2]&255;return r|n|i};var readS16=function(e,t){var i=e[t]&255;var n=e[t+1]&255;var r=i<<8|n;if(r>=32768){return r-65536}else{return r}};var readS32=function(e,t){var i=e[t]&255;var n=e[t+1]&255;var r=e[t+2]&255;var s=e[t+3]&255;var o=i<<24|n<<16|r<<8|s;if(o>=2147483648){return o-4294967296}else{return o}};var readS16Arrays=function(e,t,i,n,r){var s;for(s=0;s<i;s++){n[s]=readS16(e,t);r[s]=readS16(e,t+2);t+=4}return t};var readS8Arrays=function(e,t,i,n,r){var s;for(s=0;s<i;s++){n[s]=e[t+0];r[s]=e[t+1];t+=2}return t};var copyByteArray=function(e,t,i,n,r){var s;for(s=0;s<r;s++){i[n+s]=e[t+s]}};var stringArrayContains=function(e,t){var i;for(i=0;i<e.length;i++){if(e[i]==t){return true}}return false};var makeSubclass=function(e,t,i){function n(){}n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.superclass=t;e.superproto=t.prototype;for(var r in i){e[r]=i[r]}};var SimpleLinkedList=function(){this.size=0;this.first=null;this.last=null};SimpleLinkedList.prototype={clear:function(){let t=this.size;let i=this.first;for(let e=0;e<t-1;e++){i.next.prev=undefined;let e=i.next;i.next=undefined;i=e}this.first=null;this.last=null;this.size=0},clearToArray:function(){let t=[];let i=this.size;if(i==0){return t}let n=this.first;for(let e=0;e<i;e++){t.push(n.data);if(n.next){n.next.prev=undefined;let e=n.next;n.next=undefined;n=e}else{break}}this.first=null;this.last=null;this.size=0;return t},getFirst:function(){return this.first},getLast:function(){return this.last},getSize:function(){return this.size},addLast:function(e){let t=new SimpleLinkedListElement(e);if(this.size==0){this.first=t}else{t.prev=this.last;this.last.next=t}this.last=t;this.size++},addFirst:function(e){let t=new SimpleLinkedListElement(e);if(this.size==0){this.last=t}else{t.next=this.first;this.first.prev=t}this.first=t;this.size++},removeLast:function(){if(this.size==0){return null}else if(this.size==1){let e=this.last;this.first=null;this.last=null;this.size=0;e.prev=undefined;e.next=undefined;return e}else{this.size--;let e=this.last;e.prev.next=null;this.last=e.prev;e.prev=undefined;e.next=undefined;return e}},removeFirst:function(){if(this.size==0){return null}else if(this.size==1){let e=this.first;this.first=null;this.last=null;this.size=0;e.prev=undefined;e.next=undefined;return e}else{this.size--;let e=this.first;e.next.prev=null;this.first=e.next;e.prev=undefined;e.next=undefined;return e}},add:function(r,e){if(r<0||r>this.size){return-1}if(r==this.size){this.addLast(e)}else if(r==0){this.addFirst(e)}else{let t=new SimpleLinkedListElement(e);let i=this.size-1;let n=this.first;for(let e=1;e<i;e++){if(e==r){t.prev=n;t.next=n.next;n.next.prev=t;n.next=t;return++this.size}else{n=n.next}}}},remove:function(n){if(n<0||n>=this.size){return null}else if(n==this.size-1){return this.removeLast()}else if(n==0){return this.removeFirst()}else{let t=this.size-1;let i=this.first;for(let e=1;e<t;e++){if(e==n){i.next.prev=i.prev;i.prev.next=i.next;this.size--;i.prev=undefined;i.next=undefined;return i}else{i=i.next}}}},get:function(n){if(n>=this.size||n<0){return null}else if(n==0){return this.getFirst()}else if(n==this.size-1){return this.getLast()}else{let t=this.size-1;let i=this.first;for(let e=1;e<t;e++){if(e==n){return i}i=i.next}}}};var SimpleLinkedListElement=function(e){this.data=e;this.prev=null;this.next=null};function CharacterAttributes(){}makeSubclass(CharacterAttributes3270,CharacterAttributes,[]);function CharacterAttributes3270(e,t){this.standardAttribute=e?e:0;this.extendedHighlighting=0;this.color=0;this.backgroundColor=0;this.characterSet=0;this.outlining=0;this.transparency=0;this.validation=0;this.inputControl=0;this.foregroundRed=0;this.foregroundGreen=0;this.foregroundBlue=0;this.errorIgnor=!!t}CharacterAttributes3270.prototype.getAttrAsExtendedField=function(){var e=[];if(this.standardAttribute!=64&&this.standardAttribute!=0){e.push(ATTRIBUTE_STANDARD_3270);e.push(this.standardAttribute)}if(this.extendedHighlighting!=0){e.push(ATTRIBUTE_EXTENDED_HIGHLIGHTING);e.push(this.extendedHighlighting)}if(this.color!=0){e.push(ATTRIBUTE_COLOR);e.push(this.color)}if(this.backgroundColor!=0){e.push(ATTRIBUTE_BACKGROUND_COLOR);e.push(this.backgroundColor)}if(this.characterSet!=0){e.push(ATTRIBUTE_CHARSET);e.push(this.characterSet)}if(this.outlining!=0){e.push(ATTRIBUTE_OUTLINING);e.push(this.outlining)}if(this.transparency!=0){e.push(ATTRIBUTE_TRANSPARENCY);e.push(this.transparency)}if(this.validation!=0){e.push(ATTRIBUTE_VALIDATION);e.push(this.validation)}if(this.inputControl!=0){e.push(ATTRIBUTE_INPUT_CONTROL);e.push(this.inputControl)}if(this.foregroundRed!=0){e.push(EXTENDED_CHAR_ATTR_FOREGROUND_RED);e.push(this.foregroundRed)}if(this.foregroundGreen!=0){e.push(EXTENDED_CHAR_ATTR_FOREGROUND_GREEN);e.push(this.foregroundGreen)}if(this.foregroundBlue!=0){e.push(EXTENDED_CHAR_ATTR_FOREGROUND_BLUE);e.push(this.foregroundBlue)}return e};CharacterAttributes3270.prototype.getDifference=function(e){if(e==null){return null}var t={};var i=false;if(this.standardAttribute!=e.standardAttribute){t[ATTRIBUTE_STANDARD_3270]=e.standardAttribute;i=true}if(this.extendedHighlighting!=e.extendedHighlighting){t[ATTRIBUTE_EXTENDED_HIGHLIGHTING]=e.extendedHighlighting;i=true}if(this.color!=e.color){t[ATTRIBUTE_COLOR]=e.color;i=true}if(this.backgroundColor!=e.backgroundColor){t[ATTRIBUTE_BACKGROUND_COLOR]=e.backgroundColor;i=true}if(this.characterSet!=e.characterSet){t[ATTRIBUTE_CHARSET]=e.characterSet;i=true}if(this.outlining!=e.outlining){t[ATTRIBUTE_OUTLINING]=e.outlining;i=true}if(this.transparency!=e.transparency){t[ATTRIBUTE_TRANSPARENCY]=e.transparency;i=true}if(this.validation!=e.validation){t[ATTRIBUTE_VALIDATION]=e.validation;i=true}if(this.inputControl!=e.inputControl){t[ATTRIBUTE_INPUT_CONTROL]=e.inputControl;i=true}if(this.foregroundRed!=e.foregroundRed){t[EXTENDED_CHAR_ATTR_FOREGROUND_RED]=e.foregroundRed;i=true}if(this.foregroundGreen!=e.foregroundGreen){t[EXTENDED_CHAR_ATTR_FOREGROUND_GREEN]=e.foregroundGreen;i=true}if(this.foregroundBlue!=e.foregroundBlue){t[EXTENDED_CHAR_ATTR_FOREGROUND_BLUE]=e.foregroundBlue;i=true}if(i&&!e.isNonTrivial()){t={0:0}}return i?t:null};CharacterAttributes3270.prototype.toString=function(){var e="<CharAttrs3270 std=0x"+hex(this.standardAttribute)+" color=0x"+hex(this.color)+" bgCol=0x"+hex(this.backgroundColor);if(this.outlining!=0){e+=" outln=0x"+hex(this.outlining)}if(this.extendedHighlighting!=0){e+=" hilite=0x"+hex(this.extendedHighlighting)}if(this.characterSet!=0){e+=" charSet=0x"+hex(this.characterSet)}if(this.transparency!=0){e+=" transpcy=0x"+hex(this.transparency)}if(this.validation!=0){e+=" valdtn=0x"+hex(this.validation)}if(this.inputControl!=0){e+=" SI/SO Allowed"}return e+">"};CharacterAttributes3270.prototype.isProtected=function(){return(this.standardAttribute&TN3270E_FIELD_ATTRIBUTE_PROTECTED)!=0};CharacterAttributes3270.prototype.isMandatoryFill=function(){return(this.validation&TN3270E_EXTENDED_ATTRIBUTES_MANDATORY_FILL)!=0};CharacterAttributes3270.prototype.isMandatoryEntry=function(){return(this.validation&TN3270E_EXTENDED_ATTRIBUTES_MANDATORY_ENTRY)!=0};CharacterAttributes3270.prototype.isNonTrivial=function(){return this.standardAttribute!=0||this.extendedHighlighting!=0||this.color!=0||this.backgroundColor!=0||this.characterSet!=0||this.outlining!=0||this.transparency!=0||this.validation!=0||this.inputControl!=0||this.reset!=0||this.foregroundRed!=0||this.foregroundGreen!=0||this.foregroundBlue!=0};CharacterAttributes3270.prototype.is24BitForegroundColor=function(){return this.foregroundRed!=0||this.foregroundGreen!=0||this.foregroundBlue!=0};CharacterAttributes3270.prototype.copy=function(){var e=new CharacterAttributes3270(this.standardAttribute);e.extendedHighlighting=this.extendedHighlighting;e.color=this.color;e.backgroundColor=this.backgroundColor;e.characterSet=this.characterSet;e.outlining=this.outlining;e.transparency=this.transparency;e.validation=this.validation;e.inputControl=this.inputControl;e.foregroundRed=this.foregroundRed;e.foregroundGreen=this.foregroundGreen;e.foregroundBlue=this.foregroundBlue;return e};CharacterAttributes3270.prototype.getHighlightingDescription=function(){switch(this.extendedHighlighting){case 0:return"00 Default";case 240:return"F0 Normal (By 3270 Attribute)";case 241:return"F1 Blink";case 242:return"F2 Reverse";case 244:return"F3 Underscore";default:return"Unknown "+this.extendedHighlighting}};CharacterAttributes3270.prototype.getColorDescription=function(e){if(!e&&this.is24BitForegroundColor()){return"RGB "+this.foregroundRed+","+this.foregroundGreen+","+this.foregroundBlue}var t=e?this.backgroundColor:this.color;switch(t){case 0:return"00 Default (By QueryReply)";case 240:return"F0 Neutral (Black on Display)";case 241:return"F1 Blue";case 242:return"F2 Red";case 243:return"F3 Pink";case 244:return"F4 Green";case 245:return"F5 Turquoise";case 246:return"F6 Yellow";case 247:return"F7 Neutral (White on Displays)";case 248:return"F8 Black";case 249:return"F9 Deep Blue";case 250:return"FA Orange";case 251:return"FB Purple";case 252:return"FC Pale Green";case 253:return"FD Pale Turquoise";case 254:return"FE Grey";case 255:return"FF White";default:return"Unknown Color"+t}};var traceAttrCount=0;CharacterAttributes3270.prototype.updateFromOrder=function(t,e){var i=Object.keys(e);var n;let r=[];for(n=0;n<i.length;n++){var s=i[n];var o=e[s];if(s.startsWith("0x")){var l=parseInt(s.substring(2),16);if(traceAttrCount<50){traceAttrCount++}let e=this.update(t,l,o);r.push(e)}}if(r){let e=r.every(e=>e.status);if(!e){return r}}};CharacterAttributes3270.prototype.update=function(e,t,i){let n=0;this.reset=0;switch(t){case 0:{if(i!=0){protocolLogger.warn("Character attribute update: clear attribute (0x0) must be followed by 0x0, but was=0x"+hex(i))}this.standardAttribute=0;this.extendedHighlighting=0;this.color=0;this.characterSet=0;this.outlining=0;this.transparency=0;this.validation=0;this.inputControl=0;this.foregroundRed=0;this.foregroundGreen=0;this.foregroundBlue=0;this.reset=1}break;case ATTRIBUTE_STANDARD_3270:this.standardAttribute=i;break;case ATTRIBUTE_VALIDATION:this.validation=i;break;case ATTRIBUTE_OUTLINING:this.outlining=i;break;case ATTRIBUTE_EXTENDED_HIGHLIGHTING:if(i==64)i=0;if(i!==0){n=i-240}if(n==3||n>4||n<0){protocolLogger.warn("Unexpected invaild attribute type=0x"+hex(i));if(!this.errorIgnor)return{code:"753",type:"ext_highlingting",status:false,snaCode:"1003"}}else{this.extendedHighlighting=i}break;case ATTRIBUTE_COLOR:if(i==64)i=0;if(i!==0){n=i-240}if(n>15||n<0){protocolLogger.warn("Unexpected invaild attribute type=0x"+hex(i));if(!this.errorIgnor)return{code:"753",type:"ext_color",status:false,snaCode:"1003"}}else{this.color=i}break;case ATTRIBUTE_CHARSET:if(i==0||i==240)n=CHARACTER_SET_DEFAULT;else if(i==241)n=CHARACTER_SET_APL;else if(i>=64&&i<=239){n=CHARACTER_SET_DEFAULT}else if(i==248)n=CHARACTER_SET_DBCS;else if(!this.errorIgnor)return{code:"753",type:"ext_character_set",status:false,snaCode:"1003"};this.characterSet=n;break;case ATTRIBUTE_BACKGROUND_COLOR:this.backgroundColor=i;break;case ATTRIBUTE_TRANSPARENCY:this.transparency=i;break;case EXTENDED_CHAR_ATTR_FOREGROUND_RED:this.foregroundRed=i;break;case EXTENDED_CHAR_ATTR_FOREGROUND_GREEN:this.foregroundGreen=i;break;case EXTENDED_CHAR_ATTR_FOREGROUND_BLUE:this.foregroundBlue=i;break;case ATTRIBUTE_INPUT_CONTROL:this.inputControl=i;break;default:protocolLogger.warn("Unexpected field/char attribute type=0x"+hex(t));if(e==="O_SFE"){if(!this.errorIgnor)return{code:"752",type:"attribute_type",status:false,snaCode:"1005"}}else{if(!this.errorIgnor)return{code:"752",type:"attribute_type",status:false,snaCode:"1003"}}}return{status:true}};var renderLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.render");var scaleLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.scaling");var colorLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.color");const CURSOR_TRANSPARENT_BOX=1;const CURSOR_BOX=2;const CURSOR_BOX_BLINK=3;const CURSOR_UNDERLINE=4;const CURSOR_UNDERLINE_BLINK=5;const BLINK_RATE_MINIMUM=100;function ClassicRenderer(e,t){this.canvas=e.canvas;this.virtualScreen=e;this.previousPixelWidth=-1;this.previousPixelHeight=-1;this.currentPixelWidth=-1;this.currentPixelHeight=-1;this.font=null;this.fontSize=Number(ClassicRenderer.fontSize);this.fontName=e.defaultCharsetInfo&&e.defaultCharsetInfo.fontName?e.defaultCharsetInfo.fontName:"Lucida Console, Monaco, monospace";tecoreLogger.debug("virtualScreen = "+e);tecoreLogger.debug("cInfo="+e.charsetInfo);this.fontTooSmall=true;this.scaleFactorX=1;this.scaleFactorY=1;this.activeHeight=-1;this.activeWidth=-1;this.characterWidth=1;this.characterHeight=1;this.characterAscent=1;this.characterLeading=0;this.baselineOffset=0;this.unicodeConversionTable=t;this.cursorGuideStyle=3;this.cursorStyle=CURSOR_BOX_BLINK;this.cursorBlinkRate=500;this.cursorBlinkVisible=true;this.hasFocus=e.anyElementHasFocus();this.scrollingOffset=0;this.isTransparent=false;this.background=DEFAULT_BACKGROUND;this.oiaColor=DEFAULT_OIA_COLOR;this.oiaErrorColor=DEFAULT_OIA_COLOR;this.oiaInsertColor=DEFAULT_OIA_COLOR;this.cursorGuideColor=DEFAULT_CURSOR_GUIDE_COLOR;this.scaleMethod=1;this.cursorBlinkTimeout=null;this.textBlinkTimeout=null;this.parentSelector=null;this.arrowsSelection=false;if((this.cursorStyle==CURSOR_BOX_BLINK||this.cursorStyle==CURSOR_UNDERLINE_BLINK)&&this.cursorBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startCursorBlinking()}}ClassicRenderer.oiaHeight=2;var webColorToCanvasColor=function(e){if(e.match(/^#([a-fA-F0-9]){6}/)){var t=parseInt(e.substring(1,7),16);var i=t>>16;var n=t>>8&255;var r=t&255;return"rgb("+i+","+n+","+r+")"}else if(e.match(/^rgb\((?:\d{1,3},){2}\d{1,3}\)/)){return e}else{renderLogger.warn("Webcolor: bad color value, "+e)}};var setFillColor=function(e,t,i,n,r){colorLogger.log(colorLogger.FINEST,"Setting fill color. Previous color="+e.fillStyle+". Args length="+arguments.length);if(arguments.length==5){e.fillStyle="rgba("+t+","+i+","+n+","+r+")"}else if(arguments.length==4){e.fillStyle="rgb("+t+","+i+","+n+")"}else if(arguments.length==3&&i===true){e.fillStyle="rgb("+((t&16711680)>>16)+","+((t&65280)>>8)+","+(t&255)+","+"0"+")"}else if(arguments.length==2){e.fillStyle="rgb("+((t&16711680)>>16)+","+((t&65280)>>8)+","+(t&255)+")"}else{e.fillStyle=webColorToCanvasColor(t)}colorLogger.log(colorLogger.FINEST,"Set fill color. New color="+e.fillStyle)};var setStrokeColor=function(e,t,i,n,r){colorLogger.log(colorLogger.FINEST,"Setting stroke color. Previous color="+e.strokeStyle+". Args length="+arguments.length);if(arguments.length==5){e.strokeStyle="rgba("+t+","+i+","+n+","+r+")"}else if(arguments.length==4){e.strokeStyle="rgb("+t+","+i+","+n+")"}else if(arguments.length==2){e.strokeStyle="rgb("+((t&16711680)>>16)+","+((t&65280)>>8)+","+(t&255)+")"}else{e.strokeStyle=webColorToCanvasColor(t)}colorLogger.log(colorLogger.FINEST,"Set stroke color. New color="+e.strokeStyle)};var setGlobalAlpha=function(e,t){e.globalAlpha=t};var fillCircle=function(e,t,i,n){e.beginPath();e.arc(t,i,n,0,6.29,false);e.closePath();e.fill()};var fillArc=function(e,t,i,n,r,s){e.beginPath();e.moveTo(t,i);e.arc(t,i,n,r,s,false);e.closePath();e.fill()};const TEXT_RENDER_GRAPHIC=1;const TEXT_RENDER_REVERSE=2;const TEXT_RENDER_UNDERSCORE=4;const TEXT_RENDER_UNDERSCORE_REVERSE=6;const TEXT_RENDER_BLINK=8;const TEXT_RENDER_BLINK_REVERSE=10;const TEXT_RENDER_BLINK_UNDERSCORE=12;const TEXT_RENDER_BLINK_UNDERSCORE_REVERSE=14;const TEXT_RENDER_HIGH=16;const TEXT_RENDER_HIGH_REVERSE=18;const TEXT_RENDER_HIGH_UNDERSCORE_REVERSE=22;const TEXT_RENDER_HIGH_BLINK=24;const TEXT_RENDER_HIGH_BLINK_REVERSE=26;const TEXT_RENDER_HIGH_BLINK_UNDERSCORE=28;const TEXT_RENDER_HIGH_BLINK_UNDERSCORE_REVERSE=30;const TEXT_RENDER_LOW=32;const TEXT_RENDER_HIDDEN=64;const TEXT_RENDER_DOUBLE_WIDTH=128;const TEXT_RENDER_DOUBLE_TOP=256;const TEXT_RENDER_DOUBLE_BOTTOM=512;const TEXT_RENDER_COLUMN_SEPARATOR=4096;const TEXT_RENDER_TOPSCORE=8192;const CURSOR_GUIDE_HORIZONTAL=1;const CURSOR_GUIDE_VERTICAL=2;var MAX_LEADING=0;const DEFAULT_FOREGROUND=32768;const DEFAULT_BACKGROUND=0;const INACTIVE_BACKGROUND=4210752;const DEFAULT_BOLD_FOREGROUND=16050242;const DEFAULT_CURSOR_GUIDE_COLOR=16777215;ClassicRenderer.fontWeight="normal";ClassicRenderer.fontStyle="normal";ClassicRenderer.fontSize=10;ClassicRenderer.fontName="Lucida Console, Monaco, monospace";const DEFAULT_OIA_COLOR=16777215;const DEFAULT_OIA_ERROR_COLOR=16711680;const DEFAULT_OIA_INSERT_COLOR=65280;const noColor=2281766656;ClassicRenderer.prototype.setFontProperties=function(t){if(t){renderLogger.debug("Setting font properties="+JSON.stringify(t));if(t.style&&t.style!==null){ClassicRenderer.fontStyle=t.style}if(t.weight&&t.weight!==null){ClassicRenderer.fontWeight=t.weight}if(t.size&&t.size!==null){let e=Number(t.size);this.fontSize=e;ClassicRenderer.fontSize=e}if(t.name&&t.name!==null){this.fontName=t.name}if(t.scaleMethod!=null){this.scaleMethod=t.scaleMethod;if(this.scaleMethod==1){ClassicRenderer.fontSize=10}}this.handleResize();this.fullPaint()}};ClassicRenderer.prototype.getFontProperties=function(){var e={style:ClassicRenderer.fontStyle,weight:ClassicRenderer.fontWeight,size:ClassicRenderer.fontSize,name:this.fontName};return e};ClassicRenderer.prototype.setCursorGuideProperties=function(e){renderLogger.debug("Set cursorguide="+e);this.cursorGuideStyle=e};ClassicRenderer.prototype.setCursorProperties=function(e,t){if(e){if(t)this.cursorStyle=CURSOR_UNDERLINE;else this.cursorStyle=CURSOR_UNDERLINE_BLINK}else{if(t)this.cursorStyle=CURSOR_BOX;else this.cursorStyle=CURSOR_BOX_BLINK}this.resetCursorBlink();renderLogger.debug("Set cursorstyle="+this.cursorStyle)};ClassicRenderer.prototype.calculateFontSize=function(e,t,i,n){e.font=ClassicRenderer.fontStyle+" "+ClassicRenderer.fontWeight+" "+t+"px "+i;var r=e.measureText(n);this.characterLeading=MAX_LEADING;this.characterAscent=t*.85;this.characterDescent=t-(this.characterLeading+this.characterAscent);this.baselineOffset=this.characterAscent+this.characterLeading;var s=t;return{width:r.width,height:s}};ClassicRenderer.prototype.getScreenHeightWithChrome=function(){if(this.virtualScreen.oiaEnabled){return this.virtualScreen.height+ClassicRenderer.oiaHeight}return this.virtualScreen.height};ClassicRenderer.prototype.setupFontMetrics=function(s,o){const l=this.virtualScreen;if(!this.parentSelector){this.parentSelector=this.getParentSelector(l)}const a=this.parentSelector?.clientWidth||0;const c=this.parentSelector?.clientHeight||0;this.fontTooSmall=true;this.activeWidth=0;this.activeHeight=0;this.scaleWidth="1";this.scaleHeight="1";scaleLogger.debug("Calculate font for canvas w="+a+",h="+c);var u;var h;if(this.scaleMethod==0){scaleLogger.debug("Calculating for scaleMethod=ratio");let t=0,i=0;const d=e=>{h=this.calculateFontSize(o,e,this.fontName,"M");t=h.width*l.width;i=h.height*this.getScreenHeightWithChrome();scaleLogger.debug("At font size="+e+", need w="+t+",h="+i);if(t<=a&&i<=c){scaleLogger.debug("Found size match. Chose font size ="+e+" for canvas w="+a+",h="+c+" ascent="+this.characterAscent+", descent="+this.characterDescent+" leading="+this.characterLeading);this.fontTooSmall=false;this.characterWidth=h.width;this.characterHeight=h.height;this.font=ClassicRenderer.fontStyle+" "+ClassicRenderer.fontWeight+" "+e+"px "+this.fontName;this.activeWidth=a;this.activeHeight=c;return true}return false};const p=Math.max(Math.floor(a/l.width),Math.floor(c/this.getScreenHeightWithChrome()));let e=4,n=p,r;while(e<n){r=Math.floor((e+n)/2);const _=d(r);if(_){u=r;e=r+1}else{n=r-1}}const f=Math.max(Math.min(t,s.width),t);const E=Math.max(Math.min(i,s.height),i);const T={};if(t<a){this.padding.left=(a-t)/2;s.style.left=this.padding.left+"px";T.width={width:f,left:this.padding.left}}if(i<c){this.padding.top=(c-i)/2;s.style.top=this.padding.top+"px";T.height={height:E,top:this.padding.top}}updateHotspotSize(this.virtualScreen,T);s.width=t;s.height=i}else if(this.scaleMethod==1){scaleLogger.debug("Calculating for scaleMethod=fit");var u=10;h=this.calculateFontSize(o,u,this.fontName,"M");this.fontTooSmall=false;this.characterWidth=h.width;this.characterHeight=h.height;this.font=ClassicRenderer.fontStyle+" "+ClassicRenderer.fontWeight+" "+u+"px "+this.fontName;var t=s.width/(l.width*h.width);var i=s.height/(this.getScreenHeightWithChrome()*h.height);t=(parseInt(t*10)/10).toFixed(1);i=(parseInt(i*10)/10).toFixed(1);this.scaleFactorX=1/t;this.scaleFactorY=1/i;this.activeWidth=s.width*this.scaleFactorX;this.activeHeight=s.height*this.scaleFactorY;o.scale(t,i);this.scaleWidth=t;this.scaleHeight=i;this.upperCtx.setTransform(1,0,0,1,0,0);this.upperCtx.scale(t,i);scaleLogger.debug("Scaled for font size="+u+", canvas w="+a+",h="+c+" ascent="+this.characterAscent+", descent="+this.characterDescent+" leading="+this.characterLeading);scaleLogger.debug("Scale factors are: sfX="+this.scaleFactorX+", sfY="+this.scaleFactorY+", aH="+this.activeHeight+", aW="+this.activeWidth+", sW="+t+", sH="+i);const T={};let e=false;if(this.padding.top!==0){this.padding.top=0;s.style.top="0px";l.selectionCanvas.style.top="0px";T.height={height:c,top:0};e=true}if(this.padding.left!==0){this.padding.left=0;s.style.left="0px";l.selectionCanvas.style.left="0px";T.width={width:a,left:0};e=true}if(e){updateHotspotSize(l,T);s.width=a;s.height=c;l.selectionCanvas.width=a;l.selectionCanvas.height=c}}else{scaleLogger.debug("Calculating for scaleMethod=no scale");var u=ClassicRenderer.fontSize;h=this.calculateFontSize(o,u,this.fontName,"M");this.fontTooSmall=false;this.characterWidth=h.width;this.characterHeight=h.height;this.font=ClassicRenderer.fontStyle+" "+ClassicRenderer.fontWeight+" "+u+"px "+this.fontName;this.scaleFactorX=1;this.scaleFactorY=1;this.activeWidth=s.width;this.activeHeight=s.height;o.scale("1","1");this.upperCtx.setTransform(1,0,0,1,0,0);this.upperCtx.scale("1","1");const r=this.virtualScreen;const g=r.height+(l.oiaEnabled===1?1.5:0);const S=this.characterWidth*r.width;const C=this.characterHeight*g;const f=Math.max(Math.min(S,s.width),S);const E=Math.max(Math.min(C,s.height),C);let e=false,t={};if(S<s.width){this.padding.left=(s.width-S)/2;s.style.left=this.padding.left+"px";t.width={width:f,left:this.padding.left};e=true}if(C<s.height){this.padding.top=(s.height-C)/2;s.style.top=this.padding.top+"px";e=true;t.height={height:E,top:this.padding.top};e=true}if(C>s.height){e=true}updateHotspotSize(r,t);s.width=f;s.height=E;scaleLogger.debug("Scaled for font size="+u+", canvas w="+a+",h="+c+" ascent="+this.characterAscent+", descent="+this.characterDescent+" leading="+this.characterLeading)}if(this.fontName!=this.dbcsFontName){scaleLogger.debug("Determining font size for DBCS="+this.dbcsFontName);var e=this.calculateFontSize(o,u,this.dbcsFontName,"M");var n=this.calculateFontSize(o,u,this.dbcsFontName,"䭺");scaleLogger.debug("SBCS box="+JSON.stringify(h)+" dbcsBox="+JSON.stringify(e)+" testSymbolBox="+JSON.stringify(n))}};var drawChars=function(e,t,i,n,r,s){var o=new Array(n);for(var l=0;l<n;l++){o[l]=t[i+l]}var a=String.fromCharCode.apply(null,o);renderLogger.log(renderLogger.FINEST,"Draw chars at canvas px("+r+","+s+") runLength="+n+" lineBuffer start="+i+" text="+a);e.fillText(a,r,s)};var updateHotspotSize=function(t,i){var n=Object.keys(i);if(n.length===0)return;if(!t.hotspotsDiv&&t.parentDiv){t.hotspotsDiv=document.getElementById(t.parentDiv.id+"Hotspots")}if(!t.hotspotsDiv)return;for(let e of n){const r=e==="width"?"left":"top";t.hotspotsDiv.style[e]=i[e][e]+"px";t.hotspotsDiv.style[r]=i[e][r]+"px"}};ClassicRenderer.prototype.updateParentStyle=function(e,t){if(!t.fillStyle||this.scaleMethod===1)return;if(!this.parentSelector){this.parentSelector=this.getParentSelector(e)}this.parentSelector.style.background=t.fillStyle;if(this.scaleMethod===2){this.parentSelector.style.overflow="auto"}};ClassicRenderer.prototype.getParentSelector=function(e){return document.getElementById(e.parentDiv.id)};ClassicRenderer.prototype.drawOIAChars=function(i,n,r,s,o,l){let a=[];const c=this.oiaColor;let u=charPosColor=c;let h=0;for(let t=0;t<s;t++){let e=n[r+t];switch(t){case 0:charPosColor=c;break;case 8:if(e===7){charPosColor=this.oiaErrorColor;e=32}break;case 25:charPosColor=c;break;case 50:charPosColor=this.oiaInsertColor;break;case 52:charPosColor=c;break;case 79:charPosColor=c;break;default:break}a.push(e);if(u!=charPosColor){let e=String.fromCharCode.apply(null,a);setFillColor(i,u);i.fillText(e,o+h,l);renderLogger.log(renderLogger.FINEST,"Draw chars at canvas px("+o+","+l+") runLength="+s+" lineBuffer start="+r+" text="+e);h=(t+1)*this.characterWidth;a=[];u=charPosColor}}if(a.length>0){let e=String.fromCharCode.apply(null,a);setFillColor(i,u);i.fillText(e,o+h,l);renderLogger.log(renderLogger.FINEST,"Draw chars at canvas px("+o+","+l+") runLength="+s+" lineBuffer start="+r+" text="+e)}};function drawLine2(e,t,i,n,r){renderLogger.debug("Draw line (2) from ("+t+","+i+") to ("+n+","+r+")");e.beginPath();var s=e.fillStyle;e.fillStyle=e.strokeStyle;var o=Math.sqrt((n-t)*(n-t)+(r-i)*(r-i));var l=n-t;var a=r-i;var c=Math.atan(a/(l==0?.01:l))+(l<0?Math.PI:0);for(var u=0;u<o;u++){e.fillRect(Math.round(t+Math.cos(c)*u),Math.round(i+Math.sin(c)*u),1,1)}e.stroke();e.fillStyle=s}var drawLine=function(e,t,i,n,r){renderLogger.debug("Draw line from ("+t+","+i+") to ("+n+","+r+")");e.beginPath();e.moveTo(t,i);e.lineTo(n,r);e.stroke()};ClassicRenderer.prototype.clearLineData=function(e,t,i,n){var r;for(r=0;r<n;r++){e[r]=32;t[r]=0;i[r]=0}};ClassicRenderer.prototype.firstVisibleCharacter=function(e,t,i){for(var n=t;n<i;n++){if(e[n]>32){return n}}return-1};ClassicRenderer.prototype.getRunLength=function(e,t,i,n,r,s){var o=n+1;var l=e[n];var a=s?s[n]:null;var c=t[n];while(o<r){if((l==noColor?e[o]!=noColor:l!=e[o])||c!=t[o]){break}else if(s&&a!=s[o]){break}else{o++}}return o-n};ClassicRenderer.prototype.clear=function(){let t=this.virtualScreen;var i=t.canvas.getContext("2d");var e=t.canvas.width;var n=t.canvas.height;renderLogger.debug("Renderer.clear pxWidth="+e+" pxHeight="+n+" inactive="+INACTIVE_BACKGROUND);setFillColor(i,INACTIVE_BACKGROUND);i.fillRect(0,0,e,n);if(this.isTransparent){i.clearRect(0,0,this.activeWidth,this.activeHeight);setFillColor(i,this.background,this.isTransparent)}else{setFillColor(i,this.background)}i.fillRect(0,0,this.activeWidth,this.activeHeight);if(t.statuslineCanvas){let e=t.statuslineCanvas.getContext("2d");i.clearRect(0,0,t.statuslineCanvas.width,t.statuslineCanvas.height);if(this.isTransparent){setFillColor(e,this.background,this.isTransparent)}else{setFillColor(e,this.background)}e.fillRect(0,0,t.statuslineCanvas.width,t.statuslineCanvas.height)}};ClassicRenderer.prototype.handleResize=function(){var e=this.virtualScreen.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0);if(this.virtualScreen.statuslineCanvas){let e=this.virtualScreen.statuslineCanvas.getContext("2d");e.setTransform(1,0,0,1,0,0)}this.scaleFactorX=1;this.scaleFactorY=1;this.previousPixelWidth=-1};ClassicRenderer.prototype.getRowColumn=function(e,t){var i=this.virtualScreen.canvas;var n=this.virtualScreen;if(this.scaleMethod==1){e=e*this.scaleFactorX;t=t*this.scaleFactorY}if(e>=this.activeWidth||t>=this.activeHeight){renderLogger.debug("canvasX or canvasY is greater than activeWidth or activeHeight")}return{rows:Math.floor(t/this.characterHeight),columns:Math.floor(e/this.characterWidth)}};ClassicRenderer.prototype.paintUpperCanvas=function(){var e=this.virtualScreen;let t=e.canvas;var i=this.upperCtx;i.font=this.font;if(e.indfile&&e.indfile.bXferActive&&e.indfile.IndfTotal)return;setFillColor(i,255,255,255,0);if(!e.inComposition){i.clearRect(0,0,t.width,t.height);i.clearRect(0,0,this.activeWidth,this.activeHeight)}if(this.hasFocus===true){if((this.cursorStyle!=CURSOR_BOX_BLINK&&this.cursorStyle!=CURSOR_UNDERLINE_BLINK||this.cursorBlinkRate==0||this.cursorBlinkVisible==true)&&this.cursorStyle>0){this.showCursor(i,e.cursorPos)}if(this.cursorGuideStyle>0&&this.cursorStyle>0){this.drawCursorGuide(i,e.cursorPos)}}if(e.selectionStartColumn!=null&&e.selectionStartRow!=null&&e.selectionEndRow!=null&&e.selectionEndColumn!=null){this.drawSelectionBox(e.selectionStartColumn,e.selectionStartRow,e.selectionEndColumn,e.selectionEndRow)}if(e.isShowFieldBorder){this.drawFieldBorder()}if(e.rendererSettings&&e.rendererSettings.highlightFocusedField){this.drawLineFieldBorder()}if(e.oiaEnabled==1){this.drawOIA(i,e,function(){if(typeof e.alertMessage=="function"){e.alertMessage()}})}if(this.message){this.cursorBlinkVisible=false;this.printMessage()}};const OIA_BAR_OFFSET=-1.5;const OIA_OFFSET=-.25;const OIA_BAR_WIDTH=5;ClassicRenderer.prototype.drawOIA=function(e,t,i){let n=t.canvas;var r=e.lineWidth;e.beginPath();setStrokeColor(e,this.oiaColor);e.lineWidth=Math.max(Math.min(OIA_BAR_WIDTH*this.scaleFactorY,this.characterHeight/4),2);var s=OIA_OFFSET;var o=n.height*this.scaleFactorY+this.characterHeight*OIA_BAR_OFFSET;e.moveTo(0,o);e.lineTo(this.activeWidth-Math.max(Math.min(12,this.characterHeight/4),2),o);var l=t.getOIAArray();var a=n.height*this.scaleFactorY+this.characterHeight*OIA_OFFSET;this.drawOIAChars(e,l,0,t.width,0,a);e.closePath();e.stroke();e.lineWidth=r;if(i){i.call(this)}};ClassicRenderer.cursorGuideToEnd=false;ClassicRenderer.prototype.drawCursorGuide=function(e,t){var i=this.virtualScreen;var n=this.characterHeight;var r=this.characterWidth;var s=e.lineWidth;if(i.width==0){renderLogger.warn("Cannot show cursor guide when screen width=0");return}var o=Math.floor(t/i.width)+1;var l=t%i.width;renderLogger.debug("show cursor guide pos="+t+" at row="+o+" column="+l);setStrokeColor(e,this.cursorGuideColor);if(this.cursorGuideStyle&CURSOR_GUIDE_HORIZONTAL){e.lineWidth=s*this.scaleFactorY;var a;if(ClassicRenderer.cursorGuideToEnd===true){a=this.activeWidth}else{a=i.width*r}drawLine(e,0,o*n,a,o*n)}if(this.cursorGuideStyle&CURSOR_GUIDE_VERTICAL){var c;e.lineWidth=s*this.scaleFactorX;if(ClassicRenderer.cursorGuideToEnd===true){if(i.oiaEnabled==1){a=this.activeHeight+n*OIA_BAR_OFFSET}else{a=this.activeHeight}}else{a=i.height*n}drawLine(e,l*r,0,l*r,a)}e.lineWidth=s};ClassicRenderer.prototype.drawSelectionBox=function(e,t,i,n){let r,s,o,l,a=false;if(this.arrowsSelection){r=e;s=i;o=t;l=n;a=true}if(e!=i&&t!==n){t=t>n?t+1:t;e=e>i?e+1:e;r=Math.min(e,i);s=Math.max(e,i);o=Math.min(t,n);l=Math.max(t,n);a=true}if(a){renderLogger.debug("drawSelectionBox selectionStartColumn="+e+" selectionStartRow="+t+" selectionEndColumn="+i+" selectionEndRow="+n);var c=this.virtualScreen;var u=c.selectionCanvas.getContext("2d");u.beginPath();this.drawInverseBox(r,o,s,l,u,c.canvas.getContext("2d"));u.closePath()}};ClassicRenderer.prototype.drawRectangle=function(e,t,i,n,r,s,o){var l=this.characterHeight;var a=this.characterWidth;var c=~~(t*a);var u=~~(n*a);var h=~~(i*l);var d=~~(r*l);renderLogger.debug("draw Border startColumn="+t+" startRow="+i+" endColumn="+n+" endRow="+r);var p=this.virtualScreen;var f=p.selectionCanvas.getContext("2d");f.strokeStyle=e;f.lineWidth=s||1;o=o||.5;f.beginPath();f.moveTo(c+o,h+o);f.lineTo(u-o,h+o);f.lineTo(u-o,d-o);f.lineTo(c+o,d-o);f.lineTo(c+o,h+o);f.closePath();f.stroke();f.lineWidth=1};ClassicRenderer.prototype.drawBorder=function(e,t,i,n){const r="#FCD000";this.drawRectangle(r,e,t,i,n)};ClassicRenderer.prototype.lightField=function(e,t,i,n){const r="#de350b";this.drawRectangle(r,e,t,i,n)};ClassicRenderer.prototype.drawFieldBorder=function(){superAlert("draw Field Border")};ClassicRenderer.prototype.drawLineFieldBorder=function(){superAlert("draw Line Field Border")};ClassicRenderer.prototype.resetCursorBlink=function(){clearTimeout(this.cursorBlinkTimeout);if(this.cursorBlinkVisible!=true){this.cursorBlinkVisible=true;this.paintUpperCanvas()}if((this.cursorStyle==CURSOR_BOX_BLINK||this.cursorStyle==CURSOR_UNDERLINE_BLINK)&&this.cursorBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startCursorBlinking()}};ClassicRenderer.prototype.startCursorBlinking=function(){var e=this;this.cursorBlinkTimeout=setInterval(function(){e.cursorBlinkVisible=!e.cursorBlinkVisible;if(e.hasFocus===true){e.paintUpperCanvas()}},this.cursorBlinkRate)};ClassicRenderer.prototype.resetTextBlink=function(){clearTimeout(this.textBlinkTimeout);if(this.textBlinkVisible!=true){this.textBlinkVisible=true;this.fullPaint()}if(this.textBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startTextBlinking()}};ClassicRenderer.prototype.startTextBlinking=function(){var e=this;this.textBlinkTimeout=setInterval(function(){if(e.hasBlinkingText){e.textBlinkVisible=!e.textBlinkVisible;e.fullPaint()}},this.textBlinkRate)};ClassicRenderer.prototype.showCursor=function(e,t){if(t===-1||this.virtualScreen.compositionString){return}var i=this.virtualScreen;var n=i.charsetInfo.isDBCS;var r=0;var s=this.characterHeight;var o=this.characterWidth;var l=this.virtualScreen.insertMode?.2:1;if(this.cursorStyle==CURSOR_UNDERLINE||this.cursorStyle==CURSOR_UNDERLINE_BLINK){if(this.virtualScreen.insertMode)l=.5;else l=.1}if(i.width==0){tecoreLogger.info("CANNOT SHOW CURSOR screen.width==0\n");return}var a=Math.floor(t/i.width)+1;var c=t%i.width;if(n){if(i.dbcsCellType){let e=i.dbcsCellType(t);if(e){r=1;if(e==2){c-=1}}}}renderLogger.debug("show cursor pos="+t+" at row="+a+" column="+c);e.beginPath();setFillColor(e,this.cursorGuideColor);if(this.cursorStyle==CURSOR_TRANSPARENT_BOX){setStrokeColor(e,this.cursorGuideColor);e.moveTo(c*o,(a-l)*s);e.lineTo((1+c+r)*o,(a-l)*s);e.lineTo((1+c+r)*o,a*s);e.lineTo(c*o,a*s);e.lineTo(c*o,(a-l)*s);e.closePath();e.stroke()}else{this.drawInverseBox(c,a-l,1+c+r,a,e,i.canvas.getContext("2d"),true);e.closePath()}};ClassicRenderer.prototype.printMessage=function(){let i=this.message;let e=i.length;let t=1;let n=this.virtualScreen.width;let r=this.characterHeight;let s=t*r;let o=this.virtualScreen.canvas.getContext("2d");let l=0;let a=s*(this.virtualScreen.height/2);while(l<e){let e=l+n;let t=i.substring(l,e);o.fillText(t,0,a);l=e;a+=s}};ClassicRenderer.prototype.drawInverseBox=function(e,t,i,n,r,s,o){var l=this.characterHeight;var a=this.characterWidth;var c=e*a;var u=t*l;var h=i*a;var d=n*l;var p=this.scaleMethod==1?c/this.scaleFactorX:c;var f=this.scaleMethod==1?u/this.scaleFactorY:u;var E=this.scaleMethod==1?h/this.scaleFactorX:h;var T=this.scaleMethod==1?d/this.scaleFactorY:d;var _=Math.abs(p-E);var g=Math.abs(f-T);renderLogger.debug("scaledX="+p+"scaledY="+f+"width="+_+"height="+g);if(this.arrowsSelection&&!o){const R=a*(this.scaleMethod===1?Number(this.scaleWidth):1);const m=l*(this.scaleMethod===1?Number(this.scaleHeight):1);_=Math.max(_,R);g=Math.max(g,m)}if(!g||!_||g<1||_<1){return}var S=s.getImageData(p,f,_,g);for(var C=0;C<S.data.length;C+=4){S.data[C]=255-S.data[C];S.data[C+1]=255-S.data[C+1];S.data[C+2]=255-S.data[C+2];S.data[C+3]=255}r.putImageData(S,p,f)};ClassicRenderer.prototype.fullPaint=function(){superAlert("fullPaint")};ClassicRenderer.prototype.onFullPaint=function(){if(this.paintTimeOut){clearTimeout(this.paintTimeOut)}this.paintTimeOut=setTimeout(()=>{if(this.fullPaintCallback){this.fullPaintCallback()}},300)};ClassicRenderer.prototype.getExtendedColorsAsHotspot=function(e){let t=this.hexToRgb(e).r;let i=this.hexToRgb(e).g;let n=this.hexToRgb(e).b;if(t!==0&&i===0&&n===0){t=parseInt(t)-1}else if(t==0&&i!==0&&n==0){i=parseInt(i)-1}else if(t==0&&i==0&&n!==0){n=parseInt(n)-1}colorLogger.debug("r= "+t+"g= "+i+"b= "+n);return`0x${this.rgbToHex(t)}${this.rgbToHex(i)}${this.rgbToHex(n)}`};ClassicRenderer.prototype.hexToRgb=function(e){let t=e&16777215;return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255}};ClassicRenderer.prototype.rgbToHex=function(e){let t=e.toString(16);return t.length==1?"0"+t:t};makeSubclass(ClassicBlockRenderer,ClassicRenderer);function ClassicBlockRenderer(e,t,i){this.canvas=e;this.virtualScreen=t;this.previousPixelWidth=-1;this.previousPixelHeight=-1;this.currentPixelWidth=-1;this.currentPixelHeight=-1;this.font=null;this.fontName=t.defaultCharsetInfo&&t.defaultCharsetInfo.fontName?t.defaultCharsetInfo.fontName:"Lucida Console, Monaco, monospace";tecoreLogger.debug("virtualScreen = "+t);tecoreLogger.debug("cInfo="+t.charsetInfo);this.dbcsFontName=t.charsetInfo.fontName;this.fontTooSmall=true;this.scaleFactorX=1;this.scaleFactorY=1;this.activeHeight=-1;this.activeWidth=-1;this.characterWidth=1;this.characterHeight=1;this.characterAscent=1;this.characterLeading=0;this.baselineOffset=0;this.unicodeConversionTable=i;this.cursorGuideStyle=3;this.cursorStyle=CURSOR_BOX_BLINK;this.cursorBlinkRate=500;this.cursorBlinkVisible=true;this.hasFocus=t.anyElementHasFocus();this.background=DEFAULT_BACKGROUND;this.oiaColor=DEFAULT_OIA_COLOR;this.oiaErrorColor=DEFAULT_OIA_ERROR_COLOR;this.oiaInsertColor=DEFAULT_OIA_INSERT_COLOR;this.cursorGuideColor=DEFAULT_CURSOR_GUIDE_COLOR;this.scaleMethod=1;if((this.cursorStyle==CURSOR_BOX_BLINK||this.cursorStyle==CURSOR_UNDERLINE_BLINK)&&this.cursorBlinkRate>0){this.startCursorBlinking()}}ClassicBlockRenderer.prototype.getEbcdicForUnicode=function(e){if(e==8364){if(this.sbcsEuroPosition>0){return this.sbcsEuroPosition}}for(var t=0;t<this.unicodeConversionTable.length;t++){if(this.unicodeConversionTable[t]==e){return t}}return 96};ClassicBlockRenderer.prototype.getAsciiFromEbcdic=function(e){if(e==8364){if(this.sbcsEuroPosition>0){return this.sbcsEuroPosition}}return this.unicodeConversionTable[e].toString(16)};ClassicBlockRenderer.prototype.getRunLength=function(e,t,i,n,r,s){if(this.virtualScreen.charsetInfo.dbcsMapper){return 1}var o=r+1;var l=e[r];var a=t[r];var c=i[n+r];while(o<s){if((l==noColor?e[o]!=noColor:l!=e[o])||a!=t[o]||c!=i[n+o]){break}else{o++}}return o-r};ClassicBlockRenderer.prototype.drawFieldBorder=function(){if(this.virtualScreen.isShowFieldBorder){this.virtualScreen.showFieldBorder()}};ClassicBlockRenderer.prototype.drawLineFieldBorder=function(){if(this.virtualScreen.rendererSettings&&this.virtualScreen.rendererSettings.highlightFocusedField&&this.virtualScreen.renderer&&this.virtualScreen.renderer.hasFocus){this.virtualScreen.highLightFocusField()}};const DBCS_UNINTERESTING=0;const DBCS_FIRST_HALF=1;const DBCS_SECOND_HALF=2;const LAST_SHIFT_NOT_SEEN=0;const LAST_SHIFT_IS_OUT=1;const LAST_SHIFT_IS_IN=2;function computeDBCSInfo(e){var t=e.screenElements[0];var i=new Uint8Array(e.size);var n;var r=0;var s=false;if(e.getProtocolType()==TERMINAL_PROTOCOL_TN5250)s=true;if(e.isFormatted){if(t&&t.fieldData){r=0}else{for(n=e.size-1;n>0;n--){if(e.screenElements[n]&&e.screenElements[n].fieldData){r=n;break}}}}else{r=0}var o=e.size;var l=LAST_SHIFT_NOT_SEEN;var a=s;var c=false;var u=0;var h=false;var d=0;for(n=0;n<o;n++){var p=(r+n)%o;t=e.screenElements[p];if(t){var f=e.previewCharCode[p];if(f==null){f=t.isModified?t.inputEbcdicChar:t.ebcdicChar}if(t.fieldData){var E;if(t.fieldData.attributes){E=t.fieldData.attributes}else{E=t.fieldData}c=false;i[p]=DBCS_UNINTERESTING;l=LAST_SHIFT_NOT_SEEN;if(E.inputControl==1){a=true}else if(E.characterSet>0){renderLogger.debug("DBCS: detected DBCS field, fieldAttributes="+E+", characterSet="+hex(E.characterSet));c=true}h=false}else if(f==DBCS_SHIFT_OUT){l=LAST_SHIFT_IS_OUT;i[p]=DBCS_UNINTERESTING;h=true;d=0;renderLogger.debug("DBCS: saw 0x0E (Shift-out) at pos="+p+", screenElement="+t)}else if(f==DBCS_SHIFT_IN){l=LAST_SHIFT_IS_IN;i[p]=DBCS_UNINTERESTING;h=false;c=false;u=0;renderLogger.debug("DBCS: saw 0x0F (Shift-in) at pos="+p+", screenElement="+t)}else if(h){if(a){i[p]=d%2==0?DBCS_FIRST_HALF:DBCS_SECOND_HALF;renderLogger.debug("DBCS: set DBCS attributes in pos="+p+" to="+i[p])}else{i[p]=DBCS_UNINTERESTING}d++}else{u++;if(c){i[p]=u%2==0?DBCS_FIRST_HALF:DBCS_SECOND_HALF;renderLogger.debug("DBCS: set DBCS attributes in pos="+p+" to="+i[p])}else{i[p]=DBCS_UNINTERESTING}}}else{c=false;c=false;i[p]=DBCS_UNINTERESTING}}e.dbcsAttributes=i;return i}makeSubclass(Classic3270Renderer,ClassicBlockRenderer,[Classic3270Renderer.fullPaint]);const displayCharTable=[{ebcdicChar:28,unicodeChar:42},{ebcdicChar:30,unicodeChar:59},{ebcdicChar:64,unicodeChar:46},{ebcdicChar:0,unicodeChar:176}];function Classic3270Renderer(e,t){this.virtualScreen=e;this.previousPixelWidth=-1;this.previousPixelHeight=-1;this.currentPixelWidth=-1;this.currentPixelHeight=-1;this.font=null;this.fontName=e.defaultCharsetInfo&&e.defaultCharsetInfo.fontName?e.defaultCharsetInfo.fontName:"Lucida Console, Monaco, monospace";tecoreLogger.debug("virtualScreen = "+e);tecoreLogger.debug("cInfo="+e.charsetInfo);this.fontTooSmall=true;this.scaleFactorX=1;this.scaleFactorY=1;this.activeHeight=-1;this.activeWidth=-1;this.characterWidth=1;this.characterHeight=1;this.characterAscent=1;this.characterLeading=0;this.baselineOffset=0;this.unicodeConversionTable=t;this.cursorGuideStyle=0;this.cursorStyle=CURSOR_BOX_BLINK;this.cursorBlinkRate=500;this.cursorBlinkVisible=true;this.hasFocus=e.anyElementHasFocus();this.background=DEFAULT_BACKGROUND;this.foreground=DEFAULT_BOLD_FOREGROUND;this.extendedColors=[this.background,7257087,16711680,16752800,65280,65535,16776960,16777215,0,128,16750080,8388736,32768,32896,13816530,16777215];this.lowUnprotected=65280;this.highUnprotected=16711680;this.lowProtected=65535;this.highProtected=16777215;this.cursorGuideColor=DEFAULT_CURSOR_GUIDE_COLOR;this.oiaColor=DEFAULT_OIA_COLOR;this.oiaErrorColor=DEFAULT_OIA_ERROR_COLOR;this.oiaInsertColor=DEFAULT_OIA_INSERT_COLOR;this.scaleMethod=1;this.cursorBlinkTimeout=null;this.textBlinkTimeout=null;this.padding={top:0,left:0};if((this.cursorStyle==CURSOR_BOX_BLINK||this.cursorStyle==CURSOR_UNDERLINE_BLINK)&&this.cursorBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startCursorBlinking()}this.textBlinkRate=500;this.hasBlinkingText=false;if(this.textBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startTextBlinking()}this.showNullCharacter=false;this.dualCaseMode=true;this.showSISO=false}const DEFAULT_BGCOLOR=240;const BLUE=241;const RED=242;const PINK=243;const GREEN=244;const TURQUOISE=245;const YELLOW=246;const DEFAULT_FGCOLOR=247;const BLACK=248;const DEEP_BLUE=249;const ORANGE=250;const PURPLE=251;const PALE_GREEN=252;const PALE_TURQUOISE=253;const GREY=254;const WHITE=255;Classic3270Renderer.prototype.setBasicColorProperties=function(e){if(e.defaultBackground!==null){this.background=e.defaultBackground}if(e.lowUnprotected!==null){this.lowUnprotected=e.lowUnprotected}if(e.highUnprotected!==null){this.highUnprotected=e.highUnprotected}if(e.lowProtected!==null){this.lowProtected=e.lowProtected}if(e.highProtected!==null){this.highProtected=e.highProtected}if(e.cursorGuideColor!==null){this.cursorGuideColor=e.cursorGuideColor}if(e.oiaColor!==null){this.oiaColor=e.oiaColor}if(e.oiaErrorColor){this.oiaErrorColor=e.oiaErrorColor}if(e.oiaInsertColor){this.oiaInsertColor=e.oiaInsertColor}};Classic3270Renderer.prototype.getBasicColorProperties=function(){var e={defaultBackground:this.background,lowUnprotected:this.lowUnprotected,highUnprotected:this.highUnprotected,lowProtected:this.lowProtected,highProtected:this.highProtected,cursorGuideColor:this.cursorGuideColor,oiaColor:this.oiaColor,oiaErrorColor:this.oiaErrorColor,oiaInsertColor:this.oiaInsertColor};return e};Classic3270Renderer.prototype.setExtendedColorProperties=function(e={}){if(e.defaultExtendedBlue!==null){this.extendedColors[1]=e.defaultExtendedBlue}if(e.defaultExtendedRed!==null){this.extendedColors[2]=e.defaultExtendedRed}if(e.defaultExtendedPink!==null){this.extendedColors[3]=e.defaultExtendedPink}if(e.defaultExtendedGreen!==null){this.extendedColors[4]=e.defaultExtendedGreen}if(e.defaultExtendedTurquiose!==null){this.extendedColors[5]=e.defaultExtendedTurquiose}if(e.defaultExtendedYellow!==null){this.extendedColors[6]=e.defaultExtendedYellow}if(e.defaultExtendedWhite!==null){this.extendedColors[7]=e.defaultExtendedWhite}};Classic3270Renderer.prototype.getExtendedColorProperties=function(){var e={defaultExtendedBlue:this.extendedColors[1],defaultExtendedRed:this.extendedColors[2],defaultExtendedPink:this.extendedColors[3],defaultExtendedGreen:this.extendedColors[4],defaultExtendedTurquiose:this.extendedColors[5],defaultExtendedYellow:this.extendedColors[6],defaultExtendedWhite:this.extendedColors[7]};return e};Classic3270Renderer.prototype.get3270Color=function(e){if((e.standardAttribute&TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK)===TN3270E_FIELD_ATTRIBUTE_NO_DISPLAY_NOT_DETECTABLE){return noColor}if(e.is24BitForegroundColor()){return new color(e.foregroundRed,e.foregroundGreen,e.foregroundBlue)}else if(e.color!=0){if(e.color==240){if((e.standardAttribute&TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK)==TN3270E_FIELD_ATTRIBUTE_INTENSIFIED_DETECTABLE){return this.highProtected}else{return this.lowUnprotected}}return this.extendedColors[e.color-240]}else{var t=e.standardAttribute;if((t&TN3270E_FIELD_ATTRIBUTE_PROTECTED)!=0){switch(t&TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK){case TN3270E_FIELD_ATTRIBUTE_DISPLAY_NOT_DETECTABLE:case TN3270E_FIELD_ATTRIBUTE_DISPLAY_DETECTABLE:return this.lowProtected;case TN3270E_FIELD_ATTRIBUTE_INTENSIFIED_DETECTABLE:return this.highProtected;default:colorLogger.warn("Reached default case for standard color attribute. Attribute="+t)}}else{switch(t&TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK){case TN3270E_FIELD_ATTRIBUTE_DISPLAY_NOT_DETECTABLE:case TN3270E_FIELD_ATTRIBUTE_DISPLAY_DETECTABLE:return this.lowUnprotected;case TN3270E_FIELD_ATTRIBUTE_INTENSIFIED_DETECTABLE:return this.highUnprotected;default:colorLogger.warn("Reached default case for standard color attribute. Attribute="+t)}}}};Classic3270Renderer.prototype.set3270HotspotProperties=function(e,t){this.virtualScreen.hotspotPreferences.enable=t.enable;this.virtualScreen.hotspotPreferences.turnOnURL=t.turnOnURL;this.virtualScreen.hotspotDefinitions=e;if(this.virtualScreen.hotspotPreferences.enable){this.removeHotspots();this.virtualScreen.findHotspots()}else{this.removeHotspots()}this.virtualScreen.hotspotPreferences.show=t.show;this.fullPaint()};Classic3270Renderer.prototype.fillRenderingInfo=function(e,t,i,n,r,s,o){if(!r){t[n]=64;i[n]=0;return}this.virtualScreen.formatElement(r);if(r.displayChar==65533)r.displayChar=32;t[n]=r.displayChar;if(r.maskChar!=null){t[n]=this.unicodeConversionTable[r.maskChar]}i[n]=r.renderingAttributes};Classic3270Renderer.prototype.getColor=function(e,t){if(e==null){return this.foreground}else{var i=t!=null?t.fieldData:null;var n=e.characterAttributes;var r=i!=null?i.attributes:null;colorLogger.debug("Getting color on element "+e+" perCharAttrs="+n+" fieldAttrs="+r+" field="+t);if(e&&e.fieldData&&t==null){colorLogger.debug("Element has field vs fieldData inconsistency")}if(e.isHotspot&&this.virtualScreen.hotspotPreferences.show){var s=this.virtualScreen.rendererSettings.colorProperties.hotspotForegroundColor;if(s!==null){if(this.extendedColors.includes(s)){s=this.getExtendedColorsAsHotspot(s);colorLogger.debug("hotspotForegroundColor= "+s)}return s}}else{if(r!=null&&n!=null){var o=this.get3270Color(r);var l=this.get3270Color(n);if(n.color==0||n.standardAttribute==0&&o==noColor){colorLogger.debug("Color: both field & element attr exist, but defaulting to field color");return o}else{colorLogger.debug("Color: both field & element attr exist, but returning element color");return l}}else if(r!=null){return this.get3270Color(r)}else if(n!=null){return this.get3270Color(n)}else{if(e.isNoDisplay){return noColor}colorLogger.debug("No field or element attributes, setting color to low unprotected");return this.lowUnprotected}}}};Classic3270Renderer.prototype.renderGraphics=function(e,t,i,n,r,s,o){var l;var a=this.characterWidth;var c=this.characterDescent;var u=this.baselineOffset;var h=s;var d=s+this.characterHeight;for(l=0;l<n;l++){var p=t[i+l];renderLogger.debug("Draw graphics c="+p+", textX="+r+", baselineY="+s+", reverse="+o);switch(p){case 61569:drawLine(e,r,h,r,d);drawLine(e,r+a-1,h,r+a-1,d);break;case 61570:drawLine(e,r,h,r+a-1,h);drawLine(e,r,d,r+a-1,d);break;case 61571:drawLine(e,r,h,r,h+this.characterAscent);break;case 61572:drawLine(e,r+a/2,h,r+a/2,h+this.characterAscent);break;default:drawChars(e,t,i+l,1,r,s);break}if(p>=65&&p<=90){var f=s+1;drawLine(e,r,d,r+a,d)}r+=a}};Classic3270Renderer.prototype.fullPaint=function(){this.isRenderComplete=false;this.hasBlinkingText=false;let e=this.virtualScreen.canvas;var t=e.width;var i=e.height;if(this.virtualScreen.indfile.bXferActive&&this.virtualScreen.indfile.IndfTotal)return;var s=e.getContext("2d");this.upperCtx=this.virtualScreen.selectionCanvas.getContext("2d");if(this.previousPixelWidth==-1||this.previousPixelWidth!=t||this.previousPixelHeight!=i){this.setupFontMetrics(e,s);this.setupFontMetrics(this.virtualScreen.selectionCanvas,this.upperCtx);this.previousPixelWidth=t;this.previousPixelHeight=i}if(!this.virtualScreen.inComposition){if(this.isTransparent){s.clearRect(0,0,this.activeWidth,this.activeHeight);setFillColor(s,this.background,this.isTransparent)}else{setFillColor(s,this.background)}s.fillRect(0,0,this.activeWidth,this.activeHeight)}this.updateParentStyle(this.virtualScreen,s);if(this.fontTooSmall){return}s.font=this.font;s.textBaseline="top";setFillColor(s,this.foreground);var o=this.virtualScreen;var n=o.width;var r=new Array(n);var l=new Array(n);var a=new Array(n);var k=o.ensureFieldInfo();var c=computeDBCSInfo(o);var u=o.charsetInfo.isDBCS;var h=u?o.charsetInfo.dbcsMapper:o.charsetInfo.sbcsMapper;var d=o.charsetInfo.fontName;var p=o.charsetInfo.dbcsEuroPosition;if(!p){p=null}var f=0;var E=0;var T;var _;let g=new Array(n);renderLogger.debug("Painting for screen size="+o.size);for(T=0;T<o.height;T++){if(this.virtualScreen.isPrinter==true||this.virtualScreen.inComposition)break;renderLogger.debug("Rendering line="+T+", offset="+E);this.clearLineData(r,a,l,n);for(_=0;_<n;_++){var S=o.screenElements[E+_];var C=S!=null?S.field:null;l[_]=noColor;var B=o.previewCharCode[E+_];this.fillRenderingInfo(T,r,a,_,S,C,B);if(S!=null&&S.fieldData===null){l[_]=this.getColor(S,C);if(!l[_]){colorLogger.warn("Null color at ("+_+","+T+")")}}else{colorLogger.debug("Color not set for null element at ("+_+","+T+")")}var R=C!=null?C.fieldData:null;var m=R!=null?R.attributes:null;g[_]=m!==null?m.outlining:0}var N=0;_=0;while(_<n){var A=this.getRunLength(l,a,c,n*T,_,n);renderLogger.debug("Run starts at ("+_+","+T+"). Length="+A+", txtRndrAtr=0x"+hex(a[_])+", color=0x"+hex(l[_]));var y=String.fromCharCode.apply(null,r);renderLogger.debug('Line text="'+y+'"');var I=n*T+_;const S=o.screenElements[I];if(S&&S.isHotspot&&o.hotspotPreferences.show){var O=this.virtualScreen.rendererSettings.colorProperties.hotspotBackgroundColor;if(O){setFillColor(s,O);s.fillRect(N,f,A*this.characterWidth,this.characterHeight);if(this.isTransparent){setFillColor(s,this.background,this.isTransparent)}else{setFillColor(s,this.background)}}}if(g[_]!==0){let e=this.getExtendedColorProperties();setStrokeColor(s,e.defaultExtendedBlue);let t=S!=null?S.field:null;let i=t!=null?t.fieldData:null;let n=o.screenElements.length;let r=i!=null?i.attributes:null;if(r&&r.outlining!==0){let e={fieldData:i,screenPos:I,screenElementLen:n,attribute:r,textX:N,baseline:f,runLength:A};this.drawFieldOutlining(s,e)}}if(l[_]!=noColor){var I=n*T+_;setFillColor(s,l[_]);setStrokeColor(s,l[_]);s.lineWidth=.8;var b=a[_];const F=(b&TEXT_RENDER_REVERSE)!=0;if(F){renderLogger.debug("Setting reverse video at ("+_+","+T+")");s.fillRect(N,f,A*this.characterWidth,this.characterHeight);setFillColor(s,0)}if((b&TEXT_RENDER_GRAPHIC)!=0){this.renderGraphics(s,r,_,A,N,f,F)}else if(c[I]==DBCS_FIRST_HALF){var P=o.screenElements[I];var D=o.screenElements[I+1];var L=o.previewCharCode[I];if(L==null){L=P.isModified?P.inputEbcdicChar:P.ebcdicChar}var v=o.previewCharCode[I+1];if(v==null){v=D.isModified?D.inputEbcdicChar:D.ebcdicChar}var M;if(L==null||v==null){M=32}else{if(p!=null&&p[0]==L&&p[1]==v){M=8364}else{if(c[I+1]!=DBCS_SECOND_HALF){M=32}else if(h[L]==null||h[L][v]==null){M=32}else{M=h[L][v]}if(M==65533){M=32}}}renderLogger.debug("Should dbcs render b1=0x"+hex(L)+" b2=0x"+hex(v)+" unicode=0x"+hex(M));var U=[M];let e=this.font;s.font=e.substring(0,e.indexOf("px ")+3)+d;if(M>=65536){y=String.fromCodePoint(M);s.fillText(y,N,f)}else{drawChars(s,U,0,1,N,f)}s.font=this.font}else if(c[I]==DBCS_SECOND_HALF){}else{renderLogger.debug("Drawing chars at ("+_+","+T+")");if((b&TEXT_RENDER_BLINK)!=0){this.hasBlinkingText=true;if(this.textBlinkVisible){drawChars(s,r,_,A,N,f)}}else{drawChars(s,r,_,A,N,f)}}if((b&TEXT_RENDER_UNDERSCORE)!=0){renderLogger.debug("Adding underscore at ("+_+","+T+")");var w=f+(this.characterHeight-.5);drawLine(s,N,w,N+A*this.characterWidth,w)}if((b&TEXT_RENDER_TOPSCORE)!=0){renderLogger.debug("Adding top score at ("+_+","+T+")");var w=f;drawLine(s,N,w,N+A*this.characterWidth,w)}if(F){setFillColor(s,l[_])}}else{var x=this.firstVisibleCharacter(r,_,A);if(x!=-1){renderLogger.debug("Skipping invisible or noColor chars at ("+_+","+T+")")}}_+=A;N+=A*this.characterWidth}E+=o.width;f+=this.characterHeight}this.paintUpperCanvas();doGOCADrawing(s,o.gocaElements,this.activeWidth,this.activeHeight,o.gocaWidth,o.gocaHeight);this.onFullPaint();this.isRenderComplete=true;if(o.isWaitingRendererAfterScreenLoaded===true){o.handlePendingScriptExecution("screenLoaded");o.isWaitingRendererAfterScreenLoaded=false}};Classic3270Renderer.prototype.drawFieldOutlining=function(t,e){let i=e.attribute.outlining;let n=e.fieldData.position;let r=e.fieldData.length;let s=(n+r)%e.screenElementLen;let o=e.textX;let l=e.baseline;let a=e.runLength;let c=e.screenPos;let u=o+this.characterWidth/2;if(i&TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_RIGHT){if(r===1){a=1;drawLine(t,u+a*this.characterWidth,l,u+a*this.characterWidth,l+this.characterHeight)}if(s===c+a){drawLine(t,u+a*this.characterWidth,l,u+a*this.characterWidth,l+this.characterHeight)}}if(i&TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_LEFT){if(r===1){a=1}if(c===n){drawLine(t,u,l,u,l+this.characterHeight)}}if(i&TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_BOTTOM){let e=l+this.characterHeight;drawLine(t,u,e,u+a*this.characterWidth,e)}if(i&TN3270E_EXTENDED_ATTRIBUTES_OUTLINING_TOP){drawLine(t,u,l,u+a*this.characterWidth,l)}};Classic3270Renderer.prototype.removeHotspots=function(){var e=this.virtualScreen;var t=e.hotspotsDiv.childNodes;if(t.length>1){for(var i=0;i<t.length;i++){if(t[i].id.indexOf(HOTSPOTS_BUTTON_ID_SUFFIX)!==-1){e.hotspotsDiv.removeChild(t[i]);i=0}}}for(var i=0;i<e.hotspots.length;i++){var n=e.hotspots[i].screenPosition;var r=e.hotspots[i].length;var s=n+r-1;for(var o=n;o<=s;o++){var l=e.screenElements[o];if(l!==null&&l!==undefined){l.isHotspot=false}}}e.hotspots=new Array};Classic3270Renderer.prototype.markHotspotElements=function(){var t=this.virtualScreen;if(t.hotspotPreferences.enable){for(var e=0;e<t.hotspots.length;e++){var i=t.hotspots[e].screenPosition;var n=t.hotspots[e].length;var r=i+n-1;var s=t.hotspots[e].hotspotText;for(var o=i;o<=r;o++){var l=t.screenElements[o];if(l!==undefined&&l!==null)l.isHotspot=true}var a=t.getRowColumnFromPosition(i);var c=t.getRowColumnFromPosition(r);var u=document.createElement("button");u.id=t.parentDiv.id+"_"+HOTSPOTS_BUTTON_ID_SUFFIX;u.style.position="absolute";u.style.left=a["column"]*(this.characterWidth/this.scaleFactorX)+"px";u.style.zIndex=3;u.style.top=c["row"]*(this.characterHeight/this.scaleFactorY)+"px";u.style.width=(this.characterWidth/this.scaleFactorX*s.length).toString()+"px";u.style.height=(this.characterHeight/this.scaleFactorY).toString()+"px";u.style.cursor="pointer";u.value=s;if(t.hotspots[e].hotspotType){u.hotspotType=t.hotspots[e].hotspotType}u.addEventListener("click",function(e){e.stopPropagation();t.handleHotspotClick(e,t.hotspotDefinitions)});t.hotspotsDiv.appendChild(u)}tecoreLogger.info("Hotspot buttons created")}};"use strict";makeSubclass(Classic5250Renderer,ClassicBlockRenderer,[Classic5250Renderer.fillRenderingInfo,Classic5250Renderer.fullPaint]);function Classic5250Renderer(e,t,i){this.canvas=e;this.virtualScreen=t;this.previousPixelWidth=-1;this.previousPixelHeight=-1;this.currentPixelWidth=-1;this.currentPixelHeight=-1;this.font=null;this.fontName=t.defaultCharsetInfo&&t.defaultCharsetInfo.fontName?t.defaultCharsetInfo.fontName:"Lucida Console, Monaco, monospace";tecoreLogger.debug("virtualScreen = "+t);tecoreLogger.debug("cInfo="+t.charsetInfo);this.fontTooSmall=true;this.scaleFactorX=1;this.scaleFactorY=1;this.activeHeight=-1;this.activeWidth=-1;this.characterWidth=1;this.characterHeight=1;this.characterAscent=1;this.characterLeading=0;this.baselineOffset=0;this.unicodeConversionTable=i;this.cursorGuideStyle=0;this.cursorStyle=CURSOR_BOX_BLINK;this.cursorBlinkRate=500;this.cursorBlinkVisible=true;this.hasFocus=t.anyElementHasFocus();this.cursorGuideColor=DEFAULT_CURSOR_GUIDE_COLOR;this.oiaColor=DEFAULT_OIA_COLOR;this.oiaErrorColor=DEFAULT_OIA_ERROR_COLOR;this.oiaInsertColor=DEFAULT_OIA_INSERT_COLOR;this.colorRed=Classic5250Renderer.colorRed;this.colorTurquoise=Classic5250Renderer.colorTurquoise;this.colorYellow=Classic5250Renderer.colorYellow;this.colorPink=Classic5250Renderer.colorPink;this.colorBlue=Classic5250Renderer.colorBlue;this.colorWhite=Classic5250Renderer.colorWhite;this.colorBlack=Classic5250Renderer.colorBlack;this.colorGreen=Classic5250Renderer.colorGreen;this.foreground=Classic5250Renderer.colorGreen;this.background=Classic5250Renderer.colorBlack;this.padding={top:0,left:0};this.scaleMethod=1;this.cursorBlinkTimeout=null;this.textBlinkTimeout=null;this.textBlinkRate=500;this.hasBlinkingText=false;if(this.textBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startTextBlinking()}if((this.cursorStyle==CURSOR_BOX_BLINK||this.cursorStyle==CURSOR_UNDERLINE_BLINK)&&this.cursorBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startCursorBlinking()}this.attributeByte=0;this.showSISO=false}Classic5250Renderer.colorRed=16711680;Classic5250Renderer.colorTurquoise=61680;Classic5250Renderer.colorYellow=15790080;Classic5250Renderer.colorPink=15738980;Classic5250Renderer.colorBlue=1974e3;Classic5250Renderer.colorWhite=16777215;Classic5250Renderer.colorBlack=0;Classic5250Renderer.colorGreen=65280;Classic5250Renderer.columnSeperatorChar=124;Classic5250Renderer.defaultForeground=Classic5250Renderer.colorGreen;Classic5250Renderer.defaultBackground=Classic5250Renderer.colorBlack;Classic5250Renderer.prototype.get5250Color=function(e){var t=this.foreground;switch(e){case 34:case 35:case 38:t=this.colorWhite;break;case 32:case 33:case 36:case 37:t=this.foreground;break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:t=this.colorRed;break;case 48:case 49:case 52:case 53:t=this.colorTurquoise;break;case 50:case 51:case 54:t=this.colorYellow;break;case 56:case 57:case 60:case 61:t=this.colorPink;break;case 58:case 59:case 62:t=this.colorBlue;break;case 39:case 47:case 55:case 63:t=noColor}return t};Classic5250Renderer.prototype.getColor=function(e,t){if(e==null){return this.foreground}else{var i=t!=null?t.fieldData:null;var n=e.characterAttributes;var r=i!=null?i.attributes:null;colorLogger.debug(" on element "+e+" perCharAttrs="+n+" fieldAttrs="+r+" field="+t);if(e&&e.fieldData&&t==null){colorLogger.debug("uh - oh, field calc screw up")}if(e.isHotspot&&this.virtualScreen.hotspotPreferences.show){var s=this.virtualScreen.rendererSettings.colorProperties.hotspotForegroundColor;if(s!==null){return s}}if(r!=null&&n!=null){var o=this.get5250Color(r);var l=this.get5250Color(n);colorLogger.debug("double define color"+r+" charAttr="+n+" fc=0x"+hex(o)+" cc=0x"+hex(l));if(n.color==0||n.standardAttribute==0&&o==noColor){colorLogger.debug("defaulting to field color "+o);return o}else{return l}}else if(r!=null){return this.get5250Color(r)}else if(n!=null){return this.get5250Color(n)}else{colorLogger.debug("else clause lowUnprotected = "+hex(this.foreground));return this.foreground}}};Classic5250Renderer.prototype.markHotspotElements=function(){var t=this.virtualScreen;if(t.hotspotPreferences.enable){for(var e=0;e<t.hotspots.length;e++){var i=t.hotspots[e].screenPosition;var n=t.hotspots[e].length;var r=i+n-1;var s=t.hotspots[e].hotspotText;for(var o=i;o<=r;o++){var l=t.screenElements[o];if(l!==undefined){l.isHotspot=true}}var a=t.getRowColumnFromPosition(i);var c=t.getRowColumnFromPosition(r);var u=document.createElement("button");u.id=t.parentDiv.id+"_"+HOTSPOTS_BUTTON_ID_SUFFIX;u.style.position="absolute";u.style.left=a["column"]*(this.characterWidth/this.scaleFactorX)+"px";u.style.zIndex=3;u.style.top=c["row"]*(this.characterHeight/this.scaleFactorY)+"px";u.style.width=(this.characterWidth/this.scaleFactorX*s.length).toString()+"px";u.style.cursor="pointer";u.style.height=(this.characterHeight/this.scaleFactorY).toString()+"px";u.value=s;if(t.hotspots[e].hotspotType){u.hotspotType=t.hotspots[e].hotspotType}u.addEventListener("click",function(e){e.stopPropagation();t.handleHotspotClick(e,t.hotspotDefinitions)});t.hotspotsDiv.appendChild(u)}tecoreLogger.info("Hotspot buttons created")}};Classic5250Renderer.prototype.removeHotspots=function(){var e=this.virtualScreen;var t=e.hotspotsDiv.childNodes;if(t.length>1){for(var i=0;i<t.length;i++){if(t[i].id.indexOf(HOTSPOTS_BUTTON_ID_SUFFIX)!==-1){e.hotspotsDiv.removeChild(t[i]);i=0}}}for(var i=0;i<e.hotspots.length;i++){var n=e.hotspots[i].screenPosition;var r=e.hotspots[i].length;var s=n+r-1;for(var o=n;o<=s;o++){var l=e.screenElements[o];if(l!==null&&l!==undefined){l.isHotspot=false}}}e.hotspots=new Array};Classic5250Renderer.prototype.set5250HotspotProperties=function(e,t){var i=false;this.virtualScreen.hotspotPreferences.turnOnURL=t.turnOnURL;if(this.virtualScreen.hotspotDefinitions.length===e.length){this.virtualScreen.hotspotDefinitions=e;if(this.virtualScreen.hotspotPreferences.enable){this.removeHotspots();this.virtualScreen.findHotspots()}else{this.removeHotspots()}for(var n=0;n<this.virtualScreen.hotspotDefinitions.length;n++){for(var r=0;r<e.length;r++){if(this.virtualScreen.hotspotDefinitions[n].textToMatch===e[r].textToMatch){if(this.virtualScreen.hotspotDefinitions[n].caseSensitive!==e[r].caseSensitive||this.virtualScreen.hotspotDefinitions[n].terminateWithSpace!==e[r].terminateWithSpace||this.virtualScreen.hotspotDefinitions[n].actionType!==e[r].actionType||this.virtualScreen.hotspotDefinitions[n].actionValue!==e[r].actionValue){i=true;break}}}if(i){break}}}if(this.virtualScreen.hotspotDefinitions.length!==e.length||this.virtualScreen.hotspotPreferences.enable!==t.enable||i){this.virtualScreen.hotspotPreferences.enable=t.enable;this.virtualScreen.hotspotDefinitions=e;if(this.virtualScreen.hotspotPreferences.enable){this.removeHotspots();this.virtualScreen.findHotspots()}else{this.removeHotspots()}}this.virtualScreen.hotspotPreferences.show=t.show;this.fullPaint()};Classic5250Renderer.prototype.setExtendedColorProperties=function(e){if(e.defaultExtendedBlue!==null){this.colorBlue=e.defaultExtendedBlue}if(e.defaultExtendedRed!==null){this.colorRed=e.defaultExtendedRed}if(e.defaultExtendedPink!==null){this.colorPink=e.defaultExtendedPink}if(e.defaultExtendedGreen!==null){this.foreground=e.defaultExtendedGreen}if(e.defaultExtendedTurquiose!==null){this.colorTurquoise=e.defaultExtendedTurquiose}if(e.defaultExtendedYellow!==null){this.colorYellow=e.defaultExtendedYellow}if(e.defaultExtendedWhite!==null){this.colorWhite=e.defaultExtendedWhite}};Classic5250Renderer.prototype.setBasicColorProperties=function(e){if(e.defaultBackground!=null){this.background=e.defaultBackground}if(e.cursorGuideColor!==null){this.cursorGuideColor=e.cursorGuideColor}if(e.oiaColor!=null){this.oiaColor=e.oiaColor}if(e.oiaErrorColor){this.oiaErrorColor=e.oiaErrorColor}if(e.oiaInsertColor){this.oiaInsertColor=e.oiaInsertColor}};Classic5250Renderer.prototype.getBasicColorProperties=function(){var e={defaultBackground:this.background,defaultForeground:this.foreground,red:this.colorRed,torquoise:this.colorTurquoise,yellow:this.colorYellow,pink:this.colorPink,blue:this.colorBlue,white:this.colorWhite,black:this.colorBlack,green:this.colorGreen,cursorGuideColor:this.cursorGuideColor,oiaColor:this.oiaColor,oiaErrorColor:this.oiaErrorColor,oiaInsertColor:this.oiaInsertColor};return e};var blankElement=new ScreenElement(0,64,null);Classic5250Renderer.prototype.fillRenderingInfo=function(e,t,i,n,r,s,o,l,a){if(o==null){o=blankElement;this.displayField=null}const c=s*e+r;if(!a){a=o.isModified?o.inputEbcdicChar:o.ebcdicChar}var u=false;if(a<32){if(a===TN5250_FORMAT_CONTROL_ORDERS_DUP)a=92;else if(a===TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK)a=94;else if(this.showSISO&&(a===DBCS_SHIFT_OUT||a===DBCS_SHIFT_IN)){}else a=64}else if(a<64){this.attributeByte=a;u=true}if(l!=null){renderLogger.debug("taking attributes from "+(l?"null":l.toString()));if(l.attribute!=TN5250_ATTRIBUTE_NORMAL){this.attributeByte=l.attribute}}var h=0;var d=false;var p=false;var f=false;var E=this.foreground;if(this.attributeByte==TN5250_ATTRIBUTE_NORMAL){}else if((this.attributeByte&TN5250_ATTRIBUTE_NO_DISPLAY)==TN5250_ATTRIBUTE_NO_DISPLAY){a=64}else if(f){}else{switch(this.attributeByte){case 33:E=this.foreground;h|=TEXT_RENDER_REVERSE;break;case 34:E=this.colorWhite;break;case 35:E=this.colorWhite;h|=TEXT_RENDER_REVERSE;break;case 36:E=this.foreground;h|=TEXT_RENDER_UNDERSCORE;break;case 37:E=this.foreground;h|=TEXT_RENDER_UNDERSCORE|TEXT_RENDER_REVERSE;break;case 38:E=this.colorWhite;h|=TEXT_RENDER_UNDERSCORE;break;case 40:E=this.colorRed;break;case 41:E=this.colorRed;h|=TEXT_RENDER_REVERSE;break;case 42:E=this.colorRed;h|=TEXT_RENDER_BLINK;break;case 43:E=this.colorRed;h|=TEXT_RENDER_REVERSE|TEXT_RENDER_BLINK;break;case 44:E=this.colorRed;h|=TEXT_RENDER_UNDERSCORE;break;case 45:E=this.colorRed;h|=TEXT_RENDER_REVERSE|TEXT_RENDER_UNDERSCORE;break;case 46:E=this.colorRed;h|=TEXT_RENDER_BLINK|TEXT_RENDER_UNDERSCORE;break;case 48:E=this.colorTurquoise;d=true;break;case 49:E=this.colorTurquoise;d=true;h|=TEXT_RENDER_REVERSE;break;case 50:E=this.colorYellow;d=true;break;case 51:E=this.colorYellow;d=true;h|=TEXT_RENDER_REVERSE;break;case 52:E=this.colorTurquoise;h|=TEXT_RENDER_UNDERSCORE;break;case 53:E=this.colorTurquoise;h|=TEXT_RENDER_REVERSE|TEXT_RENDER_UNDERSCORE;break;case 54:E=this.colorYellow;h|=TEXT_RENDER_UNDERSCORE;break;case 56:E=this.colorPink;break;case 57:E=this.colorPink;h|=TEXT_RENDER_REVERSE;break;case 58:E=this.colorBlue;break;case 59:E=this.colorBlue;h|=TEXT_RENDER_REVERSE;break;case 60:E=this.colorPink;h|=TEXT_RENDER_UNDERSCORE;break;case 61:E=this.colorPink;h|=TEXT_RENDER_REVERSE|TEXT_RENDER_UNDERSCORE;break;case 62:E=this.colorBlue;h|=TEXT_RENDER_UNDERSCORE;break}}if(d){h|=TEXT_RENDER_COLUMN_SEPARATOR}if(a>=32&&a<64){t[r]=32}else{if(a===this.sbcsEuroPosition){t[r]=8364}else if(a===DBCS_SHIFT_OUT&&this.showSISO){t[r]=123}else if(a===DBCS_SHIFT_IN&&this.showSISO){t[r]=125}else{t[r]=this.unicodeConversionTable[a];if(t[r]==65533){t[r]=32}if(a!=64&&o.maskChar){t[r]=this.unicodeConversionTable[o.maskChar]}}}const T=l!=null&&l.position==c||u;if(T){if(l!=null&&l.position==c){this.displayField=l}else{this.displayField=new FieldData5250(c,{ffw:null,fcws:null,attribute:a,length:0});this.displayField.isAdhoc=true}o.isDisplayFieldFA=true;this.virtualScreen.displayFields[c]=this.displayField;this.displayField.renderingAttributes=h}else{i[r]=h}if(o.isHotspot&&this.virtualScreen.hotspotPreferences.show&&!o.isDisplayFieldFA){const g=[this.colorBlue,this.colorRed,this.colorPink,this.colorGreen,this.colorTurquoise,this.colorYellow,this.colorWhite];var _=this.virtualScreen.rendererSettings.colorProperties.hotspotForegroundColor;if(_!==null){if(g.includes(_)){_=this.getExtendedColorsAsHotspot(_);colorLogger.debug("hotspotForegroundColor= "+_)}E=_}}if(o.isDisplayFieldFA){o.isNoDisplay=true}if(this.displayField&&!o.isDisplayFieldFA){if(this.displayField.isAdhoc){this.displayField.length++}this.displayField.foreground=E}if(!o.isNoDisplay){o.displayChar=t[r];n[r]=E}};Classic5250Renderer.prototype.fullPaint=function(){this.isRenderComplete=false;this.hasBlinkingText=false;this.handleResize();var e=this.canvas.width;var t=this.canvas.height;var i=this.canvas.getContext("2d");this.upperCtx=this.virtualScreen.selectionCanvas.getContext("2d");if(this.previousPixelWidth==-1||this.previousPixelWidth!=e||this.previousPixelHeight!=t){this.setupFontMetrics(this.canvas,i);this.setupFontMetrics(this.virtualScreen.selectionCanvas,this.upperCtx);this.previousPixelWidth=e;this.previousPixelHeight=t}if(!this.virtualScreen.inComposition){setFillColor(i,INACTIVE_BACKGROUND);i.fillRect(0,0,e,t);if(this.isTransparent){i.clearRect(0,0,this.activeWidth,this.activeHeight);setFillColor(i,this.background,this.isTransparent)}else{setFillColor(i,this.background)}i.fillRect(0,0,this.activeWidth,this.activeHeight)}this.updateParentStyle(this.virtualScreen,i);if(this.fontTooSmall){return}i.font=this.font;i.textBaseline="top";setFillColor(i,this.foreground);var n=this.virtualScreen;var r=n.width;var o=new Array(r);var l=new Array(r);var a=new Array(r);var B=n.ensureFieldInfo();for(var c=0;c<n.width;c++){for(var u=0;u<n.height;u++){var h=n.getScreenElement(u,c);if(h&&h.fieldData){}}}var d=new Uint8Array(n.width*n.height);var p=n.charsetInfo.isDBCS;d=computeDBCSInfo(n);var f=p?n.charsetInfo.dbcsMapper:n.charsetInfo.sbcsMapper;var E=n.charsetInfo.fontName;var T=n.charsetInfo.dbcsEuroPosition;if(!T){T=null}hexDump(d,renderLogger,0,10*132);var _=0;var g=0;var U=8;var x=9;var K=0;var V=33;var c;var u;this.attributeByte=0;this.displayField=null;this.virtualScreen.displayFields={};for(c=0;c<n.height;c++){if(this.virtualScreen.inComposition)break;renderLogger.debug("startLine, baseline = "+_+" screenOffset="+g+" size="+n.size);this.clearLineData(o,a,l,r);for(u=0;u<r;u++){var h=n.screenElements[g+u];var S=h!=null?h.fieldData:null;l[u]=noColor;var C=n.previewCharCode[g+u];this.fillRenderingInfo(c,o,a,l,u,n.width,h,S,C)}var R=0;u=0;while(u<r){var m=this.getRunLength(l,a,d,r*c,u,r);renderLogger.debug("draw loop i="+c+" j="+u+" color[j]=0x"+hex(l[u])+" txtRndr=0x"+hex(a[u])+" runLength="+m);var N=r*c+u;if(d[N]==DBCS_FIRST_HALF)m++;if(n.screenElements[N]&&n.screenElements[N].isHotspot&&n.hotspotPreferences.show){var A=this.virtualScreen.rendererSettings.colorProperties.hotspotBackgroundColor;if(A){setFillColor(i,A);i.fillRect(R,_,m*this.characterWidth,this.characterHeight);if(this.isTransparent){setFillColor(i,this.background,this.isTransparent)}else{setFillColor(i,this.background)}}}if(l[u]!=noColor){var y=a[u];setFillColor(i,l[u]);setStrokeColor(i,l[u]);i.lineWidth=.8;renderLogger.debug("about to drawChars, i="+c+",j="+u+", runLength="+m+" textX="+R+", color=0x"+hex(l[u]));var I=(y&TEXT_RENDER_REVERSE)!=0;if(I){renderLogger.debug("Setting reverse video at ("+u+","+c+")");i.fillRect(R,_,m*this.characterWidth+1,this.characterHeight);if(this.isTransparent){setFillColor(i,this.background,this.isTransparent)}else{setFillColor(i,this.background)}}if((y&TEXT_RENDER_GRAPHIC)!=0){}else if(d[N]==DBCS_FIRST_HALF){var O=n.screenElements[N];var b=n.screenElements[N+1];var P=n.previewCharCode[N];if(P==null){if(b)P=O.isModified?O.inputEbcdicChar:O.ebcdicChar}var D=n.previewCharCode[N+1];if(D==null){if(b)D=b.isModified?b.inputEbcdicChar:b.ebcdicChar}renderLogger.debug("Should dbcs render b1=0x"+hex(P)+" b2=0x"+hex(D));var L;if(P==null||D==null){L=32}else{if(T!=null&&T[0]==P&&T[1]==D){L=8364}else{if(d[N+1]!=DBCS_SECOND_HALF){L=32}else if(f[P]==null||f[P][D]==null){L=32}else{L=f[P][D]}if(L==65533){L=32}}}renderLogger.debug("Should dbcs render b1=0x"+hex(P)+" b2=0x"+hex(D)+" unicode=0x"+hex(L));var v=[L];let e=this.font;i.font=e.substring(0,e.indexOf("px ")+3)+E;if(L>=65536){s=String.fromCodePoint(L);i.fillText(s,R,_)}else{drawChars(i,v,0,1,R,_)}i.font=this.font}else if(d[N]==DBCS_SECOND_HALF){}else{if((y&TEXT_RENDER_BLINK)!=0){this.hasBlinkingText=true;if(this.textBlinkVisible){drawChars(i,o,u,m,R,_)}}else{drawChars(i,o,u,m,R,_)}}if((y&TEXT_RENDER_UNDERSCORE)!=0){var M=_+(this.characterHeight-1);drawLine(i,R,M,R+m*this.characterWidth,M)}if((y&TEXT_RENDER_COLUMN_SEPARATOR)!=0){var w=R;for(var F=0;F<m+1;F++){var M=_+(this.characterHeight-1);i.fillRect(w,M,1,.2*this.characterHeight);w+=this.characterWidth}}if(I){setFillColor(i,l[u])}}else{var k=this.firstVisibleCharacter(o,u,m);if(k!=-1){renderLogger.debug("no color for drawChars i="+c+",j="+u+", runLength="+m+" textX="+R+" lineBuffer["+k+"]=0x"+hex(o[k]))}}u+=m;R+=m*this.characterWidth}g+=n.width;_+=this.characterHeight}this.paintUpperCanvas();this.onFullPaint();this.isRenderComplete=true;if(n.isWaitingRendererAfterScreenLoaded===true){n.handlePendingScriptExecution("screenLoaded");n.isWaitingRendererAfterScreenLoaded=false}};makeSubclass(ClassicVTRenderer,ClassicRenderer,[ClassicVTRenderer.fullPaint]);function ClassicVTRenderer(e,t,i){this.virtualScreen=e;e.renderer=this;this.previousPixelWidth=-1;this.previousPixelHeight=-1;this.currentPixelWidth=-1;this.currentPixelHeight=-1;this.font=null;this.fontSize=ClassicRenderer.fontSize;this.fontName=e.defaultCharsetInfo&&e.defaultCharsetInfo.fontName?e.defaultCharsetInfo.fontName:"Lucida Console, Monaco, monospace";tecoreLogger.debug("virtualScreen = "+e);tecoreLogger.debug("cInfo="+e.charsetInfo);this.fontTooSmall=true;this.scaleFactorX=1;this.scaleFactorY=1;this.activeHeight=-1;this.activeWidth=-1;this.characterWidth=1;this.characterHeight=1;this.characterAscent=1;this.characterLeading=0;this.baselineOffset=0;this.unicodeConversionTable=t;this.cursorGuideStyle=0;this.cursorStyle=CURSOR_BOX_BLINK;this.cursorStyleBackup=null;this.cursorBlinkRate=500;this.textBlinkRate=500;this.hasFocus=e.anyElementHasFocus();this.scaleMethod=0;this.padding={top:0,left:0};this.reverseOverrideBackground=16711680;this.reverseOverrideForeground=65280;this.backgroundColor=DEFAULT_BACKGROUND;this.foregroundColor=DEFAULT_FOREGROUND;this.boldColor=DEFAULT_BOLD_FOREGROUND;this.boldBackgroundColor=DEFAULT_BACKGROUND;this.blinkingColor=DEFAULT_FOREGROUND;this.blinkingBackgroundColor=DEFAULT_BACKGROUND;this.boldBlinkingColor=DEFAULT_FOREGROUND;this.boldBlinkingBackgroundColor=DEFAULT_BACKGROUND;this.reverseOverrideBoldBackground=DEFAULT_BOLD_FOREGROUND;this.reverseOverrideBoldForeground=DEFAULT_BACKGROUND;this.reverseOverrideBlinkingBackground=DEFAULT_BOLD_FOREGROUND;this.reverseOverrideBlinkingForeground=DEFAULT_BACKGROUND;this.reverseOverrideBoldBlinkingBackground=DEFAULT_BOLD_FOREGROUND;this.reverseOverrideBoldBlinkingForeground=DEFAULT_BACKGROUND;this.standardColors=[0,12255232,47872,12303104,187,12255419,48059,12303291];this.tableColors=[this.standardColors[0],this.standardColors[1],this.standardColors[2],this.standardColors[3],this.standardColors[4],this.standardColors[5],this.standardColors[6],this.standardColors[7],8421504,33023,65408,8454143,16744576,16744703,16777088,12632256];this.standardBoldColors=[5592405,16733525,5635925,16777045,5592575,16733695,5636095,16777215];this.tableBoldColors=[this.standardBoldColors[0],this.standardBoldColors[1],this.standardBoldColors[2],this.standardBoldColors[3],this.standardBoldColors[4],this.standardBoldColors[5],this.standardBoldColors[6],this.standardBoldColors[7],8421504,33023,65408,8454143,16744576,16744703,16777088,16777215];this.cursorGuideColor=DEFAULT_CURSOR_GUIDE_COLOR;this.oiaColor=DEFAULT_OIA_COLOR;this.overrideReverseColors=false;this.hasBlinkingText=true;this.cursorBlinkTimeout=null;this.textBlinkTimeout=null;if((this.cursorStyle==CURSOR_BOX_BLINK||this.cursorStyle==CURSOR_UNDERLINE_BLINK)&&this.cursorBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startCursorBlinking()}if(this.textBlinkRate>=BLINK_RATE_MINIMUM&&BLINK_RATE_MINIMUM!=0){this.startTextBlinking()}this.fullPaint()}ClassicVTRenderer.mappingFailureChar=32;ClassicVTRenderer.researchFailureChar=32;ClassicVTRenderer.prototype.markRowsForPaint=function(e,t,i,n){var r=this.virtualScreen;var s=false;renderLogger.debug("Determining which rows to redraw. Include neighbors="+n);var o=r.viewportTop;if(o==null){renderLogger.debug("Viewport top is null, not redrawing any rows");t.fill(true)}else{for(var l=0;l<r.height;l++){if(o){if(o.hasBlink){s=true}if(i[l]!=o.id||o.updated===true){t[l]=true;if(n){if(l>0){t[l-1]=true}if(l<r.height-1){t[l+1]=true}}}o.updated=false;i[l]=o.id;o=o.next}else{t.fill(true,l);break}}var o=r.viewportTop;renderLogger.debug("Row redraw calculation result="+JSON.stringify(t))}if(this.hasBlinkingText!=s){this.textBlinkVisible=true;this.hasBlinkingText=s;t.fill(true)}};ClassicVTRenderer.prototype.drawCursorGuide=function(e){var t=this.virtualScreen;var i=this.characterHeight;var n=this.characterWidth;var r=e.lineWidth;if(t.width==0){renderLogger.warn("Cannot show cursor guide when screen width=0");return}var s=t.getCursorLineNumber()+1;var o=t.positionInLine;setStrokeColor(e,this.cursorGuideColor);if(this.cursorGuideStyle&CURSOR_GUIDE_HORIZONTAL){e.lineWidth=r*this.scaleFactorY;var l;if(ClassicRenderer.cursorGuideToEnd===true){l=this.activeWidth}else{l=t.width*n}drawLine(e,0,s*i,l,s*i)}if(this.cursorGuideStyle&CURSOR_GUIDE_VERTICAL){var a;e.lineWidth=r*this.scaleFactorX;if(ClassicRenderer.cursorGuideToEnd===true){if(t.oiaEnabled==1){l=this.activeHeight+i*OIA_BAR_OFFSET}else{l=this.activeHeight}}else{l=t.height*i}drawLine(e,o*n,0,o*n,l)}e.lineWidth=r};ClassicVTRenderer.prototype.hideCursor=function(){if(this.cursorStyleBackup==undefined||this.cursorStyleBackup==null){this.cursorStyleBackup=this.cursorStyle}this.cursorStyle=0};ClassicVTRenderer.prototype.unhideCursor=function(){if(this.cursorStyleBackup)this.cursorStyle=this.cursorStyleBackup;else this.cursorStyle=CURSOR_BOX_BLINK;this.resetCursorBlink()};ClassicVTRenderer.prototype.pauseBlinking=function(){if(this.cursorBlinkRateBackup==undefined||this.cursorBlinkRateBackup==null){this.cursorBlinkRateBackup=this.cursorBlinkRate}this.cursorBlinkRate=0};ClassicVTRenderer.prototype.resumeBlinking=function(){if(this.cursorBlinkRateBackup)this.cursorBlinkRate=this.cursorBlinkRateBackup;else this.cursorBlinkRate=500;this.cursorBlinkRateBackup=null};ClassicVTRenderer.prototype.clearUpdatedRows=function(t,e){var i=this.virtualScreen.height;var n=null;let r=this.characterHeight;let s=this.activeWidth;if(this.isTransparent){setFillColor(t,this.backgroundColor,this.isTransparent)}else{setFillColor(t,this.backgroundColor)}renderLogger.debug("Clearing updated rows by drawing with color="+this.backgroundColor);if(this.virtualScreen.inComposition)return;var o=e.entries();for(let e of o){if(e[1]===true){if(n==null){n=e[0]}}else if(n!=null){if(this.isTransparent){t.clearRect(0,r*n,s,r*(e[0]-n))}else{t.fillRect(0,r*n,s,r*(e[0]-n))}n=null}}if(n!=null){if(this.isTransparent){t.clearRect(0,r*n,s,r*(i+1-n))}else{t.fillRect(0,r*n,s,r*(i+1-n))}}};ClassicVTRenderer.prototype.getUnicodeInCharset=function(e,t,i){var n=e-i+33;var r=e-i+161;switch(t){case VirtualVTScreen.CHARSET_ASCII:return n;case VirtualVTScreen.CHARSET_MULTINATIONAL:renderLogger.log(renderLogger.FINER,"Getting symbol in charset. code=0x"+hex(e)+", charset=0x"+t+", codeShift=0x"+i+". shifted=0x"+hex(n)+", iso8859-like=0x"+hex(r));switch(this.virtualScreen.charsetInfo){case VT_REMOTE_CHARACTER_SET.ISO_8859_1:if(r===173)r=45;return r;case VT_REMOTE_CHARACTER_SET.DEC_MCS:switch(r){case 164:case 166:return ClassicVTRenderer.mappingFailureChar;case 168:return 164;case 172:case 173:case 174:case 175:return ClassicVTRenderer.mappingFailureChar;case 180:case 184:case 190:return ClassicVTRenderer.mappingFailureChar;case 208:return ClassicVTRenderer.mappingFailureChar;case 215:return 338;case 221:return 376;case 222:return ClassicVTRenderer.mappingFailureChar;case 240:return ClassicVTRenderer.mappingFailureChar;case 247:return 339;case 253:return 255;case 254:case 255:return ClassicVTRenderer.mappingFailureChar;default:return r}default:return r}case VirtualVTScreen.CHARSET_GRAPHICS:renderLogger.log(renderLogger.FINER,"Getting symbol in charset. code=0x"+hex(e)+", charset=0x"+t+", codeShift=0x"+i+". shifted=0x"+hex(n)+", iso8859-like=0x"+hex(r));if(n<95){return n}else{switch(n){case 95:return" ";case 96:return 9674;case 97:return 9618;case 98:return 9225;case 99:return 9228;case 100:return 9229;case 101:return 9226;case 102:return 176;case 103:return 177;case 104:return 9252;case 105:return 9227;case 106:return 9496;case 107:return 9488;case 108:return 9484;case 109:return 9492;case 110:return 9532;case 111:return 8254;case 112:return 8254;case 113:return 9472;case 114:return 95;case 115:return 95;case 116:return 9500;case 117:return 9508;case 118:return 9524;case 119:return 9516;case 120:return 9474;case 121:return 8804;case 122:return 8805;case 123:return 960;case 124:return 8800;case 125:return 163;case 126:return 183;default:renderLogger.warn("No DEC graphic char for shifted code=0x"+hex(n));return" "}}default:renderLogger.warn("No lookup for gl.charset=0x"+hex(t));return n}};ClassicVTRenderer.prototype.getUnicode=function(e,t){var i=e.receivedChar;if(e.maskChar!=null){i=e.maskChar}if(i<=32){return 32}if(t===true){if(i===173)i=45;return i}else{if(i<=127){return this.getUnicodeInCharset(i,e.glCharset,33)}else if(i<=255){return this.getUnicodeInCharset(i,e.grCharset,161)}else if(i!=null){renderLogger.warn("Failed to get glyph for code=0x"+hex(i))}return 32}};ClassicVTRenderer.prototype.setColorProperties=function(e){if(e){if(e.defaultBackground&&e.defaultBackground!==null){this.backgroundColor=this.reverseVideo?e.defaultForeground:e.defaultBackground}if(e.defaultForeground&&e.defaultForeground!==null){this.foregroundColor=this.reverseVideo?e.defaultBackground:e.defaultForeground}if(e.backgroundColor&&e.backgroundColor!==null){this.backgroundColor=this.reverseVideo?e.foregroundColor:e.backgroundColor}if(e.foregroundColor&&e.foregroundColor!==null){this.foregroundColor=this.reverseVideo?e.backgroundColor:e.foregroundColor}if(e.foregroundBold&&e.foregroundBold!==null){this.boldColor=this.reverseVideo?e.backgroundBold:e.foregroundBold}if(e.backgroundBold&&e.backgroundBold!==null){this.boldBackgroundColor=this.reverseVideo?e.foregroundBold:e.backgroundBold}if(e.foregroundBlinking&&e.foregroundBlinking!==null){this.blinkingColor=this.reverseVideo?e.backgroundBlinking:e.foregroundBlinking}if(e.backgroundBlinking&&e.backgroundBlinking!==null){this.blinkingBackgroundColor=this.reverseVideo?e.foregroundBlinking:e.backgroundBlinking}if(e.foregroundBoldBlinking&&e.foregroundBoldBlinking!==null){this.boldBlinkingColor=this.reverseVideo?e.backgroundBoldBlinking:e.foregroundBoldBlinking}if(e.backgroundBoldBlinking&&e.backgroundBoldBlinking!==null){this.boldBlinkingBackgroundColor=this.reverseVideo?e.foregroundBoldBlinking:e.backgroundBoldBlinking}if(e.oiaColor!==null){this.oiaColor=e.oiaColor}if(e.cursorGuideColor!==null){this.cursorGuideColor=e.cursorGuideColor}if(e.extendedVTBlue!==null){this.standardColors[4]=e.extendedVTBlue}if(e.extendedVTRed!==null){this.standardColors[1]=e.extendedVTRed}if(e.extendedVTPink!==null){this.standardColors[5]=e.extendedVTPink}if(e.extendedVTGreen!==null){this.standardColors[2]=e.extendedVTGreen}if(e.extendedVTCyan!==null){this.standardColors[6]=e.extendedVTCyan}if(e.extendedVTYellow!==null){this.standardColors[3]=e.extendedVTYellow}if(e.extendedVTBlack!==null){this.standardColors[0]=e.extendedVTBlack}if(e.extendedVTGray!==null){this.standardColors[7]=e.extendedVTGray}if(e.extendedBoldVTBlue!==null){this.standardBoldColors[4]=e.extendedBoldVTBlue}if(e.extendedBoldVTRed!==null){this.standardBoldColors[1]=e.extendedBoldVTRed}if(e.extendedBoldVTPink!==null){this.standardBoldColors[5]=e.extendedBoldVTPink}if(e.extendedBoldVTGreen!==null){this.standardBoldColors[2]=e.extendedBoldVTGreen}if(e.extendedBoldVTCyan!==null){this.standardBoldColors[6]=e.extendedBoldVTCyan}if(e.extendedBoldVTYellow!==null){this.standardBoldColors[3]=e.extendedBoldVTYellow}if(e.extendedBoldVTWhite!==null){this.standardBoldColors[7]=e.extendedBoldVTWhite}if(e.extendedBoldVTGray!==null){this.standardBoldColors[0]=e.extendedBoldVTGray}if(e.inverseBackground!==null){this.reverseOverrideBackground=this.reverseVideo?e.inverseForeground:e.inverseBackground}if(e.inverseForeground!==null){this.reverseOverrideForeground=this.reverseVideo?e.inverseBackground:e.inverseForeground}if(e.inverseForegroundBold!==null){this.reverseOverrideBoldForeground=this.reverseVideo?e.inverseBackgroundBold:e.inverseForegroundBold}if(e.inverseBackgroundBold!==null){this.reverseOverrideBoldBackground=this.reverseVideo?e.inverseForegroundBold:e.inverseBackgroundBold}if(e.inverseForegroundBlinking!==null){this.reverseOverrideBlinkingForeground=this.reverseVideo?e.inverseBackgroundBlinking:e.inverseForegroundBlinking}if(e.inverseBackgroundBlinking!==null){this.reverseOverrideBlinkingBackground=this.reverseVideo?e.inverseForegroundBlinking:e.inverseBackgroundBlinking}if(e.inverseForegroundBoldBlinking!==null){this.reverseOverrideBoldBlinkingForeground=this.reverseVideo?e.inverseBackgroundBoldBlinking:e.inverseForegroundBoldBlinking}if(e.inverseBackgroundBoldBlinking!==null){this.reverseOverrideBoldBlinkingBackground=this.reverseVideo?e.inverseForegroundBoldBlinking:e.inverseBackgroundBoldBlinking}if(e.overrideInverse!==null){this.overrideReverseColors=e.overrideInverse}this.handleResize();this.fullPaint()}};var blankVTElement=new BufferElement(32);ClassicVTRenderer.prototype.fillRenderingInfo=function(e,t,i,n,r,s,o,l){if(l==null){l=blankVTElement;n[s]=this.foregroundColor;r[s]=this.backgroundColor}t[s]=this.getUnicode(l,this.virtualScreen.implicitUTF8);var a=l.colorValue;if(this.virtualScreen.hotspotPreferences&&l.isHotspot&&this.virtualScreen.hotspotPreferences.show){var c=this.virtualScreen.rendererSettings.hotspots.renderingBackgroundColor;var u=this.hexStringToDecimal(c.substring(1,c.length));var h=this.virtualScreen.rendererSettings.hotspots.renderingForegroundColor;var d=this.hexStringToDecimal(h.substring(1,h.length));n[s]=d;r[s]=u}else if((l.graphicAttributes&TEXT_RENDER_HIDDEN)==0){switch(l.colorMode){case VirtualVTScreen.COLOR_MODE_DEFAULT:if((l.graphicAttributes&TEXT_RENDER_HIGH)!=0){if((l.graphicAttributes^TEXT_RENDER_HIGH_BLINK)===0||(l.graphicAttributes^TEXT_RENDER_HIGH_BLINK_UNDERSCORE)===0){n[s]=this.boldBlinkingColor}else if((l.graphicAttributes^TEXT_RENDER_HIGH_BLINK_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_HIGH_BLINK_UNDERSCORE_REVERSE)===0){n[s]=this.overrideReverseColors?this.reverseOverrideBoldBlinkingForeground:this.boldBlinkingBackgroundColor}else if((l.graphicAttributes^TEXT_RENDER_HIGH_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_HIGH_UNDERSCORE_REVERSE)===0){n[s]=this.overrideReverseColors?this.reverseOverrideBoldForeground:this.boldBackgroundColor}else{n[s]=this.boldColor}}else{if((l.graphicAttributes^TEXT_RENDER_BLINK)===0||(l.graphicAttributes^TEXT_RENDER_BLINK_UNDERSCORE)===0){n[s]=this.blinkingColor}else if((l.graphicAttributes^TEXT_RENDER_BLINK_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_BLINK_UNDERSCORE_REVERSE)===0){n[s]=this.overrideReverseColors?this.reverseOverrideBlinkingForeground:this.blinkingBackgroundColor}else if((l.graphicAttributes^TEXT_RENDER_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_UNDERSCORE_REVERSE)===0){n[s]=this.overrideReverseColors?this.reverseOverrideForeground:this.backgroundColor}else{n[s]=this.foregroundColor}}break;case VirtualVTScreen.COLOR_MODE_STANDARD:if((l.graphicAttributes&TEXT_RENDER_HIGH)!=0){n[s]=this.standardBoldColors[a]}else{n[s]=this.standardColors[a]}break;case VirtualVTScreen.COLOR_MODE_TABLE:if((l.graphicAttributes&TEXT_RENDER_HIGH)!=0){n[s]=this.tableBoldColors[a]}else{n[s]=this.tableColors[a]}break;case VirtualVTScreen.COLOR_MODE_RGB:n[s]=a;break}var p=l.backgroundColorValue;switch(l.backgroundColorMode){case VirtualVTScreen.COLOR_MODE_DEFAULT:if((l.graphicAttributes&TEXT_RENDER_HIGH)!=0){if((l.graphicAttributes^TEXT_RENDER_HIGH_BLINK)===0||(l.graphicAttributes^TEXT_RENDER_HIGH_BLINK_UNDERSCORE)===0){r[s]=this.boldBlinkingBackgroundColor}else if((l.graphicAttributes^TEXT_RENDER_HIGH_BLINK_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_HIGH_BLINK_UNDERSCORE_REVERSE)===0){r[s]=this.overrideReverseColors?this.reverseOverrideBoldBlinkingBackground:this.boldBlinkingColor}else if((l.graphicAttributes^TEXT_RENDER_HIGH_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_HIGH_UNDERSCORE_REVERSE)===0){r[s]=this.overrideReverseColors?this.reverseOverrideBoldBackground:this.boldColor}else{r[s]=this.boldBackgroundColor}}else{if((l.graphicAttributes^TEXT_RENDER_BLINK)===0||(l.graphicAttributes^TEXT_RENDER_BLINK_UNDERSCORE)===0){r[s]=this.blinkingBackgroundColor}else if((l.graphicAttributes^TEXT_RENDER_BLINK_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_BLINK_UNDERSCORE_REVERSE)===0){r[s]=this.overrideReverseColors?this.reverseOverrideBlinkingBackground:this.blinkingColor}else if((l.graphicAttributes^TEXT_RENDER_REVERSE)===0||(l.graphicAttributes^TEXT_RENDER_UNDERSCORE_REVERSE)===0){r[s]=this.overrideReverseColors?this.reverseOverrideBackground:this.foregroundColor}else{r[s]=this.backgroundColor}}break;case VirtualVTScreen.COLOR_MODE_STANDARD:r[s]=this.standardColors[p];break;case VirtualVTScreen.COLOR_MODE_TABLE:r[s]=this.tableColors[p];break;case VirtualVTScreen.COLOR_MODE_RGB:r[s]=p;break}}else{colorLogger.debug("Element is hidden, setting null color");n[s]=null;r[s]=null}i[s]=l.graphicAttributes};ClassicVTRenderer.prototype.setReverseVideo=function(){if(!this.reverseVideo){this.reverseVideo=true;this.reverseVideoColor();this.fullPaint()}};ClassicVTRenderer.prototype.unsetReverseVideo=function(){if(this.reverseVideo){this.reverseVideo=false;this.reverseVideoColor();this.fullPaint()}};ClassicVTRenderer.prototype.reverseVideoColor=function(){let e=this.backgroundColor;this.backgroundColor=this.foregroundColor;this.foregroundColor=e;let t=this.boldColor;this.boldColor=this.boldBackgroundColor;this.boldBackgroundColor=t;let i=this.blinkingColor;this.blinkingColor=this.blinkingBackgroundColor;this.blinkingBackgroundColor=i;let n=this.boldBlinkingColor;this.boldBlinkingColor=this.boldBlinkingBackgroundColor;this.boldBlinkingBackgroundColor=n;let r=this.reverseOverrideForeground;this.reverseOverrideForeground=this.reverseOverrideBackground;this.reverseOverrideBackground=r;let s=this.reverseOverrideBoldForeground;this.reverseOverrideBoldForeground=this.reverseOverrideBoldBackground;this.reverseOverrideBoldBackground=s;let o=this.reverseOverrideBlinkingForeground;this.reverseOverrideBlinkingForeground=this.reverseOverrideBlinkingBackground;this.reverseOverrideBlinkingBackground=o;let l=this.reverseOverrideBoldBlinkingForeground;this.reverseOverrideBoldBlinkingForeground=this.reverseOverrideBoldBlinkingBackground;this.reverseOverrideBoldBlinkingBackground=l};ClassicVTRenderer.prototype.fullPaint=function(){renderLogger.debug("Full paint called, will clear entire screen");let e=this.virtualScreen.canvas;let t=this.virtualScreen.parentDiv;var i=e.getContext("2d");if(this.isTransparent){i.clearRect(0,0,e.width,e.height);setFillColor(i,this.backgroundColor,this.isTransparent)}else{setFillColor(i,this.backgroundColor)}i.fillRect(0,0,e.width,e.height);if(!this.virtualScreen.inComposition){setFillColor(i,this.backgroundColor);i.fillRect(0,0,e.width,e.height)}this.updateParentStyle(this.virtualScreen,i);if(this.virtualScreen.statuslineCanvas){let e=this.virtualScreen.statuslineCanvas;var n=e.getContext("2d");i.clearRect(0,0,e.width,e.height);if(this.isTransparent){setFillColor(n,this.backgroundColor,this.isTransparent)}else{setFillColor(n,this.backgroundColor)}n.fillRect(0,0,e.width,e.height)}this.virtualScreen.previousScreenIDs.fill(null);this.paint();this.onFullPaint()};var shouldIncludeNeighborRows=true;var smarterPaint=true;ClassicVTRenderer.prototype.paint=function(e){let d=this.virtualScreen.canvas;var t=d.width;var i=d.height;var p=d.getContext("2d",{alpha:false});this.upperCtx=this.virtualScreen.selectionCanvas.getContext("2d");if(this.previousPixelWidth==-1||this.previousPixelWidth!=t||this.previousPixelHeight!=i){this.setupFontMetrics(d,p);this.setupFontMetrics(this.virtualScreen.selectionCanvas,this.upperCtx);this.previousPixelWidth=t;this.previousPixelHeight=i;if(this.virtualScreen.statuslineCanvas){let e=this.virtualScreen.statuslineCanvas.getContext("2d");e.scale(this.scaleWidth,this.scaleHeight)}}if(this.fontTooSmall){return}p.font=this.font;p.textBaseline="top";setFillColor(p,this.foregroundColor);var f=this.virtualScreen;var E=Number(f.width);var T=new Array(E);var _=new Array(E);var g=new Array(E);var S=new Array(E);let C=0;var R=0;var n=0;var m=3;var r=false;var s=f.previousScreenIDs;var N=new Array(Number(e>0?e:f.height));if(smarterPaint){this.markRowsForPaint(p,N,s,shouldIncludeNeighborRows)}else{N.fill(true)}window.requestAnimationFrame(()=>{this.clearUpdatedRows(p,N);var t=f.viewportTop;var i=0;var n=d.height/f.height;for(var r=0;r<f.height;r++){if(!N[r]){renderLogger.debug("Skipping unmodified row="+r);R+=f.width;C+=this.characterHeight;if(t!=null){t=t.next}else{break}continue}i++;if(t!==null&&t!==undefined){try{if(f.rendererSettings&&f.rendererSettings.dataSecurity){if(f.rendererSettings.dataSecurity.globalApply){f.find2Masking(t,r,N)}}}catch(e){}}if(t!==null&&t!==undefined){if(f.hotspotPreferences&&f.hotspotPreferences.enable){this.removeVTHotspots(n*r);f.findVTHotspots(t,n*r)}else{this.removeVTHotspots(n*r)}}if(r<m){renderLogger.debug("startLine, baseline = "+C+" screenOffset="+R+" size="+f.size)}var s;this.clearLineData(T,S,_,E);for(s=0;s<E;s++){this.fillRenderingInfo(r,T,S,_,g,s,E,t!=null?t.elements[s]:null)}var o=0;s=0;let e=this.virtualScreen.isDoubleWidthLine(t)?Math.floor(E/2):E;while(s<e){var l=this.getRunLength(_,S,r,s,e,g);if(_[s]!=null){var a=S[s];setFillColor(p,_[s]);setStrokeColor(p,_[s]);p.lineWidth=.8;renderLogger.debug("Run starts at ("+s+","+r+"). Length="+l+", Attr=0x"+hex(a)+", FG="+_[s]+", BG="+g[s]);if((a&TEXT_RENDER_DOUBLE_WIDTH)!=0){renderLogger.debug("Transforming canvas for double width");p.save();p.transform(2,0,0,1,0,0)}else if((a&TEXT_RENDER_DOUBLE_TOP)!=0){renderLogger.debug("Transforming canvas for double height (top)");p.save();p.transform(2,0,0,2,0,-(Math.round(this.activeHeight/this.virtualScreen.height)*r))}if((a&TEXT_RENDER_DOUBLE_BOTTOM)==0){var c=(a&TEXT_RENDER_REVERSE)!=0;if(g[s]!=this.backgroundColor||_[s]!=this.foregroundColor){if(this.isTransparent){setFillColor(p,g[s],this.isTransparent)}else{setFillColor(p,g[s])}if(c&&this.overrideReverseColors){setStrokeColor(p,g[s])}p.fillRect(o,C,l*this.characterWidth,this.characterHeight);setFillColor(p,_[s])}if((a&TEXT_RENDER_GRAPHIC)!=0){this.renderGraphics(p,T,s,l,o,C,c)}else{if((a&TEXT_RENDER_BLINK)==0||this.textBlinkVisible){drawChars(p,T,s,l,o,C)}}if((a&TEXT_RENDER_UNDERSCORE)!=0){var u=C+(this.characterHeight-1);drawLine2(p,o,u,o+l*this.characterWidth,u)}}if((a&TEXT_RENDER_DOUBLE_WIDTH)!=0||(a&TEXT_RENDER_DOUBLE_TOP)!=0||(a&TEXT_RENDER_DOUBLE_BOTTOM)!=0){p.restore()}}else{var h=this.firstVisibleCharacter(T,s,l);if(h!=-1){renderLogger.debug("Skipping render for null/invisible color at ("+s+","+r+")")}}s+=l;o+=l*this.characterWidth}R+=f.width;C+=this.characterHeight;if(t!=null){t=t.next}}if(this.virtualScreen.statuslineCanvas){this.paintStatuslineCanvas()}renderLogger.debug("Drew "+i+" rows");f.cursorPos=this.getCursorPos();this.paintUpperCanvas()})};ClassicVTRenderer.prototype.getCursorPos=function(){let e=this.virtualScreen;let t=e.getInsertionLineDistanceFromViewport();if(t===-1)return t;let i=e.isDoubleWidthLine();let n=i?e.positionInLine*2:e.positionInLine;return e.width*t+Math.min(n,e.width-1)};ClassicVTRenderer.prototype.paintStatuslineCanvas=function(){let e=this.virtualScreen;let i=e.statuslineCanvas;if(i&&e.statusline){let n=i.getContext("2d",{alpha:false});if(this.isTransparent){setFillColor(n,this.backgroundColor,this.isTransparent)}else{setFillColor(n,this.backgroundColor)}n.fillRect(0,0,i.width,i.height);n.font=this.font;setFillColor(n,this.foregroundColor);let t=e.statusline;let r=e.width;let s=new Array(r);let o=new Array(r);let l=new Array(r);let a=new Array(r);for(let e=0;e<r;e++){this.fillRenderingInfo(0,s,a,o,l,e,r,t.elements&&t.elements[e]?t.elements[e]:null)}let c=0;let u=0;while(u<r){let i=this.getRunLength(o,a,0,u,r,l);if(o[u]!=null){let t=a[u];setFillColor(n,o[u]);setStrokeColor(n,o[u]);n.lineWidth=.8;renderLogger.debug("Statusline: Run starts at "+u+". Length="+i+", Attr=0x"+hex(t)+", FG="+o[u]+", BG="+l[u]);if((t&TEXT_RENDER_DOUBLE_WIDTH)!=0){renderLogger.debug("Transforming status canvas for double width");n.save();n.transform(2,0,0,1,0,0)}else if((t&TEXT_RENDER_DOUBLE_TOP)!=0){renderLogger.debug("Transforming status canvas for double height (top)");n.save();n.transform(2,0,0,2,0,0)}if((t&TEXT_RENDER_DOUBLE_BOTTOM)==0){let e=(t&TEXT_RENDER_REVERSE)!==0;if(l[u]!=this.backgroundColor||o[u]!=this.foregroundColor){if(this.isTransparent){setFillColor(n,l[u],this.isTransparent)}else{setFillColor(n,l[u])}if(e&&this.overrideReverseColors){setStrokeColor(n,l[u])}const h=STATUSLINE_OFFSET/2/(this.scaleHeight||"1");n.fillRect(c,h,i*this.characterWidth,this.characterHeight);setFillColor(n,o[u])}if((t&TEXT_RENDER_GRAPHIC)!==0){this.renderGraphics(n,s,u,i,c,this.characterHeight,e)}else{if((t&TEXT_RENDER_BLINK)===0||this.textBlinkVisible){drawChars(n,s,u,i,c,this.characterHeight)}}if((t&TEXT_RENDER_UNDERSCORE)!==0){let e=this.characterHeight-1;drawLine2(n,c,e,c+i*this.characterWidth,e)}}if((t&TEXT_RENDER_DOUBLE_WIDTH)!=0||(t&TEXT_RENDER_DOUBLE_TOP)!=0||(t&TEXT_RENDER_DOUBLE_BOTTOM)!=0){n.restore()}}else{let e=this.firstVisibleCharacter(s,u,i);if(e!=-1){renderLogger.debug("Statusline: skipping render for null/invisible color at "+u)}}u+=i;c+=i*this.characterWidth}}};ClassicVTRenderer.prototype.shiftRowsByBufferOffset=function(e){let t=this.virtualScreen;if(t.bufferShiftCount<1||t.bufferMaxLines===t.height){return}let i=this.characterHeight;let n=t.bufferShiftCount*i;let r=t.height*i;let s=this.scaleMethod==1?n/this.scaleFactorY:n;let o=e.getImageData(0,s,this.activeWidth,this.activeHeight-s);e.putImageData(o,0,0);t.bufferShiftCount=0};ClassicVTRenderer.prototype.hexStringToDecimal=function(e){var t=0;for(var i=0;i<e.length;i++){var n=parseInt(e[i],16);t=t<<4|n}return t};ClassicVTRenderer.prototype.setVTHotspotProperties=function(e,t){var i=this.virtualScreen;i.hotspotPreferences.enable=t.enable;i.hotspotPreferences.turnOnURL=t.turnOnURL;i.hotspotDefinitions=e;i.hotspotPreferences.show=t.show;this.fullPaint()};ClassicVTRenderer.prototype.applyVTHotspotColors=function(e){var t=e.screenPosition;var i=e.length;var n=t+i;var r=e.line;for(var s=t;s<n;s++){if(r.elements[s]!==null&&r.elements[s]!==undefined){r.elements[s].isHotspot=true}}};ClassicVTRenderer.prototype.removeVTHotspotColors=function(e){var t=e.screenPosition;var i=e.length;var n=t+i;var r=e.line;for(var s=t;s<n;s++){if(r.elements[s]){r.elements[s].isHotspot=false}}};ClassicVTRenderer.prototype.removeVTHotspots=function(e){var t=this.virtualScreen;var i=t.hotspotsDiv.childNodes;if(i.length>1){for(var n=0;n<i.length;n++){if(i[n].id.indexOf(HOTSPOTS_BUTTON_ID_SUFFIX)!==-1){var r=i[n];var s=parseInt(r.style.top.replace("px",""));if(s===parseInt(e)){for(var o=0;o<t.hotspots.length;o++){if(r.value===t.hotspots[o].hotspotText){this.removeVTHotspotColors(t.hotspots[o]);t.hotspots.splice(o,1);break}}t.hotspotsDiv.removeChild(r);n=0}}}}};ClassicVTRenderer.prototype.getParentSelector=function(e){const t=document.getElementById(e.parentDiv.id+INNER_SCROLLING_DIV_ID_SUFFIX);if(t){return t}return document.getElementById(e.parentDiv.id)};ClassicVTRenderer.prototype.markHotspotElements=function(){console.log("Empty function since markHostpostElements only applied to 3270")};ClassicVTRenderer.prototype.markHotspot=function(e){var t=this.virtualScreen;var i=e.screenPosition;var n=e.length;var r=e.hotspotText;var s=e.line;var o=t.getRowColumnFromPosition(i);var l=Number(s.id-t.viewportTop.id);if(t.hotspotPreferences.enable){if(t.hotspotPreferences.show){this.applyVTHotspotColors(e)}else{this.removeVTHotspotColors(e)}var a=document.createElement("button");a.id=t.parentDiv.id+"_"+HOTSPOTS_BUTTON_ID_SUFFIX;a.style.position="absolute";a.style.zIndex=3;a.style.left=o["column"]*(this.characterWidth/this.scaleFactorX)+"px";a.style.top=e.top+"px";a.style.width=this.characterWidth/this.scaleFactorX*r.length+"px";a.style.height=this.characterHeight/this.scaleFactorY+"px";a.style.cursor="pointer";a.value=r;if(e.hotspotType){a.hotspotType=e.hotspotType}a.addEventListener("click",function(e){e.stopPropagation();t.handleHotspotClick(e,t.hotspotDefinitions)});t.hotspotsDiv.appendChild(a)}};function GOCAElement(){this.code=-1;this.length=-1}makeSubclass(GOCAProcedure,GOCAElement);function GOCAProcedure(){this.instructions=[]}makeSubclass(GOCAInstruction,GOCAElement);function GOCAInstruction(){}makeSubclass(GOCAOrder,GOCAElement);function GOCAOrder(e){this.code=e;this.xPos0=-1;this.yPos0=-1;this.xPositions=null;this.yPositions=null;this.xOffsets=null;this.yOffsets=null;this.multiplier=1;this.imageWidth=-1;this.imageHeight=-1;this.imageRowData=null;this.characterData=null;this.patternSetID=-1;this.patternID=-1;this.mixMode=-1;this.backgroundMixMode=-1;this.lineType=-1;this.lineEndType=-1;this.lineJoinType=-1;this.lineWidth=-1;this.markerSymbol=-1;this.markerWidth=-1;this.markerHeight=-1;this.markerPrecision=-1;this.markerLCID=-1;this.areaBoundaryFlags=-1;this.colorValue=-1;this.pValue=-1;this.qValue=-1;this.rValue=-1;this.sValue=-1}GOCAOrder.prototype.toString=function(){return"<GOCAOrder code=0x"+this.code+", name="+getOrderName(this.code)+" length="+this.length+", xPos=0x"+hex(this.xPos0)+",yPos=0x"+hex(this.yPos0)+">"};makeSubclass(GOCASegment,GOCAElement);function GOCASegment(){this.orders=[]}makeSubclass(GOCAPicture,GOCAElement);function GOCAPicture(){this.segments=[]}getProcedureName=function(e){switch(e){case GOCA_SET_CURRENT_DEFAULTS_INSTRUCTION:return"GSCUDEF";case GOCA_ERASE_INSTRUCTION:return"GERASE";case GOCA_STOP_DRAW_INSTRUCTION:return"GSTOPDR";case GOCA_ATTACH_GRAPHIC_CURSOR_INSTRUCTION:return"GATTCUR";case GOCA_DETACH_GRAPHIC_CURSOR_INSTRUCTION:return"GDETCUR";case GOCA_SET_GRAPHIC_CURSOR_POSITION_INSTRUCTION:return"SETCUR";case GOCA_NOOP_INSTRUCTION:return"NOOP";case GOCA_COMMENT_INSTRUCTION:return"COMMENT";case 50:return"WHATISTHIS";default:return"???"}};getOrderName=function(e){switch(e){case GOCA_SET_PATTERN_SET_ORDER:return"GSPS";case GOCA_SET_MIX_ORDER:return"GSMX";case GOCA_SET_COLOR_ORDER:return"GSCOL";case GOCA_SET_BACKGROUND_MIX_ORDER:return"GSBMX";case GOCA_SET_FRACTIONAL_LINE_WIDTH_ORDER:return"GSFLW";case GOCA_SET_LINE_TYPE_ORDER:return"GSLT";case GOCA_SET_LINE_WIDTH_ORDER:return"GSLW";case GOCA_SET_LINE_END_ORDER:return"GSLE";case GOCA_SET_LINE_JOIN_ORDER:return"GSLJ";case GOCA_SET_CURRENT_POSITION_ORDER:return"GSCP";case GOCA_SET_ARC_PARAMETERS_ORDER:return"GSAP";case GOCA_SET_EXTENDED_COLOR_ORDER:return"GSECOL";case GOCA_SET_PATTERN_SYMBOL_ORDER:return"GSPT";case GOCA_SET_MARKER_SYMBOL_ORDER:return"GSMS";case GOCA_SET_CHARACTER_CELL_ORDER:return"GSCC";case GOCA_SET_CHARACTER_ANGLE_ORDER:return"GSCA";case GOCA_SET_CHARACTER_SHEAR_ORDER:return"GSCH";case GOCA_SET_MARKER_CELL_ORDER:return"GSCS";case GOCA_SET_CHARACTER_SET_ORDER:return"GSMC";case GOCA_SET_CHARACTER_PRECISION_ORDER:return"GSCR";case GOCA_SET_CHARACTER_DIRECTION_ORDER:return"GSCD";case GOCA_SET_MARKER_PRECISION_ORDER:return"GSMP";case GOCA_SET_MARKER_SET_ORDER:return"GSMS";case GOCA_END_PROLOG_ORDER:return"GEPROL";case GOCA_SET_PICK_IDENTIFIER_ORDER:return"GSPIK";case GOCA_END_AREA_ORDER:return"GEAR";case GOCA_BEGIN_AREA_ORDER:return"GBAR";case GOCA_END_SEGMENT_ORDER:return"GESEG";case GOCA_BOX_AT_CURRENT_POSITION_ORDER:return"GCBOX";case GOCA_LINE_AT_CURRENT_POSITION_ORDER:return"GCLINE";case GOCA_MARKER_AT_CURRENT_POSITION_ORDER:return"GCMRK";case GOCA_CHAR_STRING_AT_CURRENT_POSITION_ORDER:return"GCCHST";case GOCA_FILLET_AT_CURRENT_POSITION_ORDER:return"GCFLT";case GOCA_FULL_ARC_AT_CURRENT_POSITION_ORDER:return"GCFARC";case GOCA_BEGIN_IMAGE_AT_CURRENT_POSITION_ORDER:return"GCBIMG";case GOCA_IMAGE_DATA_ORDER:return"GCIMD";case GOCA_END_IMAGE_AT_CURRENT_POSITION_ORDER:return"GCEIMG";case GOCA_RELATIVE_LINE_AT_CURRENT_POSITION_ORDER:return"GCRLINE";case GOCA_PARTIAL_ARC_AT_CURRENT_POSITION_ORDER:return"GCRPARC";case GOCA_CUBIC_BEZIER_CURVE_AT_CURRENT_POSITION_ORDER:return"GCCBEZ";case GOCA_SET_PROCESS_COLOR_ORDER:return"GSPCOL";case GOCA_BOX_AT_GIVEN_POSITION_ORDER:return"GBOX";case GOCA_LINE_AT_GIVEN_POSITION_ORDER:return"GLINE";case GOCA_MARKER_AT_GIVEN_POSITION_ORDER:return"GMRK";case GOCA_CHAR_STRING_AT_GIVEN_POSITION_ORDER:return"GCHST";case GOCA_FILLET_AT_GIVEN_POSITION_ORDER:return"GFLT";case GOCA_FULL_ARC_AT_GIVEN_POSITION_ORDER:return"GFARC";case GOCA_BEGIN_IMAGE_AT_GIVEN_POSITION_ORDER:return"GBIMG";case GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER:return"GRLINE";case GOCA_PARTIAL_ARC_AT_GIVEN_POSITION_ORDER:return"GPARC";case GOCA_CUBIC_BEZIER_CURVE_AT_GIVEN_POSITION_ORDER:return"GCBEZ";default:return"???"}};function SegmentContext(e){this.inArea=false;this.currentX=0;this.currentY=0;this.pathExists=false;this.pathIsNew=false;this.ctx=e;this.currentColor=-1;this.currentLineColor=-1;this.currentFillColor=-1;this.nextImageIsMagicEscape=false;this.currentMarkerWidth=4;this.currentMarkerHeight=4;this.currentMarkerSymbol=0;this.currentPatternID=-1;this.currentLineType=0;this.currentLineWidth=1;this.currentPVal=0;this.currentQVal=0;this.currentRVal=0;this.currentSVal=0;this.currentBitmapImage=null;this.currentImageRow=0}SegmentContext.prototype.handleBeginArea=function(){this.ctx.beginPath();this.pathExists=true;this.pathIsNew=true;this.inArea=true;renderLogger.debug("BeginArea")};SegmentContext.prototype.handleEndArea=function(){if(this.pathExists&&!this.pathIsNew){protocolLogger.debug("GOCA: end area");ctx.closePath();ctx.fill()}else{protocolLogger.warn("GOCA area ending without any points, probably caused by unhandled primitives")}this.pathExists=false;this.inArea=false};parseGOCAMessage=function(e,t,i,n,r){var s=e[t]&255;if(s!=r){protocolLogger.debug("GOCA Stream in wrong container fieldType=0x"+hex(n)+", command=0x"+hex(s));return null}protocolLogger.debug("-- Handling GOCA message");protocolLogger.log(protocolLogger.FINER,"-- Pos=0x"+hex(t)+", data len="+i);switch(s){case GOCA_BEGIN_PROCEDURE_COMMAND:{var o=new GOCAProcedure;protocolLogger.debug("-- Command=BEGIN_PROCEDURE");var l=readU16(e,t+8);protocolLogger.debug("--- Procedure length=0x"+hex(l));var a=t+12+l;t+=12;while(t<a){var c=e[t]&255;var u=new GOCAInstruction;protocolLogger.debug("--- Handling procedure instruction");switch(c){case GOCA_SET_CURRENT_DEFAULTS_INSTRUCTION:protocolLogger.debug("--- Type=SET_CURRENT_DEFAULTS");var h=e[t+1]&255;var d=e[t+2]&255;var p=readU16(e,t+3);var f=e[t+5]&255;protocolLogger.debug("--- Attribute Type=0x"+hex(d));protocolLogger.debug("--- Mask=0x"+hex(p));protocolLogger.debug("--- Flags=0x"+hex(f));protocolLogger.debug("-- GOCA default flags 0x0F set to defaults, 0x8F-use settings in binary data not seen\n");t+=2+h;break;case GOCA_ERASE_INSTRUCTION:u.code=c;protocolLogger.debug("--- Type=ERASE");t+=2;o.instructions.push(u);break;case GOCA_STOP_DRAW_INSTRUCTION:protocolLogger.debug("--- Type=STOP_DRAW");t+=2;break;case GOCA_ATTACH_GRAPHIC_CURSOR_INSTRUCTION:{protocolLogger.debug("--- Type=ATTACH_GRAPHIC_CURSOR");t+=2}break;case GOCA_DETACH_GRAPHIC_CURSOR_INSTRUCTION:protocolLogger.debug("--- Type=DETACH_GRAPHIC_CURSOR");t+=2;break;case GOCA_SET_GRAPHIC_CURSOR_POSITION_INSTRUCTION:{var E=e[t+1]&255;protocolLogger.debug("--- Type=SET_GRAPHIC_CURSOR_POSITION");t+=2+E}break;case GOCA_NOOP_INSTRUCTION:protocolLogger.debug("--- Type=NOOP");t++;break;case GOCA_COMMENT_INSTRUCTION:{var E=e[t+1]&255;protocolLogger.debug("--- Type=COMMENT");t+=2+E}break;case 50:{var E=e[t+1]&255;protocolLogger.warn("Unhandled GOCA procedure instruction type=0x32, found at offset=0x"+hex(t));t+=2+E}break;default:protocolLogger.warn("Unhandled GOCA procedure instruction type=0x"+hex(u))}}return o}case GOCA_BEGIN_SEGMENT_COMMAND:{protocolLogger.debug("-- Command=SEGMENT");var T=new GOCAPicture;var _=t+i;while(t<_){var g=new GOCASegment;T.segments.push(g);var S=(e[t+1]&255)+2;protocolLogger.debug("---- Segment header length=0x"+hex(S));var C=readU16(e,t+8);var R=e[t+6]&255;var m=e[t+7]&255;protocolLogger.debug("---- Picture len=0x"+hex(C));protocolLogger.debug("---- oldFlags=0x"+hex(R));protocolLogger.debug("---- segProps=0x"+hex(m));protocolLogger.debug("PictureHeader; (missing - need byte array dumper)");var a=t+S+C;t+=S;while(t<a){protocolLogger.debug("GOCA: Reading picture order, pos=0x"+hex(t));var N=readGOCAPictureOrder(e,t);if(N){g.orders.push(N);protocolLogger.debug("GOCA: read order count in picture segment="+g.orders.length);var A=N.length;t+=A;if(N.code==GOCA_END_SEGMENT_ORDER){protocolLogger.debug("GOCA: end picture segment seen, offset=0x"+hex(t)+", end=0x"+hex(a));break}}}}return T}default:protocolLogger.warn("Unhandled GOCA command=0x"+hex(s));return null}};readGOCAPictureOrder=function(e,t){var i=0;var n=e[t+0]&255;protocolLogger.debug("--- Handling GOCA picture order");var r=new GOCAOrder(n);protocolLogger.debug("--- Type="+getOrderName(n));switch(n){case GOCA_NOOP_ORDER:i=1;break;case GOCA_COMMENT_ORDER:{var s=e[t+1]&255;i=2+s}break;case GOCA_SET_COLOR_ORDER:var o=e[t+1]&255;protocolLogger.debug("---- Color=0x"+hex(o));r.colorValue=65280|o;i=2;break;case GOCA_SET_EXTENDED_COLOR_ORDER:r.colorValue=readU16(e,t+2);protocolLogger.debug("---- Color=0x"+hex(oreder.colorValue));i=4;break;case GOCA_SET_PATTERN_SET:r.patternSetID=e[t+1]&255;protocolLogger.debug("---- Pattern=0x"+hex(r.patternSetID));i=2;break;case GOCA_SET_MIX_ORDER:r.mixMode=e[t+1]&255;protocolLogger.debug("---- Mode=0x"+hex(r.mixMode));i=2;break;case GOCA_SET_BACKGROUND_MIX_ORDER:r.backgroundMixMode=e[t+1]&255;protocolLogger.debug("---- Mode=0x"+hex(r.mixMode));i=2;break;case GOCA_SET_FRACTIONAL_LINE_WIDTH_ORDER:break;case GOCA_SET_LINE_TYPE_ORDER:r.lineType=e[t+1]&255;protocolLogger.debug("---- Line Type=0x"+hex(r.lineType));i=2;break;case GOCA_SET_LINE_WIDTH_ORDER:r.lineWidth=e[t+1]&255;protocolLogger.debug("---- Multiplier=0x"+hex(r.lineWidth));i+=2;break;case GOCA_SET_LINE_END_ORDER:r.lineEndType=e[t+1]&255;protocolLogger.debug("---- End Type=0x"+hex(r.lineEndType));i=2;break;case GOCA_SET_LINE_JOIN_ORDER:r.lineJoinType=e[t+1]&255;protocolLogger.debug("---- Join Type=0x"+hex(r.lineJoinType));i=2;break;case GOCA_SET_CURRENT_POSITION_ORDER:break;case GOCA_SET_ARC_PARAMETERS_ORDER:{var l=e[t+1]&255;var a=t+2;r.pValue=readS16(e,a);r.qValue=readS16(e,a+2);r.rValue=readS16(e,a+4);r.sValue=readS16(e,a+6);protocolLogger.debug("---- p=0x"+hex(r.pValue)+", q=0x"+hex(r.qValue)+", r="+hex(r.rValue)+", s="+hex(r.sValue));i=l+2}break;case GOCA_SET_PATTERN_SYMBOL_ORDER:r.patternID=e[t+1]&255;protocolLogger.debug("---- Pattern=0x"+hex(r.patternID));i=2;break;case GOCA_SET_MARKER_SYMBOL_ORDER:r.markerSymbol=e[t+1]&255;protocolLogger.debug("---- Marker=0x"+hex(r.markerSymbol));i=2;break;case GOCA_SET_CHARACTER_CELL_ORDER:break;case GOCA_SET_CHARACTER_ANGLE_ORDER:break;case GOCA_SET_CHARACTER_SHEAR_ORDER:break;case GOCA_SET_MARKER_CELL_ORDER:{r.markerWidth=readS16(e,t+2);r.markerHeight=readS16(e,t+4);protocolLogger.debug("---- Size=(0x"+hex(r.markerWidth)+",0x"+hex(r.markerHeight)+")");i=6}break;case GOCA_SET_CHARACTER_SET_ORDER:break;case GOCA_SET_CHARACTER_PRECISION_ORDER:break;case GOCA_SET_CHARACTER_DIRECTION_ORDER:break;case GOCA_SET_MARKER_PRECISION_ORDER:r.markerPrecision=e[t+1]&255;protocolLogger.debug("---- Value=0x"+hex(e[t+1]&255));i=2;break;case GOCA_SET_MARKER_SET_ORDER:r.markerLCID=e[t+1]&255;i=2;break;case GOCA_END_PROLOG_ORDER:i=2;break;case GOCA_END_IMAGE_AT_CURRENT_POSITION_ORDER:case GOCA_END_AREA_ORDER:case GOCA_END_SEGMENT_ORDER:{var c=e[t+1]&255;protocolLogger.debug("---- ExtraLen=0x"+hex(c));i=2+c}break;case GOCA_BEGIN_AREA_ORDER:r.areaBoundaryFlags=e[1]&255;protocolLogger.debug("---- Boundary flags=0x"+hex(r.areaBoundaryFlags));i=2;break;case GOCA_BOX_AT_CURRENT_POSITION_ORDER:case GOCA_BOX_AT_GIVEN_POSITION_ORDER:{var l=e[t+1]&255;r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var a=t+2;var u=readU16(e,a);a+=2;if(n==GOCA_BOX_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4}var h=readS16(e,a);var d=readS16(e,a+2);a+=4;var p=0;var f=0;if(2+l>a){p=readU16(e,a);a+=2}if(2+l>a){f=readU16(e,a)}protocolLogger.debug("---- XY=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0)+")");protocolLogger.debug("---- diagXY=(0x"+hex(h)+",0x"+hex(d)+")");i=2+l}break;case GOCA_LINE_AT_CURRENT_POSITION_ORDER:case GOCA_LINE_AT_GIVEN_POSITION_ORDER:case GOCA_FILLET_AT_CURRENT_POSITION_ORDER:case GOCA_FILLET_AT_GIVEN_POSITION_ORDER:{r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var l=e[t+1]&255;var E=l/4;var a=t+2;if(n==GOCA_LINE_AT_GIVEN_POSITION_ORDER||n==GOCA_FILLET_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4;E--}r.xPositions=new Array(E);r.yPositions=new Array(E);readS16Arrays(e,a,E,r.xPositions,r.yPositions);protocolLogger.debug("---- Pos=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0)+")");protocolLogger.debug("---- xPositions = "+r.xPositions);protocolLogger.debug("---- yPositions = "+r.yPositions);i=2+l}break;case GOCA_MARKER_AT_CURRENT_POSITION_ORDER:case GOCA_MARKER_AT_GIVEN_POSITION_ORDER:{r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var l=e[t+1]&255;var E=l/4;var a=t+2;if(n==GOCA_MARKER_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4;E--}r.xPositions=[];r.yPositions=[];readS16Arrays(e,a,E,r.xPositions,r.yPositions);protocolLogger.debug("---- x0,y0=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0)+") ("+r.xPos+","+r.yPos+")");protocolLogger.debug("---- xPositions = "+r.xPositions);protocolLogger.debug("---- yPositions = "+r.yPositions);i=2+l}break;case GOCA_CHAR_STRING_AT_CURRENT_POSITION_ORDER:case GOCA_CHAR_STRING_AT_GIVEN_POSITION_ORDER:{var l=e[t+1]&255;r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var a=t+2;if(n==GOCA_CHAR_STRING_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4}protocolLogger.debug("---- x.y=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0)+")");protocolLogger.debug("---- dump:");hexDump(e,protocolLogger,2+a,l-(2+a));var T=l-(2+a);r.characterData=new Uint8Array(T);copyByteArray(e,2+a,r.characterData,0,T);i=2+l}break;case GOCA_FULL_ARC_AT_CURRENT_POSITION_ORDER:case GOCA_FULL_ARC_AT_GIVEN_POSITION_ORDER:{var l=e[t+1]&255;r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var a=t+2;if(n==GOCA_FULL_ARC_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4}r.multiplier=(e[t+a]&255)+(e[t+a+1]&255)/256;protocolLogger.debug("---- x,y=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0));procotolLogger.debug("---- multiplier="+multiplier);i=2+l}break;case GOCA_PARTIAL_ARC_AT_CURRENT_POSITION_ORDER:case GOCA_PARTIAL_ARC_AT_GIVEN_POSITION_ORDER:{var l=e[t+1]&255;r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var a=t+2;if(n==GOCA_PARTIAL_ARC_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4}var _=readS16(e,a);var g=readS16(e,a+2);a+=4;r.multiplier=(e[t+a]&255)+(e[t+a+1]&255)/256;a+=2;var S=readS32(e,a);var C=readS32(e,a+4);protocolLogger.debug("---- x,y=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0)+")");protocolLogger.debug("---- multiplier="+r.multiplier);protocolLogger.debug("---- startAngle=0x"+hex(S));protocolLogger.debug("---- sweepAngle=0x"+hex(C));protocolLogger.debug("---- dump:");hexDump(e,protocolLogger,t,l+2);i=2+l}break;case GOCA_BEGIN_IMAGE_AT_CURRENT_POSITION_ORDER:case GOCA_BEGIN_IMAGE_AT_GIVEN_POSITION_ORDER:{r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var R=t;if(n==GOCA_BEGIN_IMAGE_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,t+2);r.yPos0=readS16(e,t+4);R=t+4}r.imageWidth=readU16(e,R+4);r.imageHeight=readU16(e,R+6);protocolLogger.debug("---- x,y=(0x"+hex(r.xPos0)+",0x"+hex(r.yPos0)+")");protocolLogger.debug("---- image w,h=(0x"+hex(r.imageWidth)+",0x"+hex(r.imageHeight)+")");i=2+e[t+1]&255}break;case GOCA_IMAGE_DATA_ORDER:var m=e[t+1]&255;r.imageRowData=new Uint8Array(m);protocolLogger.debug("---- rowWidth=0x"+hex(m));copyByteArray(e,t+2,r.imageRowData,0,m);i=2+m;break;case GOCA_RELATIVE_LINE_AT_CURRENT_POSITION_ORDER:case GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER:{r.xPos0=GOCA_OUT_OF_RANGE_COORDINATE;r.yPos0=GOCA_OUT_OF_RANGE_COORDINATE;var l=e[t+1]&255;var E=l/2;var a=t+2;if(n==GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER){r.xPos0=readS16(e,a);r.yPos0=readS16(e,a+2);a+=4;E-=2}r.xOffsets=new Array(E);r.yOffsets=new Array(E);readS8Arrays(e,a,E,r.xOffsets,r.yOffsets);protocolLogger.debug("---- x0,y0=(0x"+hex(r.xPos)+",0x"+hex(r.yPos0)+")");protocolLogger.debug("---- xOffsets="+r.xOffsets);protocolLogger.debug("---- yOffsets="+r.yOffsets);i=2+l}break;case GOCA_CUBIC_BEZIER_CURVE_AT_CURRENT_POSITION_ORDER:case GOCA_CUBIC_BEZIER_CURVE_AT_GIVEN_POSITION_ORDER:{var l=e[t+1]&255;i=2+l}break;case GOCA_SET_PICK_IDENTIFIER_ORDER:var l=e[t+1]&255;i=2+l;break;case GOCA_SET_PROCESS_COLOR_ORDER:break}if(i==0){protocolLogger.debug("Unhandled GOCA Picture Order=0x"+hex(r.code)+" at offset=0x"+hex(t)+", dump follows");hexDump(e,protocolLogger);return null}else{r.length=i;return r}};doGOCADrawing=function(e,t,i,n,r,s){if(t.length==0){return}e.save();var o=16777215;var l=16777215;renderLogger.debug("doGOCADrawing gocaWidth,Height="+r+","+s);e.translate(i/2,n/2);if(r&&s&&i&&n&&r!=0&&s!=0&&i!=0&&n!=0){var a=r/i;var c=s/n;renderLogger.debug("GOCA SCALING: active w,h "+i+","+n+", goca w,h "+r+","+s+", ratios "+a+","+c);e.scale(1/a,-(1/c))}else{if(!t&&t.length>0){renderLogger.debug("GOCA SCALING: scaling not possible because one of the following is zero or unbound, gocaW,H="+r+","+s+" activeW,H="+i+","+n)}e.scale(1,-1)}var u;var h=-1;for(u=t.length-1;u>-1;u--){var d=t[u];if(d instanceof GOCAProcedure){var p=d;var f;for(f=0;f<p.instructions.length;f++){var E=p.instructions[f];switch(E.code){case GOCA_ERASE_INSTRUCTION:h=u;u=-1;break}}}}if(h>-1){renderLogger.warn("Reconsider gocaElement remove loop for ERASE_INSTRUCTION, removeUpTo="+h)}setFillColor(e,o);for(u=0;u<t.length;u++){var d=t[u];renderLogger.debug("Painting GOCA element="+d);if(d instanceof GOCAPicture){var T=d;var _;for(_=0;_<T.segments.length;_++){var g=T.segments[_];renderLogger.debug("-- Segment:");var S=new SegmentContext(e);var C;for(C=0;C<g.orders.length;C++){var R=g.orders[C];renderLogger.debug("--- Order="+R);renderLogger.debug("--- Name="+getOrderName(R.cod));var m=false;switch(R.code){case GOCA_SET_COLOR_ORDER:case GOCA_SET_EXTENDED_COLOR_ORDER:var N=getGOCAColor(R.colorValue,o,l);setFillColor(N);S.currentColor=N;if(S.currentPatternID>=0){}break;case GOCA_SET_PATTERN_SYMBOL_ORDER:S.currentPatternID=R.patternID;if(S.currentColor!=null){}renderLogger.debug("Pattern ID was changed to "+S.currentPatternID);break;case GOCA_SET_LINE_TYPE_ORDER:S.currentLineType=R.lineType;renderLogger.debug("---- lineType=0x"+hex(S.currentLineType));if(S.currentLineType==MAGIC_LINE_TYPE){renderLogger.debug("GOCAX line type seen, do extended drawing")}break;case GOCA_SET_MARKER_CELL_ORDER:S.currentMarkerWidth=R.markerWidth;S.currentMarkerHeight=R.markerHeight;break;case GOCA_SET_MARKER_SYMBOL_ORDER:S.currentMarkerSymbol=R.markerSymbol;break;case GOCA_MARKER_AT_CURRENT_POSITION_ORDER:m=true;case GOCA_MARKER_AT_GIVEN_POSITION_ORDER:{var A;for(A=-1;A<R.xPositions.length;A++){var y,I;if(A==-1){y=m?S.currentX:R.xPos0;I=m?S.currentY:R.yPos0}else{y=R.xPositions[A];I=R.yPositions[A]}S.currentX=y;S.currentY=I;e.fillRect(y-S.currentMarkerWidth/2,I-S.currentMarkerHeight/2,S.currentMarkerWidth,S.currentMarkerHeight)}}break;case GOCA_SET_LINE_WIDTH_ORDER:e.lineWidth=lineWidth;S.currentLineWidth=R.lineWidth;break;case GOCA_LINE_AT_GIVEN_POSITION_ORDER:case GOCA_LINE_AT_CURRENT_POSITION_ORDER:renderLogger.debug("---- Absolute Line, xPos0="+R.xPos0+", yPos="+R.yPos0);renderLogger.debug("---- xPositions="+R.xPositions);renderLogger.debug("---- yPositions="+R.yPositions);case GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER:case GOCA_RELATIVE_LINE_AT_CURRENT_POSITION_ORDER:var O=false;if(R.code==GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER||R.code==GOCA_RELATIVE_LINE_AT_CURRENT_POSITION_ORDER){O=true;renderLogger.debug("---- Relative Line");renderLogger.debug("---- xOffsets = "+R.xOffsets);renderLogger.debug("---- yOffsets = "+R.yOffsets)}if(!S.inArea){S.ctx.beginPath();S.pathExists=true;S.pathIsNew=true}m=true;if(R.code==GOCA_RELATIVE_LINE_AT_GIVEN_POSITION_ORDER||R.code==GOCA_LINE_AT_GIVEN_POSITION_ORDER){m=false;if(S.currentX!=R.xPos0||S.currentY!=R.yPos0||S.pathIsNew){S.currentX=R.xPos0;S.currentY=R.yPos0;e.moveTo(S.currentX,S.currentY)}}else if(S.pathIsNew){e.moveTo(S.currentX,S.currentY)}renderLogger.debug("---- line inArea="+S.inArea+" rel?="+O+" cur="+m+" new="+S.pathIsNew+" curX,Y=("+S.currentX+","+S.currentY+")");if(S.currentY>=400){renderLogger.debug("BIG Y: startY "+g.currentY+" seen, "+(m?"CURRENT":"GIVEN"))}S.pathIsNew=false;var b=O?R.xOffsets.length:R.xPositions.length;var A;for(A=0;A<b;A++){var P,D;if(O){P=S.currentX+R.xOffsets[A];D=S.currentY+R.yOffsets[A]}else{P=R.xPositions[A];D=R.yPositions[A]}if(D>=400){renderLogger.debug("BIG Y: nextY "+D+" seen, i="+A)}e.lineTo(P,D);renderLogger.debug("nextX,Y=0x"+hex(D)+",0x"+hex(D));S.currentX=P;S.currentY=D}if(!S.inArea){e.stroke();S.pathExists=false}break;case GOCA_SET_ARC_PARAMETERS_ORDER:S.currentPVal=R.pValue;S.currentQVal=R.qValue;S.currentRVal=R.rValue;S.currentSVal=R.sValue;break;case GOCA_BEGIN_AREA_ORDER:S.handleBeginArea();break;case GOCA_END_AREA_ORDER:S.handleEndArea();break;case GOCA_END_SEGMENT_ORDER:renderLogger.debug("Should end segment pop colors and other attributes");break;case GOCA_BEGIN_IMAGE_AT_CURRENT_POSITION_ORDER:case GOCA_BEGIN_IMAGE_AT_GIVEN_POSITION_ORDER:handleBeginImage(S,R);break;case GOCA_IMAGE_DATA_ORDER:handleImageData(S,R);break;case GOCA_END_IMAGE_AT_CURRENT_POSITION_ORDER:handleEndImage(S,R,extendedDrawingContext,orderIterator);break;case GOCA_END_PROLOG_ORDER:break;default:renderLogger.warn("Unhandled: GOCA order 0x"+hex(R.code)+" "+getOrderName(R.cod))}}}}}e.restore()};const fooToUnicode={67:[65,136],68:[85,102]};const cp1137ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,2305,2306,2307,2309,2310,2311,2312,2313,2314,46,60,40,43,124,38,2315,2316,2317,2318,2319,2320,2321,2322,2323,33,36,42,41,59,94,45,47,2324,2325,2326,2327,2328,2329,2330,2331,2332,44,37,95,62,63,2333,2334,2335,2336,2337,2338,2339,2340,2341,96,58,35,64,39,61,34,2342,97,98,99,100,101,102,103,104,105,2343,2344,2346,2347,2348,2349,2350,106,107,108,109,110,111,112,113,114,2351,2352,2354,2355,2357,2358,8204,126,115,116,117,118,119,120,121,122,2359,2360,2361,91,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,93,2379,2380,123,65,66,67,68,69,70,71,72,73,2381,2384,2385,2386,8377,65533,125,74,75,76,77,78,79,80,81,82,2400,2401,2402,2403,2404,2405,92,8205,83,84,85,86,87,88,89,90,2406,2407,2408,2409,2410,2411,48,49,50,51,52,53,54,55,56,57,2412,2413,2414,2415,2416,376];const cp037ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,229,231,241,162,46,60,40,43,124,38,233,234,235,232,237,238,239,236,223,33,36,42,41,59,172,45,47,194,196,192,193,195,197,199,209,166,44,37,95,62,63,248,201,202,203,200,205,206,207,204,96,58,35,64,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,126,115,116,117,118,119,120,121,122,161,191,208,221,222,174,94,163,165,183,169,167,182,188,189,190,91,93,175,168,180,215,123,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,125,74,75,76,77,78,79,80,81,82,185,251,252,249,250,255,92,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp273ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,123,224,225,227,229,231,241,196,46,60,40,43,33,38,233,234,235,232,237,238,239,236,126,220,36,42,41,59,94,45,47,194,91,192,193,195,197,199,209,246,44,37,95,62,63,248,201,202,203,200,205,206,207,204,96,58,35,167,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,223,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,163,165,183,169,64,182,188,189,190,172,124,175,168,180,215,228,65,66,67,68,69,70,71,72,73,45,244,166,242,243,245,252,74,75,76,77,78,79,80,81,82,185,251,125,249,250,255,214,247,83,84,85,86,87,88,89,90,178,212,92,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,93,217,218,376];const cp284ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,133,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,229,231,166,91,46,60,40,43,124,38,233,234,235,232,237,238,239,236,223,93,36,42,41,59,172,45,47,194,196,192,193,195,197,199,35,241,44,37,95,62,63,248,201,202,203,200,205,206,207,204,96,58,209,64,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,168,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,163,165,183,169,167,182,188,189,190,94,33,175,126,180,215,123,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,125,74,75,76,77,78,79,80,81,82,185,251,252,249,250,255,92,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp285ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,133,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,229,231,241,36,46,60,40,43,124,38,233,234,235,232,237,238,239,236,223,33,163,42,41,59,172,45,47,194,196,192,193,195,197,199,209,166,44,37,95,62,63,248,201,202,203,200,205,206,207,204,96,58,35,64,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,175,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,91,165,183,169,167,182,188,189,190,94,93,126,168,180,215,123,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,125,74,75,76,77,78,79,80,81,82,185,251,252,249,250,255,92,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp833ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,133,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,65533,65440,65441,65442,65443,65444,65445,65446,65447,162,46,60,40,43,124,38,65533,65448,65449,65450,65451,65452,65453,65454,65455,33,36,42,41,59,172,45,47,65456,65457,65458,65459,65460,65461,65462,65463,166,44,37,95,62,63,91,65533,65464,65465,65466,65467,65468,65469,65470,96,58,35,64,39,61,34,93,97,98,99,100,101,102,103,104,105,65474,65475,65476,65477,65478,65479,65533,106,107,108,109,110,111,112,113,114,65482,65483,65484,65485,65486,65487,8254,126,115,116,117,118,119,120,121,122,65490,65491,65492,65493,65494,65495,94,65533,92,65533,65533,65533,65533,65533,65533,65533,65498,65499,65500,65533,65533,65533,123,65,66,67,68,69,70,71,72,73,65533,65533,65533,65533,65533,65533,125,74,75,76,77,78,79,80,81,82,65533,65533,65533,65533,65533,65533,8361,65533,83,84,85,86,87,88,89,90,65533,65533,65533,65533,65533,65533,48,49,50,51,52,53,54,55,56,57,65533,65533,65533,65533,65533,376];const cp1027ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,65533,65377,65378,65379,65380,65381,65382,65383,65384,162,46,60,40,43,124,38,65385,65386,65387,65388,65389,65390,65391,65392,65393,33,36,42,41,59,172,45,47,65394,65395,65396,65397,65398,65399,65400,65401,65533,44,37,95,62,63,65402,65403,65404,65405,65406,65407,65408,65409,65410,96,58,35,64,39,61,34,65533,97,98,99,100,101,102,103,104,105,65411,65412,65413,65414,65415,65416,65533,106,107,108,109,110,111,112,113,114,65417,65418,65419,65420,65421,65422,8254,126,115,116,117,118,119,120,121,122,65423,65424,65425,91,65426,65427,94,163,165,65428,65429,65430,65431,65432,65433,65434,65435,65436,65437,93,65438,65439,123,65,66,67,68,69,70,71,72,73,65533,65533,65533,65533,65533,65533,125,74,75,76,77,78,79,80,81,82,65533,65533,65533,65533,65533,65533,92,65533,83,84,85,86,87,88,89,90,65533,65533,65533,65533,65533,65533,48,49,50,51,52,53,54,55,56,57,65533,65533,65533,65533,65533,376];const cp277ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,125,231,241,35,46,60,40,43,33,38,233,234,235,232,237,238,239,236,223,164,197,42,41,59,94,45,47,194,196,192,193,195,36,199,209,248,44,37,95,62,63,166,201,202,203,200,205,206,207,204,96,58,198,216,39,61,34,64,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,123,184,91,93,181,252,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,163,165,183,169,167,182,188,189,190,172,124,175,168,180,215,230,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,229,74,75,76,77,78,79,80,81,82,185,251,126,249,250,255,92,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp278ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,123,224,225,227,125,231,241,167,46,60,40,43,33,38,96,234,235,232,237,238,239,236,223,164,197,42,41,59,94,45,47,194,35,192,193,195,36,199,209,246,44,37,95,62,63,248,92,202,203,200,205,206,207,204,233,58,196,214,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,93,181,252,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,163,165,183,169,91,182,188,189,190,172,124,175,168,180,215,228,65,66,67,68,69,70,71,72,73,45,244,166,242,243,245,229,74,75,76,77,78,79,80,81,82,185,251,126,249,250,255,201,247,83,84,85,86,87,88,89,90,178,212,64,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp280ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,123,225,227,229,92,241,176,46,60,40,43,33,38,93,234,235,125,237,238,239,126,223,233,36,42,41,59,94,45,47,194,196,192,193,195,197,199,209,242,44,37,95,62,63,248,201,202,203,200,205,206,207,204,249,58,163,167,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,91,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,236,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,35,165,183,169,64,182,188,189,190,172,124,175,168,180,215,224,65,66,67,68,69,70,71,72,73,45,244,246,166,243,245,232,74,75,76,77,78,79,80,81,82,185,251,252,96,250,255,231,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp836ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,65533,65533,65533,65533,65533,65533,65533,65533,65533,163,46,60,40,43,124,38,65533,65533,65533,65533,65533,65533,65533,65533,65533,33,165,42,41,59,172,45,47,65533,65533,65533,65533,65533,65533,65533,65533,166,44,37,95,62,63,65533,65533,65533,65533,65533,65533,65533,65533,65533,96,58,35,64,39,61,34,65533,97,98,99,100,101,102,103,104,105,65533,65533,65533,65533,65533,65533,65533,106,107,108,109,110,111,112,113,114,65533,65533,65533,65533,65533,65533,126,8254,115,116,117,118,119,120,121,122,65533,65533,65533,65533,65533,65533,94,65533,92,65533,65533,65533,65533,65533,65533,65533,91,93,65533,65533,65533,65533,123,65,66,67,68,69,70,71,72,73,65533,65533,65533,65533,65533,65533,125,74,75,76,77,78,79,80,81,82,65533,65533,65533,65533,65533,65533,36,65533,83,84,85,86,87,88,89,90,65533,65533,65533,65533,65533,65533,48,49,50,51,52,53,54,55,56,57,65533,65533,65533,65533,65533,376];const cp290ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,133,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,65377,65378,65379,65380,65381,65382,65383,65384,65385,163,46,60,40,43,124,38,65386,65387,65388,65389,65390,65391,65533,65392,65533,33,165,42,41,59,172,45,47,97,98,99,100,101,102,103,104,65533,44,37,95,62,63,91,105,106,107,108,109,110,111,112,96,58,35,64,39,61,34,93,65393,65394,65395,65396,65397,65398,65399,65400,65401,65402,113,65403,65404,65405,65406,65407,65408,65409,65410,65411,65412,65413,65414,65415,65416,65417,114,65533,65418,65419,65420,126,8254,65421,65422,65423,65424,65425,65426,65427,65428,65429,115,65430,65431,65432,65433,94,162,92,116,117,118,119,120,121,122,65434,65435,65436,65437,65438,65439,123,65,66,67,68,69,70,71,72,73,65533,65533,65533,65533,65533,65533,125,74,75,76,77,78,79,80,81,82,65533,65533,65533,65533,65533,65533,36,65533,83,84,85,86,87,88,89,90,65533,65533,65533,65533,65533,65533,48,49,50,51,52,53,54,55,56,57,65533,65533,65533,65533,65533,376];const cp297ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,64,225,227,229,92,241,176,46,60,40,43,33,38,123,234,235,125,237,238,239,236,223,167,36,42,41,59,94,45,47,194,196,192,193,195,197,199,209,249,44,37,95,62,63,248,201,202,203,200,205,206,207,204,181,58,163,224,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,91,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,96,168,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,35,165,183,169,93,182,188,189,190,172,124,175,126,180,215,233,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,232,74,75,76,77,78,79,80,81,82,185,251,252,166,250,255,231,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp420ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,1617,65149,1600,8203,1569,1570,65154,1571,162,46,60,40,43,124,38,65156,1572,65533,65533,1574,1575,65166,1576,65169,33,36,42,41,59,172,45,47,1577,1578,65175,1579,65179,1580,65183,1581,166,44,37,95,62,63,65187,1582,65191,1583,1584,1585,1586,1587,65203,1548,58,35,64,39,61,34,1588,97,98,99,100,101,102,103,104,105,65207,1589,65211,1590,65215,1591,1592,106,107,108,109,110,111,112,113,114,1593,65226,65227,65228,1594,65230,65231,247,115,116,117,118,119,120,121,122,65232,1601,65235,1602,65239,1603,65243,1604,65269,65270,65271,65272,65533,65533,65275,65276,65247,1605,65251,1606,65255,1607,1563,65,66,67,68,69,70,71,72,73,45,65259,65533,65260,65533,1608,1567,74,75,76,77,78,79,80,81,82,1609,65264,1610,65266,65267,1632,215,65533,83,84,85,86,87,88,89,90,1633,1634,65533,1635,1636,1637,48,49,50,51,52,53,54,55,56,57,65533,1638,1639,1640,1641,376];const cp424ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,1488,1489,1490,1491,1492,1493,1494,1495,1496,162,46,60,40,43,124,38,1497,1498,1499,1500,1501,1502,1503,1504,1505,33,36,42,41,59,172,45,47,1506,1507,1508,1509,1510,1511,1512,1513,166,44,37,95,62,63,65533,1514,65533,65533,160,65533,65533,65533,8215,96,58,35,64,39,61,34,65533,97,98,99,100,101,102,103,104,105,171,187,65533,65533,65533,177,176,106,107,108,109,110,111,112,113,114,65533,65533,65533,184,65533,164,181,126,115,116,117,118,119,120,121,122,65533,65533,65533,65533,65533,174,94,163,165,8226,169,167,182,188,189,190,91,93,8254,168,180,215,123,65,66,67,68,69,70,71,72,73,45,65533,65533,65533,65533,65533,125,74,75,76,77,78,79,80,81,82,185,65533,65533,65533,65533,65533,92,247,83,84,85,86,87,88,89,90,178,65533,65533,65533,65533,65533,48,49,50,51,52,53,54,55,56,57,179,65533,65533,65533,65533,376];const cp500ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,229,231,241,91,46,60,40,43,33,38,233,234,235,232,237,238,239,236,223,93,36,42,41,59,94,45,47,194,196,192,193,195,197,199,209,166,44,37,95,62,63,248,201,202,203,200,205,206,207,204,96,58,35,64,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,240,253,254,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,126,115,116,117,118,119,120,121,122,161,191,208,221,222,174,162,163,165,183,169,167,182,188,189,190,172,124,175,168,180,215,123,65,66,67,68,69,70,71,72,73,45,244,246,242,243,245,125,74,75,76,77,78,79,80,81,82,185,251,252,249,250,255,92,247,83,84,85,86,87,88,89,90,178,212,214,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,220,217,218,376];const cp838ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,3585,3586,3587,3588,3589,3590,3591,91,162,46,60,40,43,124,38,3656,3592,3593,3594,3595,3596,3597,3598,93,33,36,42,41,59,172,45,47,3599,3600,3601,3602,3603,3604,3605,94,166,44,37,95,62,63,3647,3662,3606,3607,3608,3609,3610,3611,3612,96,58,35,64,39,61,34,3663,97,98,99,100,101,102,103,104,105,3613,3614,3615,3616,3617,3618,3674,106,107,108,109,110,111,112,113,114,3619,3620,3621,3622,3623,3624,3675,126,115,116,117,118,119,120,121,122,3625,3626,3627,3628,3629,3630,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3631,3632,3633,3634,3635,3636,123,65,66,67,68,69,70,71,72,73,3657,3637,3638,3639,3640,3641,125,74,75,76,77,78,79,80,81,82,3642,3648,3649,3650,3651,3652,92,3658,83,84,85,86,87,88,89,90,3653,3654,3655,3656,3657,3658,48,49,50,51,52,53,54,55,56,57,3659,3660,3661,3659,3660,376];const cp870ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,254,225,227,232,231,230,91,46,60,40,43,33,38,233,234,235,249,237,238,190,229,223,93,36,42,41,59,94,45,47,194,196,189,193,195,200,199,198,166,44,37,95,62,63,161,201,202,203,217,205,206,188,197,96,58,35,64,39,61,34,162,97,98,99,100,101,102,103,104,105,156,242,240,253,248,186,176,106,107,108,109,110,111,112,113,114,179,241,154,184,178,164,185,126,115,116,117,118,119,120,121,122,140,210,208,221,216,170,45,165,191,222,175,167,158,159,142,143,163,209,138,168,180,215,123,65,66,67,68,69,70,71,72,73,173,244,246,224,243,245,125,74,75,76,77,78,79,80,81,82,204,251,252,157,250,236,92,247,83,84,85,86,87,88,89,90,239,212,214,192,211,213,48,49,50,51,52,53,54,55,56,57,207,219,220,141,218,376];const cp875ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,913,914,915,916,917,918,919,920,921,91,46,60,40,43,33,38,922,923,924,925,926,927,928,929,931,93,36,42,41,59,94,45,47,932,933,934,935,936,937,938,939,124,44,37,95,62,63,168,902,904,905,160,906,908,910,911,96,58,35,64,39,61,34,901,97,98,99,100,101,102,103,104,105,945,946,947,948,949,950,176,106,107,108,109,110,111,112,113,114,951,952,953,954,955,956,180,126,115,116,117,118,119,120,121,122,957,958,959,960,961,963,163,940,941,942,970,943,972,973,971,974,962,964,965,966,967,968,123,65,66,67,68,69,70,71,72,73,45,969,912,944,8216,8213,125,74,75,76,77,78,79,80,81,82,177,189,65533,903,8217,166,92,65533,83,84,85,86,87,88,89,90,178,167,65533,65533,171,172,48,49,50,51,52,53,54,55,56,57,179,169,65533,65533,187,376];const cp918ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,1548,1563,1567,65153,65165,65166,63739,65167,91,46,60,40,43,33,38,65169,64342,64344,65171,65173,65175,64358,64360,65177,93,36,42,41,59,94,45,47,65179,65181,65183,64378,64380,65185,65187,65189,96,44,37,95,62,63,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,58,35,64,39,61,34,65191,97,98,99,100,101,102,103,104,105,65193,64392,65195,65197,64396,65199,64394,106,107,108,109,110,111,112,113,114,65201,65203,65205,65207,65209,65211,65213,126,115,116,117,118,119,120,121,122,65215,65219,65223,65225,65226,65227,65228,65229,65230,65231,65232,65233,65235,65237,65239,64398,65243,124,64402,64404,65245,65247,123,65,66,67,68,69,70,71,72,73,45,65248,65249,65251,64414,65253,125,74,75,76,77,78,79,80,81,82,65255,65157,65261,64422,64424,64425,92,64426,83,84,85,86,87,88,89,90,65152,65161,65162,65163,64508,64509,48,49,50,51,52,53,54,55,56,57,64510,64432,64430,65148,65149,376];const cp1025ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,1106,1107,1105,1108,1109,1110,1111,1112,91,46,60,40,43,33,38,1113,1114,1115,1116,1118,1119,1066,8470,1026,93,36,42,41,59,94,45,47,1027,1025,1028,1029,1030,1031,1032,1033,124,44,37,95,62,63,1034,1035,1036,45,1038,1039,1102,1072,1073,96,58,35,64,39,61,34,1094,97,98,99,100,101,102,103,104,105,1076,1077,1092,1075,1093,1080,1081,106,107,108,109,110,111,112,113,114,1082,1083,1084,1085,1086,1087,1103,126,115,116,117,118,119,120,121,122,1088,1089,1090,1091,1078,1074,1100,1099,1079,1096,1101,1097,1095,1098,1070,1040,1041,1062,1044,1045,1060,1043,123,65,66,67,68,69,70,71,72,73,1061,1048,1049,1050,1051,1052,125,74,75,76,77,78,79,80,81,82,1053,1054,1055,1071,1056,1057,92,167,83,84,85,86,87,88,89,90,1058,1059,1046,1042,1068,1067,48,49,50,51,52,53,54,55,56,57,1047,1064,1069,1065,1063,376];const cp1026ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,226,228,224,225,227,229,123,241,199,46,60,40,43,33,38,233,234,235,232,237,238,239,236,223,286,304,42,41,59,94,45,47,194,196,192,193,195,197,91,209,351,44,37,95,62,63,248,201,202,203,200,205,206,207,204,305,58,214,350,39,61,220,216,97,98,99,100,101,102,103,104,105,171,187,125,96,166,177,176,106,107,108,109,110,111,112,113,114,170,186,230,184,198,164,181,246,115,116,117,118,119,120,121,122,161,191,93,36,64,174,162,163,165,183,169,167,182,188,189,190,172,124,175,168,180,215,231,65,66,67,68,69,70,71,72,73,45,244,126,242,243,245,287,74,75,76,77,78,79,80,81,82,185,251,92,249,250,255,252,247,83,84,85,86,87,88,89,90,178,212,35,210,211,213,48,49,50,51,52,53,54,55,56,57,179,219,34,217,218,376];const cp1097ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,133,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,1548,1611,65153,65154,63738,65165,65166,63739,164,46,60,40,43,124,38,65152,65155,65156,63737,65157,65163,65167,65169,64342,33,36,42,41,59,172,45,47,64344,65173,65175,65177,65179,65181,65183,64378,1563,44,37,95,62,63,64380,65185,65187,65189,65191,65193,65195,65197,65199,96,58,35,64,39,61,34,64394,97,98,99,100,101,102,103,104,105,171,187,65201,65203,65205,65207,65209,106,107,108,109,110,111,112,113,114,65211,65213,65215,65217,65219,65221,65223,126,115,116,117,118,119,120,121,122,65225,65226,65227,65228,65229,65230,65231,65232,65233,65235,65237,65239,64398,65243,64402,64404,91,93,65245,65247,65249,215,123,65,66,67,68,69,70,71,72,73,45,65251,65253,65255,65261,65257,125,74,75,76,77,78,79,80,81,82,65259,65260,64420,64508,64509,64510,92,1567,83,84,85,86,87,88,89,90,1600,1776,1777,1778,1779,1780,48,49,50,51,52,53,54,55,56,57,1781,1782,1783,1784,1785,376];const cp1112ToUnicode=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,10,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,353,228,261,303,363,229,275,382,162,46,60,40,43,124,38,233,281,279,269,371,8222,8220,291,223,33,36,42,41,59,172,45,47,352,196,260,302,362,197,274,381,166,44,37,95,62,63,248,201,280,278,268,370,298,315,290,96,58,35,64,39,61,34,216,97,98,99,100,101,102,103,104,105,171,187,257,380,324,177,176,106,107,108,109,110,111,112,113,114,342,343,230,311,198,164,181,126,115,116,117,118,119,120,121,122,8221,378,256,379,323,174,94,163,299,183,169,167,182,188,189,190,91,93,377,310,316,215,123,65,66,67,68,69,70,71,72,73,45,333,246,326,243,245,125,74,75,76,77,78,79,80,81,82,185,263,252,322,347,8217,92,247,83,84,85,86,87,88,89,90,178,332,214,325,211,213,48,49,50,51,52,53,54,55,56,57,179,262,220,321,346,376];const ebcdic835=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12288,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,65533,65533,65533,65533,65533,65533,65533,65533,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,65533,65533,65533,65533,65533,65533,65533,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,65533,65533,65533,65533,65533,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65505,65294,65308,65288,65291,65372,65286,65533,65533,65533,65533,65533,65533,65533,65533,65533,65281,65509,10045,65289,65307,65506,65293,65295,65533,65533,65533,65533,65533,65533,65533,65533,65508,65292,65285,65343,65310,65311,65533,65533,65533,65533,65533,65533,65533,65533,65533,8245,65306,65283,65312,65287,65309,65282,65533,65345,65346,65347,65348,65349,65350,65351,65352,65353,65533,65533,65533,65533,65533,65533,65533,65354,65355,65356,65357,65358,65359,65360,65361,65362,65533,65533,65533,65533,65533,65533,65533,8254,65363,65364,65365,65366,65367,65368,65369,65370,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65371,65313,65314,65315,65316,65317,65318,65319,65320,65321,65533,65533,65533,65533,65533,65533,65373,65322,65323,65324,65325,65326,65327,65328,65329,65330,65533,65533,65533,65533,65533,65533,65284,65533,65331,65332,65333,65334,65335,65336,65337,65338,65533,65533,65533,65533,65533,65533,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12290,12300,12301,12289,8231,12530,12449,12451,12453,65504,175,8211,8978,8706,8711,8213,12455,12457,12515,12517,12519,12483,12526,12540,12533,12534,8739,65374,8810,8811,65533,8765,8733,65533,8748,8712,8715,8838,8839,8834,8835,65533,65533,8743,8744,8658,8660,8704,8707,8491,8240,9839,9837,9834,8224,8225,182,9711,65533,65533,65533,65533,65533,65533,12450,12452,12454,12456,12458,12459,12461,12463,12465,12467,65533,12469,12471,12473,12475,12477,12479,12481,12484,12486,12488,12490,12491,12492,12493,12494,65533,65533,12495,12498,12501,65533,8764,12504,12507,12510,12511,12512,12513,12514,12516,12518,65533,12520,12521,12522,12523,65533,65533,65533,65533,65533,65533,65533,9473,9475,9487,12524,12525,12527,12531,12443,12444,12460,12462,12464,12466,12468,12470,12472,12474,12476,12478,12480,12482,12485,12487,12489,12496,12499,12502,12505,12508,12532,12497,12500,12503,12506,12509,12528,12529,12541,12542,65533,65533,65340,9491,9499,9495,9507,9523,9515,9531,9547,9504,9519,9512,9527,9535,9501,9520,9509,9528,9538,12535,12536,12537,12538,12539,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12302,12303,65339,65341,12434,12353,12355,12357,8212,177,8800,8734,8451,65533,8242,12359,12361,12419,12421,12423,12387,12430,65533,65533,8208,698,63550,12293,12294,12295,168,8216,8220,12308,12296,12298,12304,8806,8756,9794,167,8251,12306,12849,8470,8481,65342,8217,8221,12309,12297,12299,12305,8807,8757,9792,215,247,8741,12307,8229,8230,65533,12354,12356,12358,12360,12362,12363,12365,12367,12369,12371,65533,12373,12375,12377,12379,12381,12383,12385,12388,12390,12392,12394,12395,12396,12397,12398,65533,65533,12399,12402,12405,65533,65533,12408,12411,12414,12415,12416,12417,12418,12420,12422,65533,12424,12425,12426,12427,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12428,12429,12431,12435,65533,65533,12364,12366,12368,12370,12372,12374,12376,12378,12380,12382,12384,12386,12389,12391,12393,12400,12403,12406,12409,12412,12436,12401,12404,12407,12410,12413,12432,12433,12445,12446,65533,65533,9675,9679,9651,9650,9678,9734,9733,9671,9670,9633,9632,9661,9660,176,180,8243,8594,8592,8593,8595,65533,65533,12441,12442,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12321,12322,12323,12324,12325,12326,12327,12328,12329,12344,12345,12346,65533,65533,65533,65533,713,714,711,715,729,12549,12550,12551,12552,12553,12554,12555,12556,12557,12558,12559,12560,12561,12562,12563,12564,12565,12566,12567,12568,12569,12570,12571,12572,12573,12574,12575,12576,12577,12578,12579,12580,12581,12582,12583,12584,12585,65533,65533,65533,65533,65533,65533,12704,12705,12706,12707,12708,12709,12710,12711,12712,12713,12714,12715,12716,12717,12718,12719,12720,12721,12722,12723,12724,12725,12726,12727,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,65533,65533,65533,65533,65533,65533,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,65533,65533,65533,65533,65533,9601,9602,9603,9604,9605,9606,9607,9608,9615,9614,9613,9612,9611,9610,9609,9532,9524,9516,9508,9500,9620,9472,9474,9621,9484,9488,9492,9496,9581,9582,9584,9583,65533,9552,9566,9578,9569,9698,9699,9701,9700,9585,9586,9587,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65089,65090,65091,65092,65083,65084,65533,65073,63551,63552,63553,63554,65077,65078,65079,65080,65081,65082,65085,65086,65087,65088,65075,9588,65290,12291,12963,8453,65076,65103,65097,65098,65101,65102,65099,65100,65121,8730,8786,8801,8745,8746,8869,8736,8735,8895,13266,13265,8747,8750,8853,8857,8598,8599,8601,8600,65533,65533,8725,8457,13269,13212,13213,13214,13262,13217,13198,13199,13252,183,65533,65533,65533,12317,12318,65533,65533,65533,8679,8632,8633,20825,20827,20830,20829,20833,20835,21991,29929,31950,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65072,65104,65105,65106,65108,65109,65110,65111,65074,65112,65113,65114,65115,65116,65117,65118,65507,717,65119,65120,65122,65123,65124,65125,65126,65128,65129,65130,65131,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9216,9217,9218,9219,9220,9221,9222,9223,9224,9225,9226,9227,9228,9229,9230,9231,9232,9233,9234,9235,9236,9237,9238,9239,9240,9241,9242,9243,9244,9245,9246,9247,9249,8364,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12032,12033,12034,12035,12036,12037,12038,12039,12040,12041,12042,12043,12044,12045,12046,12047,12048,12049,12050,12051,12052,12053,12054,12055,12056,12057,12058,12059,12060,12061,12062,12063,12064,12066,12067,12068,12069,12070,12071,12072,12073,12074,12075,12076,12077,12078,12079,12080,12081,12082,12083,12084,12085,12086,12087,12088,12089,12090,12091,12092,12093,12094,12095,65533,12096,12097,12098,12099,12100,12101,12102,12103,12104,12105,12106,12107,12108,12109,12110,12111,12112,12113,12114,12115,12116,12117,12118,12119,12120,12121,12122,12123,12124,12125,12126,12127,12128,12129,12130,12131,12132,12133,12134,12135,12136,12137,12138,12139,12140,12141,12142,12143,12144,12145,12146,12147,12148,12149,12150,12151,12152,12153,12154,12155,12156,12157,12158,12159,12160,12161,12162,12163,12164,12165,12166,12167,12168,12169,12170,12171,12172,12173,12174,12175,12176,12177,12178,12179,12180,12181,12182,12183,12184,12185,12186,12187,12188,12189,12190,12191,12192,12193,12194,12195,12196,12197,12198,12199,12200,12201,12202,12203,12204,12205,12206,12207,12208,12209,12210,12211,12212,12213,12214,12215,12216,12217,12218,12219,12220,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12221,12222,12223,12224,12225,12226,12227,12228,12229,12230,12231,12232,12233,12234,12235,12236,12237,12238,12239,12240,12241,12242,12243,12244,12245,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,13312,13316,13317,13318,13324,13334,13340,13345,13348,13352,13353,13354,13355,13357,13358,13360,13361,13362,13363,13364,13365,13368,13369,13370,13371,13372,13374,13376,13378,13379,13380,13382,13385,13386,13388,13389,13391,13393,13396,13399,13402,13405,13406,13407,13410,13411,13412,13413,13415,13418,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,13419,13422,13423,13424,13426,13427,13428,13433,13434,13435,13436,13437,13438,13439,13444,13446,13449,13451,13452,13453,13458,13459,13461,13462,13463,13465,13466,13469,13470,13471,13473,13476,13477,13478,13481,13482,13483,13484,13487,13488,13490,13491,13495,13496,13498,13500,13506,13507,13508,13509,13511,13512,13514,13515,13516,13519,13520,13521,13523,13524,13525,13526,13527,13529,13532,13533,13535,13540,13542,13543,13544,13545,13550,13551,13552,13557,13559,13563,13565,13571,13572,13575,13592,13598,13599,13602,13604,13608,13609,13613,13618,13621,13622,13625,13627,13628,13629,13630,13633,13634,13636,13637,13638,13639,13640,13642,13643,13645,13649,13650,13651,13652,13653,13654,13656,13657,13659,13660,13662,13664,13665,13666,13668,13669,13670,13671,13672,13673,13675,13676,13677,13678,13679,13681,13682,13683,13686,13687,13688,13689,13690,13691,13695,13696,13697,13698,13699,13700,13703,13712,13714,13715,13716,13719,13727,13728,13729,13731,13732,13734,13738,13739,13741,13742,13748,13751,13752,13753,13754,13757,13758,13759,13761,13763,13767,13770,13771,13773,13774,13776,13778,13782,13784,13785,13786,13787,13795,13796,13797,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,13801,13802,13811,13812,13813,13821,13822,13825,13826,13831,13833,13836,13841,13844,13845,13849,13850,13853,13854,13855,13857,13858,13859,13860,13862,13863,13864,13865,13866,13868,13869,13870,13871,13872,13873,13875,13876,13878,13879,13880,13881,13882,13883,13886,13887,13890,13891,13892,13893,13894,13895,13896,13897,13898,13899,13901,13902,13903,13904,13905,13907,13908,13909,13910,13911,13913,13915,13916,13917,13918,13923,13925,13928,13929,13930,13931,13932,13934,13935,13936,13938,13939,13940,13941,13942,13944,13945,13948,13953,13956,13957,13958,13959,13964,13966,13967,13968,13969,13971,13978,13982,13983,13985,13986,13987,13988,13989,13990,13992,13993,13994,13995,13996,13997,13998,14e3,14001,14003,14004,14005,14006,14007,14008,14009,14010,14011,14012,14013,14015,14017,14018,14019,14020,14021,14022,14023,14024,14025,14026,14027,14029,14030,14031,14032,14033,14035,14036,14037,14038,14041,14043,14044,14045,14046,14049,14050,14053,14054,14055,14056,14057,14059,14060,14061,14062,14063,14064,14065,14066,14067,14068,14069,14071,14073,14074,14075,14077,14078,14080,14081,14082,14083,14084,14086,14088,14089,14090,14091,14093,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19968,20057,19969,19971,20035,20061,20102,20108,20154,20799,20837,20843,20960,20992,20993,21147,21269,21313,21340,21448,19977,19979,19976,19978,20011,20024,20961,20037,20040,20063,20062,20110,20129,20800,20995,21242,21315,21449,21475,22303,22763,22805,22823,22899,23376,23377,23379,23544,23567,23586,23608,23665,24029,24037,24049,24050,24051,24062,24178,24318,24331,24339,25165,65533,19985,19984,19981,20013,20016,20025,20043,23609,20104,20113,20117,20114,20116,20130,20161,20160,20163,20166,20167,20173,20170,20171,20164,20803,20801,20839,20845,20846,20844,20887,20982,20998,20999,21e3,21243,21246,21247,21270,21305,21320,21319,21317,21342,21380,21451,21450,21453,22764,22825,22827,22826,22829,23380,23569,23588,23610,23663,24052,24187,24319,24340,24341,24515,25096,25142,25163,25166,25903,25991,26007,26020,26041,26085,26352,26376,26408,27424,27490,27513,27595,27604,27611,27663,27700,28779,29226,29238,29243,29255,29273,29275,29356,29579,19993,19990,19989,19988,19992,20027,20045,20047,20046,20197,20184,20180,20181,20182,20183,20195,20196,20185,20190,20805,20804,20873,20874,20908,20985,20986,20984,21002,21152,21151,21253,21254,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21271,21277,20191,21322,21321,21345,21344,21359,21358,21435,21487,21476,21491,21484,21486,21481,21480,21500,21496,21493,21483,21478,21482,21490,21489,21488,21477,21485,21499,22235,22234,22806,22830,22833,22900,22902,23381,23427,23612,24040,24039,24038,24066,24067,24179,24188,24321,24344,24343,24517,25098,25171,25172,25170,25169,26021,26086,26414,26412,26410,26411,26413,27491,65533,27597,27665,27664,27704,27713,27712,27710,29359,29572,29577,29916,29926,29976,29983,29992,29993,3e4,30001,30002,30003,30091,30333,30382,30399,30446,30683,30690,30707,31034,31166,31348,31435,19998,19999,20050,20051,20073,20121,20132,20134,20133,20223,20233,20249,20234,20245,20237,20240,20241,20239,20210,20214,20219,20208,20211,20221,20225,20235,20809,20807,20806,20808,20840,20849,20877,20912,21015,21009,21010,21006,21014,21155,21256,21281,21280,21360,21361,21513,21519,21516,21514,21520,21505,21515,21508,21521,21517,21512,21507,21518,21510,21522,22240,22238,22237,22323,22320,22312,22317,22316,22319,22313,22809,22810,22839,22840,22916,22904,22915,22909,22905,22914,22913,23383,23384,23431,23432,23429,23433,23546,23574,23673,24030,24070,24182,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24180,24335,24347,24537,24534,25102,25100,25101,25104,25187,25179,25176,25910,26089,26088,26092,26093,26354,26355,26377,26429,26420,26417,26421,27425,27492,27515,27670,27741,27735,27737,27743,27744,27728,27733,27745,27739,27725,27726,28784,29279,29277,30334,31481,31859,31992,32566,32650,32701,32769,32771,32780,32786,32819,32895,32905,32907,32908,33251,33258,33267,33276,33292,65533,33307,33311,33390,33394,33406,34411,34880,34892,34915,35199,38433,20018,20136,20301,20303,20295,20311,20318,20276,20315,20309,20272,20304,20305,20285,20282,20280,20291,20308,20284,20294,20323,20316,20320,20271,20302,20278,20313,20317,20296,20314,20812,20811,20813,20853,20918,20919,21029,21028,21033,21034,21032,21163,21161,21162,21164,21283,21363,21365,21533,21549,21534,21566,21542,21582,21543,21574,21571,21555,21576,21570,21531,21545,21578,21561,21563,21560,21550,21557,21558,21536,21564,21568,21553,21547,21535,21548,22250,22256,22244,22251,22346,22353,22336,22349,22343,22350,22334,22352,22351,22331,22767,22846,22941,22930,22952,22942,22947,22937,22934,22925,22948,22931,22922,22949,23389,23388,23386,23387,23436,23435,23439,23596,23616,23617,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23615,23614,23696,23697,23700,23692,24043,24076,24207,24199,24202,24311,24324,24351,24420,24418,24439,24441,24536,24524,24535,24525,24561,24555,24568,24554,25106,25105,25220,25239,25238,25216,25206,25225,25197,25226,25212,25214,25209,25203,25234,25199,25240,25198,25237,25235,25233,25222,25913,25915,25912,26097,26356,26463,26446,26447,26448,26449,26460,26454,26462,26441,26438,65533,26464,26451,26455,27493,27599,27714,27742,27801,27777,27784,27785,27781,27803,27754,27770,27792,27760,27788,27752,27798,27794,27773,27779,27762,27774,27764,27782,27766,27789,27796,27800,27778,28790,28796,28797,28792,29282,29281,29280,29380,29378,29590,29996,29995,30007,30008,30338,30447,30691,31169,31168,31167,31350,31995,32597,32918,32915,32925,32920,32923,32922,32946,33391,33426,33419,33421,35211,35282,35328,35895,35910,35925,35997,36196,36208,36275,36523,36554,36763,36784,36802,36806,36805,36804,24033,37009,37026,37034,37030,37027,37193,37318,37324,38450,38446,38449,38442,38444,20006,20054,20083,20107,20123,20126,20139,20140,20335,20381,20365,20339,20351,20332,20379,20363,20358,20355,20336,20341,20360,20329,20347,20374,20350,20367,20369,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20346,20820,20818,20821,20841,20855,20854,20856,20925,20989,21051,21048,21047,21050,21040,21038,21046,21057,21182,21179,21330,21332,21331,21329,21350,21367,21368,21369,21462,21460,21463,21619,21621,21654,21624,21653,21632,21627,21623,21636,21650,21638,21628,21648,21617,21622,21644,21658,21602,21608,21643,21629,21646,22266,22403,22391,22378,22377,22369,22374,22372,22396,22812,65533,22857,22855,22856,22852,22868,22974,22971,22996,22969,22958,22993,22982,22992,22989,22987,22995,22986,22959,22963,22994,22981,23391,23396,23395,23447,23450,23448,23452,23449,23451,23578,23624,23621,23622,23735,23713,23736,23721,23723,23729,23731,24088,24090,24086,24085,24091,24081,24184,24218,24215,24220,24213,24214,24310,24358,24359,24361,24448,24449,24447,24444,24541,24544,24573,24565,24575,24591,24596,24623,24629,24598,24618,24597,24609,24615,24617,24619,24603,25110,25109,25151,25150,25152,25215,25289,25292,25284,25279,25282,25273,25298,25307,25259,25299,25300,25291,25288,25256,25277,25276,25296,25305,25287,25293,25269,25306,25265,25304,25302,25303,25286,25260,25294,25918,26023,26044,26106,26132,26131,26124,26118,26114,26126,26112,26127,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26133,26122,26119,26381,26379,26477,26507,26517,26481,26524,26483,26487,26503,26525,26519,26479,26480,26495,26505,26494,26512,26485,26522,26515,26492,26474,26482,27427,27494,27495,27519,27667,27675,27875,27880,27891,27825,27852,27877,27827,27837,27838,27836,27874,27819,27861,27859,27832,27844,27833,27841,27822,27863,27845,27889,27839,27835,27873,27867,27850,27820,27887,27868,65533,27862,27872,28821,28814,28818,28810,28825,29228,29229,29240,29256,29287,29289,29376,29390,29401,29399,29392,29609,29608,29599,29611,29605,30013,30109,30105,30106,30340,30402,30450,30452,30693,30717,31038,31040,31041,31177,31176,31354,31353,31482,31998,32596,32652,32651,32773,32954,32933,32930,32945,32929,32939,32937,32948,32938,32943,33253,33278,33293,33459,33437,33433,33453,33469,33439,33465,33457,33452,33445,33455,33464,33443,33456,33470,33463,34382,34417,21021,34920,36555,36814,36820,36817,37045,37048,37041,37046,37319,37329,38263,38272,38428,38464,38463,38459,38468,38466,38585,38632,38738,38750,20127,20141,20142,20449,20405,20399,20415,20448,20433,20431,20445,20419,20406,20440,20447,20426,20439,20398,20432,20420,20418,20442,20430,20446,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20407,20823,20882,20881,20896,21070,21059,21066,21069,21068,21067,21063,21191,21193,21187,21185,21261,21335,21371,21402,21467,21676,21696,21672,21710,21705,21688,21670,21683,21703,21698,21693,21674,21697,21700,21704,21679,21675,21681,21691,21673,21671,21695,22271,22402,22411,22432,22435,22434,22478,22446,22419,22869,22865,22863,22862,22864,23004,23e3,23039,23011,23016,23043,65533,23013,23018,23002,23014,23041,23035,23401,23459,23462,23460,23458,23461,23553,23630,23631,23629,23627,23769,23762,24055,24093,24101,24095,24189,24224,24230,24314,24328,24365,24421,24456,24453,24458,24459,24455,24460,24457,24594,24605,24608,24613,24590,24616,24653,24688,24680,24674,24646,24643,24684,24683,24682,24676,25153,25308,25366,25353,25340,25325,25345,25326,25341,25351,25329,25335,25327,25324,25342,25332,25361,25346,25919,25925,26027,26045,26082,26149,26157,26144,26151,26159,26143,26152,26161,26148,26359,26623,26579,26609,26580,26576,26604,26550,26543,26613,26601,26607,26564,26577,26548,26586,26597,26552,26575,26590,26611,26544,26585,26594,26589,26578,27498,27523,27526,27573,27602,27607,27679,27849,27915,27954,27946,27969,27941,27916,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27953,27934,27927,27963,27965,27966,27958,27931,27893,27961,27943,27960,27945,27950,27957,27918,27947,28843,28858,28851,28844,28847,28845,28856,28846,28836,29232,29298,29295,29300,29417,29408,29409,29623,29642,29627,29618,29645,29632,29619,29978,29997,30031,30028,30030,30027,30123,30116,30117,30114,30115,30328,30342,30343,30344,30408,30406,30403,30405,30465,30457,30456,30473,65533,30475,30462,30460,30471,30684,30722,30740,30732,30733,31046,31049,31048,31047,31161,31162,31185,31186,31179,31359,31361,31487,31485,31869,32002,32005,32e3,32009,32007,32004,32006,32568,32654,32703,32772,32784,32781,32785,32822,32982,32997,32986,32963,32964,32972,32993,32987,32974,32990,32996,32989,33268,33314,33511,33539,33541,33507,33499,33510,33540,33509,33538,33545,33490,33495,33521,33537,33500,33492,33489,33502,33491,33503,33519,33542,34384,34425,34427,34426,34893,34923,35201,35284,35336,35330,35331,35998,36e3,36212,36211,36276,36557,36556,36848,36838,36834,36842,36837,36845,36843,36836,36840,37066,37070,37057,37059,37195,37194,37325,38274,38480,38475,38476,38477,38754,38761,38859,38893,38899,38913,39080,39131,39135,39318,39321,20056,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20147,20492,20493,20515,20463,20518,20517,20472,20521,20502,20486,20540,20511,20506,20498,20497,20474,20480,20500,20520,20465,20513,20491,20505,20504,20467,20462,20525,20522,20478,20523,20489,20860,20900,20901,20898,20941,20940,20934,20939,21078,21084,21076,21083,21085,21290,21375,21407,21405,21471,21736,21776,21761,21815,21756,21733,21746,21766,21754,21780,21737,21741,21729,65533,21769,21742,21738,21734,21799,21767,21757,21775,22275,22276,22466,22484,22475,22467,22537,22799,22871,22872,22874,23057,23064,23068,23071,23067,23059,23020,23072,23075,23081,23077,23052,23049,23403,23640,23472,23475,23478,23476,23470,23477,23481,23480,23556,23633,23637,23632,23789,23805,23803,23786,23784,23792,23798,23809,23796,24046,24109,24107,24235,24237,24231,24369,24466,24465,24464,24665,24675,24677,24656,24661,24685,24681,24687,24708,24735,24730,24717,24724,24716,24709,24726,25159,25331,25352,25343,25422,25406,25391,25429,25410,25414,25423,25417,25402,25424,25405,25386,25387,25384,25421,25420,25928,25929,26009,26049,26053,26178,26185,26191,26179,26194,26188,26181,26177,26360,26388,26389,26391,26657,26680,26696,26694,26707,26681,26690,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26708,26665,26803,26647,26700,26705,26685,26612,26704,26688,26684,26691,26666,26693,26643,26648,26689,27530,27529,27575,27683,27687,27688,27686,27684,27888,28010,28053,28040,28039,28006,28024,28023,27993,28051,28012,28041,28014,27994,28020,28009,28044,28042,28025,28037,28005,28052,28874,28888,28900,28889,28872,28879,29241,29305,29436,29433,29437,29432,29431,29574,29677,29705,65533,29678,29664,29674,29662,30036,30045,30044,30042,30041,30142,30149,30151,30130,30131,30141,30140,30137,30146,30136,30347,30384,30410,30413,30414,30505,30495,30496,30504,30697,30768,30759,30776,30749,30772,30775,30757,30765,30752,30751,30770,31061,31056,31072,31071,31062,31070,31069,31063,31066,31204,31203,31207,31199,31206,31209,31192,31364,31368,31449,31494,31505,31881,32033,32023,32011,32010,32032,32034,32020,32016,32021,32026,32028,32013,32025,32027,32570,32607,32660,32709,32705,32774,32792,32789,32793,32791,32829,32831,33009,33026,33008,33029,33005,33012,33030,33016,33011,33032,33021,33034,33020,33007,33261,33260,33280,33296,33322,33323,33320,33324,33467,33579,33618,33620,33610,33592,33616,33609,33589,33588,33615,33586,33593,33590,33559,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33600,33585,33576,33603,34388,34442,34474,34451,34468,34473,34444,34467,34460,34928,34935,34945,34946,34941,34937,35352,35344,35342,35340,35349,35338,35351,35347,35350,35343,35345,35912,35962,35961,36001,36002,36215,36524,36562,36564,36559,36785,36865,36870,36855,36864,36858,36852,36867,36861,36869,36856,37013,37089,37085,37090,37202,37197,37196,37336,37341,37335,37340,37337,65533,38275,38498,38499,38497,38491,38493,38500,38488,38494,38587,39138,39340,39592,39640,39717,39730,39740,20094,20602,20605,20572,20551,20547,20556,20570,20553,20581,20598,20558,20565,20597,20596,20599,20559,20495,20591,20589,20828,20885,20976,21098,21103,21202,21209,21208,21205,21264,21263,21273,21311,21312,21310,21443,26364,21830,21866,21862,21828,21854,21857,21827,21834,21809,21846,21839,21845,21807,21860,21816,21806,21852,21804,21859,21811,21825,21847,22280,22283,22281,22495,22533,22538,22534,22496,22500,22522,22530,22581,22519,22521,22816,22882,23094,23105,23113,23142,23146,23104,23100,23138,23130,23110,23114,23408,23495,23493,23492,23490,23487,23494,23561,23560,23559,23648,23644,23645,23815,23814,23822,23835,23830,23842,23825,23849,23828,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23833,23844,23847,23831,24034,24120,24118,24115,24119,24247,24248,24246,24245,24254,24373,24375,24407,24428,24425,24427,24471,24473,24478,24472,24481,24480,24476,24703,24739,24713,24736,24744,24779,24756,24806,24765,24773,24763,24757,24796,24764,24792,24789,24774,24799,24760,24794,24775,25114,25115,25160,25504,25511,25458,25494,25506,25509,25463,25447,25496,25514,25457,25513,65533,25481,25475,25499,25451,25512,25476,25480,25497,25505,25516,25490,25487,25472,25467,25449,25448,25466,25949,25942,25937,25945,25943,21855,25935,25944,25941,25940,26012,26011,26028,26063,26059,26060,26062,26205,26202,26212,26216,26214,26206,26361,21207,26395,26753,26799,26786,26771,26805,26751,26742,26801,26791,26775,26800,26755,26820,26797,26758,26757,26772,26781,26792,26783,26785,26754,27442,27578,27627,27628,27691,28046,28092,28147,28121,28082,28129,28108,28132,28155,28154,28165,28103,28107,28079,28113,28078,28126,28153,28088,28151,28149,28101,28114,28186,28085,28122,28139,28120,28138,28145,28142,28136,28102,28100,28074,28140,28095,28134,28921,28937,28938,28925,28911,29245,29309,29313,29468,29467,29462,29459,29465,29575,29701,29706,29699,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29702,29694,29709,29920,29942,29943,29980,29986,30053,30054,30050,30064,30095,30164,30165,30133,30154,30157,30350,30420,30418,30427,30519,30526,30524,30518,30520,30522,30827,30787,30798,31077,31080,31085,31227,31378,31381,31520,31528,31515,31532,31526,31513,31518,31534,31890,31895,31893,32070,32067,32113,32046,32057,32060,32064,32048,32051,32068,32047,32066,32050,32049,32573,65533,32670,32666,32716,32718,32722,32796,32842,32838,33071,33046,33059,33067,33065,33072,33060,33282,33333,33335,33334,33337,33678,33694,33688,33656,33698,33686,33725,33707,33682,33674,33683,33673,33696,33655,33659,33660,33670,33703,34389,24426,34503,34496,34486,34500,34485,34502,34507,34481,34479,34505,34899,34974,34952,34987,34962,34966,34957,34955,35219,35215,35370,35357,35363,35365,35377,35373,35359,35355,35362,35913,35930,36009,36012,36011,36008,36010,36007,36199,36198,36286,36282,36571,36575,36889,36877,36890,36887,36899,36895,36893,36880,36885,36894,36896,36879,36898,36886,36891,36884,37096,37101,37117,37207,37326,37365,37350,37347,37351,37357,37353,38281,38506,38517,38515,38520,38512,38516,38518,38519,38508,38592,38634,38633,31456,31455,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38914,38915,39770,40165,40565,40575,40613,40635,20642,20621,20613,20633,20625,20608,20630,20632,20634,26368,20977,21106,21108,21109,21097,21214,21213,21211,21338,21413,21883,21888,21927,21884,21898,21917,21912,21890,21916,21930,21908,21895,21899,21891,21939,21934,21919,21822,21938,21914,21947,21932,21937,21886,21897,21931,21913,22285,22575,22570,22580,22564,22576,22577,22561,65533,22557,22560,22777,22778,22880,23159,23194,23167,23186,23195,23207,23411,23409,23506,23500,23507,23504,23562,23563,23601,23884,23888,23860,23879,24061,24133,24125,24128,24131,24190,24266,24257,24258,24260,24380,24429,24489,24490,24488,24785,24801,24754,24758,24800,24860,24867,24826,24853,24816,24827,24820,24936,24817,24846,24822,24841,24832,24850,25119,25161,25507,25484,25551,25536,25577,25545,25542,25549,25554,25571,25552,25569,25558,25581,25582,25462,25588,25578,25563,25682,25562,25593,25950,25958,25954,25955,26001,26e3,26031,26222,26224,26228,26230,26223,26257,26234,26238,26231,26366,26367,26399,26397,26874,26837,26848,26840,26839,26885,26847,26869,26862,26855,26873,26834,26866,26851,26827,26829,26893,26898,26894,26825,26842,26990,26875,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27454,27450,27453,27544,27542,27580,27631,27694,27695,27692,28207,28216,28244,28193,28210,28263,28234,28192,28197,28195,28187,28251,28248,28196,28246,28270,28205,28198,28271,28212,28237,28218,28204,28227,28189,28222,28363,28297,28185,28238,28259,28228,28274,28265,28255,28953,28954,28966,28976,28961,28982,29038,28956,29260,29316,29312,29494,29477,29492,29481,29754,29738,29747,65533,29730,29733,29749,29750,29748,29743,29723,29734,29736,29989,29990,30059,30058,30178,30171,30179,30169,30168,30174,30176,30331,30332,30358,30355,30388,30428,30543,30701,30813,30828,30831,31245,31240,31243,31237,31232,31384,31383,31382,31461,31459,31561,31574,31558,31568,31570,31572,31565,31563,31567,31569,31903,31909,32094,32080,32104,32085,32043,32110,32114,32097,32102,32098,32112,32115,21892,32724,32725,32779,32850,32901,33109,33108,33099,33105,33102,33081,33094,33086,33100,33107,33140,33298,33308,33769,33795,33784,33805,33760,33733,33803,33729,33775,33777,33780,33879,33802,33776,33804,33740,33789,33778,33738,33848,33806,33796,33756,33799,33748,33759,34395,34527,34521,34541,34516,34523,34532,34512,34526,34903,35009,35010,34993,35203,35222,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35387,35424,35413,35422,35388,35393,35412,35419,35408,35398,35380,35386,35382,35414,35937,35970,36015,36028,36019,36029,36033,36027,36032,36020,36023,36022,36031,36024,36234,36229,36225,36302,36317,36299,36314,36305,36300,36315,36294,36603,36600,36604,36764,36910,36917,36913,36920,36914,36918,37122,37109,37129,37118,37219,37221,37327,37396,37397,37411,37385,37406,37389,37392,65533,37383,37393,38292,38287,38283,38289,38291,38290,38286,38538,38542,38539,38525,38533,38534,38541,38514,38532,38593,38597,38596,38598,38599,38639,38642,38860,38917,38918,38920,39143,39146,39151,39145,39154,39149,39342,39341,40643,40653,40657,20098,20653,20661,20658,20659,20677,20670,20652,20663,20667,20655,20679,21119,21111,21117,21215,21222,21220,21218,21219,21295,21983,21992,21971,21990,21966,21980,21959,21969,21987,21988,21999,21978,21985,21957,21958,21989,21961,22290,22291,22622,22609,22616,22615,22618,22612,22635,22604,22637,22602,22626,22610,22603,22887,23233,23241,23244,23230,23229,23228,23219,23234,23218,23913,23919,24140,24185,24265,24264,24338,24409,24492,24494,24858,24847,24904,24863,24819,24859,24825,24833,24840,24910,24908,24900,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24909,24894,24884,24871,24845,24838,24887,25121,25122,25619,25662,25630,25642,25645,25661,25644,25615,25628,25620,25613,25654,25622,25623,25606,25964,26015,26032,26263,26249,26247,26248,26262,26244,26264,26253,26371,27028,26989,26970,26999,26976,26964,26997,26928,27010,26954,26984,26987,26974,26963,27001,27014,26973,26979,26971,27463,27506,27584,27583,27603,27645,28322,28335,65533,28371,28342,28354,28304,28317,28359,28357,28325,28312,28348,28346,28331,28369,28310,28316,28356,28372,28330,28327,28340,29006,29017,29033,29028,29001,29031,29020,29036,29030,29004,29029,29022,28998,29032,29014,29242,29266,29495,29509,29503,29502,29807,29786,29781,29791,29790,29761,29759,29785,29787,29788,30070,30072,30208,30192,30209,30194,30193,30202,30207,30196,30195,30430,30431,30555,30571,30566,30558,30563,30585,30570,30572,30556,30565,30568,30562,30702,30862,30896,30871,30872,30860,30857,30844,30865,30867,30847,31098,31103,31105,33836,31165,31260,31258,31264,31252,31263,31262,31391,31392,31607,31680,31584,31598,31591,31921,31923,31925,32147,32121,32145,32129,32143,32091,32622,32617,32618,32626,32681,32680,32676,32854,32856,32902,32900,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33137,33136,33144,33125,33134,33139,33131,33145,33146,33126,33285,33351,33922,33911,33853,33841,33909,33894,33899,33865,33900,33883,33852,33845,33889,33891,33897,33901,33862,34398,34396,34399,34553,34579,34568,34567,34560,34558,34555,34562,34563,34566,34570,34905,35039,35028,35033,35036,35032,35037,35041,35018,35029,35026,35228,35299,35435,35442,35443,35430,35433,35440,35463,65533,35452,35427,35488,35441,35461,35437,35426,35438,35436,35449,35451,35390,35432,35938,35978,35977,36042,36039,36040,36036,36018,36035,36034,36037,36321,36319,36328,36335,36339,36346,36330,36324,36326,36530,36611,36617,36606,36618,36767,36786,36939,36938,36947,36930,36948,36924,36949,36944,36935,36943,36942,36941,36945,36926,36929,37138,37143,37228,37226,37225,37321,37431,37463,37432,37437,37440,37438,37467,37451,37476,37457,37428,37449,37453,37445,37433,37439,37466,38296,38552,38548,38549,38605,38603,38601,38602,38647,38651,38649,38646,38742,38772,38774,38928,38929,38931,38922,38930,38924,39164,39156,39165,39166,39347,39345,39348,39649,40169,40578,40718,40723,40736,20711,20718,20709,20694,20717,20698,20693,20687,20689,20721,20686,20713,20834,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20979,21123,21122,21297,21421,22014,22016,22043,22039,22013,22036,22022,22025,22029,22030,22007,22038,22047,22024,22032,22006,22296,22294,22645,22654,22659,22675,22666,22649,22661,22653,22781,22821,22818,22820,22890,22889,23265,23270,23273,23255,23254,23256,23267,23413,23518,23527,23521,23525,23526,23528,23522,23524,23519,23565,23650,23940,23943,24155,24163,24149,24151,24148,65533,24275,24278,24330,24390,24432,24505,24903,24895,24907,24951,24930,24931,24927,24922,24920,24949,25130,25735,25688,25684,25764,25720,25695,25722,25681,25703,25652,25709,25723,25970,26017,26071,26070,26274,26280,26269,27036,27048,27029,27073,27054,27091,27083,27035,27063,27067,27051,27060,27088,27085,27053,27084,27046,27075,27043,27465,27468,27699,28467,28436,28414,28435,28404,28457,28478,28448,28460,28431,28418,28450,28415,28399,28422,28465,28472,28466,28451,28437,28459,28463,28552,28458,28396,28417,28402,28364,28407,29076,29081,29053,29066,29060,29074,29246,29330,29334,29508,29520,29796,29795,29802,29808,29805,29956,30097,30247,30221,30219,30217,30227,30433,30435,30596,30589,30591,30561,30913,30879,30887,30899,30889,30883,31118,31119,31117,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31278,31281,31402,31401,31469,31471,31649,31637,31627,31605,31639,31645,31636,31631,31672,31623,31620,31929,31933,31934,32187,32176,32156,32189,32190,32160,32202,32180,32178,32177,32186,32162,32191,32181,32184,32173,32210,32199,32172,32624,32736,32737,32735,32862,32858,32903,33104,33152,33167,33160,33162,33151,33154,33255,33274,33287,33300,33310,33355,33993,33983,33990,33988,65533,33945,33950,33970,33948,33995,33976,33984,34003,33936,33980,34001,33994,34623,34588,34619,34594,34597,34612,34584,34645,34615,34601,35059,35074,35060,35065,35064,35069,35048,35098,35055,35494,35468,35486,35491,35469,35489,35475,35492,35498,35493,35496,35480,35473,35482,35495,35946,35981,35980,36051,36049,36050,36203,36249,36245,36348,36628,36626,36629,36627,36771,36960,36952,36956,36963,36953,36958,36962,36957,36955,37145,37144,37150,37237,37240,37239,37236,37496,37504,37509,37528,37526,37499,37523,37532,37544,37500,37521,38305,38312,38313,38307,38309,38308,38553,38556,38555,38604,38610,38656,38780,38789,38902,38935,38936,39087,39089,39171,39173,39180,39177,39361,39599,39600,39654,39745,39746,40180,40182,40179,40636,40763,40778,20740,20736,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20731,20725,20729,20738,20744,20745,20741,20956,21127,21128,21129,21133,21130,21232,21426,22062,22075,22073,22066,22079,22068,22057,22099,22094,22103,22132,22070,22063,22064,22656,22687,22686,22707,22684,22702,22697,22694,22893,23305,23291,23307,23285,23308,23304,23534,23532,23529,23531,23652,23653,23965,23956,24162,24159,24161,24290,24282,24287,24285,24291,24288,24392,24433,65533,24503,24501,24950,24935,24942,24925,24917,24962,24956,24944,24939,24958,24999,24976,25003,24974,25004,24986,24996,24980,25006,25134,25705,25711,25721,25758,25778,25736,25744,25776,25765,25747,25749,25769,25746,25774,25773,25771,25754,25772,25753,25762,25779,25973,25975,25976,26286,26283,26292,26289,27171,27167,27112,27137,27166,27161,27133,27169,27155,27146,27123,27138,27141,27117,27153,27472,27470,27556,27589,27590,28479,28540,28548,28497,28518,28500,28550,28525,28507,28536,28526,28558,28538,28528,28516,28567,28504,28373,28527,28512,28511,29087,29100,29105,29096,29270,29339,29518,29527,29801,29835,29827,29822,29824,30079,30240,30249,30239,30244,30246,30241,30242,30362,30394,30436,30606,30599,30604,30609,30603,30923,30917,30906,30922,30910,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30933,30908,30928,31295,31292,31296,31293,31287,31291,31407,31406,31661,31665,31684,31668,31686,31687,31681,31648,31692,31946,32224,32244,32239,32251,32216,32236,32221,32232,32227,32218,32222,32233,32158,32217,32242,32249,32629,32631,32687,32745,32806,33179,33180,33181,33184,33178,33176,34071,34109,34074,34030,34092,34093,34067,34065,34083,34081,34068,34028,34085,34047,34054,65533,34690,34676,34678,34656,34662,34680,34664,34649,34647,34636,34643,34907,34909,35088,35079,35090,35091,35093,35082,35516,35538,35527,35524,35477,35531,35576,35506,35529,35522,35519,35504,35542,35533,35510,35513,35547,35916,35918,35948,36064,36062,36070,36068,36076,36077,36066,36067,36060,36074,36065,36205,36255,36259,36395,36368,36381,36386,36367,36393,36383,36385,36382,36538,36637,36635,36639,36649,36646,36650,36636,36638,36645,36969,36974,36968,36973,36983,37168,37165,37159,37169,37255,37257,37259,37251,37573,37563,37559,37610,37548,37604,37569,37555,37564,37586,37575,37616,37554,38317,38321,38660,38662,38663,38665,38752,38797,38795,38799,38945,38955,38940,39091,39178,39187,39186,39192,39389,39376,39391,39387,39377,39381,39378,39385,39607,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39662,39663,39719,39749,39748,39799,39791,40198,40201,40195,40617,40638,40654,22696,40786,20754,20760,20756,20752,20757,20864,20906,20957,21137,21139,21235,22105,22123,22137,22121,22116,22136,22122,22120,22117,22129,22127,22124,22114,22134,22721,22718,22727,22725,22894,23325,23348,23416,23536,23566,24394,25010,24977,25001,24970,25037,25014,25022,25034,25032,25136,25797,25793,65533,25803,25787,25788,25818,25796,25799,25794,25805,25791,25810,25812,25790,25972,26310,26313,26297,26308,26311,26296,27197,27192,27194,27225,27243,27224,27193,27204,27234,27233,27211,27207,27189,27231,27208,27481,27511,27653,28610,28593,28577,28611,28580,28609,28583,28595,28608,28601,28598,28582,28576,28596,29118,29129,29136,29138,29128,29141,29113,29134,29145,29148,29123,29124,29544,29852,29859,29848,29855,29854,29922,29964,29965,30260,30264,30266,30439,30437,30624,30622,30623,30629,30952,30938,30956,30951,31142,31309,31310,31302,31308,31307,31418,31705,31761,31689,31716,31707,31713,31721,31718,31957,31958,32266,32273,32264,32283,32291,32286,32285,32265,32272,32633,32690,32752,32753,32750,32808,33203,33193,33192,33275,33288,33368,33369,34122,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34137,34120,34152,34153,34115,34121,34157,34154,34142,34691,34719,34718,34722,34701,34913,35114,35122,35109,35115,35105,35242,35238,35558,35578,35563,35569,35584,35548,35559,35566,35582,35585,35586,35575,35565,35571,35574,35580,35947,35949,35987,36084,36420,36401,36404,36418,36409,36405,36667,36655,36664,36659,36776,36774,36981,36980,36984,36978,36988,36986,37172,37266,37664,65533,37686,37624,37683,37679,37666,37628,37675,37636,37658,37648,37670,37665,37653,37678,37657,38331,38567,38568,38570,38613,38670,38673,38678,38669,38675,38671,38747,38748,38758,38808,38960,38968,38971,38967,38957,38969,38948,39184,39208,39198,39195,39201,39194,39405,39394,39409,39608,39612,39675,39661,39720,39825,40213,40227,40230,40232,40210,40219,40664,40660,40845,40860,20778,20767,20769,20786,21237,22158,22144,22160,22149,22151,22159,22741,22739,22737,22734,23344,23338,23332,23418,23607,23656,23996,23994,23997,23992,24171,24396,24509,25033,25026,25031,25062,25035,25138,25140,25806,25802,25816,25824,25840,25830,25836,25841,25826,25837,25986,25987,26329,26326,27264,27284,27268,27298,27292,27355,27299,27262,27287,27280,27296,27484,27566,27610,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27656,28632,28657,28639,28640,28635,28644,28651,28655,28544,28652,28641,28649,28629,28654,28656,29159,29151,29166,29158,29157,29165,29164,29172,29152,29237,29254,29552,29554,29865,29872,29862,29864,30278,30274,30284,30442,30643,30634,30640,30636,30631,30637,30703,30967,30970,30964,30959,30977,31143,31146,31319,31423,31751,31757,31742,31735,31756,31712,31968,31964,31966,31970,65533,31967,31961,31965,32302,32318,32326,32311,32306,32323,32299,32317,32305,32325,32321,32308,32313,32328,32309,32319,32303,32580,32755,32764,32881,32882,32880,32879,32883,33222,33219,33210,33218,33216,33215,33213,33225,33214,33256,33289,33393,34218,34180,34174,34204,34193,34196,34223,34203,34183,34216,34186,34407,34752,34769,34739,34770,34758,34731,34747,34746,34760,34763,35131,35126,35140,35128,35133,35244,35598,35607,35609,35611,35594,35616,35613,35588,35600,35905,35903,35955,36090,36093,36092,36088,36091,36264,36425,36427,36424,36426,36676,36670,36674,36677,36671,36991,36989,36996,36993,36994,36992,37177,37283,37278,37276,37709,37762,37672,37749,37706,37733,37707,37656,37758,37740,37723,37744,37722,37716,38346,38347,38348,38344,38342,38577,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38584,38614,38684,38686,38816,38867,38982,39094,39221,39425,39423,39854,39851,39850,39853,40251,40255,40587,40655,40670,40668,40669,40667,40766,40779,21474,22165,22190,22745,22744,23352,24414,25059,25139,25844,25842,25854,25862,25850,25851,25847,26039,26332,26406,27315,27308,27331,27323,27320,27330,27310,27311,27487,27512,27567,28681,28683,28670,28678,28666,28689,28687,29179,65533,29180,29182,29176,29559,29557,29863,29887,29973,30294,30296,30290,30653,30655,30651,30652,30990,31150,31329,31330,31328,31428,31429,31787,31783,31786,31774,31779,31777,31975,32340,32341,32350,32346,32353,32338,32345,32584,32761,32763,32887,32886,33229,33231,33290,34255,34217,34253,34256,34249,34224,34234,34233,34214,34799,34796,34802,34784,35206,35250,35316,35624,35641,35628,35627,35920,36101,36441,36451,36454,36452,36447,36437,36544,36681,36685,36999,36995,37e3,37291,37292,37328,37780,37770,37782,37794,37811,37806,37804,37808,37784,37786,37783,38356,38358,38352,38357,38626,38620,38617,38619,38622,38692,38819,38822,38829,38905,38989,38991,38988,38990,38995,39098,39230,39231,39229,39214,39333,39438,39617,39683,39686,39759,39758,39757,39882,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39881,39933,39880,39872,40273,40285,40288,40672,40725,40748,20787,22181,22750,22751,22754,23541,40848,24300,25074,25079,25078,25077,25856,25871,26336,26333,27365,27357,27354,27347,28699,28703,28712,28698,28701,28693,28696,29190,29197,29272,29346,29560,29562,29885,29898,29923,30087,30086,30303,30305,30663,31001,31153,31339,31337,31806,31807,31800,31805,31799,31808,32363,32365,65533,32377,32361,32362,32645,32371,32694,32697,32696,33240,34281,34269,34282,34261,34276,34277,34295,34811,34821,34829,34809,34814,35168,35167,35158,35166,35649,35676,35672,35657,35674,35662,35663,35654,35673,36104,36106,36476,36466,36487,36470,36460,36474,36468,36692,36686,36781,37002,37003,37297,37294,37857,37841,37855,37827,37832,37852,37853,37846,37858,37837,37848,37860,37847,37864,38364,38580,38627,38698,38695,38753,38876,38907,39006,39e3,39003,39100,39237,39241,39446,39449,39693,39912,39911,39894,39899,40329,40289,40306,40298,40300,40594,40599,40595,40628,21240,22184,22199,22198,22196,22204,22756,23360,23363,23421,23542,24009,25080,25082,25880,25876,25881,26342,26407,27372,28734,28720,28722,29200,29563,29903,30306,30309,31014,31018,31020,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31019,31431,31478,31820,31811,31821,31983,31984,36782,32381,32380,32386,32588,32768,33242,33382,34299,34297,34321,34298,34310,34315,34311,34314,34836,34837,35172,35258,35320,35696,35692,35686,35695,35679,35691,36111,36109,36489,36481,36485,36482,37300,37323,37912,37891,37885,38369,38704,39108,39250,39249,39336,39467,39472,39479,39477,39955,39949,40569,40629,40680,40751,40799,65533,40803,40801,20791,20792,22209,22208,22210,22804,23660,24013,25084,25086,25885,25884,26005,26345,27387,27396,27386,27570,28748,29211,29351,29910,29908,30313,30675,31824,32399,32396,32700,34327,34349,34330,34851,34850,34849,34847,35178,35180,35261,35700,35703,35709,36115,36490,36493,36491,36703,36783,37306,37934,37939,37941,37946,37944,37938,37931,38370,38712,38713,38706,38911,39015,39013,39255,39493,39491,39488,39486,39631,39764,39761,39981,39973,40367,40372,40386,40376,40605,40687,40729,40796,40806,40807,20796,20795,22216,22218,22217,23423,24020,24018,24398,25087,25892,27402,27489,28753,28760,29568,29924,30090,30318,30316,31155,31840,31839,32894,32893,33247,35186,35183,35324,35712,36118,36119,36497,36499,36705,37192,37956,37969,37970,38717,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38718,38851,38849,39019,39253,39509,39501,39634,39706,40009,39985,39998,39995,40403,40407,40756,40812,40810,40852,22220,24022,25088,25891,25899,25898,26348,27408,29914,31434,31844,31843,31845,32403,32406,32404,33250,34360,34367,34865,35722,37008,37007,37987,37984,37988,38760,39023,39260,39514,39515,39511,39635,39636,39633,40020,40023,40022,40421,40607,40692,22225,22761,25900,65533,28766,30321,30322,30679,32592,32648,34870,34873,34914,35731,35730,35734,33399,36123,37312,37994,38722,38728,38724,38854,39024,39519,39714,39768,40031,40441,40442,40572,40573,40711,40823,40818,24307,27414,28771,31852,31854,34875,35264,36513,37313,38002,38e3,39025,39262,39638,39715,40652,28772,30682,35738,38007,38857,39522,39525,32412,35740,36522,37317,38013,38014,38012,40055,40056,40695,35924,38015,40474,29224,39530,39729,40475,40478,31858,25745,14094,14095,14096,14097,14098,14099,14101,14104,14106,14107,14108,14112,14113,14115,14117,14118,14120,14121,14122,14123,14124,14125,14128,14129,14130,14131,14132,14133,14134,14135,14136,14138,14139,14140,14141,14144,14147,14148,14149,14150,14152,14153,14154,14156,14158,14160,14161,14162,14163,14164,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20034,20060,20981,21274,21378,19975,19980,20039,20109,22231,64012,23662,24435,19983,20871,19982,20014,20115,20162,20169,20168,20888,21244,21356,21433,22304,22787,22828,23568,24063,26081,27571,27596,27668,29247,20017,20028,20200,20188,20201,20193,20189,20186,21004,21276,21324,22306,22307,22807,22831,23425,23428,23570,23611,23668,23667,24068,24192,24194,24521,25097,25168,27669,65533,27702,27715,27711,27707,29358,29360,29578,31160,32906,38430,20238,20248,20268,20213,20244,20209,20224,20215,20232,20253,20226,20229,20258,20243,20228,20212,20242,20913,21011,21001,21008,21158,21282,21279,21325,21386,21511,22241,22239,22318,22314,22324,22844,22912,22908,22917,22907,22910,22903,22911,23382,23573,23589,23676,23674,23675,23678,24031,24181,24196,24322,24346,24436,24533,24532,24527,25189,25180,25182,25188,25185,25190,25186,25177,25184,25178,26095,26094,26430,26425,26424,26427,26426,26431,26428,26419,27672,27718,27730,27740,27727,27722,27732,27723,27724,28785,29278,29364,29365,29582,29994,30335,31349,32593,33400,33404,33408,33405,33407,34381,35198,37017,37015,37016,37019,37012,38434,38436,38432,38435,20310,20283,20322,20297,20307,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20324,20286,20327,20306,20319,20289,20312,20269,20275,20287,20321,20879,20921,21020,21022,21025,21165,21166,21257,21347,21362,21390,21391,21552,21559,21546,21588,21573,21529,21532,21541,21528,21565,21583,21569,21544,21540,21575,22254,22247,22245,22337,22341,22348,22345,22347,22354,22790,22848,22950,22936,22944,22935,22926,22946,22928,22927,22951,22945,23438,23442,23592,23594,65533,23693,23695,23688,23691,23689,23698,23690,23686,23699,23701,24032,24074,24078,24203,24201,24204,24200,24205,24325,24349,24440,24438,24530,24529,24528,24557,24552,24558,24563,24545,24548,24547,24570,24559,24567,24571,24576,24564,25146,25219,25228,25230,25231,25236,25223,25201,25211,25210,25200,25217,25224,25207,25213,25202,25204,25911,26096,26100,26099,26098,26101,26437,26439,26457,26453,26444,26440,26461,26445,26458,26443,27600,27673,27674,27768,27751,27755,27780,27787,27791,27761,27759,27753,27802,27757,27783,27797,27804,27750,27763,27749,27771,27790,28788,28794,29283,29375,29373,29379,29382,29377,29370,29381,29589,29591,29587,29588,29586,30010,30009,30100,30101,30337,31037,32820,32917,32921,32912,32914,32924,33424,33423,33413,33422,33425,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33427,33418,33411,33412,35960,36809,36799,37023,37025,37029,37022,37031,37024,38448,38440,38447,38445,20019,20376,20348,20357,20349,20352,20359,20342,20340,20361,20356,20343,20300,20375,20330,20378,20345,20353,20344,20368,20380,20372,20382,20370,20354,20373,20331,20334,20894,20924,20926,21045,21042,21043,21062,21041,21180,21258,21259,21308,21394,21396,21639,21631,21633,21649,65533,21634,21640,21611,21626,21630,21605,21612,21620,21606,21645,21615,21601,21600,21656,21603,21607,21604,22263,22265,22383,22386,22381,22379,22385,22384,22390,22400,22389,22395,22387,22388,22370,22376,22397,22796,22853,22965,22970,22991,22990,22962,22988,22977,22966,22972,22979,22998,22961,22973,22976,22984,22964,22983,23394,23397,23443,23445,23620,23623,23726,23716,23712,23733,23727,23720,23724,23711,23715,23725,23714,23722,23719,23709,23717,23734,23728,23718,24087,24084,24089,24360,24354,24355,24356,24404,24450,24446,24445,24542,24549,24621,24614,24601,24626,24587,24628,24586,24599,24627,24602,24606,24620,24610,24589,24592,24622,24595,24593,24588,24585,24604,25108,25149,25261,25268,25297,25278,25258,25270,25290,25262,25267,25263,25275,25257,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25264,25272,25917,26024,26043,26121,26108,26116,26130,26120,26107,26115,26123,26125,26117,26109,26129,26128,26358,26378,26501,26476,26510,26514,26486,26491,26520,26502,26500,26484,26509,26508,26490,26527,26513,26521,26499,26493,26497,26488,26489,26516,27429,27520,27518,27614,27677,27795,27884,27883,27886,27865,27830,27860,27821,27879,27831,27856,27842,27834,27843,27846,27885,65533,27890,27858,27869,27828,27786,27805,27776,27870,27840,27952,27853,27847,27824,27897,27855,27881,27857,28820,28824,28805,28819,28806,28804,28817,28822,28802,28826,28803,29290,29398,29387,29400,29385,29404,29394,29396,29402,29388,29393,29604,29601,29613,29606,29602,29600,29612,29597,29917,29928,30015,30016,30014,30092,30104,30383,30451,30449,30448,30453,30712,30716,30713,30715,30714,30711,31042,31039,31173,31352,31355,31483,31861,31997,32821,32911,32942,32931,32952,32949,32941,33312,33440,33472,33451,33434,33432,33435,33461,33447,33454,33468,33438,33466,33460,33448,33441,33449,33474,33444,33475,33462,33442,34416,34415,34413,34414,35926,36818,36811,36819,36813,36822,36821,36823,37042,37044,37039,37043,37040,38457,38461,38460,38458,38467,20429,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20421,20435,20402,20425,20427,20417,20436,20444,20441,20411,20403,20443,20423,20438,20410,20416,20409,20460,21060,21065,21184,21186,21309,21372,21399,21398,21401,21400,21690,21665,21677,21669,21711,21699,33549,21687,21678,21718,21686,21701,21702,21664,21616,21692,21666,21694,21618,21726,21680,22453,22430,22431,22436,22412,22423,22429,22427,22420,22424,22415,22425,22437,22426,65533,22421,22772,22797,22867,23009,23006,23022,23040,23025,23005,23034,23037,23036,23030,23012,23026,23031,23003,23017,23027,23029,23008,23038,23028,23021,23464,23628,23760,23768,23756,23767,23755,23771,23774,23770,23753,23751,23754,23766,23763,23764,23759,23752,23750,23758,23775,23800,24057,24097,24098,24099,24096,24100,24240,24228,24226,24219,24227,24229,24327,24366,24406,24454,24631,24633,24660,24690,24670,24645,24659,24647,24649,24667,24652,24640,24642,24671,24612,24644,24664,24678,24686,25154,25155,25295,25357,25355,25333,25358,25347,25323,25337,25359,25356,25336,25334,25344,25363,25364,25338,25365,25339,25328,25921,25923,26026,26047,26166,26145,26162,26165,26140,26150,26146,26163,26155,26170,26141,26164,26169,26158,26383,26384,26561,26610,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26568,26554,26588,26555,26616,26584,26560,26551,26565,26603,26596,26591,26549,26573,26547,26615,26614,26606,26595,26562,26553,26574,26599,26608,26546,26620,26566,26605,26572,26542,26598,26587,26618,26569,26570,26563,26602,26571,27432,27522,27524,27574,27606,27608,27616,27680,27681,27944,27956,27949,27935,27964,27967,27922,27914,27866,27955,27908,27929,27962,27930,27921,27904,65533,27933,27970,27905,27928,27959,27907,27919,27968,27911,27936,27948,27912,27938,27913,27920,28855,28831,28862,28849,28848,28833,28852,28853,28841,29249,29257,29258,29292,29296,29299,29294,29386,29412,29416,29419,29407,29418,29414,29411,29573,29644,29634,29640,29637,29625,29622,29621,29620,29675,29631,29639,29630,29635,29638,29624,29643,29932,29934,29998,30023,30024,30119,30122,30329,30404,30472,30467,30468,30469,30474,30455,30459,30458,30695,30696,30726,30737,30738,30725,30736,30735,30734,30729,30723,30739,31050,31052,31051,31045,31044,31189,31181,31183,31190,31182,31360,31358,31441,31488,31489,31866,31864,31865,31871,31872,31873,32003,32008,32001,32600,32657,32653,32702,32775,32782,32783,32788,32823,32984,32967,32992,32977,32968,32962,32976,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32965,32995,32985,32988,32970,32981,32969,32975,32983,32998,32973,33279,33313,33428,33497,33534,33529,33543,33512,33536,33493,33594,33515,33494,33524,33516,33505,33522,33525,33548,33531,33526,33520,33514,33508,33504,33530,33523,33517,34423,34420,34428,34419,34881,34894,34919,34922,34921,35283,35332,35335,36210,36835,36833,36846,36832,37105,37053,37055,37077,37061,37054,37063,65533,37067,37064,37332,37331,38484,38479,38481,38483,38474,38478,20510,20485,20487,20499,20514,20528,20507,20469,20468,20531,20535,20524,20470,20471,20503,20508,20512,20519,20533,20527,20529,20494,20826,20884,20883,20938,20932,20933,20936,20942,21089,21082,21074,21086,21087,21077,21090,21197,21262,21406,21798,21730,21783,21778,21735,21747,21732,21786,21759,21764,21768,21739,21777,21765,21745,21770,21755,21751,21752,21728,21774,21763,21771,22273,22274,22476,22578,22485,22482,22458,22470,22461,22460,22456,22454,22463,22471,22480,22457,22465,22798,22858,23065,23062,23085,23086,23061,23055,23063,23050,23070,23091,23404,23463,23469,23468,23555,23638,23636,23788,23807,23790,23793,23799,23808,23801,24105,24104,24232,24238,24234,24236,24371,24368,24423,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24669,24666,24679,24641,24738,24712,24704,24722,24705,24733,24707,24725,24731,24727,24711,24732,24718,25113,25158,25330,25360,25430,25388,25412,25413,25398,25411,25572,25401,25419,25418,25404,25385,25409,25396,25432,25428,25433,25389,25415,25395,25434,25425,25400,25431,25408,25416,25930,25926,26054,26051,26052,26050,26186,26207,26183,26193,26386,26387,26655,26650,26697,26674,65533,26675,26683,26699,26703,26646,26673,26652,26677,26667,26669,26671,26702,26692,26676,26653,26642,26644,26662,26664,26670,26701,26682,26661,26656,27436,27439,27437,27441,27444,27501,32898,27528,27622,27620,27624,27619,27618,27623,27685,28026,28003,28004,28022,27917,28001,28050,27992,28002,28013,28015,28049,28045,28143,28031,28038,27998,28007,28e3,28055,28016,28028,27999,28034,28056,27951,28008,28043,28030,28032,28036,27926,28035,28027,28029,28021,28048,28892,28883,28881,28893,28875,32569,28898,28887,28882,28894,28896,28884,28877,28869,28870,28871,28890,28878,28897,29250,29304,29303,29302,29440,29434,29428,29438,29430,29427,29435,29441,29651,29657,29669,29654,29628,29671,29667,29673,29660,29650,29659,29652,29661,29658,29655,29656,29672,29918,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29919,29940,29941,29985,30043,30047,30128,30145,30139,30148,30144,30143,30134,30138,30346,30409,30493,30491,30480,30483,30482,30499,30481,30485,30489,30490,30498,30503,30755,30764,30754,30773,30767,30760,30766,30763,30753,30761,30771,30762,30769,31060,31067,31055,31068,31059,31058,31057,31211,31212,31200,31214,31213,31210,31196,31198,31197,31366,31369,31365,31371,31372,31370,65533,31367,31448,31504,31492,31507,31493,31503,31496,31498,31502,31497,31506,31876,31889,31882,31884,31880,31885,31877,32030,32029,32017,32014,32024,32022,32019,32031,32018,32015,32012,32604,32609,32606,32608,32605,32603,32662,32658,32707,32706,32704,32790,32830,32825,33018,33010,33017,33013,33025,33019,33024,33281,33327,33317,33587,33581,33604,33561,33617,33573,33622,33599,33601,33574,33564,33570,33602,33614,33563,33578,33544,33596,33613,33558,33572,33568,33591,33583,33577,33607,33605,33612,33619,33566,33580,33611,33575,33608,34387,34386,34466,34472,34454,34445,34449,34462,34439,34455,34438,34443,34458,34437,34469,34457,34465,34471,34453,34456,34446,34461,34448,34452,34883,34884,34925,34933,34934,34930,34944,34929,34943,34927,34947,34942,34932,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34940,35346,35911,35927,35963,36004,36003,36214,36216,36277,36279,36278,36561,36563,36862,36853,36866,36863,36859,36868,36860,36854,37078,37088,37081,37082,37091,37087,37093,37080,37083,37079,37084,37092,37200,37198,37199,37333,37346,37338,38492,38495,38588,39139,39647,39727,20095,20592,20586,20577,20574,20576,20563,20555,20573,20594,20552,20557,20545,20571,20554,20578,20501,65533,20549,20575,20585,20587,20579,20580,20550,20544,20590,20595,20567,20561,20944,21099,21101,21100,21102,21206,21203,21293,21404,21877,21878,21820,21837,21840,21812,21802,21841,21858,21814,21813,21808,21842,21829,21772,21810,21861,21838,21817,21832,21805,21819,21824,21835,22282,22279,22523,22548,22498,22518,22492,22516,22528,22509,22525,22536,22520,22539,22515,22479,22535,22510,22499,22514,22501,22508,22497,22542,22524,22544,22503,22529,22540,22513,22505,22512,22541,22532,22876,23136,23128,23125,23143,23134,23096,23093,23149,23120,23135,23141,23148,23123,23140,23127,23107,23133,23122,23108,23131,23112,23182,23102,23117,23097,23116,23152,23145,23111,23121,23126,23106,23132,23410,23406,23489,23488,23641,23838,23819,23837,23834,23840,23820,23848,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23821,23846,23845,23823,23856,23826,23843,23839,23854,24126,24116,24241,24244,24249,24242,24243,24374,24376,24475,24470,24479,24714,24720,24710,24766,24752,24762,24787,24788,24783,24804,24793,24797,24776,24753,24795,24759,24778,24767,24771,24781,24768,25394,25445,25482,25474,25469,25533,25502,25517,25501,25495,25515,25486,25455,25479,25488,25454,25519,25461,25500,25453,25518,65533,25468,25508,25403,25503,25464,25477,25473,25489,25485,25456,25939,26061,26213,26209,26203,26201,26204,26210,26392,26745,26759,26768,26780,26733,26734,26798,26795,26966,26735,26787,26796,26793,26741,26740,26802,26767,26743,26770,26748,26731,26738,26794,26752,26737,26750,26779,26774,26763,26784,26761,26788,26744,26747,26769,26764,26762,26749,27446,27443,27447,27448,27537,27535,27533,27534,27532,27690,28096,28075,28084,28083,28276,28076,28137,28130,28087,28150,28116,28160,28104,28128,28127,28118,28094,28133,28124,28125,28123,28148,28106,28093,28141,28144,28090,28117,28098,28111,28105,28112,28146,28115,28157,28119,28109,28131,28091,28922,28941,28919,28951,28916,28940,28912,28932,28915,28944,28924,28927,28934,28947,28928,28920,28918,28939,28930,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28942,29310,29307,29308,29311,29469,29463,29447,29457,29464,29450,29448,29439,29455,29470,29576,29686,29688,29685,29700,29697,29693,29703,29696,29690,29692,29695,29708,29707,29684,29704,30052,30051,30158,30162,30159,30155,30156,30161,30160,30351,30345,30419,30521,30511,30509,30513,30514,30516,30515,30525,30501,30523,30517,30792,30802,30793,30797,30794,30796,30758,30789,30800,65533,31076,31079,31081,31082,31075,31083,31073,31163,31226,31224,31222,31223,31375,31380,31376,31541,31559,31540,31525,31536,31522,31524,31539,31512,31530,31517,31537,31531,31533,31535,31538,31544,31514,31523,31892,31896,31894,31907,32053,32061,32056,32054,32058,32069,32044,32041,32065,32071,32062,32063,32074,32059,32040,32611,32661,32668,32669,32667,32714,32715,32717,32720,32721,32711,32719,32713,32799,32798,32795,32839,32835,32840,33048,33061,33049,33051,33069,33055,33068,33054,33057,33045,33063,33053,33058,33297,33336,33331,33338,33332,33330,33396,33680,33699,33704,33677,33658,33651,33700,33652,33679,33665,33685,33689,33653,33684,33705,33661,33667,33676,33693,33691,33706,33675,33662,33701,33711,33672,33687,33712,33663,33702,33671,33710,33654,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33690,34393,34390,34495,34487,34498,34497,34501,34490,34480,34504,34489,34483,34488,34508,34484,34491,34492,34499,34493,34494,34898,34953,34965,34984,34978,34986,34970,34961,34977,34975,34968,34983,34969,34971,34967,34980,34988,34956,34963,34958,35202,35286,35289,35285,35376,35367,35372,35358,35897,35899,35932,35933,35965,36005,36221,36219,36217,36284,36290,36281,36287,36289,65533,36568,36574,36573,36572,36567,36576,36577,36900,36875,36881,36892,36876,36897,37103,37098,37104,37108,37106,37107,37076,37099,37100,37097,37206,37208,37210,37203,37205,37356,37364,37361,37363,37368,37348,37369,37354,37355,37367,37352,37358,38266,38278,38280,38524,38509,38507,38513,38511,38591,38762,38916,39141,39319,20635,20629,20628,20638,20619,20643,20611,20620,20622,20637,20584,20636,20626,20610,20615,20831,20948,21266,21265,21412,21415,21905,21928,21925,21933,21879,22085,21922,21907,21896,21903,21941,21889,21923,21906,21924,21885,21900,21926,21887,21909,21921,21902,22284,22569,22583,22553,22558,22567,22563,22568,22517,22600,22565,22556,22555,22579,22591,22582,22574,22585,22584,22573,22572,22587,22881,23215,23188,23199,23162,23202,23198,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23160,23206,23164,23205,23212,23189,23214,23095,23172,23178,23191,23171,23179,23209,23163,23165,23180,23196,23183,23187,23197,23530,23501,23499,23508,23505,23498,23502,23564,23600,23863,23875,23915,23873,23883,23871,23861,23889,23886,23893,23859,23866,23890,23869,23857,23897,23874,23865,23881,23864,23868,23858,23862,23872,23877,24132,24129,24408,24486,24485,24491,24777,24761,65533,24780,24802,24782,24772,24852,24818,24842,24854,24837,24821,24851,24824,24828,24830,24769,24835,24856,24861,24848,24831,24836,24843,25162,25492,25521,25520,25550,25573,25576,25583,25539,25757,25587,25546,25568,25590,25557,25586,25589,25697,25567,25534,25565,25564,25540,25560,25555,25538,25543,25548,25547,25544,25584,25559,25561,25906,25959,25962,25956,25948,25960,25957,25996,26013,26014,26030,26064,26066,26236,26220,26235,26240,26225,26233,26218,26226,26369,26892,26835,26884,26844,26922,26860,26858,26865,26895,26838,26871,26859,26852,26870,26899,26896,26867,26849,26887,26828,26888,26992,26804,26897,26863,26822,26900,26872,26832,26877,26876,26856,26891,26890,26903,26830,26824,26845,26846,26854,26868,26833,26886,26836,26857,26901,26917,26823,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27449,27451,27455,27452,27540,27543,27545,27541,27581,27632,27634,27635,27696,28156,28230,28231,28191,28233,28296,28220,28221,28229,28258,28203,28223,28225,28253,28275,28188,28211,28235,28224,28241,28219,28163,28206,28254,28264,28252,28257,28209,28200,28256,28273,28267,28217,28194,28208,28243,28261,28199,28280,28260,28279,28245,28281,28242,28262,28213,28214,28250,28960,28958,65533,28975,28923,28974,28977,28963,28965,28962,28978,28959,28968,28986,28955,29259,29274,29320,29321,29318,29317,29323,29458,29451,29488,29474,29489,29491,29479,29490,29485,29478,29475,29493,29452,29742,29740,29744,29739,29718,29722,29729,29741,29745,29732,29731,29725,29737,29728,29746,29947,29999,30063,30060,30183,30170,30177,30182,30173,30175,30180,30167,30357,30354,30426,30534,30535,30532,30541,30533,30538,30542,30539,30540,30686,30700,30816,30820,30821,30812,30829,30833,30826,30830,30832,30825,30824,30814,30818,31092,31091,31090,31088,31234,31242,31235,31244,31236,31385,31462,31460,31562,31547,31556,31560,31564,31566,31552,31576,31557,31906,31902,31912,31905,32088,32111,32099,32083,32086,32103,32106,32079,32109,32092,32107,32082,32084,32105,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32081,32095,32078,32574,32575,32613,32614,32674,32672,32673,32727,32849,32847,32848,33022,32980,33091,33098,33106,33103,33095,33085,33101,33082,33254,33262,33271,33272,33273,33284,33340,33341,33343,33397,33595,33743,33785,33827,33728,33768,33810,33767,33764,33788,33782,33808,33734,33736,33771,33763,33727,33793,33757,33765,33752,33791,33761,33739,33742,33750,33781,33737,33801,65533,33807,33758,33809,33798,33730,33779,33749,33786,33735,33745,33770,33811,33731,33772,33774,33732,33787,33751,33762,33819,33755,33790,34520,34530,34534,34515,34531,34522,34538,34525,34539,34524,34540,34537,34519,34536,34513,34888,34902,34901,35002,35031,35001,35e3,35008,35006,34998,35004,34999,35005,34994,35073,35017,35221,35224,35223,35293,35290,35291,35406,35405,35385,35417,35392,35415,35416,35396,35397,35410,35400,35409,35402,35404,35407,35935,35969,35968,36026,36030,36016,36025,36021,36228,36224,36233,36312,36307,36301,36295,36310,36316,36303,36309,36313,36296,36311,36293,36591,36599,36602,36601,36582,36590,36581,36597,36583,36584,36598,36587,36593,36588,36596,36585,36909,36916,36911,37126,37164,37124,37119,37116,37128,37113,37115,37121,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37120,37127,37125,37123,37217,37220,37215,37218,37216,37377,37386,37413,37379,37402,37414,37391,37388,37376,37394,37375,37373,37382,37380,37415,37378,37404,37412,37401,37399,37381,37398,38267,38285,38284,38288,38535,38526,38536,38537,38531,38528,38594,38600,38595,38641,38640,38764,38768,38766,38919,39081,39147,40166,40697,20099,20100,20150,20669,20671,20678,20654,20676,20682,65533,20660,20680,20674,20656,20673,20666,20657,20683,20681,20662,20664,20951,21114,21112,21115,21116,21955,21979,21964,21968,21963,21962,21981,21952,21972,21956,21993,21951,21970,21901,21967,21973,21986,21974,21960,22002,21965,21977,21954,22292,22611,22632,22628,22607,22605,22601,22639,22613,22606,22621,22617,22629,22619,22589,22627,22641,22780,23239,23236,23243,23226,23224,23217,23221,23216,23231,23240,23227,23238,23223,23232,23242,23220,23222,23245,23225,23184,23510,23512,23513,23583,23603,23921,23907,23882,23909,23922,23916,23902,23912,23911,23906,24048,24143,24142,24138,24141,24139,24261,24268,24262,24267,24263,24384,24495,24493,24823,24905,24906,24875,24901,24886,24882,24878,24902,24879,24911,24873,24896,25120,37224,25123,25125,25124,25541,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25585,25579,25616,25618,25609,25632,25636,25651,25667,25631,25621,25624,25657,25655,25634,25635,25612,25638,25648,25640,25665,25653,25647,25610,25626,25664,25637,25639,25611,25575,25627,25646,25633,25614,25967,26002,26067,26246,26252,26261,26256,26251,26250,26265,26260,26232,26400,26982,26975,26936,26958,26978,26993,26943,26949,26986,26937,26946,26967,26969,27002,26952,26953,65533,26933,26988,26931,26941,26981,26864,27e3,26932,26985,26944,26991,26948,26998,26968,26945,26996,26956,26939,26955,26935,26972,26959,26961,26930,26962,26927,27003,26940,27462,27461,27459,27458,27464,27457,27547,64013,27643,27644,27641,27639,27640,28315,28374,28360,28303,28352,28319,28307,28308,28320,28337,28345,28358,28370,28349,28353,28318,28361,28343,28336,28365,28326,28367,28338,28350,28355,28380,28376,28313,28306,28302,28301,28324,28321,28351,28339,28368,28362,28311,28334,28323,28999,29012,29010,29027,29024,28993,29021,29026,29042,29048,29034,29025,28994,29016,28995,29003,29040,29023,29008,29011,28996,29005,29018,29263,29325,29324,29329,29328,29326,29500,29506,29499,29498,29504,29514,29513,29764,29770,29771,29778,29777,29783,29760,29775,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29776,29774,29762,29766,29773,29780,29921,29951,29950,29949,29981,30073,30071,27011,30191,30223,30211,30199,30206,30204,30201,30200,30224,30203,30198,30189,30197,30205,30361,30389,30429,30549,30559,30560,30546,30550,30554,30569,30567,30548,30553,30573,30688,30855,30874,30868,30863,30852,30869,30853,30854,30881,30851,30841,30873,30848,30870,30843,31100,31106,31101,31097,31249,65533,31256,31257,31250,31255,31253,31266,31251,31259,31248,31395,31394,31390,31467,31590,31588,31597,31604,31593,31602,31589,31603,31601,31600,31585,31608,31606,31587,31922,31924,31919,32136,32134,32128,32141,32127,32133,32122,32142,32123,32131,32124,32140,32148,32132,32125,32146,32621,32619,32615,32616,32620,32678,32677,32679,32731,32732,32801,33124,33120,33143,33116,33129,33115,33122,33138,26401,33118,33142,33127,33135,33092,33121,33309,33353,33348,33344,33346,33349,34033,33855,33878,33910,33913,33935,33933,33893,33873,33856,33926,33895,33840,33869,33917,33882,33881,33908,33907,33885,34055,33886,33847,33850,33844,33914,33859,33912,33842,33861,33833,33753,33867,33839,33858,33837,33887,33904,33849,33870,33868,33874,33903,33989,33934,33851,33863,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33846,33843,33896,33918,33860,33835,33888,33876,33902,33872,34571,34564,34551,34572,34554,34518,34549,34637,34552,34574,34569,34561,34550,34573,34565,35030,35019,35021,35022,35038,35035,35034,35020,35024,35205,35227,35295,35301,35300,35297,35296,35298,35292,35302,35446,35462,35455,35425,35391,35447,35458,35460,35445,35459,35457,35444,35450,35900,35915,35914,35941,35940,35942,65533,35974,35972,35973,36044,36200,36201,36241,36236,36238,36239,36237,36243,36244,36240,36242,36336,36320,36332,36337,36334,36304,36329,36323,36322,36327,36338,36331,36340,36614,36607,36609,36608,36613,36615,36616,36610,36619,36946,36927,36932,36937,36925,37136,37133,37135,37137,37142,37140,37131,37134,37230,37231,37448,37458,37424,37434,37478,37427,37477,37470,37507,37422,37450,37446,37485,37484,37455,37472,37479,37487,37430,37473,37488,37425,37460,37475,37456,37490,37454,37459,37452,37462,37426,38303,38300,38302,38299,38546,38547,38545,38551,38606,38650,38653,38648,38645,38771,38775,38776,38770,38927,38925,38926,39084,39158,39161,39343,39346,39344,39349,39597,39595,39771,40170,40173,40167,40576,40701,20710,20692,20695,20712,20723,20699,20714,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20701,20708,20691,20716,20720,20719,20707,20704,20952,21120,21121,21225,21227,21296,21420,22055,22037,22028,22034,22012,22031,22044,22017,22035,22018,22010,22045,22020,22015,22009,22665,22652,22672,22680,22662,22657,22655,22644,22667,22650,22663,22673,22670,22646,22658,22664,22651,22676,22671,22782,22891,23260,23278,23269,23253,23274,23258,23277,23275,23283,23266,23264,23259,65533,23276,23262,23261,23257,23272,23263,23415,23520,23523,23651,23938,23936,23933,23942,23930,23937,23927,23946,23945,23944,23934,23932,23949,23929,23935,24152,24153,24147,24280,24273,24279,24270,24284,24277,24281,24274,24276,24388,24387,24431,24502,24876,24872,24897,24926,24945,24947,24914,24915,24946,24940,24960,24948,24916,24954,24923,24933,24891,24938,24929,24918,25129,25127,25131,25643,25677,25691,25693,25716,25718,25714,25715,25725,25717,25702,25766,25678,25730,25694,25692,25675,25683,25696,25680,25727,25663,25708,25707,25689,25701,25719,25971,26016,26273,26272,26271,26373,26372,26402,27057,27062,27081,27040,27086,27030,27056,27052,27068,27025,27033,27022,27047,27021,27049,27070,27055,27071,27076,27069,27044,27092,27065,27082,27034,27087,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27059,27027,27050,27041,27038,27097,27031,27024,27074,27061,27045,27078,27466,27469,27467,27550,27551,27552,27587,27588,27646,28366,28405,28401,28419,28453,28408,28471,28411,28462,28425,28494,28441,28442,28455,28440,28475,28434,28397,28426,28470,28531,28409,28398,28461,28480,28464,28476,28469,28395,28423,28430,28483,28421,28413,28406,28473,28444,28412,28474,28447,28429,28446,65533,28424,28449,29063,29072,29065,29056,29061,29058,29071,29051,29062,29057,29079,29252,29267,29335,29333,29331,29507,29517,29521,29516,29794,29811,29809,29813,29810,29799,29806,29952,29954,29955,30077,30096,30230,30216,30220,30229,30225,30218,30228,30392,30593,30588,30597,30594,30574,30592,30575,30590,30595,30898,30890,30900,30893,30888,30846,30891,30878,30885,30880,30892,30882,30884,31128,31114,31115,31126,31125,31124,31123,31127,31112,31122,31120,31275,31306,31280,31279,31272,31270,31400,31403,31404,31470,31624,31644,31626,31633,31632,31638,31629,31628,31643,31630,31621,31640,21124,31641,31652,31618,31931,31935,31932,31930,32167,32183,32194,32163,32170,32193,32192,32197,32157,32206,32196,32198,32203,32204,32175,32185,32150,32188,32159,32166,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32174,32169,32161,32201,32627,32738,32739,32741,32734,32804,32861,32860,33161,33158,33155,33159,33165,33164,33163,33301,33943,33956,33953,33951,33978,33998,33986,33964,33966,33963,33977,33972,33985,33997,33962,33946,33969,34e3,33949,33959,33979,33954,33940,33991,33996,33947,33961,33967,33960,34006,33944,33974,33999,33952,34007,34004,34002,34011,33968,33937,34401,34611,34595,65533,34600,34667,34624,34606,34590,34593,34585,34587,34627,34604,34625,34622,34630,34592,34610,34602,34605,34620,34578,34618,34609,34613,34626,34598,34599,34616,34596,34586,34608,34577,35063,35047,35057,35058,35066,35070,35054,35068,35062,35067,35056,35052,35051,35229,35233,35231,35230,35305,35307,35304,35499,35481,35467,35474,35471,35478,35901,35944,35945,36053,36047,36055,36246,36361,36354,36351,36365,36349,36362,36355,36359,36358,36357,36350,36352,36356,36624,36625,36622,36621,37155,37148,37152,37154,37151,37149,37146,37156,37153,37147,37242,37234,37241,37235,37541,37540,37494,37531,37498,37536,37524,37546,37517,37542,37530,37547,37497,37527,37503,37539,37614,37518,37506,37525,37538,37501,37512,37537,37514,37510,37516,37529,37543,37502,37511,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37545,37533,37515,37421,38558,38561,38655,38744,38781,38778,38782,38787,38784,38786,38779,38788,38785,38783,38862,38861,38934,39085,39086,39170,39168,39175,39325,39324,39363,39353,39355,39354,39362,39357,39367,39601,39651,39655,39742,39743,39776,39777,39775,40177,40178,40181,40615,20735,20739,20784,20728,20742,20743,20726,20734,20747,20748,20733,20746,21131,21132,21233,21231,65533,22088,22082,22092,22069,22081,22090,22089,22086,22104,22106,22080,22067,22077,22060,22078,22072,22058,22074,22298,22699,22685,22705,22688,22691,22703,22700,22693,22689,22783,23295,23284,23293,23287,23286,23299,23288,23298,23289,23297,23303,23301,23311,23655,23961,23959,23967,23954,23970,23955,23957,23968,23964,23969,23962,23966,24169,24157,24160,24156,32243,24283,24286,24289,24393,24498,24971,24963,24953,25009,25008,24994,24969,24987,24979,25007,25005,24991,24978,25002,24993,24973,24934,25011,25133,25710,25712,25750,25760,25733,25751,25756,25743,25739,25738,25740,25763,25759,25704,25777,25752,25974,25978,25977,25979,26034,26035,26293,26288,26281,26290,26295,26282,26287,27136,27142,27159,27109,27128,27157,27121,27108,27168,27135,27116,27106,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27163,27165,27134,27175,27122,27118,27156,27127,27111,27200,27144,27110,27131,27149,27132,27115,27145,27140,27160,27173,27151,27126,27174,27143,27124,27158,27473,27557,27555,27554,27558,27649,27648,27647,27650,28481,28454,28542,28551,28614,28562,28557,28553,28556,28514,28495,28549,28506,28566,28534,28524,28546,28501,28530,28498,28496,28503,28564,28563,28509,28416,28513,28523,65533,28541,28519,28560,28499,28555,28521,28543,28565,28515,28535,28522,28539,29106,29103,29083,29104,29088,29082,29097,29109,29085,29093,29086,29092,29089,29098,29084,29095,29107,29336,29338,29528,29522,29534,29535,29536,29533,29531,29537,29530,29529,29538,29831,29833,29834,29830,29825,29821,29829,29832,29820,29817,29960,29959,30078,30245,30238,30233,30237,30236,30243,30234,30248,30235,30364,30365,30366,30363,30605,30607,30601,30600,30925,30907,30927,30924,30929,30926,30932,30920,30915,30916,30921,31130,31137,31136,31132,31138,31131,27510,31289,31410,31412,31411,31671,31691,31678,31660,31694,31663,31673,31690,31669,31941,31944,31948,31947,32247,32219,32234,32231,32215,32225,32259,32250,32230,32246,32241,32240,32238,32223,32630,32684,32688,32685,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32749,32747,32746,32748,32742,32744,32868,32871,33187,33183,33182,33173,33186,33177,33175,33302,33359,33363,33362,33360,33358,33361,34084,34107,34063,34048,34089,34062,34057,34061,34079,34058,34087,34076,34043,34091,34042,34056,34060,34036,34090,34034,34069,34039,34027,34035,34044,34066,34026,34025,34070,34046,34088,34077,34094,34050,34045,34078,34038,34097,34086,34023,34024,65533,34032,34031,34041,34072,34080,34096,34059,34073,34095,34402,34646,34659,34660,34679,34785,34675,34648,34644,34651,34642,34657,34650,34641,34654,34669,34666,34640,34638,34655,34653,34671,34668,34682,34670,34652,34661,34639,34683,34677,34658,34663,34665,34906,35077,35084,35092,35083,35095,35096,35097,35078,35094,35089,35086,35081,35234,35236,35235,35309,35312,35308,35535,35526,35512,35539,35537,35540,35541,35515,35543,35518,35520,35525,35544,35523,35514,35517,35545,35902,35917,35983,36069,36063,36057,36072,36058,36061,36071,36256,36252,36257,36251,36384,36387,36389,36388,36398,36373,36379,36374,36369,36377,36390,36391,36372,36370,36376,36371,36380,36375,36378,36652,36644,36632,36634,36640,36643,36630,36631,36979,36976,36975,36967,36971,37167,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37163,37161,37162,37170,37158,37166,37253,37254,37258,37249,37250,37252,37248,37584,37571,37572,37568,37593,37558,37583,37617,37599,37592,37609,37591,37597,37580,37615,37570,37608,37578,37576,37582,37606,37581,37589,37577,37600,37598,37607,37585,37587,37557,37601,37574,37556,38268,38316,38315,38318,38320,38564,38562,38611,38661,38664,38658,38746,38794,38798,38792,38864,38863,65533,38942,38941,38950,38953,38952,38944,38939,38951,39090,39176,39162,39185,39188,39190,39191,39189,39388,39373,39375,39379,39380,39374,39369,39382,39384,39371,39383,39372,39603,39660,39659,39667,39666,39665,39750,39747,39783,39796,39793,39782,39798,39797,39792,39784,39780,39788,40188,40186,40189,40191,40183,40199,40192,40185,40187,40200,40197,40196,40579,40659,40719,40720,20764,20755,20759,20762,20753,20958,21300,21473,22128,22112,22126,22131,22118,22115,22125,22130,22110,22135,22300,22299,22728,22717,22729,22719,22714,22722,22716,22726,23319,23321,23323,23329,23316,23315,23312,23318,23336,23322,23328,23326,23535,23980,23985,23977,23975,23989,23984,23982,23978,23976,23986,23981,23983,23988,24167,24168,24166,24175,24297,24295,24294,24296,24293,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24395,24508,24989,25e3,24982,25029,25012,25030,25025,25036,25018,25023,25016,24972,25815,25814,25808,25807,25801,25789,25737,25795,25819,25843,25817,25907,25983,25980,26018,26312,26302,26304,26314,26315,26319,26301,26299,26298,26316,26403,27188,27238,27209,27239,27186,27240,27198,27229,27245,27254,27227,27217,27176,27226,27195,27199,27201,27242,27236,27216,27215,27220,27247,65533,27241,27232,27196,27230,27222,27221,27213,27214,27206,27477,27476,27478,27559,27562,27563,27592,27591,27652,27651,27654,28589,28619,28579,28615,28604,28622,28616,28510,28612,28605,28574,28618,28584,28676,28581,28590,28602,28588,28586,28623,28607,28600,28578,28617,28587,28621,28591,28594,28592,29125,29122,29119,29112,29142,29120,29121,29131,29140,29130,29127,29135,29117,29144,29116,29126,29146,29147,29341,29342,29545,29542,29543,29548,29541,29547,29546,29823,29850,29856,29844,29842,29845,29857,29963,30080,30255,30253,30257,30269,30259,30268,30261,30258,30256,30395,30438,30618,30621,30625,30620,30619,30626,30627,30613,30617,30615,30941,30953,30949,30954,30942,30947,30939,30945,30946,30957,30943,30944,31140,31300,31304,31303,31414,31416,31413,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31409,31415,31710,31715,31719,31709,31701,31717,31706,31720,31737,31700,31722,31714,31708,31723,31704,31711,31954,31956,31959,31952,31953,32274,32289,32279,32268,32287,32288,32275,32270,32284,32277,32282,32290,32267,32271,32278,32269,32276,32293,32292,32579,32635,32636,32634,32689,32751,32810,32809,32876,33201,33190,33198,33209,33205,33195,33200,33196,33204,33202,33207,33191,65533,33266,33365,33366,33367,34134,34117,34155,34125,34131,34145,34136,34112,34118,34148,34113,34146,34116,34129,34119,34147,34110,34139,34161,34126,34158,34165,34133,34151,34144,34188,34150,34141,34132,34149,34156,34403,34405,34404,34715,34703,34711,34707,34706,34696,34689,34710,34712,34681,34695,34723,34693,34704,34705,34717,34692,34708,34716,34714,34697,35102,35110,35120,35117,35118,35111,35121,35106,35113,35107,35119,35116,35103,35313,35552,35554,35570,35572,35573,35549,35604,35556,35551,35568,35528,35550,35553,35560,35583,35567,35579,35985,35986,35984,36085,36078,36081,36080,36083,36204,36206,36261,36263,36403,36414,36408,36416,36421,36406,36412,36413,36417,36400,36415,36541,36662,36654,36661,36658,36665,36663,36660,36982,36985,36987,36998,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37114,37171,37173,37174,37267,37264,37265,37261,37263,37671,37662,37640,37663,37638,37647,37754,37688,37692,37659,37667,37650,37633,37702,37677,37646,37645,37579,37661,37626,37669,37651,37625,37623,37684,37634,37668,37631,37673,37689,37685,37674,37652,37644,37643,37630,37641,37632,37627,37654,38332,38349,38334,38329,38330,38326,38335,38325,38333,38569,38612,38667,38674,38672,65533,38809,38807,38804,38896,38904,38965,38959,38962,39204,39199,39207,39209,39326,39406,39404,39397,39396,39408,39395,39402,39401,39399,39609,39615,39604,39611,39670,39674,39673,39671,39731,39808,39813,39815,39804,39806,39803,39810,39827,39826,39824,39802,39829,39805,39816,40229,40215,40224,40222,40212,40233,40221,40216,40226,40208,40217,40223,40584,40582,40583,40622,40621,40661,40662,40698,40722,40765,20774,20773,20770,20772,20768,20777,21236,22163,22156,22157,22150,22148,22147,22142,22146,22143,22145,22742,22740,22735,22738,23341,23333,23346,23331,23340,23335,23334,23343,23342,23419,23537,23538,23991,24172,24170,24510,24507,25027,25013,25020,25063,25056,25061,25060,25064,25054,25839,25833,25827,25835,25828,25832,25985,25984,26038,26074,26322,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27277,27286,27265,27301,27273,27295,27291,27297,27294,27271,27283,27278,27285,27267,27304,27300,27281,27263,27302,27290,27269,27276,27282,27483,27565,27657,28620,28585,28660,28628,28643,28636,28653,28647,28646,28638,28658,28637,28642,28648,29153,29169,29160,29170,29156,29168,29154,29555,29550,29551,29847,29874,29867,29840,29866,29869,29873,29861,29871,29968,29969,29970,29967,65533,30084,30275,30280,30281,30279,30372,30441,30645,30635,30642,30647,30646,30644,30641,30632,30704,30963,30973,30978,30971,30972,30962,30981,30969,30974,30980,31147,31144,31324,31323,31318,31320,31316,31322,31422,31424,31425,31749,31759,31730,31744,31743,31739,31758,31732,31755,31731,31746,31753,31747,31745,31736,31741,31750,31728,31729,31760,31754,31976,32301,32316,32322,32307,38984,32312,32298,32329,32320,32327,32297,32332,32304,32315,32310,32324,32314,32581,32639,32638,32637,32756,32754,32812,33211,33220,33228,33226,33221,33223,33212,33257,33371,33370,33372,34179,34176,34191,34215,34197,34208,34187,34211,34171,34212,34202,34206,34167,34172,34185,34209,34170,34168,34135,34190,34198,34182,34189,34201,34205,34177,34210,34178,34184,34181,34169,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34166,34200,34192,34207,34408,34750,34730,34733,34757,34736,34732,34745,34741,34748,34734,34761,34755,34754,34764,34743,34735,34756,34762,34740,34742,34751,34744,34749,34782,34738,35125,35123,35132,35134,35137,35154,35127,35138,35245,35247,35246,35314,35315,35614,35608,35606,35601,35589,35595,35618,35599,35602,35605,35591,35597,35592,35590,35612,35603,35610,35919,35952,35954,65533,35953,35951,35989,35988,36089,36207,36430,36429,36435,36432,36428,36423,36675,36672,36997,36990,37176,37274,37282,37275,37273,37279,37281,37277,37280,37793,37763,37807,37732,37718,37703,37756,37720,37724,37750,37705,37712,37713,37728,37741,37775,37708,37738,37753,37719,37717,37714,37711,37745,37751,37755,37729,37726,37731,37735,37760,37710,37721,38343,38336,38345,38339,38341,38327,38574,38576,38572,38688,38687,38680,38685,38681,38810,38817,38812,38814,38813,38869,38868,38897,38977,38980,38986,38985,38981,38979,39205,39211,39212,39210,39219,39218,39215,39213,39217,39216,39320,39331,39329,39426,39418,39412,39415,39417,39416,39414,39419,39421,39422,39420,39427,39614,39678,39677,39681,39676,39752,39834,39848,39838,39835,39846,39841,39845,39844,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39814,39842,39840,39855,40243,40257,40295,40246,40238,40239,40241,40248,40240,40261,40258,40259,40254,40247,40256,40253,32757,40237,40586,40585,40589,40624,40648,40666,40699,40703,40740,40739,40738,40788,40864,20785,20781,20782,22168,22172,22167,22170,22173,22169,22896,23356,23657,23658,24e3,24173,24174,25048,25055,25069,25070,25073,25066,25072,25067,25046,25065,25855,25860,65533,25853,25848,25857,25859,25852,26004,26075,26330,26331,26328,27333,27321,27325,27361,27334,27322,27318,27319,27335,27316,27309,27486,27593,27659,28679,28684,28685,28673,28677,28692,28686,28671,28672,28667,28710,28668,28663,28682,29185,29183,29177,29187,29181,29558,29880,29888,29877,29889,29886,29878,29883,29890,29972,29971,30300,30308,30297,30288,30291,30295,30298,30374,30397,30444,30658,30650,30975,30988,30995,30996,30985,30992,30994,30993,31149,31148,31327,31772,31785,31769,31776,31775,31789,31773,31782,31784,31778,31781,31792,32348,32336,32342,32355,32344,32354,32351,32337,32352,32343,32339,32693,32691,32759,32760,32885,33233,33234,33232,33375,33374,34228,34246,34240,34243,34242,34227,34229,34237,34247,34244,34239,34251,34254,34248,34245,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34225,34230,34258,34340,34232,34231,34238,34409,34791,34790,34786,34779,34795,34794,34789,34783,34803,34788,34772,34780,34771,34797,34776,34787,34724,34775,34777,34817,34804,34792,34781,35155,35147,35151,35148,35142,35152,35153,35145,35626,35623,35619,35635,35632,35637,35655,35631,35644,35646,35633,35621,35639,35622,35638,35630,35620,35643,35645,35642,35906,35957,35993,35992,65533,35991,36094,36100,36098,36096,36444,36450,36448,36439,36438,36446,36453,36455,36443,36442,36449,36445,36457,36436,36678,36679,36680,36683,37160,37178,37179,37182,37288,37285,37287,37295,37290,37813,37772,37778,37815,37787,37789,37769,37799,37774,37802,37790,37798,37781,37768,37785,37791,37773,37809,37777,37810,37796,37800,37812,37795,37797,38354,38355,38353,38579,38615,38618,24002,38623,38616,38621,38691,38690,38693,38828,38830,38824,38827,38820,38826,38818,38821,38871,38873,38870,38872,38906,38992,38993,38994,39096,39233,39228,39226,39439,39435,39433,39437,39428,39441,39434,39429,39431,39430,39616,39644,39688,39684,39685,39721,39733,39754,39756,39755,39879,39878,39875,39871,39873,39861,39864,39891,39862,39876,39865,39869,40284,40275,40271,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40266,40283,40267,40281,40278,40268,40279,40274,40276,40287,40280,40282,40590,40588,40671,40705,40704,40726,40741,40747,40746,40745,40744,40780,40789,20788,20789,21142,21239,21428,22187,22189,22182,22183,22186,22188,22746,22749,22747,22802,23357,23358,23359,24003,24176,24511,25083,25863,25872,25869,25865,25868,25870,25988,26078,26077,26334,27367,27360,27340,27345,27353,27339,65533,27359,27356,27344,27371,27343,27341,27358,27488,27568,27660,28697,28711,28704,28694,28715,28705,28706,28707,28713,28695,28708,28700,28714,29196,29194,29191,29186,29189,29349,29350,29348,29347,29345,29899,29893,29879,29891,29974,30304,30665,30666,30660,30705,31005,31003,31009,31004,30999,31006,31152,31335,31336,31795,31804,31801,31788,31803,31980,31978,32374,32373,32376,32368,32375,32367,32378,32370,32372,32360,32587,32586,32643,32646,32695,32765,32766,32888,33239,33237,33380,33377,33379,34283,34289,34285,34265,34273,34280,34266,34263,34284,34290,34296,34264,34271,34275,34268,34257,34288,34278,34287,34270,34274,34816,34810,34819,34806,34807,34825,34828,34827,34822,34812,34824,34815,34826,34818,35170,35162,35163,35159,35169,35164,35160,35165,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35161,35208,35255,35254,35318,35664,35656,35658,35648,35667,35670,35668,35659,35669,35665,35650,35666,35671,35907,35959,35958,35994,36102,36103,36105,36268,36266,36269,36267,36461,36472,36467,36458,36463,36475,36546,36690,36689,36687,36688,36691,36788,37184,37183,37296,37293,37854,37831,37839,37826,37850,37840,37881,37868,37836,37849,37801,37862,37834,37844,37870,37859,37845,65533,37828,37838,37824,37842,37863,38269,38362,38363,38625,38697,38699,38700,38696,38694,38835,38839,38838,38877,38878,38879,39004,39001,39005,38999,39103,39101,39099,39102,39240,39239,39235,39334,39335,39450,39445,39461,39453,39460,39451,39458,39456,39463,39459,39454,39452,39444,39618,39691,39690,39694,39692,39735,39914,39915,39904,39902,39908,39910,39906,39920,39892,39895,39916,39900,39897,39909,39893,39905,39898,40311,40321,40330,40324,40328,40305,40320,40312,40326,40331,40332,40317,40299,40308,40309,40304,40297,40325,40307,40315,40322,40303,40313,40319,40327,40296,40596,40593,40640,40700,40749,40768,40769,40781,40790,40791,40792,21303,22194,22197,22195,22755,23365,24006,24007,24302,24303,24512,24513,25081,25879,25878,25877,25875,26079,26344,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26339,26340,27379,27376,27370,27368,27385,27377,27374,27375,28732,28725,28719,28727,28724,28721,28738,28728,28735,28730,28729,28736,28731,28723,28737,29203,29204,29352,29565,29564,29882,30379,30378,30398,30445,30668,30670,30671,30669,30706,31013,31011,31015,31016,31012,31017,31154,31342,31340,31341,31479,31817,31816,31818,31815,31813,31982,32379,32382,32385,32384,32698,32767,65533,32889,33243,33241,33291,33384,33385,34338,34303,34305,34302,34331,34304,34294,34308,34313,34309,34316,34301,34841,34832,34833,34839,34835,34838,35171,35174,35257,35319,35680,35690,35677,35688,35683,35685,35687,35693,36270,36486,36488,36484,36697,36694,36695,36693,36696,36698,37005,37187,37185,37303,37301,37298,37299,37899,37907,37883,37920,37903,37908,37886,37909,37904,37928,37913,37901,37877,37888,37879,37895,37902,37910,37906,37882,37897,37880,37898,37887,37884,37900,37878,37905,37894,38366,38368,38367,38702,38703,38841,38843,38909,38910,39008,39010,39011,39007,39105,39106,39248,39246,39257,39244,39243,39251,39474,39476,39473,39468,39466,39478,39465,39470,39480,39469,39623,39626,39622,39696,39698,39697,39947,39944,39927,39941,39954,39928,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,4e4,39943,39950,39942,39959,39956,39945,40351,40345,40356,40349,40338,40344,40336,40347,40352,40340,40348,40362,40343,40353,40346,40354,40360,40350,40355,40383,40361,40342,40358,40359,40601,40603,40602,40677,40676,40679,40678,40752,40750,40795,40800,40798,40797,40793,40849,20794,20793,21144,21143,22211,22205,22206,23368,23367,24011,24015,24305,25085,25883,27394,27388,27395,65533,27384,27392,28739,28740,28746,28744,28745,28741,28742,29213,29210,29209,29566,29975,30314,30672,31021,31025,31023,31828,31827,31986,32394,32391,32392,32395,32390,32397,32589,32699,32816,33245,34328,34346,34342,34335,34339,34332,34329,34343,34350,34337,34336,34345,34334,34341,34857,34845,34843,34848,34852,34844,34859,34890,35181,35177,35182,35179,35322,35705,35704,35653,35706,35707,36112,36116,36271,36494,36492,36702,36699,36701,37190,37188,37189,37305,37951,37947,37942,37929,37949,37948,37936,37945,37930,37943,37932,37952,37937,38373,38372,38371,38709,38714,38847,38881,39012,39113,39110,39104,39256,39254,39481,39485,39494,39492,39490,39489,39482,39487,39629,39701,39703,39704,39702,39738,39762,39979,39965,39964,39980,39971,39976,39977,39972,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39969,40375,40374,40380,40385,40391,40394,40399,40382,40389,40387,40379,40373,40398,40377,40378,40364,40392,40369,40365,40396,40371,40397,40370,40570,40604,40683,40686,40685,40731,40728,40730,40753,40782,40805,40804,40850,20153,22214,22213,22219,22897,23371,23372,24021,24017,24306,25889,25888,25894,25890,27403,27400,27401,27661,28757,28758,28759,28754,29214,29215,29353,29567,65533,29912,29909,29913,29911,30317,30381,31029,31156,31344,31345,31831,31836,31833,31835,31834,31988,31985,32401,32591,32647,33246,33387,34356,34357,34355,34348,34354,34358,34860,34856,34854,34858,34853,35185,35263,35262,35323,35710,35716,35714,35718,35717,35711,36117,36501,36500,36506,36498,36496,36502,36503,36704,36706,37191,37964,37968,37962,37963,37967,37959,37957,37960,37961,37958,38719,38883,39018,39017,39115,39252,39259,39502,39507,39508,39500,39503,39496,39498,39497,39506,39504,39632,39705,39723,39739,39766,39765,40006,40008,39999,40004,39993,39987,40001,39996,39991,39988,39986,39997,39990,40411,40402,40414,40410,40395,40400,40412,40401,40415,40425,40409,40408,40406,40437,40405,40413,40630,40688,40757,40755,40754,40770,40811,40853,40866,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20797,21145,22760,22759,22898,23373,24024,34863,24399,25089,25091,25092,25897,25893,26006,26347,27409,27410,27407,27594,28763,28762,29218,29570,29569,29571,30320,30676,31847,31846,32405,33388,34362,34368,34361,34364,34353,34363,34366,34864,34866,34862,34867,35190,35188,35187,35326,35724,35726,35723,35720,35909,36121,36504,36708,36707,37308,37986,37973,37981,37975,37982,38852,65533,38853,38912,39510,39513,39710,39711,39712,40018,40024,40016,40010,40013,40011,40021,40025,40012,40014,40443,40439,40431,40419,40427,40440,40420,40438,40417,40430,40422,40434,40432,40418,40428,40436,40435,40424,40429,40642,40656,40690,40691,40710,40732,40760,40759,40758,40771,40783,40817,40816,40814,40815,22227,22221,23374,23661,25901,26349,26350,27411,28767,28769,28765,28768,29219,29915,29925,30677,31032,31159,31158,31850,32407,32649,33389,34371,34872,34871,34869,34891,35732,35733,36510,36511,36512,36509,37310,37309,37314,37995,37992,37993,38629,38726,38723,38727,38855,38885,39518,39637,39769,40035,40039,40038,40034,40030,40032,40450,40446,40455,40451,40454,40453,40448,40449,40457,40447,40445,40452,40608,40734,40774,40820,40821,40822,22228,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25902,26040,27416,27417,27415,27418,28770,29222,29354,30680,30681,31033,31849,31851,31990,32410,32408,32411,32409,33248,33249,34374,34375,34376,35193,35194,35196,35195,35327,35736,35737,36517,36516,36515,37998,37997,37999,38001,38003,38729,39026,39263,40040,40046,40045,40459,40461,40464,40463,40466,40465,40609,40693,40713,40775,40824,40827,40826,40825,22302,28774,31855,34876,65533,36274,36518,37315,38004,38008,38006,38005,39520,40052,40051,40049,40053,40468,40467,40694,40714,40868,28776,28773,31991,34410,34878,34877,34879,35742,35996,36521,36553,38731,39027,39028,39116,39265,39339,39524,39526,39527,39716,40469,40471,40776,25095,27422,29223,34380,36520,38018,38016,38017,39529,39528,39726,40473,29225,34379,35743,38019,40057,40631,30325,39531,40058,40477,28777,28778,40612,40830,40777,40856,26910,28344,14165,14166,14167,14168,14171,14172,14173,14176,14177,14178,14182,14183,14187,14189,14191,14193,14195,14196,14199,14201,14219,14220,14222,14224,14225,14226,14228,14229,14230,14233,14238,14241,14242,14243,14244,14245,14246,14247,14248,14249,14252,14253,14255,14258,14261,14262,14265,14268,14269,14270,14272,14273,14276,14277,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,14280,14282,14283,14285,14286,14287,14289,14291,14292,14295,14296,14297,14298,14301,14302,14304,14306,14309,14310,14311,14312,14313,14315,14317,14319,14320,14322,14324,14326,14332,14334,14336,14337,14340,14341,14342,14344,14345,14347,14348,14349,14351,14358,14360,14361,14364,14365,14368,14372,14373,14374,14375,14377,14381,14382,14383,14386,14390,14393,14395,14399,14400,14404,14413,14414,14419,14421,14424,14427,14432,14434,14435,14441,14445,14447,14448,14449,14450,14457,14459,14461,14462,14467,14470,14472,14476,14480,14483,14488,14489,14495,14496,14497,14505,14506,14508,14510,14511,14514,14518,14525,14526,14534,14538,14539,14541,14542,14543,14544,14547,14548,14553,14554,14556,14559,14562,14565,14566,14571,14572,14575,14581,14583,14586,14587,14588,14589,14591,14593,14594,14595,14596,14597,14599,14600,14603,14604,14605,14608,14609,14611,14614,14615,14617,14618,14619,14620,14622,14623,14626,14632,14634,14635,14636,14640,14642,14643,14645,14647,14649,14655,14656,14658,14659,14660,14663,14664,14665,14667,14668,14669,14670,14671,14673,14674,14675,14676,14677,14683,14684,14686,14688,14691,14692,14694,14695,14699,14700,14701,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,14702,14706,14709,14710,14712,14713,14714,14719,14720,14721,14722,14723,14724,14729,14730,14733,14739,14740,14742,14745,14750,14753,14756,14757,14760,14763,14764,14765,14766,14767,14775,14776,14780,14781,14786,14787,14789,14791,14795,14796,14797,14798,14802,14803,14805,14806,14807,14809,14810,14813,14819,14820,14821,14822,14823,14824,14826,14830,14831,14833,14834,14835,14836,14837,14839,14840,14844,14846,14847,14848,14850,14851,14852,14855,14856,14859,14861,14862,14863,14866,14867,14868,14870,14871,14872,14875,14877,14878,14879,14882,14883,14884,14885,14886,14887,14888,14889,14890,14896,14897,14898,14900,14901,14902,14904,14906,14908,14911,14912,14913,14916,14919,14921,14925,14926,14928,14930,14933,14934,14935,14936,14937,14938,14939,14940,14941,14942,14945,14949,14950,14951,14952,14954,14956,14957,14958,14960,14963,14964,14965,14971,14976,14981,14983,14987,14989,14990,14999,15002,15007,15019,15023,15025,15028,15030,15031,15032,15038,15040,15043,15044,15049,15050,15051,15057,15058,15059,15060,15061,15062,15063,15064,15065,15067,15068,15069,15070,15071,15072,15073,15075,15076,15077,15078,15079,15080,15081,15082,15083,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,15084,15086,15091,15093,15095,15096,15098,15099,15101,15103,15107,15108,15109,15110,15111,15112,15113,15114,15115,15116,15117,15118,15119,15120,15124,15125,15127,15129,15131,15132,15133,15136,15137,15138,15142,15145,15146,15147,15148,15149,15152,15153,15154,15155,15156,15157,15158,15159,15160,15161,15162,15167,15169,15170,15171,15172,15173,15175,15176,15177,15178,15179,15181,15185,15186,15187,15189,15192,15196,15199,15200,15202,15206,15208,15210,15211,15212,15217,15218,15219,15220,15223,15225,15227,15228,15231,15232,15233,15235,15236,15237,15238,15239,15240,15242,15243,15244,15245,15246,15250,15251,15252,15253,15254,15256,15257,15258,15259,15260,15263,15264,15265,15267,15268,15270,15272,15273,15276,15278,15279,15280,15281,15283,15284,15288,15289,15290,15292,15294,15295,15298,15300,15302,15303,15304,15307,15308,15309,15310,15311,15312,15315,15318,15319,15322,15323,15324,15326,15327,15328,15330,15331,15332,15333,15334,15336,15338,15340,15341,15342,15346,15347,15348,15349,15350,15353,15355,15357,15359,15360,15365,15366,15368,15369,15370,15371,15372,15373,15374,15375,15376,15377,15378,15381,15382,15383,15385,15386,15387,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,15393,15396,15406,15412,15423,15427,15429,15432,15433,15439,15442,15444,15445,15448,15450,15454,15455,15456,15457,15458,15464,15466,15469,15482,15487,15491,15492,15494,15495,15496,15497,15498,15499,15500,15502,15506,15507,15512,15516,15520,15530,15533,15535,15537,15538,15540,15541,15542,15543,15544,15545,15546,15547,15548,15550,15552,15553,15554,15556,15557,15558,15561,15562,15563,15564,15565,15566,15567,15568,15569,15570,15574,15576,15577,15581,15582,15583,15584,15587,15589,15590,15593,15595,15596,15597,15598,15599,15603,15604,15605,15608,15610,15611,15612,15613,15615,15621,15622,15623,15624,15626,15629,15632,15633,15634,15635,15637,15638,15639,15642,15643,15644,15645,15647,15648,15649,15654,15655,15656,15657,15658,15659,15662,15664,15665,15666,15667,15668,15672,15675,15676,15678,15679,15680,15682,15684,15686,15690,15693,15694,15695,15697,15698,15699,15702,15704,15705,15706,15707,15709,15710,15711,15712,15713,15714,15715,15717,15718,15719,15721,15722,15724,15727,15728,15729,15731,15733,15736,15739,15741,15742,15745,15749,15751,15752,15754,15756,15757,15761,15762,15767,15768,15770,15772,15775,15776,15777,15779,15780,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,15782,15783,15784,15785,15786,15787,15788,15789,15790,15791,15792,15795,15797,15799,15800,15801,15802,15803,15806,15807,15810,15812,15813,15814,15815,15817,15818,15819,15820,15821,15822,15823,15824,15825,15826,15827,15828,15829,15830,15832,15833,15834,15835,15840,15841,15846,15847,15848,15851,15852,15853,15854,15855,15858,15860,15861,15863,15864,15865,15867,15868,15869,15870,15872,15873,15875,15876,15879,15880,15881,15882,15883,15884,15888,15889,15891,15892,15893,15894,15896,15897,15898,15901,15902,15908,15910,15911,15913,15920,15921,15922,15923,15925,15926,15933,15936,15943,15957,15958,15964,15966,15968,15972,15973,15974,15976,15982,15985,15988,15989,15997,15998,16003,16011,16018,16019,16020,16023,16028,16029,16040,16042,16043,16044,16045,16046,16047,16048,16049,16050,16051,16053,16054,16055,16056,16057,16058,16059,16060,16061,16063,16064,16065,16066,16067,16068,16069,16071,16072,16073,16074,16075,16076,16077,16078,16080,16081,16084,16085,16086,16087,16089,16090,16091,16092,16093,16094,16095,16097,16098,16102,16103,16105,16107,16108,16109,16110,16111,16112,16113,16114,16115,16116,16117,16120,16121,16122,16123,16124,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,16125,16126,16127,16128,16129,16130,16133,16134,16135,16136,16140,16144,16153,16154,16156,16157,16158,16159,16167,16169,16172,16175,16182,16184,16188,16193,16195,16205,16208,16209,16210,16211,16215,16217,16220,16222,16223,16226,16227,16228,16229,16230,16236,16241,16245,16248,16250,16251,16253,16258,16263,16268,16272,16273,16277,16278,16280,16285,16286,16298,16301,16302,16312,16325,16328,16329,16331,16343,16348,16349,16350,16351,16352,16353,16354,16355,16357,16360,16364,16373,16374,16381,16384,16386,16387,16388,16390,16391,16395,16397,16398,16402,16413,16414,16416,16417,16418,16420,16426,16427,16431,16433,16435,16441,16451,16454,16463,16468,16471,16472,16473,16478,16482,16483,16485,16486,16487,16490,16492,16495,16503,16505,16507,16512,16522,16534,16535,16539,16541,16542,16545,16547,16548,16549,16550,16552,16554,16555,16556,16557,16558,16559,16560,16564,16570,16571,16572,16573,16574,16577,16578,16579,16582,16584,16585,16587,16588,16589,16591,16596,16597,16600,16601,16602,16603,16607,16608,16610,16611,16613,16614,16617,16618,16619,16626,16628,16634,16635,16636,16637,16641,16642,16643,16644,16647,16648,16650,16653,16654,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,16655,16657,16658,16659,16661,16665,16667,16672,16673,16674,16677,16679,16680,16681,16683,16684,16685,16686,16688,16689,16691,16695,16696,16701,16708,16709,16711,16715,16716,16717,16718,16719,16720,16722,16725,16727,16729,16731,16734,16736,16737,16738,16739,16740,16742,16743,16744,16748,16750,16751,16752,16753,16754,16755,16758,16761,16765,16767,16768,16769,16773,16776,16777,16784,16787,16788,16790,16791,16792,16793,16796,16801,16803,16805,16820,16821,16822,16827,16831,16834,16835,16836,16838,16839,16841,16842,16843,16844,16846,16847,16848,16851,16853,16854,16857,16859,16862,16864,16868,16874,16876,16877,16878,16879,16885,16889,16890,16892,16894,16895,16897,16898,16899,16900,16903,16906,16911,16913,16914,16916,16917,16918,16919,16920,16921,16927,16928,16931,16932,16933,16935,16940,16943,16944,16950,16951,16958,16960,16964,16973,16975,16984,16985,16987,16988,16989,16992,16993,16994,17e3,17001,17002,17003,17006,17013,17014,17015,17018,17019,17020,17024,17027,17028,17029,17031,17032,17033,17034,17035,17037,17039,17040,17042,17043,17044,17045,17046,17050,17052,17053,17056,17061,17065,17066,17070,17076,17079,17080,17081,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,17084,17085,17087,17089,17091,17092,17098,17099,17102,17104,17106,17107,17108,17109,17110,17111,17112,17113,17114,17115,17118,17120,17121,17123,17125,17126,17127,17131,17132,17133,17134,17135,17138,17139,17140,17142,17144,17145,17146,17147,17148,17152,17155,17156,17157,17159,17160,17161,17162,17163,17165,17167,17169,17171,17172,17174,17177,17178,17179,17180,17182,17185,17186,17188,17190,17191,17192,17193,17196,17199,17200,17202,17203,17219,17220,17221,17224,17228,17232,17233,17234,17235,17243,17244,17246,17247,17249,17252,17254,17257,17258,17262,17266,17268,17270,17271,17272,17273,17277,17278,17279,17281,17285,17286,17291,17293,17295,17296,17302,17303,17304,17305,17306,17308,17309,17311,17313,17315,17322,17327,17329,17331,17332,17333,17337,17340,17342,17343,17346,17352,17354,17356,17357,17360,17362,17363,17371,17372,17377,17378,17379,17382,17388,17389,17391,17394,17399,17400,17401,17402,17403,17405,17406,17407,17410,17415,17423,17424,17425,17427,17430,17431,17432,17433,17441,17445,17446,17462,17463,17464,17469,17475,17477,17478,17490,17491,17497,17498,17499,17502,17503,17507,17508,17510,17513,17514,17516,17522,17523,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,17524,17529,17533,17535,17536,17538,17539,17553,17555,17556,17557,17560,17562,17563,17564,17565,17567,17568,17570,17571,17572,17573,17574,17575,17576,17577,17578,17579,17580,17584,17585,17587,17588,17589,17591,17593,17594,17595,17598,17600,17601,17602,17603,17605,17606,17608,17610,17612,17614,17616,17617,17618,17620,17623,17629,17630,17631,17633,17634,17636,17637,17639,17641,17642,17643,17644,17648,17649,17653,17654,17655,17657,17658,17659,17661,17664,17665,17668,17669,17670,17671,17672,17673,17676,17677,17678,17680,17682,17684,17686,17687,17689,17690,17691,17693,17695,17697,17698,17699,17701,17702,17703,17705,17707,17708,17709,17710,17712,17714,17715,17717,17718,17719,17725,17727,17728,17731,17733,17740,17741,17743,17744,17745,17746,17749,17750,17751,17752,17756,17759,17760,17762,17764,17766,17768,17770,17771,17772,17775,17777,17779,17780,17783,17784,17786,17787,17788,17790,17793,17797,17800,17803,17804,17805,17807,17809,17810,17813,17814,17821,17822,17823,17824,17826,17828,17829,17831,17838,17840,17843,17844,17845,17848,17849,17850,17853,17856,17861,17865,17866,17867,17868,17870,17871,17872,17873,17876,17877,17880,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,17884,17886,17890,17894,17896,17899,17900,17902,17906,17907,17910,17913,17919,17920,17921,17922,17926,17927,17928,17931,17933,17935,17937,17938,17941,17942,17943,17945,17946,17948,17952,17958,17959,17961,17963,17964,17965,17966,17971,17973,17978,17979,17981,17983,17984,17985,17986,17991,17992,17999,18001,18004,18006,18007,18008,18009,18011,18013,18017,18024,18025,18026,18027,18028,18030,18032,18035,18036,18039,18040,18042,18047,18048,18049,18052,18056,18065,18068,18069,18070,18072,18074,18079,18081,18094,18096,18098,18100,18101,18104,18105,18106,18107,18108,18109,18110,18111,18114,18115,18117,18118,18121,18122,18123,18127,18128,18130,18132,18134,18138,18139,18140,18143,18145,18148,18149,18150,18151,18152,18157,18159,18160,18161,18162,18163,18164,18168,18170,18171,18174,18175,18176,18177,18183,18184,18186,18187,18188,18189,18195,18196,18198,18200,18204,18207,18208,18209,18210,18220,18221,18223,18229,18230,18233,18235,18237,18239,18241,18242,18249,18259,18260,18264,18268,18269,18270,18271,18272,18273,18274,18277,18280,18284,18286,18288,18289,18290,18293,18294,18295,18299,18300,18302,18303,18307,18308,18313,18314,18323,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,18327,18331,18332,18333,18335,18336,18337,18338,18340,18341,18344,18350,18352,18355,18358,18364,18370,18374,18376,18382,18384,18388,18390,18394,18398,18402,18406,18411,18413,18416,18417,18420,18425,18426,18428,18429,18432,18434,18435,18442,18446,18447,18452,18457,18458,18459,18461,18462,18469,18480,18481,18482,18486,18487,18488,18489,18494,18495,18497,18501,18502,18503,18504,18507,18508,18509,18511,18512,18514,18515,18517,18518,18523,18528,18533,18537,18544,18545,18548,18553,18554,18556,18558,18559,18564,18567,18570,18573,18578,18581,18582,18584,18585,18587,18588,18590,18591,18592,18594,18597,18598,18601,18602,18603,18604,18606,18608,18611,18612,18613,18614,18615,18616,18619,18620,18621,18622,18623,18625,18626,18628,18629,18630,18634,18637,18638,18640,18641,18643,18645,18648,18650,18651,18654,18659,18661,18663,18664,18665,18667,18669,18671,18672,18673,18675,18677,18692,18696,18714,18716,18717,18718,18719,18720,18721,18723,18724,18725,18726,18727,18731,18733,18734,18736,18739,18740,18743,18744,18748,18749,18750,18757,18758,18759,18760,18762,18763,18764,18768,18769,18770,18771,18772,18773,18774,18776,18778,18782,18785,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,18786,18788,18789,18790,18791,18792,18795,18797,18801,18802,18803,18804,18805,18806,18807,18808,18816,18825,18828,18830,18832,18833,18834,18838,18839,18840,18842,18843,18846,18847,18850,18852,18853,18854,18855,18856,18861,18862,18863,18864,18874,18875,18881,18882,18883,18886,18888,18891,18893,18896,18897,18899,18900,18901,18902,18903,18904,18905,18906,18907,18910,18911,18912,18913,18914,18915,18916,18917,18919,18923,18924,18926,18929,18931,18932,18933,18934,18936,18937,18938,18939,18940,18941,18942,18943,18944,18946,18947,18948,18949,18950,18951,18953,18954,18955,18956,18958,18961,18962,18964,18967,18968,18969,18972,18973,18974,18975,18976,18978,18982,18983,18985,18987,18988,18989,18990,18991,18993,18994,18995,18996,18997,18998,18999,19e3,19001,19002,19003,19006,19008,19011,19013,19025,19027,19030,19031,19036,19037,19040,19044,19046,19047,19048,19052,19053,19054,19063,19064,19067,19075,19077,19080,19083,19085,19092,19096,19097,19101,19102,19104,19105,19106,19107,19108,19110,19111,19112,19113,19117,19120,19128,19130,19131,19135,19139,19140,19141,19142,19143,19144,19145,19147,19150,19151,19152,19153,19154,19155,19157,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19161,19162,19164,19165,19171,19178,19179,19187,19191,19194,19195,19200,19203,19221,19222,19223,19225,19226,19228,19230,19232,19233,19234,19236,19237,19239,19241,19242,19245,19246,19248,19249,19250,19251,19253,19254,19257,19260,19269,19275,19276,19278,19284,19285,19287,19290,19291,19295,19299,19302,19307,19308,19311,19312,19314,19315,19316,19318,19320,19321,19322,19323,19324,19325,19326,19328,19329,19330,19331,19332,19334,19335,19336,19338,19343,19344,19346,19350,19352,19355,19358,19365,19366,19370,19375,19381,19382,19386,19389,19390,19391,19392,19393,19398,19399,19401,19402,19406,19407,19408,19413,19417,19421,19425,19431,19432,19435,19437,19441,19443,19446,19450,19451,19452,19455,19456,19460,19461,19463,19469,19472,19473,19478,19481,19482,19483,19484,19486,19487,19491,19493,19496,19498,19504,19513,19515,19519,19521,19523,19524,19525,19526,19527,19528,19529,19531,19535,19540,19542,19546,19547,19549,19551,19552,19558,19559,19560,19563,19567,19570,19571,19574,19575,19577,19578,19580,19581,19583,19585,19586,19588,19589,19590,19598,19599,19601,19602,19603,19606,19609,19612,19619,19621,19622,19623,19624,19625,19627,19630,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19635,19636,19637,19639,19641,19642,19644,19645,19646,19650,19652,19654,19656,19658,19659,19660,19662,19663,19664,19666,19671,19672,19678,19679,19681,19686,19688,19689,19692,19696,19697,19702,19703,19706,19708,19709,19711,19716,19717,19720,19722,19723,19725,19727,19728,19730,19738,19745,19746,19747,19749,19750,19753,19754,19755,19758,19765,19768,19769,19770,19780,19805,19806,19817,19820,19823,19827,19831,19833,19834,19847,19850,19852,19858,19861,19862,19866,19870,19874,19878,19879,19880,19893,19970,19972,19973,19974,19986,19987,19996,2e4,20001,20002,20003,20004,20008,20009,20010,20012,20015,20021,20022,20023,20029,20031,20032,20033,20036,20038,20041,20042,20048,20049,20052,20053,20055,20058,20059,20066,20067,20068,20069,20071,20072,20074,20075,20076,20077,20078,20079,20081,20082,20084,20085,20086,20087,20088,20089,20090,20091,20092,20093,20096,20097,20101,20103,20105,20106,20111,20112,20118,20119,20120,20122,20124,20125,20128,20131,20138,20143,20144,20145,20146,20148,20151,20155,20156,20157,20158,20159,20165,20172,20174,20175,20176,20178,20179,20187,20192,20194,20198,20199,20202,20203,20205,20206,20207,20216,20217,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20218,20220,20227,20230,20231,20236,20246,20247,20250,20252,20255,20256,20260,20262,20264,20265,20270,20273,20274,20277,20279,20281,20288,20290,20292,20293,20298,20299,20326,20328,20333,20338,20362,20364,20366,20371,20377,20383,20384,20385,20386,20387,20388,20393,20395,20397,20400,20401,20404,20408,20412,20413,20414,20422,20424,20428,20434,20437,20450,20451,20452,20453,20454,20455,20458,20464,20466,20473,20475,20476,20477,20479,20481,20482,20483,20484,20488,20490,20496,20509,20516,20526,20530,20532,20534,20536,20537,20539,20541,20543,20546,20548,20560,20562,20564,20566,20568,20569,20582,20583,20588,20593,20600,20601,20603,20604,20609,20612,20614,20616,20617,20618,20623,20624,20631,20645,20646,20650,20651,20665,20668,20672,20675,20684,20685,20688,20690,20696,20697,20700,20702,20703,20705,20706,20715,20722,20724,20727,20730,20732,20737,20749,20750,20751,20758,20761,20763,20765,20766,20771,20775,20776,20779,20780,20783,20790,20798,20802,20810,20814,20816,20817,20819,20822,20832,20836,20838,20842,20847,20848,20850,20851,20852,20857,20858,20859,20862,20863,20866,20867,20868,20869,20870,20872,20875,20876,20878,20880,20886,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20889,20890,20893,20895,20897,20899,20902,20903,20904,20907,20910,20914,20915,20916,20917,20920,20922,20927,20928,20929,20930,20931,20935,20937,20943,20945,20946,20947,20949,20950,20953,20954,20955,20959,20962,20963,20964,20965,20966,20967,20968,20969,20970,20972,20973,20974,20980,20983,20988,20990,20994,20996,20997,21003,21007,21012,21013,21016,21018,21023,21024,21026,21027,21030,21031,21035,21039,21044,21049,21052,21054,21061,21064,21071,21073,21075,21079,21080,21081,21088,21091,21092,21093,21095,21096,21104,21105,21107,21110,21113,21118,21126,21134,21135,21136,21138,21140,21141,21146,21148,21149,21150,21153,21156,21157,21159,21160,21167,21168,21169,21171,21172,21173,21174,21175,21176,21177,21178,21181,21183,21188,21189,21190,21194,21196,21198,21199,21200,21201,21204,21212,21216,21217,21221,21223,21224,21226,21228,21229,21230,21234,21238,21241,21245,21248,21249,21250,21251,21252,21255,21260,21267,21268,21278,21284,21285,21287,21288,21291,21292,21298,21299,21301,21302,21304,21306,21307,21314,21316,21318,21323,21326,21327,21328,21333,21336,21337,21341,21343,21346,21349,21351,21352,21353,21355,21357,21364,21366,21370,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21373,21374,21376,21377,21379,21382,21383,21384,21385,21387,21393,21395,21403,21408,21409,21410,21414,21416,21417,21418,21419,21422,21423,21424,21425,21427,21429,21430,21431,21432,21434,21436,21437,21438,21440,21441,21442,21444,21445,21452,21454,21455,21456,21458,21459,21461,21464,21465,21466,21468,21469,21470,21472,21479,21492,21494,21495,21497,21498,21502,21503,21504,21506,21509,21523,21524,21525,21526,21530,21537,21538,21539,21551,21554,21556,21562,21567,21572,21577,21579,21580,21581,21584,21585,21590,21593,21594,21597,21598,21599,21609,21610,21613,21614,21625,21635,21637,21641,21642,21647,21651,21652,21655,21660,21661,21662,21663,21667,21668,21682,21684,21685,21689,21706,21707,21708,21709,21712,21714,21720,21722,21723,21731,21740,21743,21744,21748,21749,21750,21753,21758,21760,21762,21773,21779,21781,21782,21784,21785,21788,21790,21791,21795,21797,21800,21801,21803,21818,21821,21823,21826,21831,21833,21836,21843,21844,21848,21849,21850,21851,21853,21856,21864,21865,21867,21872,21873,21874,21875,21881,21882,21893,21894,21904,21910,21911,21915,21918,21920,21929,21935,21936,21940,21944,21945,21946,21948,21949,21953,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21975,21976,21982,21994,21996,21997,21998,22e3,22001,22004,22005,22008,22011,22019,22021,22023,22026,22027,22033,22040,22041,22042,22046,22048,22049,22050,22051,22053,22054,22056,22059,22061,22065,22071,22083,22084,22087,22091,22093,22095,22096,22097,22098,22100,22102,22107,22109,22111,22113,22119,22138,22139,22140,22141,22152,22153,22154,22155,22161,22162,22164,22166,22171,22174,22175,22176,22177,22178,22180,22185,22191,22192,22193,22200,22201,22202,22203,22207,22212,22215,22222,22223,22224,22226,22229,22230,22232,22233,22236,22242,22243,22246,22248,22249,22252,22253,22255,22257,22258,22259,22262,22264,22267,22268,22269,22270,22272,22277,22286,22287,22288,22293,22295,22297,22301,22305,22308,22309,22310,22311,22315,22321,22322,22325,22326,22327,22328,22330,22332,22333,22335,22338,22339,22340,22342,22344,22355,22356,22357,22358,22359,22360,22361,22362,22363,22367,22371,22373,22375,22380,22382,22392,22393,22394,22398,22399,22401,22407,22408,22409,22410,22413,22414,22416,22417,22418,22422,22428,22433,22438,22439,22440,22442,22443,22444,22447,22448,22451,22452,22455,22459,22462,22464,22468,22469,22472,22473,22474,22477,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22481,22483,22486,22487,22491,22493,22494,22502,22504,22506,22507,22511,22526,22527,22531,22543,22546,22547,22549,22551,22552,22554,22559,22562,22566,22571,22586,22588,22590,22592,22593,22594,22595,22596,22597,22599,22608,22614,22620,22623,22624,22625,22630,22631,22633,22634,22636,22638,22640,22642,22643,22647,22648,22660,22668,22669,22674,22677,22678,22679,22682,22683,22690,22692,22695,22698,22701,22704,22706,22708,22709,22710,22711,22712,22713,22715,22720,22723,22724,22730,22731,22732,22733,22736,22743,22748,22752,22753,22757,22758,22762,22765,22766,22768,22769,22770,22771,22773,22775,22779,22784,22785,22786,22788,22789,22791,22792,22793,22794,22795,22800,22801,22808,22811,22813,22814,22815,22817,22819,22822,22824,22832,22834,22835,22836,22837,22838,22841,22843,22845,22847,22851,22854,22859,22860,22861,22866,22875,22877,22878,22879,22883,22884,22885,22886,22888,22892,22895,22901,22906,22918,22919,22921,22923,22924,22929,22932,22933,22938,22939,22940,22943,22954,22956,22957,22960,22967,22968,22975,22978,22980,22985,22997,22999,23001,23007,23010,23015,23019,23023,23024,23032,23033,23042,23044,23045,23047,23048,23051,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23053,23054,23056,23058,23060,23066,23069,23073,23074,23076,23078,23079,23080,23082,23083,23084,23087,23089,23098,23099,23101,23103,23109,23115,23118,23119,23124,23129,23137,23139,23144,23147,23150,23151,23153,23154,23155,23157,23161,23166,23168,23169,23170,23173,23174,23175,23176,23177,23181,23185,23190,23192,23193,23200,23201,23203,23204,23208,23210,23211,23235,23237,23246,23247,23248,23249,23250,23251,23268,23271,23279,23280,23282,23290,23292,23294,23296,23300,23302,23306,23309,23310,23313,23314,23317,23320,23324,23327,23330,23337,23339,23345,23347,23349,23350,23351,23353,23354,23355,23361,23362,23364,23366,23369,23370,23375,23385,23390,23392,23398,23399,23400,23402,23405,23412,23414,23417,23420,23422,23424,23426,23430,23434,23437,23440,23441,23444,23446,23453,23454,23455,23466,23467,23471,23473,23479,23482,23483,23484,23486,23491,23496,23497,23503,23509,23511,23514,23515,23516,23533,23539,23540,23543,23545,23547,23549,23550,23551,23552,23554,23557,23558,23571,23572,23575,23576,23577,23579,23580,23581,23582,23584,23585,23593,23595,23597,23598,23599,23602,23605,23606,23613,23625,23626,23634,23635,23639,23643,23646,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23647,23649,23659,23664,23666,23669,23670,23671,23672,23677,23680,23681,23682,23683,23684,23685,23687,23694,23705,23706,23708,23710,23730,23732,23737,23738,23739,23740,23742,23744,23745,23746,23749,23757,23761,23765,23772,23773,23776,23777,23778,23781,23782,23783,23785,23787,23791,23794,23795,23797,23802,23804,23806,23810,23813,23816,23817,23818,23824,23827,23829,23832,23836,23841,23850,23852,23855,23867,23870,23876,23878,23880,23885,23887,23891,23892,23894,23895,23896,23899,23900,23903,23904,23905,23908,23910,23914,23917,23918,23920,23924,23925,23926,23928,23931,23939,23941,23947,23948,23950,23951,23952,23953,23958,23960,23963,23971,23972,23973,23974,23979,23987,23990,23993,23995,23998,23999,24001,24004,24008,24010,24012,24014,24016,24019,24023,24025,24027,24028,24035,24036,24041,24042,24044,24045,24053,24054,24056,24058,24059,24060,24064,24069,24071,24072,24073,24075,24077,24082,24083,24094,24106,24108,24110,24111,24112,24114,24117,24121,24122,24124,24127,24130,24134,24135,24136,24137,24144,24145,24146,24150,24154,24158,24165,24177,24183,24186,24191,24193,24195,24197,24198,24206,24208,24210,24212,24216,24217,24221,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24225,24233,24239,24250,24251,24253,24255,24256,24269,24271,24272,24292,24298,24301,24304,24308,24309,24312,24313,24315,24316,24317,24320,24323,24326,24329,24332,24333,24334,24336,24337,24342,24345,24348,24350,24353,24357,24363,24364,24367,24370,24372,24377,24378,24379,24382,24383,24385,24386,24389,24391,24397,24400,24401,24402,24403,24405,24410,24411,24412,24413,24416,24417,24419,24422,24430,24434,24437,24442,24443,24451,24452,24461,24462,24463,24467,24468,24474,24477,24482,24484,24487,24497,24499,24500,24504,24506,24514,24516,24518,24519,24520,24522,24523,24526,24531,24538,24539,24540,24543,24550,24551,24553,24556,24560,24562,24566,24569,24572,24574,24577,24583,24584,24600,24607,24611,24624,24625,24630,24632,24634,24637,24638,24648,24650,24651,24654,24655,24657,24658,24662,24663,24668,24672,24673,24691,24692,24693,24695,24698,24700,24702,24706,24715,24719,24723,24728,24729,24734,24737,24740,24742,24743,24745,24746,24747,24750,24755,24770,24784,24786,24790,24791,24798,24803,24805,24807,24808,24809,24810,24814,24829,24839,24844,24849,24855,24857,24862,24864,24865,24866,24869,24874,24877,24880,24881,24883,24888,24889,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24890,24892,24893,24898,24899,24912,24919,24921,24924,24928,24932,24937,24943,24952,24955,24957,24959,24961,24964,24965,24966,24967,24968,24975,24981,24983,24984,24985,24988,24990,24992,24995,24997,24998,25015,25017,25019,25021,25024,25028,25038,25039,25040,25043,25044,25045,25047,25049,25050,25051,25052,25053,25057,25058,25075,25076,25090,25093,25103,25107,25112,25116,25118,25128,25132,25135,25137,25141,25143,25144,25145,25147,25148,25156,25157,25164,25167,25174,25175,25181,25183,25191,25192,25193,25205,25208,25218,25221,25227,25229,25232,25241,25243,25244,25245,25246,25251,25252,25253,25254,25255,25266,25271,25274,25280,25281,25283,25285,25301,25309,25310,25311,25312,25313,25316,25317,25319,25321,25322,25348,25349,25350,25354,25362,25367,25368,25369,25370,25371,25373,25375,25377,25383,25390,25392,25393,25397,25399,25407,25426,25427,25435,25436,25437,25438,25440,25444,25446,25450,25452,25459,25460,25465,25470,25471,25478,25483,25491,25493,25498,25510,25522,25525,25526,25527,25529,25530,25531,25535,25537,25553,25556,25566,25570,25574,25580,25591,25592,25594,25595,25596,25598,25603,25607,25608,25617,25625,25629,25641,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25649,25650,25656,25658,25659,25660,25666,25670,25671,25672,25673,25674,25676,25679,25685,25686,25687,25690,25698,25699,25700,25706,25713,25724,25726,25728,25729,25731,25734,25741,25742,25748,25755,25761,25767,25768,25770,25775,25780,25782,25785,25792,25798,25800,25804,25809,25811,25813,25820,25821,25823,25825,25829,25831,25834,25838,25846,25849,25858,25861,25864,25866,25867,25873,25882,25886,25887,25895,25896,25904,25905,25908,25909,25914,25916,25920,25922,25924,25927,25931,25932,25933,25934,25936,25938,25946,25951,25952,25953,25963,25965,25966,25968,25969,25981,25982,25989,25990,25992,25993,25995,25997,25998,25999,26008,26010,26019,26022,26029,26033,26036,26037,26042,26046,26048,26055,26056,26057,26058,26065,26068,26069,26072,26073,26076,26080,26083,26084,26087,26090,26091,26102,26103,26105,26110,26111,26113,26134,26135,26136,26137,26138,26139,26142,26147,26153,26154,26156,26160,26167,26168,26171,26172,26174,26175,26176,26180,26182,26184,26187,26189,26190,26192,26195,26198,26199,26200,26208,26211,26215,26217,26219,26221,26227,26229,26237,26239,26241,26243,26245,26254,26255,26258,26259,26266,26267,26268,26275,26276,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26277,26278,26284,26285,26291,26294,26300,26303,26305,26306,26307,26309,26317,26318,26320,26321,26324,26325,26327,26335,26337,26338,26341,26343,26346,26351,26353,26357,26362,26363,26365,26370,26374,26380,26382,26385,26390,26393,26394,26396,26398,26404,26405,26415,26416,26418,26422,26423,26432,26433,26435,26436,26442,26450,26452,26456,26459,26465,26466,26467,26468,26469,26470,26471,26475,26478,26496,26498,26504,26506,26511,26518,26523,26528,26529,26530,26531,26532,26533,26534,26537,26539,26540,26545,26556,26557,26559,26567,26581,26582,26583,26593,26600,26617,26619,26622,26624,26625,26626,26627,26628,26629,26630,26631,26632,26637,26640,26641,26645,26649,26651,26654,26658,26659,26660,26663,26668,26672,26678,26679,26686,26687,26695,26698,26706,26709,26710,26711,26712,26713,26714,26715,26716,26717,26718,26719,26729,26732,26736,26739,26746,26756,26760,26765,26766,26773,26776,26777,26778,26782,26789,26790,26806,26807,26808,26809,26811,26813,26817,26819,26821,26826,26831,26841,26843,26850,26853,26861,26878,26879,26880,26881,26882,26883,26889,26902,26904,26905,26906,26907,26908,26913,26914,26915,26918,26919,26920,26921,26924,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26926,26929,26934,26938,26942,26947,26950,26951,26957,26960,26965,26977,26980,26983,26994,26995,27004,27005,27006,27007,27008,27009,27013,27018,27019,27020,27023,27026,27032,27037,27039,27042,27058,27064,27066,27072,27077,27079,27080,27089,27090,27093,27094,27096,27101,27102,27105,27107,27113,27114,27119,27120,27125,27129,27130,27147,27148,27150,27152,27154,27162,27164,27170,27172,27177,27178,27179,27180,27181,27182,27184,27187,27190,27191,27202,27203,27205,27210,27212,27218,27219,27223,27228,27235,27244,27246,27248,27249,27250,27251,27252,27253,27255,27256,27258,27259,27261,27266,27270,27272,27274,27275,27279,27288,27289,27293,27303,27305,27306,27307,27312,27313,27314,27317,27324,27326,27327,27328,27329,27332,27336,27337,27338,27342,27346,27348,27349,27350,27351,27352,27362,27363,27364,27366,27369,27373,27378,27380,27381,27382,27383,27389,27390,27391,27393,27397,27398,27399,27404,27405,27406,27412,27413,27419,27420,27421,27423,27426,27428,27430,27431,27433,27434,27435,27438,27440,27445,27456,27460,27471,27474,27475,27479,27480,27482,27485,27496,27497,27499,27500,27502,27503,27504,27505,27507,27508,27514,27521,27525,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27531,27536,27548,27549,27553,27560,27561,27564,27572,27577,27579,27582,27585,27598,27601,27605,27612,27613,27615,27617,27621,27625,27626,27629,27630,27636,27637,27638,27642,27658,27662,27666,27671,27676,27678,27693,27697,27698,27701,27703,27705,27706,27708,27709,27716,27717,27719,27720,27721,27729,27731,27734,27736,27738,27746,27747,27748,27756,27758,27765,27767,27769,27772,27775,27793,27799,27806,27807,27808,27809,27810,27811,27818,27823,27826,27829,27848,27851,27854,27864,27871,27876,27878,27882,27892,27896,27901,27903,27906,27909,27910,27923,27924,27925,27932,27937,27939,27940,27942,27972,27973,27978,27980,27982,27987,27990,27991,27995,27996,27997,28011,28017,28018,28019,28033,28047,28054,28057,28058,28059,28060,28067,28068,28069,28077,28080,28081,28086,28089,28097,28099,28110,28135,28152,28158,28159,28161,28162,28164,28166,28167,28168,28169,28170,28171,28172,28175,28178,28179,28181,28183,28184,28190,28201,28202,28215,28226,28232,28236,28239,28240,28247,28249,28266,28268,28269,28272,28277,28278,28282,28283,28284,28286,28288,28289,28290,28292,28294,28298,28299,28300,28305,28314,28328,28329,28332,28333,28341,28347,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28377,28378,28379,28381,28386,28387,28390,28391,28392,28393,28400,28403,28410,28420,28427,28428,28432,28433,28438,28439,28443,28445,28452,28456,28468,28477,28482,28484,28488,28489,28490,28492,28502,28505,28508,28517,28529,28532,28533,28537,28545,28547,28554,28559,28561,28569,28570,28573,28575,28597,28599,28603,28606,28624,28627,28630,28631,28633,28634,28645,28650,28659,28661,28662,28664,28665,28669,28674,28675,28680,28688,28691,28702,28709,28716,28717,28718,28726,28733,28743,28747,28749,28750,28752,28755,28756,28761,28764,28775,28780,28782,28783,28786,28787,28789,28791,28793,28795,28798,28799,28801,28807,28808,28809,28811,28812,28813,28815,28816,28823,28830,28832,28834,28835,28837,28838,28839,28840,28842,28850,28854,28857,28859,28860,28861,28863,28864,28868,28873,28876,28880,28885,28886,28891,28895,28899,28901,28905,28906,28908,28909,28910,28913,28914,28917,28926,28929,28931,28933,28935,28936,28943,28945,28946,28948,28952,28957,28964,28967,28969,28970,28971,28972,28973,28979,28980,28981,28983,28984,28985,28987,28988,28989,28990,28991,28992,28997,29e3,29002,29007,29009,29013,29015,29019,29035,29037,29039,29041,29043,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29044,29045,29046,29047,29049,29050,29052,29054,29055,29059,29064,29067,29068,29069,29070,29073,29075,29077,29078,29080,29090,29091,29094,29099,29101,29102,29108,29110,29111,29114,29115,29132,29133,29137,29139,29143,29149,29150,29155,29161,29162,29163,29167,29171,29173,29174,29175,29178,29184,29188,29192,29193,29195,29198,29199,29201,29202,29205,29206,29207,29208,29212,29216,29217,29220,29221,29227,29230,29231,29233,29234,29235,29244,29248,29251,29262,29264,29265,29268,29269,29271,29276,29284,29285,29286,29288,29291,29293,29297,29301,29306,29314,29315,29319,29327,29332,29337,29340,29343,29344,29355,29357,29361,29362,29363,29366,29369,29371,29372,29374,29383,29389,29391,29395,29397,29403,29410,29413,29415,29420,29421,29422,29423,29429,29442,29444,29445,29446,29449,29453,29454,29456,29460,29461,29466,29471,29472,29476,29480,29482,29483,29484,29486,29487,29496,29497,29501,29505,29510,29511,29512,29515,29519,29523,29524,29525,29526,29532,29539,29540,29553,29556,29561,29580,29581,29583,29584,29592,29596,29598,29603,29607,29610,29614,29615,29629,29633,29636,29641,29646,29647,29648,29653,29663,29665,29666,29668,29670,29676,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29679,29680,29681,29683,29687,29689,29691,29698,29713,29714,29715,29716,29717,29719,29720,29721,29724,29726,29727,29735,29751,29752,29753,29755,29756,29757,29758,29763,29765,29767,29768,29769,29772,29779,29782,29784,29789,29792,29793,29797,29798,29800,29803,29804,29812,29814,29818,29819,29826,29828,29836,29837,29839,29841,29843,29846,29849,29851,29853,29858,29860,29868,29870,29875,29876,29881,29884,29892,29894,29895,29896,29897,29900,29901,29902,29904,29905,29907,29927,29930,29931,29933,29935,29936,29937,29938,29939,29944,29945,29946,29948,29953,29957,29958,29961,29962,29966,29977,29979,29982,29984,29987,29988,29991,30004,30005,30006,30011,30012,30017,30018,30019,30020,30022,30025,30026,30029,30032,30033,30035,30037,30038,30039,30040,30046,30048,30049,30055,30056,30057,30061,30062,30065,30066,30067,30068,30069,30074,30075,30076,30081,30082,30083,30088,30089,30093,30094,30098,30099,30107,30108,30110,30118,30120,30129,30132,30135,30147,30150,30163,30166,30181,30185,30188,30190,30210,30212,30215,30222,30226,30232,30252,30254,30262,30263,30265,30267,30272,30273,30276,30277,30282,30283,30285,30286,30287,30289,30292,30299,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30301,30310,30311,30312,30319,30323,30324,30326,30327,30330,30336,30339,30341,30348,30352,30353,30356,30359,30360,30367,30368,30369,30370,30371,30373,30375,30377,30380,30385,30387,30390,30391,30393,30396,30400,30401,30407,30411,30412,30415,30421,30422,30423,30425,30432,30434,30440,30443,30454,30461,30463,30464,30466,30470,30476,30478,30479,30484,30486,30487,30488,30492,30494,30497,30500,30502,30506,30507,30510,30512,30527,30528,30530,30531,30536,30537,30547,30551,30552,30557,30564,30576,30577,30578,30579,30580,30581,30582,30583,30584,30586,30587,30602,30608,30611,30612,30614,30616,30628,30630,30633,30638,30639,30648,30649,30654,30656,30657,30659,30661,30662,30667,30673,30678,30685,30687,30689,30694,30698,30699,30708,30709,30710,30718,30724,30727,30728,30730,30731,30741,30744,30745,30747,30748,30750,30756,30774,30777,30778,30780,30781,30783,30784,30786,30788,30790,30791,30795,30799,30801,30803,30804,30808,30811,30815,30817,30819,30822,30823,30834,30835,30836,30838,30840,30842,30845,30849,30850,30856,30858,30859,30861,30864,30866,30877,30886,30894,30895,30897,30901,30902,30903,30904,30905,30909,30911,30912,30914,30918,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30919,30930,30931,30934,30935,30936,30937,30940,30948,30950,30955,30958,30960,30961,30965,30966,30968,30979,30982,30983,30984,30986,30987,30989,30991,30997,30998,31e3,31002,31008,31010,31022,31024,31026,31027,31028,31030,31031,31035,31036,31053,31064,31065,31074,31078,31084,31086,31089,31093,31094,31095,31099,31102,31104,31107,31108,31110,31111,31113,31116,31121,31129,31133,31134,31135,31139,31141,31145,31151,31157,31164,31170,31171,31172,31174,31175,31178,31180,31184,31187,31188,31191,31193,31194,31195,31201,31202,31205,31208,31215,31216,31217,31218,31219,31220,31221,31225,31228,31231,31238,31239,31241,31246,31247,31254,31261,31265,31268,31269,31271,31273,31274,31276,31277,31282,31283,31284,31285,31286,31288,31290,31294,31297,31298,31299,31301,31305,31311,31312,31314,31315,31317,31321,31325,31331,31332,31333,31334,31338,31343,31346,31347,31351,31356,31357,31362,31363,31373,31377,31379,31386,31393,31396,31399,31408,31417,31419,31421,31426,31427,31432,31433,31436,31437,31438,31439,31440,31442,31443,31444,31445,31447,31450,31451,31452,31453,31454,31457,31458,31463,31464,31465,31466,31468,31472,31473,31474,31475,31476,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31477,31480,31484,31486,31490,31499,31500,31501,31508,31510,31511,31516,31519,31521,31527,31529,31542,31543,31545,31549,31551,31553,31554,31555,31571,31573,31575,31577,31579,31581,31582,31583,31586,31592,31594,31595,31596,31599,31609,31611,31613,31617,31619,31622,31625,31634,31635,31646,31647,31650,31651,31653,31657,31662,31666,31667,31670,31674,31675,31676,31677,31679,31682,31683,31685,31688,31693,31695,31696,31698,31699,31702,31703,31724,31725,31733,31734,31738,31740,31748,31752,31762,31763,31764,31765,31767,31768,31770,31771,31780,31790,31791,31793,31794,31796,31797,31798,31802,31810,31812,31814,31819,31822,31823,31825,31826,31829,31830,31832,31837,31838,31841,31842,31848,31853,31856,31857,31860,31862,31863,31867,31868,31870,31874,31875,31878,31879,31883,31886,31887,31888,31891,31897,31898,31899,31900,31904,31908,31910,31911,31913,31915,31916,31917,31918,31920,31926,31927,31928,31936,31938,31939,31940,31942,31943,31945,31949,31951,31955,31960,31962,31963,31969,31971,31972,31974,31977,31979,31981,31987,31989,31994,31996,31999,32036,32037,32038,32045,32052,32055,32072,32073,32075,32076,32077,32087,32089,32090,32093,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32096,32100,32101,32108,32116,32117,32118,32120,32126,32135,32137,32138,32139,32144,32149,32151,32152,32153,32154,32155,32164,32165,32168,32171,32179,32182,32195,32200,32205,32207,32208,32209,32211,32212,32213,32214,32220,32226,32228,32229,32235,32237,32245,32248,32252,32253,32254,32255,32256,32257,32258,32260,32261,32263,32280,32281,32294,32295,32296,32300,32331,32333,32334,32335,32347,32349,32356,32357,32358,32359,32364,32366,32369,32383,32387,32388,32389,32393,32398,32400,32402,32414,32420,32463,32483,32492,32498,32526,32537,32571,32572,32576,32577,32582,32583,32585,32590,32594,32595,32598,32599,32601,32610,32612,32623,32625,32632,32642,32644,32655,32659,32663,32664,32665,32675,32682,32683,32686,32692,32708,32710,32712,32723,32726,32733,32743,32758,32762,32770,32776,32777,32778,32787,32794,32797,32800,32803,32805,32811,32813,32814,32815,32817,32818,32826,32827,32828,32832,32833,32834,32836,32837,32841,32844,32846,32851,32852,32853,32855,32857,32859,32863,32864,32865,32866,32867,32869,32870,32872,32874,32875,32877,32878,32884,32890,32891,32892,32896,32897,32904,32909,32910,32913,32916,32919,32926,32927,32932,32934,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32935,32936,32940,32944,32947,32950,32951,32953,32955,32956,32957,32966,32971,32978,32979,32991,32994,33001,33004,33006,33014,33015,33023,33027,33028,33031,33033,33035,33036,33037,33038,33041,33042,33044,33047,33050,33052,33056,33062,33064,33066,33070,33073,33074,33075,33076,33079,33083,33084,33087,33088,33089,33090,33093,33096,33097,33110,33111,33113,33114,33117,33119,33123,33128,33130,33132,33133,33141,33148,33149,33153,33156,33157,33166,33169,33170,33171,33172,33174,33185,33188,33189,33194,33197,33199,33206,33208,33217,33224,33230,33235,33236,33238,33252,33259,33263,33265,33269,33270,33277,33283,33294,33295,33299,33303,33304,33305,33306,33316,33318,33319,33321,33325,33342,33345,33347,33350,33352,33354,33356,33357,33364,33373,33376,33378,33381,33383,33386,33395,33398,33401,33402,33403,33409,33414,33415,33416,33417,33420,33429,33430,33436,33446,33450,33458,33471,33473,33476,33477,33478,33481,33482,33486,33487,33488,33496,33498,33501,33506,33513,33518,33527,33528,33532,33533,33535,33547,33550,33552,33554,33555,33556,33560,33562,33565,33567,33569,33571,33582,33597,33598,33606,33623,33624,33631,33634,33635,33638,33639,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33641,33642,33643,33648,33649,33650,33657,33664,33666,33668,33669,33681,33692,33695,33697,33708,33709,33717,33719,33721,33723,33726,33741,33744,33746,33747,33754,33766,33773,33792,33794,33797,33800,33812,33814,33815,33816,33817,33820,33821,33822,33823,33824,33825,33826,33828,33830,33832,33834,33838,33854,33857,33864,33866,33871,33875,33877,33880,33884,33890,33892,33898,33905,33906,33915,33916,33919,33920,33921,33923,33924,33925,33928,33930,33938,33939,33941,33942,33955,33957,33958,33965,33971,33973,33975,33981,33982,33987,33992,34005,34008,34009,34010,34012,34014,34017,34018,34020,34021,34029,34037,34040,34049,34051,34052,34053,34064,34075,34082,34098,34099,34100,34101,34102,34104,34111,34114,34123,34124,34130,34138,34140,34143,34159,34160,34163,34173,34175,34194,34195,34199,34213,34219,34220,34221,34222,34226,34235,34236,34241,34250,34252,34260,34262,34267,34272,34279,34286,34291,34292,34293,34300,34306,34307,34312,34317,34318,34319,34320,34322,34323,34324,34325,34326,34333,34344,34347,34351,34352,34359,34365,34369,34370,34372,34373,34377,34378,34391,34392,34394,34397,34400,34406,34412,34418,34421,34422,34424,34429,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34430,34433,34436,34440,34441,34447,34450,34459,34463,34464,34470,34475,34477,34478,34482,34509,34510,34511,34514,34517,34528,34529,34533,34542,34543,34544,34556,34557,34559,34575,34576,34580,34581,34582,34589,34591,34603,34607,34614,34617,34621,34628,34629,34631,34634,34635,34672,34673,34674,34684,34685,34687,34694,34698,34699,34700,34702,34709,34713,34720,34721,34725,34726,34727,34729,34737,34753,34759,34765,34766,34768,34773,34774,34778,34793,34798,34800,34801,34805,34808,34813,34820,34823,34830,34831,34834,34840,34842,34846,34855,34861,34868,34882,34885,34886,34887,34889,34895,34896,34897,34904,34908,34910,34911,34912,34916,34917,34918,34924,34926,34931,34936,34938,34939,34948,34951,34954,34959,34960,34964,34972,34973,34976,34979,34981,34982,34985,34990,34992,34995,34996,34997,35003,35007,35011,35012,35015,35023,35025,35027,35040,35046,35049,35050,35053,35061,35071,35072,35075,35076,35080,35085,35087,35099,35100,35101,35104,35108,35112,35129,35130,35135,35136,35139,35141,35143,35144,35146,35149,35150,35156,35173,35175,35176,35184,35189,35191,35192,35197,35200,35204,35207,35209,35210,35212,35214,35217,35218,35220,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35226,35232,35237,35239,35240,35241,35243,35248,35249,35251,35252,35253,35256,35259,35260,35273,35287,35288,35303,35306,35310,35317,35333,35334,35337,35339,35341,35353,35354,35356,35360,35361,35364,35366,35368,35369,35371,35374,35375,35378,35379,35381,35383,35384,35389,35394,35395,35399,35401,35403,35411,35418,35420,35421,35428,35429,35431,35434,35439,35448,35453,35454,35456,35464,35465,35466,35470,35472,35476,35479,35483,35484,35485,35487,35490,35497,35500,35501,35502,35503,35505,35507,35508,35509,35511,35521,35530,35532,35534,35536,35546,35555,35557,35561,35562,35564,35577,35581,35587,35593,35596,35615,35625,35629,35634,35636,35640,35647,35651,35652,35660,35661,35675,35678,35681,35682,35684,35689,35694,35697,35698,35699,35701,35702,35708,35713,35715,35719,35721,35725,35728,35729,35735,35739,35741,35896,35898,35904,35908,35921,35922,35923,35928,35929,35931,35934,35936,35939,35943,35956,35964,35966,35967,35971,35975,35976,35982,35990,35995,35999,36006,36013,36014,36017,36038,36041,36045,36046,36048,36052,36054,36056,36059,36073,36075,36079,36082,36086,36087,36095,36099,36107,36108,36110,36113,36114,36120,36122,36124,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36125,36171,36197,36209,36213,36218,36220,36222,36223,36226,36227,36230,36231,36232,36235,36247,36248,36250,36253,36254,36258,36260,36262,36265,36272,36283,36285,36288,36291,36297,36298,36306,36308,36333,36353,36360,36363,36366,36392,36394,36397,36402,36407,36410,36411,36419,36422,36431,36440,36456,36459,36462,36464,36465,36469,36471,36477,36478,36480,36483,36505,36514,36519,36525,36526,36527,36528,36529,36531,36532,36533,36534,36535,36536,36537,36539,36540,36542,36543,36545,36547,36548,36549,36550,36551,36552,36558,36560,36565,36566,36569,36570,36578,36580,36586,36589,36594,36595,36605,36612,36620,36623,36633,36641,36642,36647,36648,36651,36653,36656,36657,36668,36669,36673,36682,36684,36700,36709,36710,36765,36766,36768,36769,36770,36772,36773,36775,36778,36780,36787,36789,36790,36791,36792,36793,36794,36795,36796,36798,36800,36801,36807,36810,36812,36815,36824,36825,36826,36827,36828,36831,36839,36841,36847,36849,36850,36857,36871,36872,36873,36874,36878,36882,36883,36888,36901,36903,36904,36905,36906,36907,36908,36912,36915,36919,36922,36923,36928,36931,36933,36934,36936,36940,36950,36954,36959,36961,36964,36966,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36970,36972,36977,37001,37004,37006,37010,37011,37014,37018,37020,37028,37032,37033,37035,37037,37038,37047,37049,37051,37052,37056,37058,37060,37062,37065,37069,37073,37074,37086,37102,37111,37130,37132,37139,37141,37157,37175,37180,37181,37201,37204,37209,37211,37212,37214,37223,37227,37229,37232,37238,37243,37244,37247,37256,37260,37262,37268,37269,37270,37271,37284,37286,37289,37302,37304,37307,37311,37316,37320,37322,37334,37339,37342,37343,37344,37345,37349,37360,37362,37366,37370,37371,37372,37374,37384,37387,37390,37395,37400,37403,37405,37408,37409,37410,37416,37417,37418,37419,37423,37429,37435,37436,37441,37442,37444,37447,37461,37464,37465,37468,37469,37471,37474,37480,37482,37483,37486,37489,37491,37493,37495,37505,37508,37513,37519,37520,37522,37534,37535,37549,37550,37551,37552,37553,37560,37561,37562,37565,37566,37567,37588,37590,37594,37595,37596,37602,37603,37605,37611,37612,37613,37618,37619,37620,37621,37622,37629,37635,37637,37639,37642,37649,37655,37660,37676,37680,37681,37682,37687,37690,37691,37695,37696,37697,37698,37699,37700,37701,37704,37715,37725,37727,37730,37734,37736,37737,37739,37742,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37746,37747,37748,37752,37757,37759,37764,37765,37766,37767,37771,37776,37779,37788,37792,37805,37814,37816,37817,37818,37819,37820,37821,37822,37823,37825,37829,37830,37833,37835,37843,37851,37856,37861,37865,37866,37867,37869,37871,37872,37873,37874,37875,37876,37889,37890,37892,37893,37896,37911,37914,37915,37916,37917,37918,37919,37921,37922,37923,37924,37925,37926,37927,37933,37935,37940,37950,37953,37954,37955,37965,37966,37971,37972,37974,37976,37977,37978,37979,37980,37983,37985,37989,37990,37991,37996,38009,38010,38011,38020,38021,38064,38083,38195,38222,38233,38273,38276,38277,38279,38282,38293,38294,38295,38297,38298,38301,38304,38306,38310,38311,38314,38319,38322,38323,38324,38328,38337,38338,38340,38350,38351,38359,38360,38361,38365,38374,38375,38376,38378,38395,38400,38406,38429,38437,38438,38439,38441,38443,38451,38452,38455,38456,38462,38465,38469,38472,38482,38486,38487,38489,38490,38496,38501,38502,38510,38521,38522,38523,38527,38529,38530,38540,38543,38544,38550,38557,38559,38560,38563,38565,38566,38571,38573,38575,38578,38581,38582,38583,38586,38589,38590,38608,38609,38628,38630,38631,38635,38636,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38637,38638,38644,38652,38659,38666,38668,38676,38677,38679,38682,38683,38689,38705,38707,38708,38710,38711,38715,38716,38720,38721,38725,38730,38732,38733,38734,38735,38736,38737,38740,38741,38745,38749,38751,38755,38756,38759,38763,38765,38767,38769,38777,38790,38791,38793,38796,38800,38803,38805,38806,38811,38815,38823,38825,38832,38833,38834,38836,38837,38840,38842,38844,38845,38846,38848,38850,38856,38858,38865,38866,38874,38875,38880,38882,38884,38886,38887,38894,38895,38898,38900,38901,38903,38908,38923,38932,38933,38937,38938,38943,38946,38947,38954,38956,38958,38961,38963,38964,38966,38970,38972,38973,38975,38976,38978,38983,38987,38996,38997,38998,39002,39009,39014,39016,39020,39021,39022,39040,39049,39082,39083,39088,39092,39093,39095,39097,39107,39109,39111,39112,39114,39117,39118,39122,39132,39133,39134,39137,39140,39142,39148,39150,39152,39153,39155,39157,39159,39160,39167,39169,39172,39174,39179,39182,39183,39193,39196,39197,39200,39202,39203,39206,39220,39222,39223,39224,39225,39227,39232,39234,39236,39238,39242,39245,39247,39258,39261,39264,39266,39322,39323,39327,39328,39330,39332,39337,39338,39350,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39351,39352,39356,39358,39359,39360,39364,39365,39366,39368,39370,39386,39390,39392,39393,39398,39400,39403,39407,39410,39411,39413,39424,39432,39436,39440,39442,39443,39447,39448,39455,39457,39462,39464,39471,39475,39483,39484,39499,39505,39512,39516,39521,39523,39532,39553,39576,39593,39596,39598,39602,39605,39606,39610,39613,39619,39620,39624,39625,39630,39639,39641,39642,39643,39645,39646,39648,39650,39652,39653,39656,39657,39658,39664,39668,39669,39672,39679,39680,39682,39687,39689,39695,39700,39708,39709,39713,39718,39722,39724,39725,39728,39732,39736,39737,39741,39744,39753,39760,39763,39767,39772,39773,39774,39778,39779,39781,39785,39786,39787,39789,39790,39794,39795,39800,39801,39807,39809,39811,39812,39817,39818,39819,39820,39821,39822,39823,39828,39830,39831,39832,39833,39836,39837,39839,39843,39847,39849,39852,39856,39857,39858,39859,39860,39863,39866,39867,39868,39870,39874,39877,39883,39884,39885,39886,39887,39888,39889,39890,39896,39901,39903,39907,39913,39917,39918,39919,39921,39922,39923,39924,39925,39926,39929,39930,39931,39932,39934,39935,39936,39937,39938,39940,39946,39948,39951,39952,39953,39957,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39958,39960,39961,39962,39963,39966,39967,39968,39970,39974,39975,39978,39982,39983,39984,39989,39992,39994,40002,40003,40005,40007,40015,40017,40019,40026,40027,40028,40029,40033,40037,40041,40042,40043,40044,40047,40048,40050,40054,40059,40062,40067,40114,40121,40130,40136,40137,40154,40161,40164,40168,40171,40172,40174,40175,40176,40184,40190,40193,40194,40202,40203,40204,40205,40206,40207,40211,40214,40218,40220,40225,40228,40231,40234,40235,40236,40242,40244,40245,40249,40250,40260,40262,40263,40264,40265,40269,40270,40272,40277,40286,40290,40291,40292,40293,40294,40301,40302,40310,40314,40316,40318,40323,40333,40334,40335,40337,40339,40341,40357,40363,40366,40368,40381,40384,40388,40393,40404,40416,40423,40433,40444,40456,40458,40460,40462,40470,40472,40476,40525,40558,40566,40567,40568,40571,40577,40580,40581,40591,40592,40597,40598,40600,40606,40610,40611,40614,40616,40618,40619,40620,40623,40625,40626,40627,40633,40634,40637,40639,40641,40644,40645,40646,40647,40650,40651,40658,40663,40674,40675,40689,40696,40702,40706,40707,40708,40709,40712,40724,40727,40733,40735,40742,40743,40761,40762,40764,40767,40772,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40773,40784,40787,40794,40802,40808,40809,40813,40819,40828,40829,40836,40846,40847,40851,40854,40855,40857,40858,40861,40863,40865,40867,40869,40875,40880,40881,64040,64062,131074,131083,131085,131093,131109,131142,131147,131149,131171,131197,131203,131207,131209,131210,131212,131218,131219,131226,131233,131234,131236,131257,131274,131275,131276,131284,131285,131288,131289,131316,131321,131336,131342,131350,131381,131386,131392,131416,131417,131426,131428,131437,131471,131492,131493,131495,131497,131507,131512,131517,131524,131528,131540,131541,131543,131552,131555,131557,131558,131561,131566,131570,131575,131578,131580,131587,131589,131591,131593,131595,131597,131601,131607,131608,131610,131611,131612,131616,131632,131635,131641,131652,131654,131657,131660,131663,131665,131675,131676,131683,131685,131696,131700,131701,131705,131708,131709,131711,131713,131716,131720,131737,131742,131744,131754,131761,131767,131775,131776,131779,131780,131785,131788,131790,131808,131813,131819,131830,131843,131844,131853,131854,131858,131859,131864,131877,131879,131882,131883,131895,131896,131902,131905,131910,131911,131915,131919,131920,131923,131925,131945,131947,131953,131957,131961,131964,131965,131966,131972,131977,131979,131981,131984,131985,131988,132e3,132001,132003,132006,132007,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,132014,132022,132023,132036,132041,132048,132071,132081,132085,132087,132092,132105,132109,132114,132115,132127,132143,132146,132147,132160,132183,132185,132189,132208,132214,132215,132217,132221,132238,132267,132282,132284,132297,132301,132307,132315,132317,132318,132329,132350,132364,132373,132386,132389,132394,132403,132404,132405,132412,132414,132416,132417,132418,132422,132423,132426,132452,132454,132474,132477,132494,132499,132517,132524,132526,132527,132530,132531,132537,132538,132540,132541,132542,132543,132546,132547,132551,132555,132556,132562,132563,132564,132565,132569,132575,132576,132582,132587,132591,132614,132622,132633,132635,132651,132652,132653,132654,132656,132657,132661,132694,132710,132711,132720,132733,132738,132743,132771,132773,132779,132807,132833,132837,132844,132860,132875,132878,132887,132914,132918,132926,132931,132945,132956,132957,132982,132984,132985,133001,133008,133010,133019,133039,133040,133043,133081,133098,133100,133128,133133,133170,133173,133174,133180,133191,133199,133203,133206,133208,133214,133225,133236,133249,133255,133269,133286,133287,133290,133305,133331,133336,133371,133372,133397,133398,133412,133421,133431,133435,133460,133485,133494,133502,133508,133509,133513,133519,133521,133522,133533,133535,133548,133549,133578,133591,133598,133605,133615,133620,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,133645,133647,133660,133662,133681,133688,133690,133695,133700,133704,133725,133732,133749,133762,133771,133822,133824,133847,133857,133860,133872,133875,133893,133901,133911,133917,133922,133926,133930,133942,133970,133974,134024,134025,134035,134043,134054,134055,134062,134065,134069,134078,134080,134086,134087,134096,134098,134099,134114,134116,134117,134118,134119,134123,134125,134126,134132,134133,134139,134141,134143,134147,134148,134152,134153,134156,134176,134178,134183,134185,134190,134203,134209,134215,134216,134219,134224,134237,134249,134260,134262,134263,134264,134266,134268,134275,134276,134283,134285,134294,134300,134307,134318,134328,134335,134341,134352,134356,134378,134380,134381,134382,134393,134398,134399,134402,134407,134420,134445,134448,134461,134469,134471,134476,134477,134484,134486,134488,134499,134505,134506,134516,134523,134528,134555,134567,134574,134582,134606,134613,134629,134632,134633,134637,134639,134644,134655,134657,134660,134669,134678,134714,134721,134733,134737,134774,134794,134802,134805,134807,134813,134818,134833,134871,134877,134899,134904,134910,134912,134915,134917,134920,134923,134928,134935,134942,134946,134950,134963,134971,134988,135008,135009,135038,135045,135054,135056,135065,135073,135089,135101,135109,135115,135162,135167,135169,135170,135174,135181,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,135182,135188,135241,135264,135268,135285,135318,135325,135340,135348,135353,135354,135359,135396,135409,135411,135428,135430,135444,135446,135448,135452,135455,135459,135473,135483,135550,135555,135595,135621,135634,135653,135681,135709,135722,135740,135741,135745,135754,135756,135760,135762,135767,135776,135779,135783,135786,135791,135796,135797,135799,135802,135804,135806,135808,135809,135817,135819,135824,135828,135833,135834,135836,135839,135840,135841,135842,135848,135853,135856,135857,135859,135862,135864,135866,135874,135876,135877,135879,135880,135881,135893,135897,135903,135906,135907,135909,135910,135914,135919,135920,135930,135938,135939,135941,135945,135946,135948,135949,135951,135956,135964,135969,135988,135990,135995,135997,136003,136004,136006,136011,136014,136018,136036,136046,136052,136054,136060,136070,136081,136084,136086,136088,136091,136092,136094,136100,136137,136146,136150,136152,136155,136158,136159,136166,136168,136173,136177,136181,136199,136211,136214,136225,136237,136243,136246,136247,136249,136250,136273,136276,136288,136290,136301,136305,136307,136319,136321,136327,136330,136340,136349,136376,136405,136407,136423,136444,136445,136452,136487,136495,136509,136531,136534,136544,136548,136561,136567,136581,136598,136606,136613,136659,136664,136668,136669,136675,136681,136683,65533,65533],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,136685,136686,136707,136710,136711,136723,136724,136729,136740,136749,136752,136756,136759,136765,136766,136769,136775,136786,136791,136802,136833,136850,136856,136874,136881,136882,136883,136894,136896,136898,136900,136901,136903,136904,136909,136911,136915,136921,136927,136928,136933,136934,136935,136936,136937,136939,136944,136947,136950,136954,136955,136956,136986,137004,137006,137018,137022,137026,137027,137040,137047,137050,137055,137060,137063,137066,137069,137070,137071,137072,137073,137077,137083,137087,137088,137092,137094,137103,137111,137114,137136,137140,137141,137144,137147,137150,137151,137152,137155,137156,137158,137159,137162,137165,137178,137179,137180,137182,137189,137191,137199,137202,137208,137209,137210,137211,137214,137216,137218,137220,137221,137228,137230,137231,137244,137257,137258,137264,137268,137273,137274,137279,137281,137282,137285,137297,137298,137299,137300,137302,137307,137310,137312,137313,137314,137315,137321,137324,137329,137334,137335,137344,137347,137348,137349,137351,137357,137368,137374,137375,137377,137389,137390,137405,137406,137407,137430,137431,137433,137434,137435,137437,137452,137459,137466,137470,137474,137475,137477,137478,137488,137489,137493,137500,137506,137510,137511,137513,137514,137527,137528,137531,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,137532,137540,137550,137560,137565,137568,137575,137576,137578,137586,137594,137598,137600,137603,137619,137622,137623,137624,137626,137667,137669,137671,137691,137697,137710,137715,137718,137719,137730,137732,137739,137744,137754,137755,137770,137777,137780,137790,137794,137803,137827,137831,137839,137890,137895,137896,137928,137931,137933,137952,137967,137970,137983,137984,137999,138e3,138018,138023,138038,138046,138047,138052,138064,138070,138178,138179,138182,138190,138195,138199,138201,138223,138267,138277,138287,138289,138295,138310,138319,138322,138331,138333,138348,138349,138350,138373,138377,138407,138451,138453,138470,138481,138498,138510,138548,138550,138557,138558,138563,138566,138578,138579,138586,138591,138593,138600,138604,138608,138610,138611,138616,138619,138620,138636,138638,138639,138640,138646,138648,138649,138650,138651,138652,138656,138662,138663,138670,138678,138682,138686,138688,138690,138696,138702,138705,138713,138721,138727,138728,138731,138736,138740,138745,138749,138751,138753,138756,138764,138769,138787,138789,138806,138807,138809,138810,138823,138828,138842,138854,138860,138867,138872,138889,138893,138911,138912,138913,138916,138920,138924,138941,138943,138944,138948,138949,138952,138962,138965,138970,138985,138987,138990,138997,138999,139001,139022,139023,139029,139030,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,139042,139043,139049,139054,139073,139085,139106,139114,139142,139143,139154,139156,139172,139208,139209,139214,139218,139231,139240,139263,139284,139316,139319,139323,139334,139336,139346,139353,139374,139380,139408,139453,139471,139507,139516,139531,139563,139621,139637,139642,139659,139661,139677,139696,139702,139703,139713,139714,139739,139741,139752,139764,139766,139775,139776,139789,139790,139795,139800,139816,139846,139855,139886,139888,139900,139912,139914,139916,139934,139948,139951,139959,139960,139976,140003,140056,140059,140060,140069,140074,140083,140095,140105,140182,140223,140235,140240,140245,140249,140270,140336,140401,140416,140418,140427,140433,140440,140464,140485,140488,140508,140520,140525,140526,140531,140533,140545,140555,140571,140575,140580,140598,140641,140642,140643,140659,140685,140719,140725,140732,140733,140734,140735,140747,140758,140759,140765,140766,140768,140772,140774,140775,140776,140777,140781,140786,140789,140796,140799,140805,140813,140816,140817,140823,140837,140843,140844,140845,140846,140848,140849,140859,140866,140867,140869,140871,140872,140878,140888,140890,140892,140894,140896,140897,140904,140907,140922,140927,140954,140955,140957,140962,140969,140980,140990,141011,141031,141036,141042,141043,141045,141052,141053,141056,141060,141066,141068,141070,141071,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,141074,141083,141087,141099,141126,141148,141155,141159,141175,141184,141196,141197,141206,141218,141219,141225,141236,141244,141261,141289,141316,141322,141335,141336,141346,141350,141362,141363,141368,141372,141399,141407,141408,141409,141419,141422,141423,141424,141425,141441,141463,141469,141481,141482,141490,141492,141493,141505,141506,141540,141546,141552,141559,141562,141572,141618,141626,141629,141630,141631,141655,141664,141688,141702,141721,141743,141757,141761,141824,141889,141934,141941,141942,141945,141949,141954,141960,141976,141977,141979,141984,141987,141992,141997,142001,142011,142022,142030,142036,142038,142062,142064,142072,142076,142085,142090,142092,142094,142095,142096,142097,142098,142102,142104,142106,142107,142114,142119,142133,142147,142160,142165,142166,142169,142170,142171,142173,142175,142182,142186,142200,142211,142219,142233,142253,142257,142265,142268,142271,142272,142282,142284,142293,142296,142297,142298,142305,142310,142327,142330,142381,142382,142386,142387,142390,142391,142408,142409,142413,142420,142422,142426,142434,142477,142480,142482,142485,142491,142497,142507,142541,142555,142565,142575,142590,142593,142628,142629,142632,142642,142666,142674,142676,142679,142683,142695,142716,142719,142733,142745,142763,142772,142799,142814,142816,142823,142861,142862,142865,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,142868,142872,142906,142908,142914,142925,142932,142962,142967,142971,142991,143e3,143012,143023,143024,143027,143032,143033,143034,143057,143113,143119,143131,143137,143144,143154,143160,143161,143177,143181,143183,143189,143199,143237,143253,143255,143258,143270,143280,143294,143295,143335,143348,143349,143365,143394,143435,143438,143462,143463,143485,143489,143505,143511,143516,143526,143543,143546,143548,143578,143584,143598,143616,143619,143620,143622,143624,143629,143637,143641,143651,143656,143662,143673,143680,143683,143686,143690,143693,143695,143699,143703,143705,143708,143722,143726,143741,143743,143744,143746,143749,143759,143774,143781,143782,143812,143816,143817,143818,143820,143826,143827,143849,143856,143863,143864,143865,143868,143876,143881,143890,143900,143909,143915,143919,143921,143922,143923,143926,143927,143928,143932,143958,143962,143970,143972,143982,144009,144016,144019,144022,144024,144039,144043,144044,144047,144058,144070,144073,144081,144082,144088,144101,144106,144107,144109,144128,144138,144149,144159,144170,144176,144198,144208,144214,144216,144221,144227,144233,144241,144243,144255,144257,144262,144265,144266,144275,144279,144285,144297,144302,144308,144309,144322,144329,144331,144332,144338,144339,144341,144342,144343,144349,144350,144356,144357,144358,144360,144363,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,144364,144365,144367,144368,144373,144377,144382,144384,144386,144389,144407,144409,144411,144412,144413,144414,144419,144420,144421,144425,144428,144445,144459,144464,144468,144469,144473,144475,144477,144480,144484,144486,144494,144495,144497,144498,144499,144501,144506,144507,144518,144526,144530,144535,144537,144542,144552,144564,144577,144585,144588,144598,144600,144616,144620,144621,144627,144630,144632,144635,144638,144640,144641,144643,144644,144646,144651,144652,144665,144687,144688,144692,144700,144704,144707,144721,144730,144732,144734,144737,144741,144742,144743,144747,144749,144751,144754,144757,144760,144761,144781,144787,144789,144793,144807,144825,144828,144830,144840,144843,144845,144846,144847,144854,144856,144860,144861,144865,144866,144868,144869,144872,144873,144874,144880,144883,144886,144892,144909,144910,144934,144936,144945,144953,144959,144967,144970,144972,144973,144980,144982,144985,144991,145001,145003,145013,145015,145051,145059,145061,145064,145069,145072,145076,145078,145080,145084,145086,145088,145089,145090,145091,145095,145098,145100,145116,145119,145132,145134,145154,145164,145170,145178,145181,145184,145199,145212,145215,145225,145233,145235,145236,145237,145249,145254,145258,145259,145263,145266,145268,145269,145278,145281,145305,145324,145325,145334,145340,145344,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,145346,145347,145371,145377,145395,145396,145412,145414,145440,145445,145450,145461,145476,145482,145484,145491,145495,145505,145518,145525,145528,145544,145558,145574,145589,145598,145605,145620,145649,145687,145690,145703,145727,145746,145750,145756,145760,145765,145787,145852,145873,145911,145945,145974,146021,146058,146067,146072,146087,146097,146148,146157,146170,146180,146212,146213,146220,146246,146255,146256,146271,146303,146315,146333,146340,146349,146422,146431,146527,146530,146531,146546,146547,146549,146550,146552,146553,146557,146560,146566,146569,146571,146574,146584,146585,146596,146597,146599,146600,146601,146603,146608,146609,146610,146617,146622,146631,146632,146633,146638,146641,146643,146646,146647,146650,146651,146655,146656,146657,146670,146680,146683,146685,146686,146687,146694,146703,146706,146713,146715,146718,146723,146733,146749,146755,146759,146764,146768,146773,146774,146775,146779,146784,146785,146787,146794,146798,146800,146802,146809,146810,146813,146814,146815,146816,146823,146831,146832,146834,146858,146860,146863,146865,146868,146870,146872,146874,146876,146877,146881,146884,146888,146889,146890,146892,146893,146894,146895,146900,146912,146913,146915,146923,146928,146931,146936,146937,146946,146953,146966,146981,146985,146986,146988,146989,146993,146994,146997,147e3,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,147001,147003,147010,147024,147045,147051,147052,147063,147067,147080,147081,147083,147094,147095,147101,147102,147115,147119,147129,147134,147135,147142,147156,147160,147170,147180,147184,147192,147193,147194,147195,147208,147210,147213,147214,147215,147217,147220,147222,147223,147241,147252,147253,147263,147266,147270,147274,147275,147278,147282,147289,147293,147297,147308,147320,147321,147325,147327,147328,147329,147335,147343,147344,147348,147349,147352,147354,147356,147362,147376,147380,147383,147401,147406,147430,147433,147435,147437,147440,147448,147449,147450,147455,147456,147458,147473,147474,147485,147487,147488,147497,147513,147514,147516,147517,147520,147524,147527,147536,147538,147543,147550,147559,147589,147596,147597,147600,147601,147606,147609,147629,147632,147633,147642,147643,147644,147648,147652,147655,147657,147662,147666,147667,147681,147689,147715,147718,147737,147741,147742,147744,147747,147770,147773,147776,147786,147798,147799,147801,147802,147804,147807,147810,147817,147828,147830,147831,147833,147834,147842,147845,147846,147848,147852,147857,147870,147876,147877,147878,147881,147884,147886,147888,147893,147894,147906,147909,147910,147914,147915,147916,147917,147919,147922,147925,147932,147939,147941,147944,147950,147955,147960,147962,147967,147971,147972,147978,147981,147982,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,147984,147992,147995,148e3,148006,148010,148011,148021,148026,148027,148028,148029,148034,148039,148041,148042,148043,148054,148057,148076,148081,148083,148086,148087,148088,148099,148100,148101,148104,148110,148112,148115,148116,148117,148121,148126,148127,148129,148130,148133,148134,148137,148153,148155,148157,148164,148176,148180,148184,148188,148197,148206,148209,148212,148214,148218,148221,148222,148224,148227,148239,148247,148250,148254,148256,148259,148263,148267,148269,148271,148276,148278,148293,148296,148302,148320,148323,148324,148330,148331,148346,148348,148349,148351,148356,148357,148364,148374,148400,148401,148406,148409,148413,148417,148424,148427,148428,148430,148432,148439,148457,148458,148459,148461,148468,148482,148483,148484,148492,148496,148498,148514,148519,148521,148532,148534,148541,148560,148565,148570,148571,148573,148574,148577,148588,148594,148602,148611,148612,148615,148616,148618,148619,148623,148662,148665,148668,148674,148686,148694,148711,148720,148731,148740,148741,148769,148815,148847,148851,148866,148955,148989,149034,149036,149060,149078,149088,149089,149095,149097,149109,149143,149179,149192,149193,149285,149307,149318,149357,149391,149394,149420,149425,149477,149479,149490,149539,149560,149566,149659,149660,149716,149733,149737,149738,149742,149743,149744,149745,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,149746,149747,149750,149751,149753,149758,149759,149760,149761,149762,149764,149766,149767,149769,149771,149778,149780,149783,149791,149792,149795,149798,149801,149802,149804,149806,149807,149811,149812,149816,149822,149823,149825,149826,149827,149829,149831,149832,149842,149843,149846,149847,149853,149856,149858,149859,149860,149864,149865,149869,149871,149875,149876,149878,149883,149889,149896,149900,149901,149902,149904,149909,149913,149914,149915,149917,149919,149924,149929,149930,149931,149932,149933,149934,149938,149943,149944,149945,149946,149947,149949,149950,149954,149956,149957,149959,149962,149964,149965,149968,149969,149975,149976,149978,149979,149982,149983,149987,149989,150003,150005,150006,150008,150009,150011,150012,150017,150019,150020,150022,150025,150026,150030,150031,150033,150034,150035,150037,150048,150050,150051,150053,150054,150055,150056,150059,150061,150066,150067,150068,150069,150072,150073,150078,150079,150084,150085,150090,150094,150095,150096,150097,150098,150099,150100,150104,150106,150108,150109,150112,150117,150118,150119,150129,150134,150135,150137,150140,150141,150142,150145,150146,150156,150160,150161,150164,150165,150166,150167,150168,150169,150172,150173,150175,150176,150180,150181,150182,150195,150199,150203,150204,150205,150206,150208,150210,150211,150215,150216,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,150218,150220,150224,150225,150229,150230,150238,150239,150240,150246,150249,150251,150254,150260,150262,150264,150273,150331,150341,150342,150350,150378,150392,150398,150407,150413,150467,150483,150484,150489,150498,150501,150526,150536,150537,150538,150544,150547,150548,150549,150558,150570,150586,150591,150604,150615,150620,150634,150651,150652,150655,150661,150671,150675,150677,150687,150690,150712,150728,150729,150745,150758,150790,150803,150824,150834,150887,150912,150915,150916,150927,150952,150956,151007,151045,151069,151078,151084,151088,151107,151178,151205,151226,151331,151364,151385,151392,151394,151396,151397,151426,151427,151432,151447,151457,151467,151524,151538,151618,151620,151627,151628,151637,151646,151651,151654,151667,151668,151681,151682,151726,151762,151767,151784,151785,151806,151829,151842,151855,151857,151858,151859,151864,151878,151882,151886,151922,151931,151933,151940,152018,152038,152039,152040,152042,152052,152072,152096,152100,152101,152103,152144,152145,152156,152163,152165,152200,152243,152262,152266,152285,152337,152339,152347,152354,152433,152458,152535,152603,152608,152610,152611,152613,152617,152618,152621,152623,152624,152625,152629,152632,152633,152640,152642,152656,152664,152672,152676,152684,152685,152686,152713,152714,152715,152716,152717,152723,152725,152732,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,152737,152752,152764,152772,152777,152784,152787,152789,152792,152797,152798,152802,152805,152807,152821,152835,152851,152854,152855,152856,152862,152871,152876,152882,152886,152893,152907,152911,152915,152923,152926,152927,152930,152933,152934,152935,152936,152961,152964,152967,152974,152975,152989,152994,153010,153028,153033,153056,153068,153071,153082,153093,153097,153102,153103,153105,153107,153112,153115,153118,153119,153125,153128,153135,153141,153148,153152,153155,153158,153162,153173,153182,153204,153209,153214,153215,153218,153219,153222,153226,153230,153231,153233,153237,153238,153239,153268,153269,153275,153291,153292,153293,153294,153295,153303,153314,153317,153318,153326,153333,153334,153335,153336,153337,153347,153351,153354,153367,153381,153395,153405,153406,153420,153421,153425,153430,153437,153438,153446,153449,153451,153461,153462,153463,153464,153465,153471,153482,153487,153490,153495,153498,153524,153532,153533,153536,153543,153544,153551,153552,153560,153570,153574,153577,153585,153600,153604,153610,153620,153622,153650,153657,153660,153661,153666,153676,153687,153693,153699,153706,153710,153714,153731,153744,153751,153753,153767,153789,153796,153818,153822,153831,153838,153844,153856,153865,153866,153882,153884,153886,153894,153902,153905,153921,153926,153936,153944,153972,153974,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,154004,154007,154024,154031,154033,154049,154113,154125,154147,154168,154198,154200,154202,154209,154213,154218,154219,154231,154235,154249,154259,154260,154261,154268,154273,154276,154281,154282,154286,154291,154302,154327,154329,154332,154336,154340,154341,154342,154343,154344,154345,154350,154353,154355,154357,154361,154366,154367,154368,154369,154374,154378,154381,154383,154385,154401,154404,154405,154432,154435,154438,154439,154456,154460,154462,154465,154471,154474,154483,154491,154494,154497,154502,154505,154511,154544,154548,154549,154552,154556,154559,154560,154566,154594,154595,154596,154598,154600,154603,154625,154630,154636,154637,154644,154649,154654,154655,154657,154669,154670,154683,154698,154706,154713,154717,154721,154724,154727,154728,154735,154736,154748,154764,154769,154788,154792,154813,154817,154826,154828,154831,154833,154837,154844,154877,154878,154888,154890,154891,154892,154910,154913,154914,154926,154927,154928,154942,154947,154950,154951,154952,154953,154955,154969,154975,154986,155003,155033,155044,155046,155065,155072,155087,155121,155150,155172,155187,155193,155196,155211,155212,155217,155219,155225,155239,155264,155265,155267,155273,155283,155289,155294,155302,155303,155311,155313,155321,155325,155327,155328,155345,155352,155361,155377,155378,155396,155418,155431,155462,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,155464,155467,155473,155487,155525,155531,155535,155553,155555,155559,155565,155573,155574,155585,155587,155588,155590,155591,155593,155594,155595,155607,155611,155617,155618,155622,155624,155625,155630,155641,155645,155653,155667,155681,155682,155699,155703,155709,155711,155722,155733,155736,155751,155752,155779,155780,155789,155801,155807,155808,155812,155817,155819,155823,155825,155827,155830,155850,155882,155897,155906,155922,155923,155938,155948,155968,155971,155991,155998,156e3,156001,156003,156016,156030,156040,156051,156057,156059,156077,156078,156079,156081,156082,156085,156092,156095,156096,156110,156126,156135,156159,156194,156229,156230,156231,156236,156243,156248,156276,156281,156288,156293,156313,156328,156368,156426,156440,156474,156491,156493,156497,156514,156516,156527,156539,156559,156575,156580,156583,156595,156606,156609,156628,156660,156661,156668,156679,156688,156689,156690,156708,156713,156754,156757,156769,156795,156804,156809,156811,156816,156819,156836,156838,156848,156849,156852,156863,156882,156884,156907,156912,156921,156923,156924,156931,156934,156944,156948,156955,156963,156979,156995,156997,157e3,157006,157009,157011,157023,157032,157034,157036,157074,157077,157079,157081,157083,157088,157092,157105,157106,157107,157124,157127,157151,157162,157164,157170,157173,157185,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,157198,157200,157201,157202,157231,157239,157248,157251,157260,157261,157266,157274,157279,157295,157302,157319,157332,157333,157334,157344,157359,157363,157365,157366,157372,157401,157404,157446,157452,157462,157488,157491,157505,157507,157521,157530,157534,157536,157540,157547,157562,157570,157573,157594,157603,157606,157609,157628,157629,157634,157644,157661,157674,157676,157689,157702,157703,157723,157724,157748,157781,157803,157807,157809,157825,157834,157848,157917,157918,157933,157937,157947,157957,157966,157967,157969,157974,157982,158006,158007,158010,158012,158023,158025,158029,158033,158042,158094,158120,158133,158170,158177,158184,158201,158242,158244,158254,158260,158272,158275,158284,158286,158296,158305,158342,158363,158366,158426,158439,158451,158461,158463,158468,158469,158471,158474,158478,158481,158482,158485,158488,158491,158494,158497,158504,158506,158508,158512,158521,158526,158540,158543,158544,158545,158546,158547,158548,158549,158550,158552,158555,158556,158557,158564,158566,158568,158576,158579,158580,158581,158582,158587,158589,158599,158604,158614,158621,158624,158626,158634,158639,158643,158644,158646,158647,158650,158651,158652,158664,158665,158677,158699,158710,158711,158713,158715,158719,158721,158728,158732,158734,158735,158736,158740,158747,158753,158754,158757,158761,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,158764,158769,158784,158785,158786,158788,158794,158802,158810,158830,158839,158845,158846,158848,158849,158850,158857,158865,158869,158878,158879,158880,158884,158887,158890,158902,158903,158904,158905,158909,158919,158932,158937,158938,158941,158955,158976,158993,158997,159010,159012,159014,159015,159017,159024,159034,159035,159036,159039,159040,159042,159044,159048,159050,159054,159070,159073,159076,159077,159080,159086,159092,159100,159104,159110,159114,159118,159125,159129,159132,159136,159137,159141,159142,159150,159155,159158,159159,159162,159167,159169,159170,159171,159177,159178,159193,159201,159207,159211,159216,159219,159224,159226,159228,159237,159244,159250,159265,159293,159299,159300,159301,159310,159311,159312,159313,159316,159323,159324,159325,159326,159329,159342,159351,159364,159383,159390,159394,159398,159415,159416,159430,159434,159440,159441,159444,159469,159472,159473,159474,159475,159483,159485,159490,159491,159492,159510,159526,159530,159547,159555,159603,159604,159613,159615,159624,159625,159632,159636,159647,159649,159652,159655,159663,159669,159672,159679,159681,159698,159709,159711,159726,159728,159729,159730,159731,159739,159740,159742,159744,159761,159766,159776,159782,159802,159816,159819,159824,159833,159836,159837,159838,159851,159860,159875,159879,159888,159890,159894,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,159907,159917,159918,159919,159932,159933,159939,159943,159953,159954,159961,159963,159965,159966,159984,159986,159992,159997,159999,160001,160005,160007,160009,160013,160028,160032,160038,160039,160046,160056,160058,160100,160101,160142,160149,160159,160160,160176,160202,160203,160214,160233,160261,160271,160283,160284,160289,160381,160384,160400,160407,160437,160534,160563,160569,160574,160579,160619,160654,160656,160658,160666,160691,160700,160729,160738,160747,160802,160805,160808,160809,160836,160848,160851,160855,160881,160889,160891,160895,160898,160902,160935,160939,160963,161012,161036,161044,161095,161103,161110,161120,161130,161134,161245,161248,161251,161252,161260,161271,161277,161287,161292,161311,161330,161334,161336,161337,161339,161343,161363,161365,161366,161367,161395,161401,161417,161432,161433,161466,161467,161471,161472,161479,161480,161483,161485,161489,161498,161503,161521,161536,161551,161558,161570,161600,161601,161602,161609,161619,161630,161663,161668,161669,161671,161674,161697,161717,161743,161760,161761,161769,161780,161784,161815,161846,161880,161889,161928,161930,161944,161953,161969,161980,162035,162146,162162,162166,162170,162172,162179,162180,162181,162189,162194,162212,162215,162224,162225,162228,162229,162231,162250,162255,162278,162294,162300,162301,162318,162319,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,162321,162326,162337,162366,162377,162379,162382,162406,162424,162440,162444,162447,162448,162449,162450,162453,162458,162492,162493,162504,162510,162514,162528,162542,162545,162550,162554,162566,162567,162584,162585,162590,162597,162602,162618,162620,162632,162639,162658,162659,162672,162673,162683,162684,162731,162732,162734,162755,162780,162799,162804,162807,162808,162813,162833,162845,162847,162876,162976,162979,163001,163030,163039,163061,163076,163110,163114,163118,163119,163131,163142,163147,163155,163159,163161,163172,163177,163187,163188,163207,163210,163214,163216,163224,163227,163243,163255,163258,163261,163262,163282,163307,163320,163343,163350,163355,163360,163361,163362,163364,163369,163374,163377,163380,163381,163405,163422,163445,163465,163466,163468,163471,163482,163484,163498,163499,163503,163508,163527,163529,163530,163531,163543,163546,163556,163557,163558,163572,163577,163586,163588,163591,163594,163619,163639,163640,163641,163644,163673,163674,163675,163676,163709,163724,163734,163761,163800,163828,163830,163833,163836,163906,163914,163966,163970,163980,163981,163982,164027,164051,164101,164132,164133,164228,164244,164273,164284,164320,164335,164358,164371,164398,164399,164430,164432,164438,164451,164452,164456,164459,164460,164461,164463,164466,164467,164483,164484,164493,164505,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,164528,164532,164541,164555,164557,164569,164578,164596,164606,164632,164636,164640,164666,164669,164670,164698,164709,164733,164738,164746,164755,164799,164867,164876,164882,164890,164906,164908,164936,164938,164946,164953,164968,164971,164972,164977,164978,164979,164984,164994,164996,165004,165012,165013,165014,165015,165017,165034,165049,165055,165069,165075,165078,165082,165084,165092,165094,165096,165104,165136,165142,165147,165168,165181,165186,165189,165202,165206,165208,165212,165230,165233,165236,165238,165258,165321,165327,165330,165364,165376,165387,165391,165411,165416,165438,165442,165449,165483,165500,165502,165511,165513,165516,165527,165532,165533,165535,165537,165546,165547,165562,165569,165573,165574,165591,165596,165606,165609,165612,165615,165626,165628,165629,165630,165642,165647,165652,165657,165662,165665,165678,165686,165699,165700,165707,165731,165751,165752,165757,165783,165849,165858,165871,165885,165892,165916,165919,165922,165931,165946,166013,166035,166037,166143,166158,166176,166198,166205,166206,166207,166209,166213,166214,166215,166216,166217,166223,166227,166229,166230,166233,166240,166244,166248,166253,166254,166255,166256,166260,166262,166266,166270,166281,166285,166289,166290,166292,166302,166303,166304,166305,166314,166315,166318,166339,166340,166341,166358,166364,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,166369,166372,166376,166381,166385,166391,166393,166394,166395,166396,166399,166400,166404,166405,166410,166416,166417,166418,166421,166422,166423,166435,166437,166441,166467,166468,166470,166471,166472,166473,166476,166477,166478,166480,166482,166485,166486,166487,166488,166489,166490,166492,166494,166496,166498,166499,166500,166512,166513,166514,166524,166525,166528,166529,166530,166531,166534,166543,166547,166555,166556,166562,166565,166566,166568,166592,166595,166598,166600,166602,166603,166604,166606,166607,166622,166624,166625,166628,166629,166631,166632,166633,166634,166635,166636,166638,166645,166647,166652,166665,166668,166675,166683,166690,166691,166692,166697,166700,166703,166706,166715,166718,166729,166731,166734,166736,166742,166747,166755,166757,166759,166760,166764,166765,166766,166768,166772,166775,166799,166802,166804,166806,166809,166812,166813,166814,166819,166820,166823,166824,166826,166841,166844,166850,166856,166857,166858,166860,166871,166873,166874,166887,166888,166890,166891,166895,166896,166901,166902,166910,166911,166914,166915,166916,166936,166937,166938,166940,166946,166947,166956,166960,166969,166972,166973,167019,167027,167053,167071,167118,167120,167125,167133,167144,167160,167164,167169,167191,167203,167221,167260,167266,167270,167304,167314,167332,167353,167371,167387,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,167391,167418,167439,167448,167456,167457,167458,167459,167462,167474,167478,167480,167481,167494,167501,167503,167514,167516,167520,167525,167526,167554,167557,167561,167563,167569,167570,167571,167575,167577,167583,167593,167601,167602,167655,167681,167682,167710,167722,167732,167735,167762,167779,167803,167818,167828,167864,167877,167898,167900,167906,167916,167989,168014,168056,168057,168059,168072,168075,168077,168088,168099,168101,168110,168111,168112,168113,168128,168135,168137,168154,168156,168172,168173,168183,168184,168205,168260,168267,168269,168283,168288,168291,168298,168304,168317,168333,168339,168348,168358,168360,168361,168366,168405,168406,168413,168414,168420,168431,168436,168496,168526,168558,168572,168578,168583,168600,168617,168628,168635,168673,168692,168783,168784,168857,168868,168877,168902,168935,168971,168989,168999,169002,169011,169012,169023,169036,169044,169081,169120,169144,169152,169162,169166,169168,169177,169191,169205,169231,169232,169239,169264,169269,169284,169290,169293,169314,169321,169330,169331,169347,169350,169374,169431,169441,169449,169452,169501,169531,169545,169569,169596,169632,169653,169661,169667,169693,169757,169758,169778,169782,169815,169837,169841,169869,169899,169935,169939,169943,169949,170043,170049,170050,170051,170055,170057,170091,170093,170100,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,170146,170147,170148,170149,170152,170164,170167,170182,170185,170193,170225,170227,170229,170241,170243,170245,170247,170248,170255,170285,170286,170287,170295,170312,170313,170382,170389,170390,170397,170399,170401,170422,170426,170451,170547,170684,170691,170692,170693,170694,170705,170710,170717,170721,170723,170735,170737,170739,170744,170758,170769,170793,170798,170818,170822,170829,170858,170863,170873,170908,170919,170964,170965,170966,170973,170975,170989,171058,171070,171098,171134,171166,171227,171261,171286,171317,171325,171326,171339,171347,171349,171353,171354,171379,171380,171386,171387,171410,171413,171415,171416,171419,171477,171487,171494,171526,171538,171545,171550,171565,171569,171589,171610,171614,171624,171655,171667,171696,171716,171720,171755,171768,171787,171796,171797,171798,171799,171808,171811,171827,171844,171845,171846,171870,171886,171888,171920,171922,171928,171942,171945,171946,171947,171972,171973,171992,171995,171997,172001,172008,172021,172030,172065,172082,172120,172124,172185,172193,172198,172227,172228,172235,172239,172256,172258,172275,172280,172313,172323,172351,172368,172372,172399,172410,172434,172447,172469,172528,172559,172576,172580,172594,172595,172600,172605,172691,172697,172722,172734,172735,172736,172754,172760,172766,172779,172781,172788,172799,172852,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,172918,172934,172998,173019,173037,173053,173085,173112,173158,173247,173279,173314,173317,173319,173330,173339,173387,173562,173583,173605,173642,173716,173737,173779,173826,173828,173835,173837,173849,173850,173853,173856,173859,173860,173862,173864,173867,173869,173870,173875,173877,173878,173879,173880,173881,173883,173884,173888,173890,173891,173892,173894,173895,173896,173897,173898,173899,173900,173901,173905,173906,173908,173910,173911,173912,173913,173914,173915,173918,173928,173936,173940,173944,173946,173948,173951,173953,173955,173959,173966,173967,173968,173970,173974,173975,173976,173977,173978,173979,173980,173982,173983,173985,173986,173987,173989,173992,173993,173994,173996,173997,173998,174001,174003,174014,174019,174020,174022,174024,174025,174026,174027,174031,174043,174044,174047,174048,174057,174061,174062,174063,174069,174074,174075,174078,174079,174082,174084,174087,174088,174091,174094,174096,174104,174108,174111,174115,174117,174120,174121,174122,174123,174130,174132,174134,174137,174138,174139,174140,174142,174146,174148,174156,174160,174163,174165,174166,174169,174172,174188,174222,174225,174231,174248,174249,174251,174253,174254,174260,174261,174266,174267,174269,174270,174271,174272,174273,174275,174276,174281,174283,174285,174286,174287,174288,174291,174292,174293,174294,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,174295,174296,174297,174299,174300,174302,174303,174307,174308,174309,174310,174311,174313,174314,174315,174316,174317,174329,174330,174336,174342,174343,174350,174351,174354,174358,174362,174367,174369,174373,174375,174376,174378,174379,174382,174387,174393,174403,174404,174407,174408,174412,174413,174418,174419,174422,174429,174431,174434,174437,174438,174439,174440,174443,174444,174445,174448,174449,174451,174452,174453,174454,174457,174458,174460,174461,174464,174465,174466,174467,174468,174472,174475,174476,174482,174486,174489,174491,174494,174500,174506,174507,174508,174511,174518,174521,174523,174533,174534,174536,174538,174540,174542,174544,174545,174547,174559,174566,174583,174585,174594,174601,174604,174607,174609,174626,174628,174630,174634,174635,174637,174639,174640,174641,174642,174643,174645,174648,174650,174651,174652,174653,174654,174655,174656,174658,174661,174667,174675,174689,174690,174699,174707,174708,174713,174718,174722,174723,174730,174732,174734,174739,174740,174743,174744,174757,174758,174759,174764,174765,174766,174767,174768,174769,174773,174775,174781,174787,174795,174797,174799,174813,174814,174815,174816,174819,174820,174822,174825,174827,174829,174830,174833,174834,174836,174839,174841,174843,174846,174847,174848,174850,174851,174858,174864,174878,174897,174903,174924,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,174927,174943,174944,174948,174949,174951,174962,174964,174972,174977,174980,174981,174988,175015,175022,175032,175036,175039,175073,175077,175090,175099,175112,175113,175114,175115,175135,175143,175160,175172,175175,175176,175179,175181,175207,175225,175226,175227,175239,175240,175248,175254,175256,175257,175259,175263,175311,175323,175328,175342,175350,175368,175373,175387,175434,175448,175465,175468,175472,175475,175479,175482,175485,175489,175493,175499,175504,175526,175530,175531,175538,175545,175549,175553,175557,175569,175573,175588,175608,175610,175612,175619,175633,175635,175636,175640,175641,175644,175648,175653,175654,175659,175663,175667,175668,175679,175681,175687,175701,175708,175719,175732,175744,175746,175758,175822,175825,175826,175827,175828,175829,175832,175834,175835,175837,175840,175846,175847,175850,175854,175857,175859,175860,175869,175870,175875,175879,175888,175889,175893,175895,175896,175905,175906,175908,175910,175916,175918,175948,175951,175996,176019,176032,176039,176041,176045,176051,176075,176081,176086,176089,176092,176109,176131,176132,176133,176139,176145,176146,176152,176154,176160,176169,176170,176210,176226,176234,176238,176245,176249,176251,176258,176263,176272,176281,176286,176287,176288,176295,176300,176312,176314,176334,176347,176351,176352,176354,176357,176364,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,176367,176373,176375,176379,176399,176451,176475,176484,176486,176497,176523,176547,176556,176563,176579,176593,176622,176625,176629,176632,176634,176639,176644,176650,176656,176657,176660,176672,176695,176707,176713,176715,176717,176724,176746,176766,176777,176787,176798,176805,176875,176883,176888,176890,176947,176948,176960,176963,176967,176972,177031,177039,177042,177076,177103,177136,177184,177185,177187,177190,177193,177196,177201,177203,177239,177267,177287,177292,177301,177305,177306,177309,177311,177314,177315,177319,177323,177332,177343,177353,177359,177360,177361,177364,177369,177376,177432,177434,177439,177470,177492,177502,177503,177513,177526,177532,177544,177561,177563,177573,177620,177628,177665,177669,177688,177752,177764,177774,177838,177852,178081,194574,194575,194576,194577,194581,194583,194587,194595,194596,194600,194602,194604,194606,194610,194611,194612,194613,194619,194622,194623,194625,194626,194627,194629,194630,194640,194645,194650,194654,194660,194666,194671,194672,194674,194679,194682,194686,194701,194709,194713,194716,194726,194732,194735,194738,194742,194746,194760,194762,194763,194769,194776,194779,194782,194783,194785,194786,194789,194792,194795,194809,194812,194814,194817,194819,194823,194827,194828,194836,194844,194849,194858,194859,194860,194863,194864,194866,194868,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,194875,194880,194885,194886,194887,194894,194922,194924,194937,194938,194943,194946,194947,194957,194959,194968,194970,194997,194998,195004,195009,195024,195030,195031,195035,195040,195047,195050,195051,195061,195097,65024,65025,65026,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null];const ebcdic834=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12288,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12289,12290,183,8229,8230,168,12291,173,8213,8741,65340,65507,8216,8217,8220,8221,12308,12309,12296,12297,12298,12299,12300,12301,12302,12303,12304,12305,177,215,247,450,8806,8807,8734,8756,176,8242,8243,8451,8490,65342,65505,65509,13206,13207,8467,13252,13212,13213,13214,13198,13199,167,8251,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,9661,9660,8594,8592,8593,8595,8596,12307,65339,65341,8800,8804,8805,8491,9794,9792,8736,8869,8978,8706,8711,8801,8786,8810,8811,8730,8765,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65504,65294,65308,65288,65291,65372,65286,65533,65533,65533,65533,65533,65533,65533,65533,65533,65281,65284,65290,65289,65307,65506,65293,65295,65533,65533,65533,65533,65533,65533,65533,65533,65508,65292,65285,65343,65310,65311,65533,65533,65533,65533,65533,65533,65533,65533,65533,65344,65306,65283,65312,65287,65309,65282,65533,65345,65346,65347,65348,65349,65350,65351,65352,65353,65533,65533,65533,65533,65533,65533,65533,65354,65355,65356,65357,65358,65359,65360,65361,65362,65533,65533,65533,65533,65533,65533,65533,8764,65363,65364,65365,65366,65367,65368,65369,65370,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65371,65313,65314,65315,65316,65317,65318,65319,65320,65321,65533,65533,65533,65533,65533,65533,65373,65322,65323,65324,65325,65326,65327,65328,65329,65330,65533,65533,65533,65533,65533,65533,65510,65533,65331,65332,65333,65334,65335,65336,65337,65338,65533,65533,65533,65533,65533,65533,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12645,12646,12647,12648,12649,12650,12651,12652,12653,12654,12655,12656,12657,12658,12659,12660,12661,12662,12663,12664,12665,12666,12667,12668,12669,12670,12671,12672,12673,12674,12675,12676,12677,12678,12679,12680,12681,12682,12683,12684,12685,12686,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,65533,65533,65533,65533,65533,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,65533,65533,65533,65533,65533,65533,65533,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,65533,65533,65533,65533,65533,65533,65533,65533,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9472,9474,9484,9488,9496,9492,9500,9516,9508,9524,9532,9473,9475,9487,9491,9499,9495,9507,9523,9515,9531,9547,9504,9519,9512,9527,9535,9501,9520,9509,9528,9538,9490,9489,9498,9497,9494,9493,9486,9485,9502,9503,9505,9506,9510,9511,9513,9514,9517,9518,9521,9522,9525,9526,9529,9530,9533,9534,9536,9537,9539,9540,9541,9542,9543,9544,9545,9546,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,13205,13208,13219,13220,13221,13222,13209,13210,13211,13215,13216,13217,13218,13258,13197,13263,13192,13193,13256,13223,13224,13232,13233,13234,13235,13236,13237,13238,13239,13240,13241,13184,13185,13186,13187,13188,13242,13243,13244,13245,13246,13247,13200,13201,13202,13203,13204,8486,13248,13249,13194,13195,13196,13270,13253,13229,13230,13231,13275,13225,13226,13227,13228,13277,13264,13267,13251,13257,13276,13254,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8733,8757,8747,8748,8712,8715,8838,8839,8834,8835,8746,8745,8743,8744,8658,8660,8704,8707,180,65374,711,728,733,730,729,184,731,161,191,720,8750,8721,8719,164,8457,8240,9665,9664,9655,9654,9828,9824,9825,9829,9831,9827,8857,9672,9635,9680,9681,9618,9636,9637,9640,9639,9638,9641,9832,9743,9742,9756,9758,182,8224,8225,8597,8599,8601,8598,8600,9837,9833,9834,9836,12927,12828,8470,13255,8482,13250,13272,8481,698,8364,174,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,198,208,170,294,65533,306,65533,319,321,216,338,186,222,358,330,65533,12896,12897,12898,12899,12900,12901,12902,12903,12904,12905,12906,12907,12908,12909,12910,12911,12912,12913,12914,12915,12916,12917,12918,12919,12920,12921,12922,12923,9424,9425,9426,9427,9428,9429,9430,9431,9432,9433,9434,9435,9436,9437,9438,9439,9440,9441,9442,9443,9444,9445,9446,9447,9448,9449,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,189,8531,8532,188,190,8539,8540,8541,8542,65533,230,273,240,295,305,307,312,320,322,248,339,223,254,359,331,329,12800,12801,12802,12803,12804,12805,12806,12807,12808,12809,12810,12811,12812,12813,12814,12815,12816,12817,12818,12819,12820,12821,12822,12823,12824,12825,12826,12827,9372,9373,9374,9375,9376,9377,9378,9379,9380,9381,9382,9383,9384,9385,9386,9387,9388,9389,9390,9391,9392,9393,9394,9395,9396,9397,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,185,178,179,8308,8319,8321,8322,8323,8324,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,4352,4353,4354,4355,4356,4357,4358,4359,4360,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4371,4372,4373,4374,4375,4376,4377,4378,4379,4380,4381,4382,4383,4384,4385,4386,4387,4388,4389,4390,4391,4392,4393,4394,4395,4396,4397,4398,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4414,4415,4416,4417,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4434,4435,4436,4437,4438,4439,4440,4441,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,4447,4448,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4470,4471,4472,4473,4474,4475,4476,4477,4478,4479,4480,4481,4482,4483,4484,4485,4486,4487,4488,4489,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4556,4557,4558,4559,4560,4561,4562,4563,4564,4565,4566,4567,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4590,4591,4592,4593,4594,4595,4596,4597,4598,4599,4600,4601,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20285,20339,20551,20729,21152,21487,21621,21733,22025,23233,23478,26247,26607,26550,27468,31292,33499,33540,34903,34952,35382,36040,36303,36603,36838,39381,21051,21364,21508,65533,24682,25841,27580,29647,33050,35258,35282,38307,21002,22718,22904,23014,24178,24185,25031,25536,26438,28567,30286,30475,31240,31487,31777,33390,33393,32925,35563,38291,20075,21917,26359,28212,30883,31469,35088,32687,33883,38824,21208,22350,22570,23884,24863,25022,25954,26577,27204,28187,29976,30131,30435,32058,37219,37969,40853,21283,23724,30002,32987,37440,38296,23713,21083,23004,23831,24247,24378,24394,24951,27743,30086,32177,35137,31968,33108,34193,35611,37628,38477,20171,20215,20491,20977,24887,24894,24936,25913,27114,28433,30117,30342,30422,31623,33445,33995,38283,23458,22353,63745,31923,32697,37301,21435,23621,24040,25298,25454,25818,28192,28844,25831,36317,36989,63746,65533,37624,20094,20214,20581,24062,24314,24838,34388,36423,37749,39467,20062,20625,26480,20745,21133,27298,30652,40660,21163,24623,20552,25001,25581,25802,26684,27268,28608,35233,38548,39612,22533,32937,29309,29356,29956,32121,32365,35211,35700,36963,40273,28500,27770,32080,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32570,35363,20860,24906,31645,33977,35609,37772,20140,20670,21185,21197,21375,21757,22659,24218,24465,24950,26299,25155,25806,25964,26223,26356,26775,27296,28039,28805,29106,29855,29898,30026,30169,30828,30956,31455,31478,32069,32147,32789,32831,33051,33686,35686,36629,36885,37857,38915,38968,39514,39912,20418,21843,22865,23395,23622,24760,25106,26690,26800,28330,30028,30328,30926,65533,31293,31995,32363,32380,35336,35489,38542,35903,38622,40388,21481,21476,21578,21617,22266,22993,23396,24235,25335,25911,25925,25970,26543,26482,27837,30204,30352,34865,30653,31295,30590,32771,32929,33167,33510,34241,34996,35393,35493,63747,36764,37678,38599,39015,39640,40723,21741,26011,26354,26767,31296,35895,40288,22256,22372,23825,26118,26801,26829,28414,34974,27752,63748,39592,20379,20844,20849,21151,23380,24037,36002,24685,24656,25329,25511,25915,26673,27091,31354,31644,23521,25096,26524,29916,31185,33747,34636,35463,35506,36942,38982,24275,27112,34303,37101,38669,63749,20896,23448,23532,24931,26874,29912,27454,28748,30437,31649,32592,33733,35264,36011,38364,39208,40475,21038,24669,25324,36866,20809,21281,22745,24291,26336,27960,29378,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29654,31568,33009,37979,21350,25499,32619,20054,20608,22602,22750,24618,24871,25296,27088,39745,23439,32024,32945,36703,20132,20689,21676,21932,23308,23968,24039,25934,25898,26657,27211,29409,30350,30703,32094,32761,33184,34126,34527,36611,36686,37066,37496,39171,39509,39851,19992,20037,20061,20167,20317,20465,20660,20855,21246,21312,21475,21477,21646,22036,22434,23230,23255,23495,23943,24272,25084,25304,25937,65533,26552,26601,27083,27472,27590,27628,27714,28317,28792,29399,29590,29699,29964,30655,30697,31350,32127,36092,33276,33285,33290,33503,34914,35247,35635,36544,36881,37041,37476,39094,39378,39493,40169,40407,40860,22283,23616,25516,33738,38816,40628,31384,32676,36557,21531,37089,22528,23624,25496,31391,23470,24339,31353,31406,36524,20518,21048,21240,21367,22280,25331,27402,30519,21413,36470,38357,26426,27331,28528,35437,36330,36556,39243,27512,36020,39740,63751,21483,22317,22862,25542,29674,30789,31418,33909,31998,35215,36211,36917,38312,22343,31584,33740,37406,63752,27224,20811,21067,21127,25119,26997,26840,38553,20677,21220,24057,25027,26020,26681,27135,28428,29822,31563,33465,33771,35250,35641,36817,39241,63753,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20170,25810,27278,29748,31105,31165,34943,34942,35167,63754,37670,21450,23692,24613,25201,27762,31496,32026,32102,20120,20834,30684,32943,20225,20238,20854,20864,21980,22120,22331,22522,22804,22855,22931,23492,23696,35912,23822,24190,24049,24524,25216,26071,26083,26399,26462,26827,26820,27231,27450,27683,27773,27778,28103,29734,29738,29859,30072,30079,30849,30959,31047,31048,31098,31637,32e3,32186,65533,32774,32813,32908,26398,35352,35663,36215,37665,39138,39249,39438,39439,39525,39981,40594,32202,20342,21513,25326,26708,37329,65533,21931,20794,25062,25295,25343,31983,37027,35582,26262,29014,38627,25466,25423,21335,21891,30007,32013,22218,23064,26345,20035,20839,22856,26608,32784,36858,22899,24180,31178,24565,24684,25288,25467,20318,23527,65533,21162,22900,23397,24361,24594,29785,28611,33215,36786,24817,33126,23615,65533,23273,35365,32016,33021,23612,27877,21311,28346,22810,33590,20025,20294,21934,22296,22727,26039,26086,27264,27573,28237,30701,31471,31774,32222,34507,34962,37170,37723,38780,24603,25787,29562,30136,36948,38373,38851,21846,25812,26311,28129,28525,28601,30192,32835,33213,35203,35527,35674,27795,31572,36367,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36957,20826,22530,22616,24162,21776,25758,26848,30070,31958,34807,40680,20195,22408,22823,23565,23729,24118,24453,25140,25825,29619,30867,33274,34955,36024,38538,40667,23429,24503,24755,20498,20992,21040,22294,22581,22615,23566,23648,23798,24230,24466,24764,25361,25623,26691,26873,28120,28193,28372,28644,29182,30428,30585,31153,31291,33796,33759,36077,36339,36424,36867,36884,36947,37117,37709,38518,38876,27602,28678,29272,29346,29544,30563,31167,31716,32411,35712,22697,24775,25958,26302,27788,29129,35930,38931,21636,20077,31361,20189,20908,20941,21205,21516,22412,24999,26481,26704,26847,27934,28540,31461,30140,30643,33891,33012,37509,20828,26007,26460,26515,30168,31431,33651,32922,34474,63834,35910,38957,23663,33216,36929,36975,37389,24471,27225,28373,28783,29128,30331,31561,34276,35588,37159,37913,39472,21895,25078,30313,32645,34367,34746,35064,37007,63836,27931,28889,29334,29662,32097,33853,37226,39409,20098,21365,24177,27396,27410,28734,29211,34349,40478,21068,22483,36771,23888,25829,25900,27414,28651,31811,32412,34253,35172,35261,25289,33240,34847,24266,26391,27028,28010,29436,29701,29807,34690,37086,20358,33802,20919,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25504,30053,20142,20841,20486,20937,26753,28092,27153,31918,31921,31975,33391,35538,36635,37327,39758,20406,21237,21570,24300,25150,26053,27354,28670,30296,31018,33154,34268,24942,34851,34849,37986,38317,39522,39530,40599,40654,21147,27511,26310,27359,28701,31019,36706,38722,24976,25088,25891,28451,29001,32244,32879,34030,36646,36899,37706,20925,21155,21015,27916,28872,35010,24265,25986,27566,28610,31806,29557,39715,20196,20278,22265,23994,24604,26148,27872,29618,32666,32718,33491,34505,36894,38646,38728,37428,38936,40801,20363,31150,37300,38583,21214,25736,27347,28518,29200,28696,30439,32769,33387,34310,34396,36335,36613,36708,38706,39791,40442,40565,28425,30860,65533,32160,36678,37636,40595,40575,35542,22751,24324,26407,28711,29903,31840,32894,20769,29282,30922,31839,34174,35460,36084,36034,38647,20102,20698,65533,23534,24278,29134,30274,30637,26009,32842,34044,36988,40845,20674,22744,23650,27155,28122,28431,32047,32311,35128,38475,39631,21129,26611,27060,27969,28316,29705,29792,30041,30244,30827,35628,39006,20845,25134,38520,20523,23833,28138,32184,36650,24459,24900,26647,63841,31423,38534,32907,21202,20955,24297,20940,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26974,31260,32190,33777,38517,20442,21033,21400,21519,23653,24743,65533,26446,26792,28435,29313,29432,29702,29827,30178,31163,32633,31852,34733,35023,37324,37328,38626,39761,39881,21533,29136,29848,34298,36522,38563,40023,40607,26519,28107,29747,30195,33256,38678,23718,30764,31435,31520,31890,23229,25705,29802,30194,30952,34759,39340,39764,40635,23518,24149,28448,33180,33707,23081,24018,24398,24930,25405,26217,26364,28415,28459,28771,30622,33836,34067,34875,35646,36627,37853,39237,39704,39995,25273,26411,27819,35178,38778,20129,22916,24536,24537,26395,32178,32596,33426,33579,33725,37017,39757,22475,22969,23186,23504,26151,26522,26757,27599,29028,30491,32629,33530,36023,36067,36993,39749,33032,33033,35978,38476,39488,40613,23391,27667,29467,30431,30450,33804,20906,35219,20443,20813,21193,20885,26825,30468,30496,32191,32236,38754,40629,28357,34065,21629,20901,21517,40180,26126,26269,28319,30399,33559,34719,37225,37528,34946,20398,21215,24125,22982,24917,25720,26286,20882,26576,27169,27597,27611,29279,29281,30520,30683,32772,32791,33541,35584,35624,35980,37502,26408,27792,29287,30446,30566,31302,27519,27794,22818,26406,28635,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30663,33945,21359,22675,22937,24287,25551,26164,26483,28218,29483,33495,37672,21209,24043,25035,25098,25287,25771,26080,27494,27595,28961,30045,32326,33310,33538,34154,35491,36031,38695,40289,22696,40664,21006,21563,25991,27766,32011,32010,34442,38272,21839,32862,21247,29289,21619,23194,23614,23883,38753,24396,24494,26410,28220,28720,30473,31859,31964,32654,34183,35598,36855,24758,24845,25003,25935,26108,26107,27665,27887,29599,29641,38292,38313,23494,34588,35600,65533,21085,21338,25293,25615,25778,26420,27192,27394,27850,29268,29632,29854,31636,32283,31893,33162,33334,34180,36843,38649,39361,20276,21322,21453,21467,25292,25644,25856,26001,27075,28504,27886,29677,30036,30436,30971,31020,32070,32982,34784,33324,36820,38930,39151,21187,25300,28497,25765,30332,36299,37297,37474,39662,39747,20515,20621,22346,22952,23592,24135,24439,25151,25918,26041,26049,26121,27036,32033,32938,33152,33323,33459,33953,34444,35370,35607,37030,38450,39651,39796,40848,20467,20493,63843,22521,24472,25308,25490,26479,28227,30403,32986,32972,35061,35060,35097,36064,36649,37197,38506,20271,20336,24091,26575,26658,30333,30334,39748,27146,65533,29033,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30058,63844,32321,32763,34115,34281,39132,20240,31567,32624,38309,20961,24070,26805,27710,27726,27867,29359,31684,33539,27861,29754,20731,21128,22721,25816,29863,30294,30887,36767,38370,38713,63845,21342,24321,27764,36782,35722,36776,36783,65533,37002,39394,21029,24390,30629,40009,40712,19993,20482,20853,23643,24183,26142,26170,26564,28851,29953,30149,31453,31177,36647,36856,39200,20445,22561,22577,23542,26222,27493,28282,27921,28541,29995,35036,35091,35676,36628,40199,40700,20239,20693,21264,21340,23443,24489,31119,26381,33145,33583,34068,35206,34656,35079,36667,39333,39954,26412,20086,20016,20472,22857,23553,23792,23791,25447,29739,26834,28925,32299,33873,34028,34562,36898,37586,40179,20166,20184,20613,21078,21103,21542,22496,22827,23142,23413,23500,24220,63846,25206,25975,26023,28014,28325,29238,31807,32566,31526,32600,33105,33104,33178,33433,33531,34569,35331,36e3,36070,36091,36212,36282,37096,37340,38428,38468,38955,39385,39826,40167,21271,20998,22132,65533,22707,22868,22894,24575,24996,25198,27774,28954,30406,31881,31966,32027,33452,34145,38640,63847,20315,65533,24343,25282,39668,40699,23849,26379,26842,30844,32323,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40300,19989,20633,21269,21290,21329,22915,22947,23138,24199,24754,24970,25161,25209,26e3,65533,27047,27800,63848,27832,27604,27608,29749,30202,30565,30738,30865,31192,31718,32203,32737,32933,33107,33086,33218,33778,34586,35048,35513,35692,36027,36705,37145,38750,39131,39616,40763,23338,36051,24428,25839,25996,27315,27567,28657,28693,29277,34315,36007,65533,38971,39024,39714,24977,27703,32856,39425,20045,20107,20123,20181,20284,20282,33293,20351,20735,21490,21496,22235,21766,21987,22763,22882,22994,23057,23531,23546,24051,24107,65533,24473,24605,25448,36198,26031,26012,26619,26797,26946,27086,27801,27863,28195,28681,37034,29509,31040,31038,31072,27515,30722,31169,31525,31721,34001,32023,32114,33678,34503,35039,35408,35422,35613,36060,23556,36781,32902,39164,39391,21066,63849,27082,26388,63850,37984,20632,21034,23665,25955,27733,29642,29987,30109,31639,33948,37240,25746,27578,20087,34217,19977,63851,26441,26862,28183,34923,33439,34072,27459,25591,28545,39087,37732,38670,19978,20663,20687,20767,21830,21930,22039,29245,23360,23577,24202,24224,24258,24120,24819,30456,26705,27233,27556,28248,29376,29248,31077,31665,32724,35059,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35316,35937,36062,35443,38684,22622,29885,36093,39955,63852,31329,32034,33394,29298,29983,29989,63853,31513,22124,22779,22661,23167,29312,23996,24207,24246,24464,24661,25234,25933,26257,26329,26360,26646,26866,29790,32110,32214,32626,32997,33298,34223,35199,35475,37604,36893,40653,65533,40736,22805,22893,65533,24109,24796,26132,26227,26512,27728,28101,28511,30707,30889,33990,37323,37675,20808,20185,20682,65533,21892,23459,23584,24835,25159,26059,65533,29053,29177,31146,29764,29831,29887,30316,32218,32341,32680,33146,33203,33337,34330,34796,35445,36323,36984,37521,65533,39854,20592,21352,33292,65533,23633,25352,26964,27945,28203,34203,35373,35498,38634,27570,32406,34814,36109,26297,38275,29166,25885,28041,63854,22478,22995,24615,24826,25104,26143,26207,29481,30427,30465,31596,32854,32882,33125,35488,37266,19990,21218,27506,27927,31237,31545,32048,63855,36016,21484,22063,22609,23567,23569,23477,24034,25475,25620,25152,26157,26803,27836,28040,28335,28703,28836,29138,29990,30094,30095,31505,31787,32032,32057,33368,34092,34157,34311,35380,36877,36961,37045,37559,38660,38902,39479,20439,23660,26463,31903,32396,36895,23403,25613,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36956,29575,34752,23435,26494,35359,35494,36865,38924,21047,63856,28753,29795,30862,37782,34928,37335,20462,21463,21471,22234,22013,22402,22781,23234,23432,65533,23723,24101,25101,24833,25163,25480,25628,25910,25976,26220,27193,27530,29159,27700,27929,28338,28465,29417,29560,31071,30246,30561,65533,31168,31319,31466,31929,32143,32172,32353,32670,33065,33585,33936,34010,34282,34966,35504,36664,36930,36995,37228,37526,37561,38539,38568,38614,38656,38920,39318,39635,39706,21460,22654,22809,23408,23487,28113,29087,32901,33789,24490,24642,26092,26991,27529,27957,28147,29667,30462,30636,31565,32020,33059,33308,33600,35426,24033,37255,37662,38918,39348,40329,25100,34899,36848,23815,23847,23913,29791,33181,34417,34664,25342,28629,32722,35126,35186,19998,20056,20711,21319,25215,26119,21213,32361,34821,38494,20365,21273,21883,22070,22987,23204,65533,23608,23629,24066,24337,24643,26045,26159,26178,26558,26612,29468,30690,31034,35222,32230,32709,33940,33997,35433,35430,35553,35962,22516,23508,24335,24687,25325,26893,27542,28252,29060,35672,36606,39135,39166,20280,20449,21627,23072,23480,24892,26032,26216,29180,30003,30695,31070,32051,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33102,33251,33688,34218,34563,35338,36523,36763,63857,36805,22833,23460,23526,24713,65533,23529,23563,24515,63858,27777,28145,28683,29978,33455,20160,21313,63859,38617,27663,20126,20420,20818,23077,23784,25105,29273,33469,34558,34905,35357,38463,38597,39187,40201,40285,22538,23731,23997,24853,24801,25569,27138,28197,33852,38990,40823,23433,23736,25353,26191,26696,30524,38593,36107,38797,38996,40200,25118,26017,35585,36555,36943,38332,23890,24022,24245,26263,30284,33780,35571,38343,40687,22739,25276,29390,40232,20208,22830,24591,26171,27523,31207,38789,40230,21395,22467,23830,24859,27448,28079,30362,26326,30861,31001,33406,21696,38552,38724,38729,21380,25494,28082,33099,38440,38989,27387,32588,40367,40474,20063,20539,20918,22812,65533,25590,26928,29242,32822,63860,24825,37326,24369,31707,31845,32004,33509,33903,34277,36493,20335,22756,23363,24665,25562,25880,25965,26264,26954,27171,27915,28673,29036,31344,30162,30221,32650,32664,35140,35731,37312,38525,39178,22276,24481,25940,26044,28417,31142,35486,39341,39770,40812,20740,25014,25233,27277,33222,20547,22576,24422,28937,35328,35578,23420,20796,22196,22852,25513,28153,23978,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26989,24666,20104,20313,22914,27487,27741,33287,39192,20134,22495,65533,24441,26131,30123,32377,35695,36870,39515,22181,22567,23032,23071,23476,24310,25424,63889,26941,27839,28051,28046,28149,28436,28895,28982,29017,29123,29141,30799,30831,31605,32227,65533,33241,34837,34893,35724,36575,37467,40182,63902,24709,28037,29105,63905,38321,21421,22633,26579,28814,28976,40573,33490,33398,38331,39260,39653,26308,29121,33865,22603,23344,24433,26144,26254,27001,27054,27704,27891,28481,28699,29151,29787,63918,29908,30408,32403,33521,35424,36814,20522,21e3,21473,26355,28618,29450,30568,30591,32755,33454,34123,34269,34306,35028,35427,35709,35947,37555,38675,38928,20116,20237,20658,21320,21555,21978,22714,22887,23067,23524,24735,63929,26111,26212,26791,27738,28879,29522,34568,35492,36968,21566,23627,27779,29508,29577,37434,23228,28331,29797,30239,31337,34176,34314,39982,20800,22725,29934,30320,25793,29973,32705,37013,38605,28198,29926,31401,34521,34680,35355,33253,23113,23436,23451,28003,29609,29740,30871,32233,32747,33109,33694,35916,38446,38929,26352,24448,26106,26505,27754,29579,20525,27498,30702,22806,24013,29477,30031,20709,20985,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22575,22829,22934,23002,23970,25303,25622,25854,26332,33136,63935,27208,29796,31368,31407,32327,32350,32768,34136,34799,35201,35616,36953,36992,39250,36785,24958,27442,28020,35109,20653,21191,23481,24248,20887,27029,28263,28342,29076,29794,29992,32883,33282,33592,33993,34553,36362,37780,37854,20305,20598,20778,21448,21451,21491,21505,23431,23507,23588,20110,24858,24962,29275,30402,31056,31121,31161,32701,33419,34398,36802,36935,37109,38533,38632,38633,26093,26161,29020,31286,37057,38922,20113,63941,27550,32792,33464,36939,38549,38642,38907,29096,34074,39729,29066,38596,20803,21407,21729,22290,22291,29232,22435,23195,23491,24616,24895,25588,28304,29503,29783,33489,34623,34945,36677,36960,38498,39e3,40219,26376,36234,37470,20301,20553,20702,21361,22285,22996,23561,24131,24944,23041,28205,29234,29771,32239,32963,33806,33894,34655,34907,34910,35586,36949,38859,39759,20083,25912,20369,20754,20842,24188,21807,21929,22271,23418,23461,24119,24189,24254,24736,24799,24841,24840,25540,26377,26580,26586,26977,27833,28216,28641,29494,29788,30001,30290,32173,33278,33848,34148,35029,35480,35547,35565,36418,36400,36938,36926,36986,37193,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37321,37742,40669,27603,32905,32946,39739,20801,22891,23609,28516,29607,32996,38287,32895,25102,32104,34701,22432,24681,24903,27324,27575,29666,37504,35518,38577,40806,20057,21535,28139,34093,38512,39150,38899,25401,25558,27875,37009,20957,25033,33210,40441,20381,20506,20736,30097,30691,23452,24847,25087,25836,27589,32681,33380,34811,34915,35516,35696,37291,20108,20197,20234,22839,23016,24050,36019,24347,24411,24609,63968,26670,29246,29669,30064,30157,31227,32780,32819,33617,39156,39180,38947,28727,32764,30410,32714,32716,20154,20161,20190,20995,21360,21693,22240,23035,23493,24341,24525,28270,35469,38765,38775,19968,20350,22777,26085,28322,36920,37808,39353,20219,22764,22922,23001,31252,33615,36035,20837,20173,23381,21097,20180,21050,21672,22985,23039,23376,23388,23383,24675,24904,28363,28825,29038,29574,29943,30133,30501,30913,31906,32043,32773,32788,33258,34071,34249,35292,35566,36039,36205,38604,20316,21242,22204,26027,26152,50341,28796,28856,29237,32189,33421,37196,38592,40306,26855,27544,28538,30430,23697,26283,28507,50342,31668,31786,50343,34870,38620,19976,20183,21280,22580,22715,22892,50344,24115,24196,24373,25484,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26290,26454,27167,27299,27404,28479,22767,23559,29254,63994,29520,29835,30260,31456,31911,33144,33247,33674,33900,34083,34196,34255,35013,35037,36115,37292,38263,38556,20877,21705,22312,23472,25165,26448,26685,26771,28371,28797,32404,35009,36001,36617,40779,40782,29229,31631,35533,37658,20302,20295,20786,21632,22992,24213,25269,26485,26594,26990,27159,27822,28186,29401,29482,30141,31672,33511,33879,34295,34502,35419,35948,36015,36487,36889,37048,21219,23265,23490,25688,25973,28404,29380,30340,31309,31515,31821,31988,32318,33659,35627,36042,36196,36321,36447,36842,36857,36969,20659,20840,20856,21069,21098,22208,22625,22880,23560,23637,24019,24283,24731,25136,26643,27583,27656,28593,29006,3e4,30008,30322,30938,31627,31661,31686,32399,32742,35438,36670,36681,37439,37523,37666,38651,39002,39019,39198,20999,25130,25240,27993,31363,31434,31680,32118,21344,23742,24215,28472,28857,40670,31896,38673,25509,25722,26884,34678,19969,20117,20141,20572,20597,21576,22979,24128,24311,24449,23450,24237,24773,25402,25919,25972,26060,26230,26232,26755,26984,27491,27712,28136,28191,30010,30555,30855,31118,31243,31357,38742,31934,33351,35330,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35562,35998,37165,37194,37336,37478,37664,38662,38748,38914,40718,21046,21137,21884,22564,24093,24351,24716,25552,26210,26799,28639,29765,33229,31085,31532,34234,35069,35576,36406,36420,37261,38500,38555,38717,38988,40778,20430,20939,20806,21161,65533,22066,22122,24340,24427,25514,25805,26089,26177,26362,26361,26397,26781,26839,27133,28437,28526,29031,29157,29226,30337,30522,31062,31066,31199,31264,31381,31432,31498,31895,31967,31990,32068,32091,32368,32903,34299,34468,35412,35519,36249,36481,36896,36973,37347,38459,39899,40165,26063,31751,36275,37827,23384,23562,21330,25305,29469,20519,23447,24478,24939,26837,27141,28121,29742,31278,32066,32156,32305,33131,36405,36452,37758,37912,20304,22352,24038,24231,25387,32618,20027,20303,20367,20570,24282,21610,21608,22014,22863,23449,24030,26205,26417,26609,26666,28855,27880,27954,37202,29664,30087,34079,31820,32002,32044,32162,32920,32964,33311,34523,35387,35461,36208,36490,36659,37198,36913,37956,39376,31481,31909,20426,20737,20934,22472,23803,26201,27197,27994,28310,28652,30063,31459,34850,36897,36981,38588,39423,33537,20013,20210,34886,37325,65533,21373,27355,26987,27713,33914,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22686,24974,25327,28893,26366,29969,30151,33976,35388,35657,36104,20043,21482,21675,22320,22336,24535,25345,25351,25711,25903,26088,26234,26525,26547,27490,27744,28460,30179,30693,30757,31063,31049,32025,32930,33026,33267,33437,34584,35468,63996,36100,36286,36978,30452,31257,31287,32340,32887,36784,21972,22645,25391,26185,27035,27941,28337,29645,29800,29857,30137,30433,30494,30603,31206,32265,35386,36049,36587,36914,37805,38499,38515,38663,21489,31378,23018,23241,24089,26702,30142,31209,33187,34541,36074,36300,36845,26015,26389,22519,38598,32221,36655,24501,25074,28548,19988,20511,31642,21449,21983,24046,23919,27425,27492,30923,63998,36425,36974,36554,25417,25662,30528,31364,37679,38015,40810,25776,28591,29158,29864,29914,31428,32386,31922,32408,35738,36106,38013,65533,39184,39244,21049,23519,25830,26413,20717,21443,22649,24920,24921,24922,25082,26028,31449,35730,20513,20489,21041,21109,21809,23100,24288,24432,24757,25950,26124,26166,26274,27085,27653,28356,28466,30241,31379,33081,33369,33750,33980,20661,22512,24425,25505,30758,32181,33756,34081,37319,37365,20874,26613,31574,31744,36012,20932,22971,24765,34389,63999,21076,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23610,24957,25114,25299,25842,26021,28364,30240,33034,34612,36497,38495,38587,20191,21315,21912,22825,24029,25797,27849,28154,28666,31359,33307,34214,36068,36368,36983,37351,38369,38433,38854,20984,24505,21746,21894,25764,28552,32180,36685,37941,20681,23574,27838,28155,29979,30651,31799,31844,35522,22974,24086,25463,29266,30090,30571,35548,36028,36626,24307,26228,28152,32893,33729,34619,35531,38737,39894,64e3,21059,26367,28053,28399,30732,32224,35558,36910,36958,38726,39636,21021,21736,23789,24980,25220,25307,26786,26898,26970,27189,28818,28966,30813,30977,30990,31186,31245,32131,32918,33609,34121,35970,36229,37218,37259,37294,37396,38808,20419,22225,65533,29165,30679,34560,35320,36485,39633,23544,24534,26449,21474,22618,23541,24625,25696,32317,32880,33905,37507,25774,20652,23828,25703,26368,22684,25277,25512,26894,27e3,65533,27166,28267,29955,30394,31179,31634,33467,33833,36264,36861,37138,37195,37276,37656,37648,38619,38822,39949,40577,40612,19985,65533,31069,30044,31482,31569,31689,32302,33331,33988,36468,36600,36880,26149,26943,20986,40668,20805,20914,24544,27798,34802,34909,34935,24756,33205,33795,21462,21561,22068,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23094,23601,27207,28810,32736,32858,33030,33261,65533,36259,37257,39519,40434,20164,20596,24827,28204,23652,20360,20516,21988,23769,24053,24159,24500,26772,27835,28100,29118,30164,30196,30305,38601,31258,32199,32251,32622,24677,33268,36636,39347,40260,40786,21063,21189,39149,35242,19971,26578,28422,20405,23522,24561,26517,27784,28024,30759,37341,37756,34756,31204,31281,24555,20182,21822,22702,22949,24816,25171,26422,26965,33333,38464,39389,20524,21331,21828,64001,25176,25286,64002,25826,26589,27216,28609,28655,29730,35351,37944,21585,22022,22374,24392,24986,27470,28760,28845,32187,35477,22890,33067,25506,32829,36010,22612,25645,27067,23445,24081,28271,34153,20812,21488,22826,24608,24907,27526,27760,27888,31518,32974,33492,36294,37040,39089,39364,64004,25799,28580,65533,25745,25860,20814,21520,22303,35342,24927,26742,64005,30171,31570,32113,36890,22534,33151,35114,36864,38969,20600,22871,22956,25237,36879,39722,24925,29305,23110,22369,24052,25226,25773,26487,27874,27966,29228,29750,30772,32631,33453,36315,38935,22338,21028,26495,29256,36009,36774,29923,38442,20843,21485,25420,20329,21764,24726,27803,28031,29260,29437,31255,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35997,25943,35207,24429,28558,28921,33192,24846,20415,20559,25153,29255,31687,32232,32745,34649,36941,38829,36022,22378,24179,33805,35413,21536,23318,24163,24290,24330,25987,32954,34109,38281,38491,20296,21253,21261,21263,21638,21754,22275,24214,24067,24598,25265,25243,25429,27873,28006,28846,30129,30770,32990,33071,33302,33889,33970,34957,35090,37451,37610,38788,39165,39825,24133,26292,28689,29190,20469,21117,24426,24915,26451,27161,28418,29922,31080,34920,35961,39108,65533,21697,31263,39342,26963,35575,35914,39080,24444,25259,30130,30382,34006,34987,36991,21305,24380,24517,27852,30050,30091,31558,36437,20047,36924,19979,20309,22799,24264,26160,27827,29781,34662,33655,36032,36944,38686,39957,22737,23416,30247,34384,35604,40372,23506,24680,24717,26097,27735,28450,28579,32597,32752,65533,38290,38289,38480,38867,40435,21106,36676,20989,21547,21688,21859,21898,27323,28085,32216,33382,38519,21512,21704,30418,34532,38308,38492,20130,20233,23022,24055,24658,25239,26477,26689,27782,28207,28821,32568,32923,33322,64009,38917,20133,20565,21683,22874,22419,23401,23475,24296,25032,26999,28023,34809,35299,35442,35559,36994,39405,39608,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21182,26680,20502,24184,26447,34892,20139,21521,22190,37141,29670,38911,39177,39255,39321,22099,22687,34395,35377,25010,36562,29563,27463,38570,39511,22869,29184,36203,38761,23796,24358,25080,28843,29694,29572,30505,32067,32098,32291,33335,34898,64010,36066,37449,39023,23377,31348,34880,38913,23244,65533,20448,21332,22846,23805,25406,28025,29433,31691,33031,33029,33698,65533,37583,38960,20136,21009,22411,24418,20804,28677,28847,29673,33610,34722,34913,37026,37795,39336,20846,24407,24800,24935,34137,37295,38795,20046,20114,35946,21628,22778,22741,22909,24359,26122,25142,27627,28009,28111,28246,28408,28564,28649,28640,28765,29392,29786,29920,30355,30366,31068,31946,32286,32993,33899,34382,34399,34676,35703,25160,37264,37804,38912,39013,24785,25110,37239,23130,26127,28151,28222,29759,39746,24573,24794,31503,40379,24344,21700,27742,27859,27946,40251,32005,34425,35340,21270,23301,27194,28779,31117,30069,31166,21644,33457,33775,35441,38772,36008,64011,25844,25899,30906,30907,31339,37962,20024,21914,22300,23462,24187,24739,25085,25563,26707,27489,28185,29029,29872,32008,36996,39529,39973,39711,27963,28369,29502,35905,38346,20976,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23187,24488,24627,24653,24908,24822,26179,27841,28361,29004,30343,31681,33618,34647,36945,38541,40643,22238,24315,24458,24674,24724,25079,26214,26371,27292,28142,28590,28784,29546,32362,33214,34516,35496,36036,21123,29554,27243,21742,22150,22210,23389,25928,26313,26783,29243,32948,37237,20399,20505,21402,21518,21564,21897,21957,24460,26429,29492,36869,31692,21235,22628,22734,26248,28932,29071,29179,34224,35347,34216,21927,33841,21321,21913,27585,24409,24509,25582,26249,28999,35569,36637,40638,20241,25658,28875,30054,34407,24676,35662,40440,20982,21256,20807,27958,33016,40657,24571,26133,27427,30165,21507,23673,32007,50735,27424,27462,27453,21560,24688,27965,33288,20694,21916,22123,23020,23305,24076,26342,24985,25137,29351,29081,20958,29113,31143,31232,32690,35440,50737,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26551,29634,30146,24932,20355,26604,26751,30965,34638,25121,30640,37039,37970,22536,30074,32115,32652,33313,40007,22607,63744,37799,21888,20520,31067,36382,37445,26967,33137,26688,21138,37392,36850,33160,25225,37463,20435,20510,20742,22384,25004,28913,29861,22586,26856,23611,26272,27073,32660,33533,33776,29736,39908,29657,34467,38799,20018,36328,37707,29743,20362,28826,22389,32777,37558,38827,35033,33422,25458,28099,29527,34152,63750,26231,27131,31429,21243,30023,21156,22935,26129,33449,20235,22524,29592,29826,31041,32648,37668,63755,63756,23068,63757,63758,63759,63760,63761,63762,63763,63764,63765,63766,63767,63768,63769,63770,63771,63772,63773,63774,63775,63776,63777,26511,26976,28275,63778,63779,63780,63781,63782,63783,34930,63784,63785,63786,63787,63788,63789,63790,25754,23511,63791,63792,63793,63794,63795,63796,63797,63798,63799,63800,39377,63801,63802,63803,63804,63805,63806,63807,63808,63809,63810,63811,63812,63813,63814,63815,63816,63817,63818,63819,63820,63821,63822,63823,63824,63825,26491,63826,63827,63828,63829,63830,63831,63832,63833,20150,24406,28606,22349,25018,28251,34113,37663,30035,25095,34739,22382,23947,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25481,27330,35241,26109,28958,36887,33434,23965,63835,63837,63838,23821,24480,20791,29833,63839,23738,31533,32838,28583,63840,25796,28510,31103,33737,28712,36058,39719,23105,30267,34078,37860,26066,28687,20374,20956,21774,28012,63842,32696,33673,35041,28542,30908,37e3,19975,21325,21788,33545,36638,27796,26919,30609,33986,25721,29761,33468,40361,31447,25006,26969,29687,20497,38639,27797,26806,26979,28228,40692,23735,32225,30242,30460,30928,28196,26507,28354,30917,28953,24161,29140,27287,34327,26821,39432,29668,33769,36665,29090,19981,20463,21648,23386,33344,33705,21545,26128,36033,24447,26503,27606,27607,31189,31875,22188,27996,29613,20447,26614,40605,38704,29022,37394,23776,21959,25471,31598,23307,25982,28210,29697,37925,39245,27844,35131,40807,21089,38493,23468,29689,30233,31712,28049,35606,36118,24061,33984,39137,24730,28126,23744,29703,29874,35728,38567,28506,29729,29881,24455,26642,27219,34036,34147,35524,37477,23630,35925,31698,34645,20353,34254,35574,21854,33706,24132,37122,37716,39952,39839,21813,23721,25212,32266,63861,63862,33979,63863,63864,63865,63866,31155,63867,63868,63869,63870,30208,34326,20474,20870,63871,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,63872,63873,63874,63875,63876,29877,30998,63877,33349,33593,36671,36701,63878,63879,63880,63881,63882,63883,63884,63885,63886,63887,63888,25403,27783,63890,63891,63892,63893,63894,32303,63895,63896,63897,63898,63899,63900,63901,63903,63904,63906,63907,63908,63909,29744,63910,63911,63912,63913,63914,63915,23992,63916,28214,28634,28719,29008,29552,63917,31310,63919,63920,63921,37704,63922,38681,63923,63924,20034,63925,27757,31330,63926,63927,63928,20425,22626,25034,25942,28595,29100,31613,39986,40711,32277,39252,31402,26785,26880,29715,33048,23043,23916,63930,63931,23525,63932,63933,25747,63934,63936,29183,63937,63938,63939,32287,20433,22471,22665,24898,28044,29996,63940,26100,29591,29760,32006,34261,37354,21206,24423,26671,27218,28560,29065,34131,20112,23236,27781,27961,28274,63942,26256,34111,35096,63943,63944,63945,26978,27943,63946,63947,29495,63948,63949,63950,63951,63952,63953,22537,63954,63955,63956,63957,63958,36103,63959,37399,63960,63961,63962,63963,28700,63964,26885,34191,63965,63966,63967,63969,63970,63971,63972,63973,63974,32900,33505,63975,63976,36029,36999,63977,63978,63979,63980,35610,63981,63982,63983,32106,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33589,63984,34451,63985,63986,63987,20314,24641,63988,63989,63990,21316,63991,63992,63993,33471,33576,23409,33255,28221,32289,32053,33785,38606,40799,21514,63995,32735,37841,20291,20346,22652,29728,30033,31564,37931,30308,39822,26622,27273,28096,28254,28702,28833,29582,29693,32142,37580,29866,38613,24752,36394,23005,28234,28557,23535,28940,38603,32338,27802,33463,21767,25634,26187,26733,27524,30043,32285,33275,34095,34967,20356,29894,63997,28503,37878,20376,31762,32046,35734,24884,29462,23488,23528,20508,36448,29588,36639,31805,35449,22558,21119,33400,33493,37032,24740,24961,34085,35535,37786,39478,36441,29763,26414,36101,21408,31305,34473,29723,21668,25302,39345,22396,26219,29752,30472,64003,27084,38358,25850,37393,39449,26544,64006,33502,36875,26333,64007,39111,39491,38466,29644,33534,39325,21414,28698,37532,40569,38356,23270,64008,28707,33607,27382,20436,30541,27883,29625,26203,27842,28366,28752,29074,29801,36872,26291,36426,23733,26215,29733,33446,33983,28888,35649,22864,26213,24140,24880,26180,27045,28255,28514,29852,31783,21295,33588,23446,37892,25989,28045,28102,39501,24127,29030,29661,21211,26244,29002,28824,35350,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32725,22221,24984,26206,29114,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12644,65533,65533,12595,65533,12597,12598,65533,65533,12602,12603,12604,12605,12606,12607,12608,65533,65533,65533,12612,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12623,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12624,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12625,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12626,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12627,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12628,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12629,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12630,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12631,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12632,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12633,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12634,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12635,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12636,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12637,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12638,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12639,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12640,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12641,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12642,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12643,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12593,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44032,44033,44034,44035,44036,44037,44038,44039,44040,44041,44042,44043,44044,44045,44046,44047,44048,65533,44049,44050,44051,44052,44053,44054,44055,44056,44057,44058,44059,65533,65533,65533,44060,44061,44062,44063,44064,44065,44066,44067,44068,44069,44070,44071,44072,44073,44074,44075,44076,65533,44077,44078,44079,44080,44081,44082,44083,44084,44085,44086,44087,65533,65533,65533,44088,44089,44090,44091,44092,44093,44094,44095,44096,44097,44098,44099,44100,44101,44102,44103,44104,65533,44105,44106,44107,44108,44109,44110,44111,44112,44113,44114,44115,65533,65533,65533,44116,44117,44118,44119,44120,44121,44122,44123,44124,44125,44126,44127,44128,44129,44130,44131,44132,65533,44133,44134,44135,44136,44137,44138,44139,44140,44141,44142,44143,65533,65533,65533,44144,44145,44146,44147,44148,44149,44150,44151,44152,44153,44154,44155,44156,44157,44158,44159,44160,65533,44161,44162,44163,44164,44165,44166,44167,44168,44169,44170,44171,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44172,44173,44174,44175,44176,44177,44178,44179,44180,44181,44182,44183,44184,44185,44186,44187,44188,65533,44189,44190,44191,44192,44193,44194,44195,44196,44197,44198,44199,65533,65533,65533,44200,44201,44202,44203,44204,44205,44206,44207,44208,44209,44210,44211,44212,44213,44214,44215,44216,65533,44217,44218,44219,44220,44221,44222,44223,44224,44225,44226,44227,65533,65533,65533,44228,44229,44230,44231,44232,44233,44234,44235,44236,44237,44238,44239,44240,44241,44242,44243,44244,65533,44245,44246,44247,44248,44249,44250,44251,44252,44253,44254,44255,65533,65533,65533,44256,44257,44258,44259,44260,44261,44262,44263,44264,44265,44266,44267,44268,44269,44270,44271,44272,65533,44273,44274,44275,44276,44277,44278,44279,44280,44281,44282,44283,65533,65533,65533,44284,44285,44286,44287,44288,44289,44290,44291,44292,44293,44294,44295,44296,44297,44298,44299,44300,65533,44301,44302,44303,44304,44305,44306,44307,44308,44309,44310,44311,65533,65533,65533,44312,44313,44314,44315,44316,44317,44318,44319,44320,44321,44322,44323,44324,44325,44326,44327,44328,65533,44329,44330,44331,44332,44333,44334,44335,44336,44337,44338,44339,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44340,44341,44342,44343,44344,44345,44346,44347,44348,44349,44350,44351,44352,44353,44354,44355,44356,65533,44357,44358,44359,44360,44361,44362,44363,44364,44365,44366,44367,65533,65533,65533,44368,44369,44370,44371,44372,44373,44374,44375,44376,44377,44378,44379,44380,44381,44382,44383,44384,65533,44385,44386,44387,44388,44389,44390,44391,44392,44393,44394,44395,65533,65533,65533,44396,44397,44398,44399,44400,44401,44402,44403,44404,44405,44406,44407,44408,44409,44410,44411,44412,65533,44413,44414,44415,44416,44417,44418,44419,44420,44421,44422,44423,65533,65533,65533,44424,44425,44426,44427,44428,44429,44430,44431,44432,44433,44434,44435,44436,44437,44438,44439,44440,65533,44441,44442,44443,44444,44445,44446,44447,44448,44449,44450,44451,65533,65533,65533,44452,44453,44454,44455,44456,44457,44458,44459,44460,44461,44462,44463,44464,44465,44466,44467,44468,65533,44469,44470,44471,44472,44473,44474,44475,44476,44477,44478,44479,65533,65533,65533,44480,44481,44482,44483,44484,44485,44486,44487,44488,44489,44490,44491,44492,44493,44494,44495,44496,65533,44497,44498,44499,44500,44501,44502,44503,44504,44505,44506,44507,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44508,44509,44510,44511,44512,44513,44514,44515,44516,44517,44518,44519,44520,44521,44522,44523,44524,65533,44525,44526,44527,44528,44529,44530,44531,44532,44533,44534,44535,65533,65533,65533,44536,44537,44538,44539,44540,44541,44542,44543,44544,44545,44546,44547,44548,44549,44550,44551,44552,65533,44553,44554,44555,44556,44557,44558,44559,44560,44561,44562,44563,65533,65533,65533,44564,44565,44566,44567,44568,44569,44570,44571,44572,44573,44574,44575,44576,44577,44578,44579,44580,65533,44581,44582,44583,44584,44585,44586,44587,44588,44589,44590,44591,65533,65533,65533,44592,44593,44594,44595,44596,44597,44598,44599,44600,44601,44602,44603,44604,44605,44606,44607,44608,65533,44609,44610,44611,44612,44613,44614,44615,44616,44617,44618,44619,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12594,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44620,44621,44622,44623,44624,44625,44626,44627,44628,44629,44630,44631,44632,44633,44634,44635,44636,65533,44637,44638,44639,44640,44641,44642,44643,44644,44645,44646,44647,65533,65533,65533,44648,44649,44650,44651,44652,44653,44654,44655,44656,44657,44658,44659,44660,44661,44662,44663,44664,65533,44665,44666,44667,44668,44669,44670,44671,44672,44673,44674,44675,65533,65533,65533,44676,44677,44678,44679,44680,44681,44682,44683,44684,44685,44686,44687,44688,44689,44690,44691,44692,65533,44693,44694,44695,44696,44697,44698,44699,44700,44701,44702,44703,65533,65533,65533,44704,44705,44706,44707,44708,44709,44710,44711,44712,44713,44714,44715,44716,44717,44718,44719,44720,65533,44721,44722,44723,44724,44725,44726,44727,44728,44729,44730,44731,65533,65533,65533,44732,44733,44734,44735,44736,44737,44738,44739,44740,44741,44742,44743,44744,44745,44746,44747,44748,65533,44749,44750,44751,44752,44753,44754,44755,44756,44757,44758,44759,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44760,44761,44762,44763,44764,44765,44766,44767,44768,44769,44770,44771,44772,44773,44774,44775,44776,65533,44777,44778,44779,44780,44781,44782,44783,44784,44785,44786,44787,65533,65533,65533,44788,44789,44790,44791,44792,44793,44794,44795,44796,44797,44798,44799,44800,44801,44802,44803,44804,65533,44805,44806,44807,44808,44809,44810,44811,44812,44813,44814,44815,65533,65533,65533,44816,44817,44818,44819,44820,44821,44822,44823,44824,44825,44826,44827,44828,44829,44830,44831,44832,65533,44833,44834,44835,44836,44837,44838,44839,44840,44841,44842,44843,65533,65533,65533,44844,44845,44846,44847,44848,44849,44850,44851,44852,44853,44854,44855,44856,44857,44858,44859,44860,65533,44861,44862,44863,44864,44865,44866,44867,44868,44869,44870,44871,65533,65533,65533,44872,44873,44874,44875,44876,44877,44878,44879,44880,44881,44882,44883,44884,44885,44886,44887,44888,65533,44889,44890,44891,44892,44893,44894,44895,44896,44897,44898,44899,65533,65533,65533,44900,44901,44902,44903,44904,44905,44906,44907,44908,44909,44910,44911,44912,44913,44914,44915,44916,65533,44917,44918,44919,44920,44921,44922,44923,44924,44925,44926,44927,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,44928,44929,44930,44931,44932,44933,44934,44935,44936,44937,44938,44939,44940,44941,44942,44943,44944,65533,44945,44946,44947,44948,44949,44950,44951,44952,44953,44954,44955,65533,65533,65533,44956,44957,44958,44959,44960,44961,44962,44963,44964,44965,44966,44967,44968,44969,44970,44971,44972,65533,44973,44974,44975,44976,44977,44978,44979,44980,44981,44982,44983,65533,65533,65533,44984,44985,44986,44987,44988,44989,44990,44991,44992,44993,44994,44995,44996,44997,44998,44999,45e3,65533,45001,45002,45003,45004,45005,45006,45007,45008,45009,45010,45011,65533,65533,65533,45012,45013,45014,45015,45016,45017,45018,45019,45020,45021,45022,45023,45024,45025,45026,45027,45028,65533,45029,45030,45031,45032,45033,45034,45035,45036,45037,45038,45039,65533,65533,65533,45040,45041,45042,45043,45044,45045,45046,45047,45048,45049,45050,45051,45052,45053,45054,45055,45056,65533,45057,45058,45059,45060,45061,45062,45063,45064,45065,45066,45067,65533,65533,65533,45068,45069,45070,45071,45072,45073,45074,45075,45076,45077,45078,45079,45080,45081,45082,45083,45084,65533,45085,45086,45087,45088,45089,45090,45091,45092,45093,45094,45095,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45096,45097,45098,45099,45100,45101,45102,45103,45104,45105,45106,45107,45108,45109,45110,45111,45112,65533,45113,45114,45115,45116,45117,45118,45119,45120,45121,45122,45123,65533,65533,65533,45124,45125,45126,45127,45128,45129,45130,45131,45132,45133,45134,45135,45136,45137,45138,45139,45140,65533,45141,45142,45143,45144,45145,45146,45147,45148,45149,45150,45151,65533,65533,65533,45152,45153,45154,45155,45156,45157,45158,45159,45160,45161,45162,45163,45164,45165,45166,45167,45168,65533,45169,45170,45171,45172,45173,45174,45175,45176,45177,45178,45179,65533,65533,65533,45180,45181,45182,45183,45184,45185,45186,45187,45188,45189,45190,45191,45192,45193,45194,45195,45196,65533,45197,45198,45199,45200,45201,45202,45203,45204,45205,45206,45207,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12596,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45208,45209,45210,45211,45212,45213,45214,45215,45216,45217,45218,45219,45220,45221,45222,45223,45224,65533,45225,45226,45227,45228,45229,45230,45231,45232,45233,45234,45235,65533,65533,65533,45236,45237,45238,45239,45240,45241,45242,45243,45244,45245,45246,45247,45248,45249,45250,45251,45252,65533,45253,45254,45255,45256,45257,45258,45259,45260,45261,45262,45263,65533,65533,65533,45264,45265,45266,45267,45268,45269,45270,45271,45272,45273,45274,45275,45276,45277,45278,45279,45280,65533,45281,45282,45283,45284,45285,45286,45287,45288,45289,45290,45291,65533,65533,65533,45292,45293,45294,45295,45296,45297,45298,45299,45300,45301,45302,45303,45304,45305,45306,45307,45308,65533,45309,45310,45311,45312,45313,45314,45315,45316,45317,45318,45319,65533,65533,65533,45320,45321,45322,45323,45324,45325,45326,45327,45328,45329,45330,45331,45332,45333,45334,45335,45336,65533,45337,45338,45339,45340,45341,45342,45343,45344,45345,45346,45347,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45348,45349,45350,45351,45352,45353,45354,45355,45356,45357,45358,45359,45360,45361,45362,45363,45364,65533,45365,45366,45367,45368,45369,45370,45371,45372,45373,45374,45375,65533,65533,65533,45376,45377,45378,45379,45380,45381,45382,45383,45384,45385,45386,45387,45388,45389,45390,45391,45392,65533,45393,45394,45395,45396,45397,45398,45399,45400,45401,45402,45403,65533,65533,65533,45404,45405,45406,45407,45408,45409,45410,45411,45412,45413,45414,45415,45416,45417,45418,45419,45420,65533,45421,45422,45423,45424,45425,45426,45427,45428,45429,45430,45431,65533,65533,65533,45432,45433,45434,45435,45436,45437,45438,45439,45440,45441,45442,45443,45444,45445,45446,45447,45448,65533,45449,45450,45451,45452,45453,45454,45455,45456,45457,45458,45459,65533,65533,65533,45460,45461,45462,45463,45464,45465,45466,45467,45468,45469,45470,45471,45472,45473,45474,45475,45476,65533,45477,45478,45479,45480,45481,45482,45483,45484,45485,45486,45487,65533,65533,65533,45488,45489,45490,45491,45492,45493,45494,45495,45496,45497,45498,45499,45500,45501,45502,45503,45504,65533,45505,45506,45507,45508,45509,45510,45511,45512,45513,45514,45515,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45516,45517,45518,45519,45520,45521,45522,45523,45524,45525,45526,45527,45528,45529,45530,45531,45532,65533,45533,45534,45535,45536,45537,45538,45539,45540,45541,45542,45543,65533,65533,65533,45544,45545,45546,45547,45548,45549,45550,45551,45552,45553,45554,45555,45556,45557,45558,45559,45560,65533,45561,45562,45563,45564,45565,45566,45567,45568,45569,45570,45571,65533,65533,65533,45572,45573,45574,45575,45576,45577,45578,45579,45580,45581,45582,45583,45584,45585,45586,45587,45588,65533,45589,45590,45591,45592,45593,45594,45595,45596,45597,45598,45599,65533,65533,65533,45600,45601,45602,45603,45604,45605,45606,45607,45608,45609,45610,45611,45612,45613,45614,45615,45616,65533,45617,45618,45619,45620,45621,45622,45623,45624,45625,45626,45627,65533,65533,65533,45628,45629,45630,45631,45632,45633,45634,45635,45636,45637,45638,45639,45640,45641,45642,45643,45644,65533,45645,45646,45647,45648,45649,45650,45651,45652,45653,45654,45655,65533,65533,65533,45656,45657,45658,45659,45660,45661,45662,45663,45664,45665,45666,45667,45668,45669,45670,45671,45672,65533,45673,45674,45675,45676,45677,45678,45679,45680,45681,45682,45683,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45684,45685,45686,45687,45688,45689,45690,45691,45692,45693,45694,45695,45696,45697,45698,45699,45700,65533,45701,45702,45703,45704,45705,45706,45707,45708,45709,45710,45711,65533,65533,65533,45712,45713,45714,45715,45716,45717,45718,45719,45720,45721,45722,45723,45724,45725,45726,45727,45728,65533,45729,45730,45731,45732,45733,45734,45735,45736,45737,45738,45739,65533,65533,65533,45740,45741,45742,45743,45744,45745,45746,45747,45748,45749,45750,45751,45752,45753,45754,45755,45756,65533,45757,45758,45759,45760,45761,45762,45763,45764,45765,45766,45767,65533,65533,65533,45768,45769,45770,45771,45772,45773,45774,45775,45776,45777,45778,45779,45780,45781,45782,45783,45784,65533,45785,45786,45787,45788,45789,45790,45791,45792,45793,45794,45795,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12599,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45796,45797,45798,45799,45800,45801,45802,45803,45804,45805,45806,45807,45808,45809,45810,45811,45812,65533,45813,45814,45815,45816,45817,45818,45819,45820,45821,45822,45823,65533,65533,65533,45824,45825,45826,45827,45828,45829,45830,45831,45832,45833,45834,45835,45836,45837,45838,45839,45840,65533,45841,45842,45843,45844,45845,45846,45847,45848,45849,45850,45851,65533,65533,65533,45852,45853,45854,45855,45856,45857,45858,45859,45860,45861,45862,45863,45864,45865,45866,45867,45868,65533,45869,45870,45871,45872,45873,45874,45875,45876,45877,45878,45879,65533,65533,65533,45880,45881,45882,45883,45884,45885,45886,45887,45888,45889,45890,45891,45892,45893,45894,45895,45896,65533,45897,45898,45899,45900,45901,45902,45903,45904,45905,45906,45907,65533,65533,65533,45908,45909,45910,45911,45912,45913,45914,45915,45916,45917,45918,45919,45920,45921,45922,45923,45924,65533,45925,45926,45927,45928,45929,45930,45931,45932,45933,45934,45935,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,45936,45937,45938,45939,45940,45941,45942,45943,45944,45945,45946,45947,45948,45949,45950,45951,45952,65533,45953,45954,45955,45956,45957,45958,45959,45960,45961,45962,45963,65533,65533,65533,45964,45965,45966,45967,45968,45969,45970,45971,45972,45973,45974,45975,45976,45977,45978,45979,45980,65533,45981,45982,45983,45984,45985,45986,45987,45988,45989,45990,45991,65533,65533,65533,45992,45993,45994,45995,45996,45997,45998,45999,46e3,46001,46002,46003,46004,46005,46006,46007,46008,65533,46009,46010,46011,46012,46013,46014,46015,46016,46017,46018,46019,65533,65533,65533,46020,46021,46022,46023,46024,46025,46026,46027,46028,46029,46030,46031,46032,46033,46034,46035,46036,65533,46037,46038,46039,46040,46041,46042,46043,46044,46045,46046,46047,65533,65533,65533,46048,46049,46050,46051,46052,46053,46054,46055,46056,46057,46058,46059,46060,46061,46062,46063,46064,65533,46065,46066,46067,46068,46069,46070,46071,46072,46073,46074,46075,65533,65533,65533,46076,46077,46078,46079,46080,46081,46082,46083,46084,46085,46086,46087,46088,46089,46090,46091,46092,65533,46093,46094,46095,46096,46097,46098,46099,46100,46101,46102,46103,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46104,46105,46106,46107,46108,46109,46110,46111,46112,46113,46114,46115,46116,46117,46118,46119,46120,65533,46121,46122,46123,46124,46125,46126,46127,46128,46129,46130,46131,65533,65533,65533,46132,46133,46134,46135,46136,46137,46138,46139,46140,46141,46142,46143,46144,46145,46146,46147,46148,65533,46149,46150,46151,46152,46153,46154,46155,46156,46157,46158,46159,65533,65533,65533,46160,46161,46162,46163,46164,46165,46166,46167,46168,46169,46170,46171,46172,46173,46174,46175,46176,65533,46177,46178,46179,46180,46181,46182,46183,46184,46185,46186,46187,65533,65533,65533,46188,46189,46190,46191,46192,46193,46194,46195,46196,46197,46198,46199,46200,46201,46202,46203,46204,65533,46205,46206,46207,46208,46209,46210,46211,46212,46213,46214,46215,65533,65533,65533,46216,46217,46218,46219,46220,46221,46222,46223,46224,46225,46226,46227,46228,46229,46230,46231,46232,65533,46233,46234,46235,46236,46237,46238,46239,46240,46241,46242,46243,65533,65533,65533,46244,46245,46246,46247,46248,46249,46250,46251,46252,46253,46254,46255,46256,46257,46258,46259,46260,65533,46261,46262,46263,46264,46265,46266,46267,46268,46269,46270,46271,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46272,46273,46274,46275,46276,46277,46278,46279,46280,46281,46282,46283,46284,46285,46286,46287,46288,65533,46289,46290,46291,46292,46293,46294,46295,46296,46297,46298,46299,65533,65533,65533,46300,46301,46302,46303,46304,46305,46306,46307,46308,46309,46310,46311,46312,46313,46314,46315,46316,65533,46317,46318,46319,46320,46321,46322,46323,46324,46325,46326,46327,65533,65533,65533,46328,46329,46330,46331,46332,46333,46334,46335,46336,46337,46338,46339,46340,46341,46342,46343,46344,65533,46345,46346,46347,46348,46349,46350,46351,46352,46353,46354,46355,65533,65533,65533,46356,46357,46358,46359,46360,46361,46362,46363,46364,46365,46366,46367,46368,46369,46370,46371,46372,65533,46373,46374,46375,46376,46377,46378,46379,46380,46381,46382,46383,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12600,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46384,46385,46386,46387,46388,46389,46390,46391,46392,46393,46394,46395,46396,46397,46398,46399,46400,65533,46401,46402,46403,46404,46405,46406,46407,46408,46409,46410,46411,65533,65533,65533,46412,46413,46414,46415,46416,46417,46418,46419,46420,46421,46422,46423,46424,46425,46426,46427,46428,65533,46429,46430,46431,46432,46433,46434,46435,46436,46437,46438,46439,65533,65533,65533,46440,46441,46442,46443,46444,46445,46446,46447,46448,46449,46450,46451,46452,46453,46454,46455,46456,65533,46457,46458,46459,46460,46461,46462,46463,46464,46465,46466,46467,65533,65533,65533,46468,46469,46470,46471,46472,46473,46474,46475,46476,46477,46478,46479,46480,46481,46482,46483,46484,65533,46485,46486,46487,46488,46489,46490,46491,46492,46493,46494,46495,65533,65533,65533,46496,46497,46498,46499,46500,46501,46502,46503,46504,46505,46506,46507,46508,46509,46510,46511,46512,65533,46513,46514,46515,46516,46517,46518,46519,46520,46521,46522,46523,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46524,46525,46526,46527,46528,46529,46530,46531,46532,46533,46534,46535,46536,46537,46538,46539,46540,65533,46541,46542,46543,46544,46545,46546,46547,46548,46549,46550,46551,65533,65533,65533,46552,46553,46554,46555,46556,46557,46558,46559,46560,46561,46562,46563,46564,46565,46566,46567,46568,65533,46569,46570,46571,46572,46573,46574,46575,46576,46577,46578,46579,65533,65533,65533,46580,46581,46582,46583,46584,46585,46586,46587,46588,46589,46590,46591,46592,46593,46594,46595,46596,65533,46597,46598,46599,46600,46601,46602,46603,46604,46605,46606,46607,65533,65533,65533,46608,46609,46610,46611,46612,46613,46614,46615,46616,46617,46618,46619,46620,46621,46622,46623,46624,65533,46625,46626,46627,46628,46629,46630,46631,46632,46633,46634,46635,65533,65533,65533,46636,46637,46638,46639,46640,46641,46642,46643,46644,46645,46646,46647,46648,46649,46650,46651,46652,65533,46653,46654,46655,46656,46657,46658,46659,46660,46661,46662,46663,65533,65533,65533,46664,46665,46666,46667,46668,46669,46670,46671,46672,46673,46674,46675,46676,46677,46678,46679,46680,65533,46681,46682,46683,46684,46685,46686,46687,46688,46689,46690,46691,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46692,46693,46694,46695,46696,46697,46698,46699,46700,46701,46702,46703,46704,46705,46706,46707,46708,65533,46709,46710,46711,46712,46713,46714,46715,46716,46717,46718,46719,65533,65533,65533,46720,46721,46722,46723,46724,46725,46726,46727,46728,46729,46730,46731,46732,46733,46734,46735,46736,65533,46737,46738,46739,46740,46741,46742,46743,46744,46745,46746,46747,65533,65533,65533,46748,46749,46750,46751,46752,46753,46754,46755,46756,46757,46758,46759,46760,46761,46762,46763,46764,65533,46765,46766,46767,46768,46769,46770,46771,46772,46773,46774,46775,65533,65533,65533,46776,46777,46778,46779,46780,46781,46782,46783,46784,46785,46786,46787,46788,46789,46790,46791,46792,65533,46793,46794,46795,46796,46797,46798,46799,46800,46801,46802,46803,65533,65533,65533,46804,46805,46806,46807,46808,46809,46810,46811,46812,46813,46814,46815,46816,46817,46818,46819,46820,65533,46821,46822,46823,46824,46825,46826,46827,46828,46829,46830,46831,65533,65533,65533,46832,46833,46834,46835,46836,46837,46838,46839,46840,46841,46842,46843,46844,46845,46846,46847,46848,65533,46849,46850,46851,46852,46853,46854,46855,46856,46857,46858,46859,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46860,46861,46862,46863,46864,46865,46866,46867,46868,46869,46870,46871,46872,46873,46874,46875,46876,65533,46877,46878,46879,46880,46881,46882,46883,46884,46885,46886,46887,65533,65533,65533,46888,46889,46890,46891,46892,46893,46894,46895,46896,46897,46898,46899,46900,46901,46902,46903,46904,65533,46905,46906,46907,46908,46909,46910,46911,46912,46913,46914,46915,65533,65533,65533,46916,46917,46918,46919,46920,46921,46922,46923,46924,46925,46926,46927,46928,46929,46930,46931,46932,65533,46933,46934,46935,46936,46937,46938,46939,46940,46941,46942,46943,65533,65533,65533,46944,46945,46946,46947,46948,46949,46950,46951,46952,46953,46954,46955,46956,46957,46958,46959,46960,65533,46961,46962,46963,46964,46965,46966,46967,46968,46969,46970,46971,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12601,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,46972,46973,46974,46975,46976,46977,46978,46979,46980,46981,46982,46983,46984,46985,46986,46987,46988,65533,46989,46990,46991,46992,46993,46994,46995,46996,46997,46998,46999,65533,65533,65533,47e3,47001,47002,47003,47004,47005,47006,47007,47008,47009,47010,47011,47012,47013,47014,47015,47016,65533,47017,47018,47019,47020,47021,47022,47023,47024,47025,47026,47027,65533,65533,65533,47028,47029,47030,47031,47032,47033,47034,47035,47036,47037,47038,47039,47040,47041,47042,47043,47044,65533,47045,47046,47047,47048,47049,47050,47051,47052,47053,47054,47055,65533,65533,65533,47056,47057,47058,47059,47060,47061,47062,47063,47064,47065,47066,47067,47068,47069,47070,47071,47072,65533,47073,47074,47075,47076,47077,47078,47079,47080,47081,47082,47083,65533,65533,65533,47084,47085,47086,47087,47088,47089,47090,47091,47092,47093,47094,47095,47096,47097,47098,47099,47100,65533,47101,47102,47103,47104,47105,47106,47107,47108,47109,47110,47111,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,47112,47113,47114,47115,47116,47117,47118,47119,47120,47121,47122,47123,47124,47125,47126,47127,47128,65533,47129,47130,47131,47132,47133,47134,47135,47136,47137,47138,47139,65533,65533,65533,47140,47141,47142,47143,47144,47145,47146,47147,47148,47149,47150,47151,47152,47153,47154,47155,47156,65533,47157,47158,47159,47160,47161,47162,47163,47164,47165,47166,47167,65533,65533,65533,47168,47169,47170,47171,47172,47173,47174,47175,47176,47177,47178,47179,47180,47181,47182,47183,47184,65533,47185,47186,47187,47188,47189,47190,47191,47192,47193,47194,47195,65533,65533,65533,47196,47197,47198,47199,47200,47201,47202,47203,47204,47205,47206,47207,47208,47209,47210,47211,47212,65533,47213,47214,47215,47216,47217,47218,47219,47220,47221,47222,47223,65533,65533,65533,47224,47225,47226,47227,47228,47229,47230,47231,47232,47233,47234,47235,47236,47237,47238,47239,47240,65533,47241,47242,47243,47244,47245,47246,47247,47248,47249,47250,47251,65533,65533,65533,47252,47253,47254,47255,47256,47257,47258,47259,47260,47261,47262,47263,47264,47265,47266,47267,47268,65533,47269,47270,47271,47272,47273,47274,47275,47276,47277,47278,47279,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,47280,47281,47282,47283,47284,47285,47286,47287,47288,47289,47290,47291,47292,47293,47294,47295,47296,65533,47297,47298,47299,47300,47301,47302,47303,47304,47305,47306,47307,65533,65533,65533,47308,47309,47310,47311,47312,47313,47314,47315,47316,47317,47318,47319,47320,47321,47322,47323,47324,65533,47325,47326,47327,47328,47329,47330,47331,47332,47333,47334,47335,65533,65533,65533,47336,47337,47338,47339,47340,47341,47342,47343,47344,47345,47346,47347,47348,47349,47350,47351,47352,65533,47353,47354,47355,47356,47357,47358,47359,47360,47361,47362,47363,65533,65533,65533,47364,47365,47366,47367,47368,47369,47370,47371,47372,47373,47374,47375,47376,47377,47378,47379,47380,65533,47381,47382,47383,47384,47385,47386,47387,47388,47389,47390,47391,65533,65533,65533,47392,47393,47394,47395,47396,47397,47398,47399,47400,47401,47402,47403,47404,47405,47406,47407,47408,65533,47409,47410,47411,47412,47413,47414,47415,47416,47417,47418,47419,65533,65533,65533,47420,47421,47422,47423,47424,47425,47426,47427,47428,47429,47430,47431,47432,47433,47434,47435,47436,65533,47437,47438,47439,47440,47441,47442,47443,47444,47445,47446,47447,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,47448,47449,47450,47451,47452,47453,47454,47455,47456,47457,47458,47459,47460,47461,47462,47463,47464,65533,47465,47466,47467,47468,47469,47470,47471,47472,47473,47474,47475,65533,65533,65533,47476,47477,47478,47479,47480,47481,47482,47483,47484,47485,47486,47487,47488,47489,47490,47491,47492,65533,47493,47494,47495,47496,47497,47498,47499,47500,47501,47502,47503,65533,65533,65533,47504,47505,47506,47507,47508,47509,47510,47511,47512,47513,47514,47515,47516,47517,47518,47519,47520,65533,47521,47522,47523,47524,47525,47526,47527,47528,47529,47530,47531,65533,65533,65533,47532,47533,47534,47535,47536,47537,47538,47539,47540,47541,47542,47543,47544,47545,47546,47547,47548,65533,47549,47550,47551,47552,47553,47554,47555,47556,47557,47558,47559,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12609,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65531,65533,47560,47561,47562,47563,47564,47565,47566,47567,47568,47569,47570,47571,47572,47573,47574,47575,47576,65533,47577,47578,47579,47580,47581,47582,47583,47584,47585,47586,47587,65533,65533,65533,47588,47589,47590,47591,47592,47593,47594,47595,47596,47597,47598,47599,47600,47601,47602,47603,47604,65533,47605,47606,47607,47608,47609,47610,47611,47612,47613,47614,47615,65533,65533,65533,47616,47617,47618,47619,47620,47621,47622,47623,47624,47625,47626,47627,47628,47629,47630,47631,47632,65533,47633,47634,47635,47636,47637,47638,47639,47640,47641,47642,47643,65533,65533,65533,47644,47645,47646,47647,47648,47649,47650,47651,47652,47653,47654,47655,47656,47657,47658,47659,47660,65533,47661,47662,47663,47664,47665,47666,47667,47668,47669,47670,47671,65533,65533,65533,47672,47673,47674,47675,47676,47677,47678,47679,47680,47681,47682,47683,47684,47685,47686,47687,47688,65533,47689,47690,47691,47692,47693,47694,47695,47696,47697,47698,47699,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,47700,47701,47702,47703,47704,47705,47706,47707,47708,47709,47710,47711,47712,47713,47714,47715,47716,65533,47717,47718,47719,47720,47721,47722,47723,47724,47725,47726,47727,65533,65533,65533,47728,47729,47730,47731,47732,47733,47734,47735,47736,47737,47738,47739,47740,47741,47742,47743,47744,65533,47745,47746,47747,47748,47749,47750,47751,47752,47753,47754,47755,65533,65533,65533,47756,47757,47758,47759,47760,47761,47762,47763,47764,47765,47766,47767,47768,47769,47770,47771,47772,65533,47773,47774,47775,47776,47777,47778,47779,47780,47781,47782,47783,65533,65533,65533,47784,47785,47786,47787,47788,47789,47790,47791,47792,47793,47794,47795,47796,47797,47798,47799,47800,65533,47801,47802,47803,47804,47805,47806,47807,47808,47809,47810,47811,65533,65533,65533,47812,47813,47814,47815,47816,47817,47818,47819,47820,47821,47822,47823,47824,47825,47826,47827,47828,65533,47829,47830,47831,47832,47833,47834,47835,47836,47837,47838,47839,65533,65533,65533,47840,47841,47842,47843,47844,47845,47846,47847,47848,47849,47850,47851,47852,47853,47854,47855,47856,65533,47857,47858,47859,47860,47861,47862,47863,47864,47865,47866,47867,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,47868,47869,47870,47871,47872,47873,47874,47875,47876,47877,47878,47879,47880,47881,47882,47883,47884,65533,47885,47886,47887,47888,47889,47890,47891,47892,47893,47894,47895,65533,65533,65533,47896,47897,47898,47899,47900,47901,47902,47903,47904,47905,47906,47907,47908,47909,47910,47911,47912,65533,47913,47914,47915,47916,47917,47918,47919,47920,47921,47922,47923,65533,65533,65533,47924,47925,47926,47927,47928,47929,47930,47931,47932,47933,47934,47935,47936,47937,47938,47939,47940,65533,47941,47942,47943,47944,47945,47946,47947,47948,47949,47950,47951,65533,65533,65533,47952,47953,47954,47955,47956,47957,47958,47959,47960,47961,47962,47963,47964,47965,47966,47967,47968,65533,47969,47970,47971,47972,47973,47974,47975,47976,47977,47978,47979,65533,65533,65533,47980,47981,47982,47983,47984,47985,47986,47987,47988,47989,47990,47991,47992,47993,47994,47995,47996,65533,47997,47998,47999,48e3,48001,48002,48003,48004,48005,48006,48007,65533,65533,65533,48008,48009,48010,48011,48012,48013,48014,48015,48016,48017,48018,48019,48020,48021,48022,48023,48024,65533,48025,48026,48027,48028,48029,48030,48031,48032,48033,48034,48035,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48036,48037,48038,48039,48040,48041,48042,48043,48044,48045,48046,48047,48048,48049,48050,48051,48052,65533,48053,48054,48055,48056,48057,48058,48059,48060,48061,48062,48063,65533,65533,65533,48064,48065,48066,48067,48068,48069,48070,48071,48072,48073,48074,48075,48076,48077,48078,48079,48080,65533,48081,48082,48083,48084,48085,48086,48087,48088,48089,48090,48091,65533,65533,65533,48092,48093,48094,48095,48096,48097,48098,48099,48100,48101,48102,48103,48104,48105,48106,48107,48108,65533,48109,48110,48111,48112,48113,48114,48115,48116,48117,48118,48119,65533,65533,65533,48120,48121,48122,48123,48124,48125,48126,48127,48128,48129,48130,48131,48132,48133,48134,48135,48136,65533,48137,48138,48139,48140,48141,48142,48143,48144,48145,48146,48147,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12610,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48148,48149,48150,48151,48152,48153,48154,48155,48156,48157,48158,48159,48160,48161,48162,48163,48164,65533,48165,48166,48167,48168,48169,48170,48171,48172,48173,48174,48175,65533,65533,65533,48176,48177,48178,48179,48180,48181,48182,48183,48184,48185,48186,48187,48188,48189,48190,48191,48192,65533,48193,48194,48195,48196,48197,48198,48199,48200,48201,48202,48203,65533,65533,65533,48204,48205,48206,48207,48208,48209,48210,48211,48212,48213,48214,48215,48216,48217,48218,48219,48220,65533,48221,48222,48223,48224,48225,48226,48227,48228,48229,48230,48231,65533,65533,65533,48232,48233,48234,48235,48236,48237,48238,48239,48240,48241,48242,48243,48244,48245,48246,48247,48248,65533,48249,48250,48251,48252,48253,48254,48255,48256,48257,48258,48259,65533,65533,65533,48260,48261,48262,48263,48264,48265,48266,48267,48268,48269,48270,48271,48272,48273,48274,48275,48276,65533,48277,48278,48279,48280,48281,48282,48283,48284,48285,48286,48287,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48288,48289,48290,48291,48292,48293,48294,48295,48296,48297,48298,48299,48300,48301,48302,48303,48304,65533,48305,48306,48307,48308,48309,48310,48311,48312,48313,48314,48315,65533,65533,65533,48316,48317,48318,48319,48320,48321,48322,48323,48324,48325,48326,48327,48328,48329,48330,48331,48332,65533,48333,48334,48335,48336,48337,48338,48339,48340,48341,48342,48343,65533,65533,65533,48344,48345,48346,48347,48348,48349,48350,48351,48352,48353,48354,48355,48356,48357,48358,48359,48360,65533,48361,48362,48363,48364,48365,48366,48367,48368,48369,48370,48371,65533,65533,65533,48372,48373,48374,48375,48376,48377,48378,48379,48380,48381,48382,48383,48384,48385,48386,48387,48388,65533,48389,48390,48391,48392,48393,48394,48395,48396,48397,48398,48399,65533,65533,65533,48400,48401,48402,48403,48404,48405,48406,48407,48408,48409,48410,48411,48412,48413,48414,48415,48416,65533,48417,48418,48419,48420,48421,48422,48423,48424,48425,48426,48427,65533,65533,65533,48428,48429,48430,48431,48432,48433,48434,48435,48436,48437,48438,48439,48440,48441,48442,48443,48444,65533,48445,48446,48447,48448,48449,48450,48451,48452,48453,48454,48455,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48456,48457,48458,48459,48460,48461,48462,48463,48464,48465,48466,48467,48468,48469,48470,48471,48472,65533,48473,48474,48475,48476,48477,48478,48479,48480,48481,48482,48483,65533,65533,65533,48484,48485,48486,48487,48488,48489,48490,48491,48492,48493,48494,48495,48496,48497,48498,48499,48500,65533,48501,48502,48503,48504,48505,48506,48507,48508,48509,48510,48511,65533,65533,65533,48512,48513,48514,48515,48516,48517,48518,48519,48520,48521,48522,48523,48524,48525,48526,48527,48528,65533,48529,48530,48531,48532,48533,48534,48535,48536,48537,48538,48539,65533,65533,65533,48540,48541,48542,48543,48544,48545,48546,48547,48548,48549,48550,48551,48552,48553,48554,48555,48556,65533,48557,48558,48559,48560,48561,48562,48563,48564,48565,48566,48567,65533,65533,65533,48568,48569,48570,48571,48572,48573,48574,48575,48576,48577,48578,48579,48580,48581,48582,48583,48584,65533,48585,48586,48587,48588,48589,48590,48591,48592,48593,48594,48595,65533,65533,65533,48596,48597,48598,48599,48600,48601,48602,48603,48604,48605,48606,48607,48608,48609,48610,48611,48612,65533,48613,48614,48615,48616,48617,48618,48619,48620,48621,48622,48623,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48624,48625,48626,48627,48628,48629,48630,48631,48632,48633,48634,48635,48636,48637,48638,48639,48640,65533,48641,48642,48643,48644,48645,48646,48647,48648,48649,48650,48651,65533,65533,65533,48652,48653,48654,48655,48656,48657,48658,48659,48660,48661,48662,48663,48664,48665,48666,48667,48668,65533,48669,48670,48671,48672,48673,48674,48675,48676,48677,48678,48679,65533,65533,65533,48680,48681,48682,48683,48684,48685,48686,48687,48688,48689,48690,48691,48692,48693,48694,48695,48696,65533,48697,48698,48699,48700,48701,48702,48703,48704,48705,48706,48707,65533,65533,65533,48708,48709,48710,48711,48712,48713,48714,48715,48716,48717,48718,48719,48720,48721,48722,48723,48724,65533,48725,48726,48727,48728,48729,48730,48731,48732,48733,48734,48735,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12611,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48736,48737,48738,48739,48740,48741,48742,48743,48744,48745,48746,48747,48748,48749,48750,48751,48752,65533,48753,48754,48755,48756,48757,48758,48759,48760,48761,48762,48763,65533,65533,65533,48764,48765,48766,48767,48768,48769,48770,48771,48772,48773,48774,48775,48776,48777,48778,48779,48780,65533,48781,48782,48783,48784,48785,48786,48787,48788,48789,48790,48791,65533,65533,65533,48792,48793,48794,48795,48796,48797,48798,48799,48800,48801,48802,48803,48804,48805,48806,48807,48808,65533,48809,48810,48811,48812,48813,48814,48815,48816,48817,48818,48819,65533,65533,65533,48820,48821,48822,48823,48824,48825,48826,48827,48828,48829,48830,48831,48832,48833,48834,48835,48836,65533,48837,48838,48839,48840,48841,48842,48843,48844,48845,48846,48847,65533,65533,65533,48848,48849,48850,48851,48852,48853,48854,48855,48856,48857,48858,48859,48860,48861,48862,48863,48864,65533,48865,48866,48867,48868,48869,48870,48871,48872,48873,48874,48875,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,48876,48877,48878,48879,48880,48881,48882,48883,48884,48885,48886,48887,48888,48889,48890,48891,48892,65533,48893,48894,48895,48896,48897,48898,48899,48900,48901,48902,48903,65533,65533,65533,48904,48905,48906,48907,48908,48909,48910,48911,48912,48913,48914,48915,48916,48917,48918,48919,48920,65533,48921,48922,48923,48924,48925,48926,48927,48928,48929,48930,48931,65533,65533,65533,48932,48933,48934,48935,48936,48937,48938,48939,48940,48941,48942,48943,48944,48945,48946,48947,48948,65533,48949,48950,48951,48952,48953,48954,48955,48956,48957,48958,48959,65533,65533,65533,48960,48961,48962,48963,48964,48965,48966,48967,48968,48969,48970,48971,48972,48973,48974,48975,48976,65533,48977,48978,48979,48980,48981,48982,48983,48984,48985,48986,48987,65533,65533,65533,48988,48989,48990,48991,48992,48993,48994,48995,48996,48997,48998,48999,49e3,49001,49002,49003,49004,65533,49005,49006,49007,49008,49009,49010,49011,49012,49013,49014,49015,65533,65533,65533,49016,49017,49018,49019,49020,49021,49022,49023,49024,49025,49026,49027,49028,49029,49030,49031,49032,65533,49033,49034,49035,49036,49037,49038,49039,49040,49041,49042,49043,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49044,49045,49046,49047,49048,49049,49050,49051,49052,49053,49054,49055,49056,49057,49058,49059,49060,65533,49061,49062,49063,49064,49065,49066,49067,49068,49069,49070,49071,65533,65533,65533,49072,49073,49074,49075,49076,49077,49078,49079,49080,49081,49082,49083,49084,49085,49086,49087,49088,65533,49089,49090,49091,49092,49093,49094,49095,49096,49097,49098,49099,65533,65533,65533,49100,49101,49102,49103,49104,49105,49106,49107,49108,49109,49110,49111,49112,49113,49114,49115,49116,65533,49117,49118,49119,49120,49121,49122,49123,49124,49125,49126,49127,65533,65533,65533,49128,49129,49130,49131,49132,49133,49134,49135,49136,49137,49138,49139,49140,49141,49142,49143,49144,65533,49145,49146,49147,49148,49149,49150,49151,49152,49153,49154,49155,65533,65533,65533,49156,49157,49158,49159,49160,49161,49162,49163,49164,49165,49166,49167,49168,49169,49170,49171,49172,65533,49173,49174,49175,49176,49177,49178,49179,49180,49181,49182,49183,65533,65533,65533,49184,49185,49186,49187,49188,49189,49190,49191,49192,49193,49194,49195,49196,49197,49198,49199,49200,65533,49201,49202,49203,49204,49205,49206,49207,49208,49209,49210,49211,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49212,49213,49214,49215,49216,49217,49218,49219,49220,49221,49222,49223,49224,49225,49226,49227,49228,65533,49229,49230,49231,49232,49233,49234,49235,49236,49237,49238,49239,65533,65533,65533,49240,49241,49242,49243,49244,49245,49246,49247,49248,49249,49250,49251,49252,49253,49254,49255,49256,65533,49257,49258,49259,49260,49261,49262,49263,49264,49265,49266,49267,65533,65533,65533,49268,49269,49270,49271,49272,49273,49274,49275,49276,49277,49278,49279,49280,49281,49282,49283,49284,65533,49285,49286,49287,49288,49289,49290,49291,49292,49293,49294,49295,65533,65533,65533,49296,49297,49298,49299,49300,49301,49302,49303,49304,49305,49306,49307,49308,49309,49310,49311,49312,65533,49313,49314,49315,49316,49317,49318,49319,49320,49321,49322,49323,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12613,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49324,49325,49326,49327,49328,49329,49330,49331,49332,49333,49334,49335,49336,49337,49338,49339,49340,65533,49341,49342,49343,49344,49345,49346,49347,49348,49349,49350,49351,65533,65533,65533,49352,49353,49354,49355,49356,49357,49358,49359,49360,49361,49362,49363,49364,49365,49366,49367,49368,65533,49369,49370,49371,49372,49373,49374,49375,49376,49377,49378,49379,65533,65533,65533,49380,49381,49382,49383,49384,49385,49386,49387,49388,49389,49390,49391,49392,49393,49394,49395,49396,65533,49397,49398,49399,49400,49401,49402,49403,49404,49405,49406,49407,65533,65533,65533,49408,49409,49410,49411,49412,49413,49414,49415,49416,49417,49418,49419,49420,49421,49422,49423,49424,65533,49425,49426,49427,49428,49429,49430,49431,49432,49433,49434,49435,65533,65533,65533,49436,49437,49438,49439,49440,49441,49442,49443,49444,49445,49446,49447,49448,49449,49450,49451,49452,65533,49453,49454,49455,49456,49457,49458,49459,49460,49461,49462,49463,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49464,49465,49466,49467,49468,49469,49470,49471,49472,49473,49474,49475,49476,49477,49478,49479,49480,65533,49481,49482,49483,49484,49485,49486,49487,49488,49489,49490,49491,65533,65533,65533,49492,49493,49494,49495,49496,49497,49498,49499,49500,49501,49502,49503,49504,49505,49506,49507,49508,65533,49509,49510,49511,49512,49513,49514,49515,49516,49517,49518,49519,65533,65533,65533,49520,49521,49522,49523,49524,49525,49526,49527,49528,49529,49530,49531,49532,49533,49534,49535,49536,65533,49537,49538,49539,49540,49541,49542,49543,49544,49545,49546,49547,65533,65533,65533,49548,49549,49550,49551,49552,49553,49554,49555,49556,49557,49558,49559,49560,49561,49562,49563,49564,65533,49565,49566,49567,49568,49569,49570,49571,49572,49573,49574,49575,65533,65533,65533,49576,49577,49578,49579,49580,49581,49582,49583,49584,49585,49586,49587,49588,49589,49590,49591,49592,65533,49593,49594,49595,49596,49597,49598,49599,49600,49601,49602,49603,65533,65533,65533,49604,49605,49606,49607,49608,49609,49610,49611,49612,49613,49614,49615,49616,49617,49618,49619,49620,65533,49621,49622,49623,49624,49625,49626,49627,49628,49629,49630,49631,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49632,49633,49634,49635,49636,49637,49638,49639,49640,49641,49642,49643,49644,49645,49646,49647,49648,65533,49649,49650,49651,49652,49653,49654,49655,49656,49657,49658,49659,65533,65533,65533,49660,49661,49662,49663,49664,49665,49666,49667,49668,49669,49670,49671,49672,49673,49674,49675,49676,65533,49677,49678,49679,49680,49681,49682,49683,49684,49685,49686,49687,65533,65533,65533,49688,49689,49690,49691,49692,49693,49694,49695,49696,49697,49698,49699,49700,49701,49702,49703,49704,65533,49705,49706,49707,49708,49709,49710,49711,49712,49713,49714,49715,65533,65533,65533,49716,49717,49718,49719,49720,49721,49722,49723,49724,49725,49726,49727,49728,49729,49730,49731,49732,65533,49733,49734,49735,49736,49737,49738,49739,49740,49741,49742,49743,65533,65533,65533,49744,49745,49746,49747,49748,49749,49750,49751,49752,49753,49754,49755,49756,49757,49758,49759,49760,65533,49761,49762,49763,49764,49765,49766,49767,49768,49769,49770,49771,65533,65533,65533,49772,49773,49774,49775,49776,49777,49778,49779,49780,49781,49782,49783,49784,49785,49786,49787,49788,65533,49789,49790,49791,49792,49793,49794,49795,49796,49797,49798,49799,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49800,49801,49802,49803,49804,49805,49806,49807,49808,49809,49810,49811,49812,49813,49814,49815,49816,65533,49817,49818,49819,49820,49821,49822,49823,49824,49825,49826,49827,65533,65533,65533,49828,49829,49830,49831,49832,49833,49834,49835,49836,49837,49838,49839,49840,49841,49842,49843,49844,65533,49845,49846,49847,49848,49849,49850,49851,49852,49853,49854,49855,65533,65533,65533,49856,49857,49858,49859,49860,49861,49862,49863,49864,49865,49866,49867,49868,49869,49870,49871,49872,65533,49873,49874,49875,49876,49877,49878,49879,49880,49881,49882,49883,65533,65533,65533,49884,49885,49886,49887,49888,49889,49890,49891,49892,49893,49894,49895,49896,49897,49898,49899,49900,65533,49901,49902,49903,49904,49905,49906,49907,49908,49909,49910,49911,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12614,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,49912,49913,49914,49915,49916,49917,49918,49919,49920,49921,49922,49923,49924,49925,49926,49927,49928,65533,49929,49930,49931,49932,49933,49934,49935,49936,49937,49938,49939,65533,65533,65533,49940,49941,49942,49943,49944,49945,49946,49947,49948,49949,49950,49951,49952,49953,49954,49955,49956,65533,49957,49958,49959,49960,49961,49962,49963,49964,49965,49966,49967,65533,65533,65533,49968,49969,49970,49971,49972,49973,49974,49975,49976,49977,49978,49979,49980,49981,49982,49983,49984,65533,49985,49986,49987,49988,49989,49990,49991,49992,49993,49994,49995,65533,65533,65533,49996,49997,49998,49999,5e4,50001,50002,50003,50004,50005,50006,50007,50008,50009,50010,50011,50012,65533,50013,50014,50015,50016,50017,50018,50019,50020,50021,50022,50023,65533,65533,65533,50024,50025,50026,50027,50028,50029,50030,50031,50032,50033,50034,50035,50036,50037,50038,50039,50040,65533,50041,50042,50043,50044,50045,50046,50047,50048,50049,50050,50051,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50052,50053,50054,50055,50056,50057,50058,50059,50060,50061,50062,50063,50064,50065,50066,50067,50068,65533,50069,50070,50071,50072,50073,50074,50075,50076,50077,50078,50079,65533,65533,65533,50080,50081,50082,50083,50084,50085,50086,50087,50088,50089,50090,50091,50092,50093,50094,50095,50096,65533,50097,50098,50099,50100,50101,50102,50103,50104,50105,50106,50107,65533,65533,65533,50108,50109,50110,50111,50112,50113,50114,50115,50116,50117,50118,50119,50120,50121,50122,50123,50124,65533,50125,50126,50127,50128,50129,50130,50131,50132,50133,50134,50135,65533,65533,65533,50136,50137,50138,50139,50140,50141,50142,50143,50144,50145,50146,50147,50148,50149,50150,50151,50152,65533,50153,50154,50155,50156,50157,50158,50159,50160,50161,50162,50163,65533,65533,65533,50164,50165,50166,50167,50168,50169,50170,50171,50172,50173,50174,50175,50176,50177,50178,50179,50180,65533,50181,50182,50183,50184,50185,50186,50187,50188,50189,50190,50191,65533,65533,65533,50192,50193,50194,50195,50196,50197,50198,50199,50200,50201,50202,50203,50204,50205,50206,50207,50208,65533,50209,50210,50211,50212,50213,50214,50215,50216,50217,50218,50219,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50220,50221,50222,50223,50224,50225,50226,50227,50228,50229,50230,50231,50232,50233,50234,50235,50236,65533,50237,50238,50239,50240,50241,50242,50243,50244,50245,50246,50247,65533,65533,65533,50248,50249,50250,50251,50252,50253,50254,50255,50256,50257,50258,50259,50260,50261,50262,50263,50264,65533,50265,50266,50267,50268,50269,50270,50271,50272,50273,50274,50275,65533,65533,65533,50276,50277,50278,50279,50280,50281,50282,50283,50284,50285,50286,50287,50288,50289,50290,50291,50292,65533,50293,50294,50295,50296,50297,50298,50299,50300,50301,50302,50303,65533,65533,65533,50304,50305,50306,50307,50308,50309,50310,50311,50312,50313,50314,50315,50316,50317,50318,50319,50320,65533,50321,50322,50323,50324,50325,50326,50327,50328,50329,50330,50331,65533,65533,65533,50332,50333,50334,50335,50336,50337,50338,50339,50340,65533,65533,65533,65533,50345,50346,50347,50348,65533,50349,50350,50351,50352,50353,50354,50355,50356,50357,50358,50359,65533,65533,65533,50360,50361,50362,50363,50364,50365,50366,50367,50368,50369,50370,50371,50372,50373,50374,50375,50376,65533,50377,50378,50379,50380,50381,50382,50383,50384,50385,50386,50387,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50388,50389,50390,50391,50392,50393,50394,50395,50396,50397,50398,50399,50400,50401,50402,50403,50404,65533,50405,50406,50407,50408,50409,50410,50411,50412,50413,50414,50415,65533,65533,65533,50416,50417,50418,50419,50420,50421,50422,50423,50424,50425,50426,50427,50428,50429,50430,50431,50432,65533,50433,50434,50435,50436,50437,50438,50439,50440,50441,50442,50443,65533,65533,65533,50444,50445,50446,50447,50448,50449,50450,50451,50452,50453,50454,50455,50456,50457,50458,50459,50460,65533,50461,50462,50463,50464,50465,50466,50467,50468,50469,50470,50471,65533,65533,65533,50472,50473,50474,50475,50476,50477,50478,50479,50480,50481,50482,50483,50484,50485,50486,50487,50488,65533,50489,50490,50491,50492,50493,50494,50495,50496,50497,50498,50499,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12615,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50500,50501,50502,50503,50504,50505,50506,50507,50508,50509,50510,50511,50512,50513,50514,50515,50516,65533,50517,50518,50519,50520,50521,50522,50523,50524,50525,50526,50527,65533,65533,65533,50528,50529,50530,50531,50532,50533,50534,50535,50536,50537,50538,50539,50540,50541,50542,50543,50544,65533,50545,50546,50547,50548,50549,50550,50551,50552,50553,50554,50555,65533,65533,65533,50556,50557,50558,50559,50560,50561,50562,50563,50564,50565,50566,50567,50568,50569,50570,50571,50572,65533,50573,50574,50575,50576,50577,50578,50579,50580,50581,50582,50583,65533,65533,65533,50584,50585,50586,50587,50588,50589,50590,50591,50592,50593,50594,50595,50596,50597,50598,50599,50600,65533,50601,50602,50603,50604,50605,50606,50607,50608,50609,50610,50611,65533,65533,65533,50612,50613,50614,50615,50616,50617,50618,50619,50620,50621,50622,50623,50624,50625,50626,50627,50628,65533,50629,50630,50631,50632,50633,50634,50635,50636,50637,50638,50639,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50640,50641,50642,50643,50644,50645,50646,50647,50648,50649,50650,50651,50652,50653,50654,50655,50656,65533,50657,50658,50659,50660,50661,50662,50663,50664,50665,50666,50667,65533,65533,65533,50668,50669,50670,50671,50672,50673,50674,50675,50676,50677,50678,50679,50680,50681,50682,50683,50684,65533,50685,50686,50687,50688,50689,50690,50691,50692,50693,50694,50695,65533,65533,65533,50696,50697,50698,50699,50700,50701,50702,50703,50704,50705,50706,50707,50708,50709,50710,50711,50712,65533,50713,50714,50715,50716,50717,50718,50719,50720,50721,50722,50723,65533,65533,65533,50724,50725,50726,50727,50728,50729,50730,50731,50732,50733,50734,65533,50736,65533,50738,50739,50740,65533,50741,50742,50743,50744,50745,50746,50747,50748,50749,50750,50751,65533,65533,65533,50752,50753,50754,50755,50756,50757,50758,50759,50760,50761,50762,50763,50764,50765,50766,50767,50768,65533,50769,50770,50771,50772,50773,50774,50775,50776,50777,50778,50779,65533,65533,65533,50780,50781,50782,50783,50784,50785,50786,50787,50788,50789,50790,50791,50792,50793,50794,50795,50796,65533,50797,50798,50799,50800,50801,50802,50803,50804,50805,50806,50807,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50808,50809,50810,50811,50812,50813,50814,50815,50816,50817,50818,50819,50820,50821,50822,50823,50824,65533,50825,50826,50827,50828,50829,50830,50831,50832,50833,50834,50835,65533,65533,65533,50836,50837,50838,50839,50840,50841,50842,50843,50844,50845,50846,50847,50848,50849,50850,50851,50852,65533,50853,50854,50855,50856,50857,50858,50859,50860,50861,50862,50863,65533,65533,65533,50864,50865,50866,50867,50868,50869,50870,50871,50872,50873,50874,50875,50876,50877,50878,50879,50880,65533,50881,50882,50883,50884,50885,50886,50887,50888,50889,50890,50891,65533,65533,65533,50892,50893,50894,50895,50896,50897,50898,50899,50900,50901,50902,50903,50904,50905,50906,50907,50908,65533,50909,50910,50911,50912,50913,50914,50915,50916,50917,50918,50919,65533,65533,65533,50920,50921,50922,50923,50924,50925,50926,50927,50928,50929,50930,50931,50932,50933,50934,50935,50936,65533,50937,50938,50939,50940,50941,50942,50943,50944,50945,50946,50947,65533,65533,65533,50948,50949,50950,50951,50952,50953,50954,50955,50956,50957,50958,50959,50960,50961,50962,50963,50964,65533,50965,50966,50967,50968,50969,50970,50971,50972,50973,50974,50975,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,50976,50977,50978,50979,50980,50981,50982,50983,50984,50985,50986,50987,50988,50989,50990,50991,50992,65533,50993,50994,50995,50996,50997,50998,50999,51e3,51001,51002,51003,65533,65533,65533,51004,51005,51006,51007,51008,51009,51010,51011,51012,51013,51014,51015,51016,51017,51018,51019,51020,65533,51021,51022,51023,51024,51025,51026,51027,51028,51029,51030,51031,65533,65533,65533,51032,51033,51034,51035,51036,51037,51038,51039,51040,51041,51042,51043,51044,51045,51046,51047,51048,65533,51049,51050,51051,51052,51053,51054,51055,51056,51057,51058,51059,65533,65533,65533,51060,51061,51062,51063,51064,51065,51066,51067,51068,51069,51070,51071,51072,51073,51074,51075,51076,65533,51077,51078,51079,51080,51081,51082,51083,51084,51085,51086,51087,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12616,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51088,51089,51090,51091,51092,51093,51094,51095,51096,51097,51098,51099,51100,51101,51102,51103,51104,65533,51105,51106,51107,51108,51109,51110,51111,51112,51113,51114,51115,65533,65533,65533,51116,51117,51118,51119,51120,51121,51122,51123,51124,51125,51126,51127,51128,51129,51130,51131,51132,65533,51133,51134,51135,51136,51137,51138,51139,51140,51141,51142,51143,65533,65533,65533,51144,51145,51146,51147,51148,51149,51150,51151,51152,51153,51154,51155,51156,51157,51158,51159,51160,65533,51161,51162,51163,51164,51165,51166,51167,51168,51169,51170,51171,65533,65533,65533,51172,51173,51174,51175,51176,51177,51178,51179,51180,51181,51182,51183,51184,51185,51186,51187,51188,65533,51189,51190,51191,51192,51193,51194,51195,51196,51197,51198,51199,65533,65533,65533,51200,51201,51202,51203,51204,51205,51206,51207,51208,51209,51210,51211,51212,51213,51214,51215,51216,65533,51217,51218,51219,51220,51221,51222,51223,51224,51225,51226,51227,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51228,51229,51230,51231,51232,51233,51234,51235,51236,51237,51238,51239,51240,51241,51242,51243,51244,65533,51245,51246,51247,51248,51249,51250,51251,51252,51253,51254,51255,65533,65533,65533,51256,51257,51258,51259,51260,51261,51262,51263,51264,51265,51266,51267,51268,51269,51270,51271,51272,65533,51273,51274,51275,51276,51277,51278,51279,51280,51281,51282,51283,65533,65533,65533,51284,51285,51286,51287,51288,51289,51290,51291,51292,51293,51294,51295,51296,51297,51298,51299,51300,65533,51301,51302,51303,51304,51305,51306,51307,51308,51309,51310,51311,65533,65533,65533,51312,51313,51314,51315,51316,51317,51318,51319,51320,51321,51322,51323,51324,51325,51326,51327,51328,65533,51329,51330,51331,51332,51333,51334,51335,51336,51337,51338,51339,65533,65533,65533,51340,51341,51342,51343,51344,51345,51346,51347,51348,51349,51350,51351,51352,51353,51354,51355,51356,65533,51357,51358,51359,51360,51361,51362,51363,51364,51365,51366,51367,65533,65533,65533,51368,51369,51370,51371,51372,51373,51374,51375,51376,51377,51378,51379,51380,51381,51382,51383,51384,65533,51385,51386,51387,51388,51389,51390,51391,51392,51393,51394,51395,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51396,51397,51398,51399,51400,51401,51402,51403,51404,51405,51406,51407,51408,51409,51410,51411,51412,65533,51413,51414,51415,51416,51417,51418,51419,51420,51421,51422,51423,65533,65533,65533,51424,51425,51426,51427,51428,51429,51430,51431,51432,51433,51434,51435,51436,51437,51438,51439,51440,65533,51441,51442,51443,51444,51445,51446,51447,51448,51449,51450,51451,65533,65533,65533,51452,51453,51454,51455,51456,51457,51458,51459,51460,51461,51462,51463,51464,51465,51466,51467,51468,65533,51469,51470,51471,51472,51473,51474,51475,51476,51477,51478,51479,65533,65533,65533,51480,51481,51482,51483,51484,51485,51486,51487,51488,51489,51490,51491,51492,51493,51494,51495,51496,65533,51497,51498,51499,51500,51501,51502,51503,51504,51505,51506,51507,65533,65533,65533,51508,51509,51510,51511,51512,51513,51514,51515,51516,51517,51518,51519,51520,51521,51522,51523,51524,65533,51525,51526,51527,51528,51529,51530,51531,51532,51533,51534,51535,65533,65533,65533,51536,51537,51538,51539,51540,51541,51542,51543,51544,51545,51546,51547,51548,51549,51550,51551,51552,65533,51553,51554,51555,51556,51557,51558,51559,51560,51561,51562,51563,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51564,51565,51566,51567,51568,51569,51570,51571,51572,51573,51574,51575,51576,51577,51578,51579,51580,65533,51581,51582,51583,51584,51585,51586,51587,51588,51589,51590,51591,65533,65533,65533,51592,51593,51594,51595,51596,51597,51598,51599,51600,51601,51602,51603,51604,51605,51606,51607,51608,65533,51609,51610,51611,51612,51613,51614,51615,51616,51617,51618,51619,65533,65533,65533,51620,51621,51622,51623,51624,51625,51626,51627,51628,51629,51630,51631,51632,51633,51634,51635,51636,65533,51637,51638,51639,51640,51641,51642,51643,51644,51645,51646,51647,65533,65533,65533,51648,51649,51650,51651,51652,51653,51654,51655,51656,51657,51658,51659,51660,51661,51662,51663,51664,65533,51665,51666,51667,51668,51669,51670,51671,51672,51673,51674,51675,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12617,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51676,51677,51678,51679,51680,51681,51682,51683,51684,51685,51686,51687,51688,51689,51690,51691,51692,65533,51693,51694,51695,51696,51697,51698,51699,51700,51701,51702,51703,65533,65533,65533,51704,51705,51706,51707,51708,51709,51710,51711,51712,51713,51714,51715,51716,51717,51718,51719,51720,65533,51721,51722,51723,51724,51725,51726,51727,51728,51729,51730,51731,65533,65533,65533,51732,51733,51734,51735,51736,51737,51738,51739,51740,51741,51742,51743,51744,51745,51746,51747,51748,65533,51749,51750,51751,51752,51753,51754,51755,51756,51757,51758,51759,65533,65533,65533,51760,51761,51762,51763,51764,51765,51766,51767,51768,51769,51770,51771,51772,51773,51774,51775,51776,65533,51777,51778,51779,51780,51781,51782,51783,51784,51785,51786,51787,65533,65533,65533,51788,51789,51790,51791,51792,51793,51794,51795,51796,51797,51798,51799,51800,51801,51802,51803,51804,65533,51805,51806,51807,51808,51809,51810,51811,51812,51813,51814,51815,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51816,51817,51818,51819,51820,51821,51822,51823,51824,51825,51826,51827,51828,51829,51830,51831,51832,65533,51833,51834,51835,51836,51837,51838,51839,51840,51841,51842,51843,65533,65533,65533,51844,51845,51846,51847,51848,51849,51850,51851,51852,51853,51854,51855,51856,51857,51858,51859,51860,65533,51861,51862,51863,51864,51865,51866,51867,51868,51869,51870,51871,65533,65533,65533,51872,51873,51874,51875,51876,51877,51878,51879,51880,51881,51882,51883,51884,51885,51886,51887,51888,65533,51889,51890,51891,51892,51893,51894,51895,51896,51897,51898,51899,65533,65533,65533,51900,51901,51902,51903,51904,51905,51906,51907,51908,51909,51910,51911,51912,51913,51914,51915,51916,65533,51917,51918,51919,51920,51921,51922,51923,51924,51925,51926,51927,65533,65533,65533,51928,51929,51930,51931,51932,51933,51934,51935,51936,51937,51938,51939,51940,51941,51942,51943,51944,65533,51945,51946,51947,51948,51949,51950,51951,51952,51953,51954,51955,65533,65533,65533,51956,51957,51958,51959,51960,51961,51962,51963,51964,51965,51966,51967,51968,51969,51970,51971,51972,65533,51973,51974,51975,51976,51977,51978,51979,51980,51981,51982,51983,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,51984,51985,51986,51987,51988,51989,51990,51991,51992,51993,51994,51995,51996,51997,51998,51999,52e3,65533,52001,52002,52003,52004,52005,52006,52007,52008,52009,52010,52011,65533,65533,65533,52012,52013,52014,52015,52016,52017,52018,52019,52020,52021,52022,52023,52024,52025,52026,52027,52028,65533,52029,52030,52031,52032,52033,52034,52035,52036,52037,52038,52039,65533,65533,65533,52040,52041,52042,52043,52044,52045,52046,52047,52048,52049,52050,52051,52052,52053,52054,52055,52056,65533,52057,52058,52059,52060,52061,52062,52063,52064,52065,52066,52067,65533,65533,65533,52068,52069,52070,52071,52072,52073,52074,52075,52076,52077,52078,52079,52080,52081,52082,52083,52084,65533,52085,52086,52087,52088,52089,52090,52091,52092,52093,52094,52095,65533,65533,65533,52096,52097,52098,52099,52100,52101,52102,52103,52104,52105,52106,52107,52108,52109,52110,52111,52112,65533,52113,52114,52115,52116,52117,52118,52119,52120,52121,52122,52123,65533,65533,65533,52124,52125,52126,52127,52128,52129,52130,52131,52132,52133,52134,52135,52136,52137,52138,52139,52140,65533,52141,52142,52143,52144,52145,52146,52147,52148,52149,52150,52151,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52152,52153,52154,52155,52156,52157,52158,52159,52160,52161,52162,52163,52164,52165,52166,52167,52168,65533,52169,52170,52171,52172,52173,52174,52175,52176,52177,52178,52179,65533,65533,65533,52180,52181,52182,52183,52184,52185,52186,52187,52188,52189,52190,52191,52192,52193,52194,52195,52196,65533,52197,52198,52199,52200,52201,52202,52203,52204,52205,52206,52207,65533,65533,65533,52208,52209,52210,52211,52212,52213,52214,52215,52216,52217,52218,52219,52220,52221,52222,52223,52224,65533,52225,52226,52227,52228,52229,52230,52231,52232,52233,52234,52235,65533,65533,65533,52236,52237,52238,52239,52240,52241,52242,52243,52244,52245,52246,52247,52248,52249,52250,52251,52252,65533,52253,52254,52255,52256,52257,52258,52259,52260,52261,52262,52263,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12618,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52264,52265,52266,52267,52268,52269,52270,52271,52272,52273,52274,52275,52276,52277,52278,52279,52280,65533,52281,52282,52283,52284,52285,52286,52287,52288,52289,52290,52291,65533,65533,65533,52292,52293,52294,52295,52296,52297,52298,52299,52300,52301,52302,52303,52304,52305,52306,52307,52308,65533,52309,52310,52311,52312,52313,52314,52315,52316,52317,52318,52319,65533,65533,65533,52320,52321,52322,52323,52324,52325,52326,52327,52328,52329,52330,52331,52332,52333,52334,52335,52336,65533,52337,52338,52339,52340,52341,52342,52343,52344,52345,52346,52347,65533,65533,65533,52348,52349,52350,52351,52352,52353,52354,52355,52356,52357,52358,52359,52360,52361,52362,52363,52364,65533,52365,52366,52367,52368,52369,52370,52371,52372,52373,52374,52375,65533,65533,65533,52376,52377,52378,52379,52380,52381,52382,52383,52384,52385,52386,52387,52388,52389,52390,52391,52392,65533,52393,52394,52395,52396,52397,52398,52399,52400,52401,52402,52403,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52404,52405,52406,52407,52408,52409,52410,52411,52412,52413,52414,52415,52416,52417,52418,52419,52420,65533,52421,52422,52423,52424,52425,52426,52427,52428,52429,52430,52431,65533,65533,65533,52432,52433,52434,52435,52436,52437,52438,52439,52440,52441,52442,52443,52444,52445,52446,52447,52448,65533,52449,52450,52451,52452,52453,52454,52455,52456,52457,52458,52459,65533,65533,65533,52460,52461,52462,52463,52464,52465,52466,52467,52468,52469,52470,52471,52472,52473,52474,52475,52476,65533,52477,52478,52479,52480,52481,52482,52483,52484,52485,52486,52487,65533,65533,65533,52488,52489,52490,52491,52492,52493,52494,52495,52496,52497,52498,52499,52500,52501,52502,52503,52504,65533,52505,52506,52507,52508,52509,52510,52511,52512,52513,52514,52515,65533,65533,65533,52516,52517,52518,52519,52520,52521,52522,52523,52524,52525,52526,52527,52528,52529,52530,52531,52532,65533,52533,52534,52535,52536,52537,52538,52539,52540,52541,52542,52543,65533,65533,65533,52544,52545,52546,52547,52548,52549,52550,52551,52552,52553,52554,52555,52556,52557,52558,52559,52560,65533,52561,52562,52563,52564,52565,52566,52567,52568,52569,52570,52571,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52572,52573,52574,52575,52576,52577,52578,52579,52580,52581,52582,52583,52584,52585,52586,52587,52588,65533,52589,52590,52591,52592,52593,52594,52595,52596,52597,52598,52599,65533,65533,65533,52600,52601,52602,52603,52604,52605,52606,52607,52608,52609,52610,52611,52612,52613,52614,52615,52616,65533,52617,52618,52619,52620,52621,52622,52623,52624,52625,52626,52627,65533,65533,65533,52628,52629,52630,52631,52632,52633,52634,52635,52636,52637,52638,52639,52640,52641,52642,52643,52644,65533,52645,52646,52647,52648,52649,52650,52651,52652,52653,52654,52655,65533,65533,65533,52656,52657,52658,52659,52660,52661,52662,52663,52664,52665,52666,52667,52668,52669,52670,52671,52672,65533,52673,52674,52675,52676,52677,52678,52679,52680,52681,52682,52683,65533,65533,65533,52684,52685,52686,52687,52688,52689,52690,52691,52692,52693,52694,52695,52696,52697,52698,52699,52700,65533,52701,52702,52703,52704,52705,52706,52707,52708,52709,52710,52711,65533,65533,65533,52712,52713,52714,52715,52716,52717,52718,52719,52720,52721,52722,52723,52724,52725,52726,52727,52728,65533,52729,52730,52731,52732,52733,52734,52735,52736,52737,52738,52739,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52740,52741,52742,52743,52744,52745,52746,52747,52748,52749,52750,52751,52752,52753,52754,52755,52756,65533,52757,52758,52759,52760,52761,52762,52763,52764,52765,52766,52767,65533,65533,65533,52768,52769,52770,52771,52772,52773,52774,52775,52776,52777,52778,52779,52780,52781,52782,52783,52784,65533,52785,52786,52787,52788,52789,52790,52791,52792,52793,52794,52795,65533,65533,65533,52796,52797,52798,52799,52800,52801,52802,52803,52804,52805,52806,52807,52808,52809,52810,52811,52812,65533,52813,52814,52815,52816,52817,52818,52819,52820,52821,52822,52823,65533,65533,65533,52824,52825,52826,52827,52828,52829,52830,52831,52832,52833,52834,52835,52836,52837,52838,52839,52840,65533,52841,52842,52843,52844,52845,52846,52847,52848,52849,52850,52851,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12619,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52852,52853,52854,52855,52856,52857,52858,52859,52860,52861,52862,52863,52864,52865,52866,52867,52868,65533,52869,52870,52871,52872,52873,52874,52875,52876,52877,52878,52879,65533,65533,65533,52880,52881,52882,52883,52884,52885,52886,52887,52888,52889,52890,52891,52892,52893,52894,52895,52896,65533,52897,52898,52899,52900,52901,52902,52903,52904,52905,52906,52907,65533,65533,65533,52908,52909,52910,52911,52912,52913,52914,52915,52916,52917,52918,52919,52920,52921,52922,52923,52924,65533,52925,52926,52927,52928,52929,52930,52931,52932,52933,52934,52935,65533,65533,65533,52936,52937,52938,52939,52940,52941,52942,52943,52944,52945,52946,52947,52948,52949,52950,52951,52952,65533,52953,52954,52955,52956,52957,52958,52959,52960,52961,52962,52963,65533,65533,65533,52964,52965,52966,52967,52968,52969,52970,52971,52972,52973,52974,52975,52976,52977,52978,52979,52980,65533,52981,52982,52983,52984,52985,52986,52987,52988,52989,52990,52991,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,52992,52993,52994,52995,52996,52997,52998,52999,53e3,53001,53002,53003,53004,53005,53006,53007,53008,65533,53009,53010,53011,53012,53013,53014,53015,53016,53017,53018,53019,65533,65533,65533,53020,53021,53022,53023,53024,53025,53026,53027,53028,53029,53030,53031,53032,53033,53034,53035,53036,65533,53037,53038,53039,53040,53041,53042,53043,53044,53045,53046,53047,65533,65533,65533,53048,53049,53050,53051,53052,53053,53054,53055,53056,53057,53058,53059,53060,53061,53062,53063,53064,65533,53065,53066,53067,53068,53069,53070,53071,53072,53073,53074,53075,65533,65533,65533,53076,53077,53078,53079,53080,53081,53082,53083,53084,53085,53086,53087,53088,53089,53090,53091,53092,65533,53093,53094,53095,53096,53097,53098,53099,53100,53101,53102,53103,65533,65533,65533,53104,53105,53106,53107,53108,53109,53110,53111,53112,53113,53114,53115,53116,53117,53118,53119,53120,65533,53121,53122,53123,53124,53125,53126,53127,53128,53129,53130,53131,65533,65533,65533,53132,53133,53134,53135,53136,53137,53138,53139,53140,53141,53142,53143,53144,53145,53146,53147,53148,65533,53149,53150,53151,53152,53153,53154,53155,53156,53157,53158,53159,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,53160,53161,53162,53163,53164,53165,53166,53167,53168,53169,53170,53171,53172,53173,53174,53175,53176,65533,53177,53178,53179,53180,53181,53182,53183,53184,53185,53186,53187,65533,65533,65533,53188,53189,53190,53191,53192,53193,53194,53195,53196,53197,53198,53199,53200,53201,53202,53203,53204,65533,53205,53206,53207,53208,53209,53210,53211,53212,53213,53214,53215,65533,65533,65533,53216,53217,53218,53219,53220,53221,53222,53223,53224,53225,53226,53227,53228,53229,53230,53231,53232,65533,53233,53234,53235,53236,53237,53238,53239,53240,53241,53242,53243,65533,65533,65533,53244,53245,53246,53247,53248,53249,53250,53251,53252,53253,53254,53255,53256,53257,53258,53259,53260,65533,53261,53262,53263,53264,53265,53266,53267,53268,53269,53270,53271,65533,65533,65533,53272,53273,53274,53275,53276,53277,53278,53279,53280,53281,53282,53283,53284,53285,53286,53287,53288,65533,53289,53290,53291,53292,53293,53294,53295,53296,53297,53298,53299,65533,65533,65533,53300,53301,53302,53303,53304,53305,53306,53307,53308,53309,53310,53311,53312,53313,53314,53315,53316,65533,53317,53318,53319,53320,53321,53322,53323,53324,53325,53326,53327,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,53328,53329,53330,53331,53332,53333,53334,53335,53336,53337,53338,53339,53340,53341,53342,53343,53344,65533,53345,53346,53347,53348,53349,53350,53351,53352,53353,53354,53355,65533,65533,65533,53356,53357,53358,53359,53360,53361,53362,53363,53364,53365,53366,53367,53368,53369,53370,53371,53372,65533,53373,53374,53375,53376,53377,53378,53379,53380,53381,53382,53383,65533,65533,65533,53384,53385,53386,53387,53388,53389,53390,53391,53392,53393,53394,53395,53396,53397,53398,53399,53400,65533,53401,53402,53403,53404,53405,53406,53407,53408,53409,53410,53411,65533,65533,65533,53412,53413,53414,53415,53416,53417,53418,53419,53420,53421,53422,53423,53424,53425,53426,53427,53428,65533,53429,53430,53431,53432,53433,53434,53435,53436,53437,53438,53439,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12620,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,53440,53441,53442,53443,53444,53445,53446,53447,53448,53449,53450,53451,53452,53453,53454,53455,53456,65533,53457,53458,53459,53460,53461,53462,53463,53464,53465,53466,53467,65533,65533,65533,53468,53469,53470,53471,53472,53473,53474,53475,53476,53477,53478,53479,53480,53481,53482,53483,53484,65533,53485,53486,53487,53488,53489,53490,53491,53492,53493,53494,53495,65533,65533,65533,53496,53497,53498,53499,53500,53501,53502,53503,53504,53505,53506,53507,53508,53509,53510,53511,53512,65533,53513,53514,53515,53516,53517,53518,53519,53520,53521,53522,53523,65533,65533,65533,53524,53525,53526,53527,53528,53529,53530,53531,53532,53533,53534,53535,53536,53537,53538,53539,53540,65533,53541,53542,53543,53544,53545,53546,53547,53548,53549,53550,53551,65533,65533,65533,53552,53553,53554,53555,53556,53557,53558,53559,53560,53561,53562,53563,53564,53565,53566,53567,53568,65533,53569,53570,53571,53572,53573,53574,53575,53576,53577,53578,53579,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,53580,53581,53582,53583,53584,53585,53586,53587,53588,53589,53590,53591,53592,53593,53594,53595,53596,65533,53597,53598,53599,53600,53601,53602,53603,53604,53605,53606,53607,65533,65533,65533,53608,53609,53610,53611,53612,53613,53614,53615,53616,53617,53618,53619,53620,53621,53622,53623,53624,65533,53625,53626,53627,53628,53629,53630,53631,53632,53633,53634,53635,65533,65533,65533,53636,53637,53638,53639,53640,53641,53642,53643,53644,53645,53646,53647,53648,53649,53650,53651,53652,65533,53653,53654,53655,53656,53657,53658,53659,53660,53661,53662,53663,65533,65533,65533,53664,53665,53666,53667,53668,53669,53670,53671,53672,53673,53674,53675,53676,53677,53678,53679,53680,65533,53681,53682,53683,53684,53685,53686,53687,53688,53689,53690,53691,65533,65533,65533,53692,53693,53694,53695,53696,53697,53698,53699,53700,53701,53702,53703,53704,53705,53706,53707,53708,65533,53709,53710,53711,53712,53713,53714,53715,53716,53717,53718,53719,65533,65533,65533,53720,53721,53722,53723,53724,53725,53726,53727,53728,53729,53730,53731,53732,53733,53734,53735,53736,65533,53737,53738,53739,53740,53741,53742,53743,53744,53745,53746,53747,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,53748,53749,53750,53751,53752,53753,53754,53755,53756,53757,53758,53759,53760,53761,53762,53763,53764,65533,53765,53766,53767,53768,53769,53770,53771,53772,53773,53774,53775,65533,65533,65533,53776,53777,53778,53779,53780,53781,53782,53783,53784,53785,53786,53787,53788,53789,53790,53791,53792,65533,53793,53794,53795,53796,53797,53798,53799,53800,53801,53802,53803,65533,65533,65533,53804,53805,53806,53807,53808,53809,53810,53811,53812,53813,53814,53815,53816,53817,53818,53819,53820,65533,53821,53822,53823,53824,53825,53826,53827,53828,53829,53830,53831,65533,65533,65533,53832,53833,53834,53835,53836,53837,53838,53839,53840,53841,53842,53843,53844,53845,53846,53847,53848,65533,53849,53850,53851,53852,53853,53854,53855,53856,53857,53858,53859,65533,65533,65533,53860,53861,53862,53863,53864,53865,53866,53867,53868,53869,53870,53871,53872,53873,53874,53875,53876,65533,53877,53878,53879,53880,53881,53882,53883,53884,53885,53886,53887,65533,65533,65533,53888,53889,53890,53891,53892,53893,53894,53895,53896,53897,53898,53899,53900,53901,53902,53903,53904,65533,53905,53906,53907,53908,53909,53910,53911,53912,53913,53914,53915,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,53916,53917,53918,53919,53920,53921,53922,53923,53924,53925,53926,53927,53928,53929,53930,53931,53932,65533,53933,53934,53935,53936,53937,53938,53939,53940,53941,53942,53943,65533,65533,65533,53944,53945,53946,53947,53948,53949,53950,53951,53952,53953,53954,53955,53956,53957,53958,53959,53960,65533,53961,53962,53963,53964,53965,53966,53967,53968,53969,53970,53971,65533,65533,65533,53972,53973,53974,53975,53976,53977,53978,53979,53980,53981,53982,53983,53984,53985,53986,53987,53988,65533,53989,53990,53991,53992,53993,53994,53995,53996,53997,53998,53999,65533,65533,65533,54e3,54001,54002,54003,54004,54005,54006,54007,54008,54009,54010,54011,54012,54013,54014,54015,54016,65533,54017,54018,54019,54020,54021,54022,54023,54024,54025,54026,54027,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12621,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54028,54029,54030,54031,54032,54033,54034,54035,54036,54037,54038,54039,54040,54041,54042,54043,54044,65533,54045,54046,54047,54048,54049,54050,54051,54052,54053,54054,54055,65533,65533,65533,54056,54057,54058,54059,54060,54061,54062,54063,54064,54065,54066,54067,54068,54069,54070,54071,54072,65533,54073,54074,54075,54076,54077,54078,54079,54080,54081,54082,54083,65533,65533,65533,54084,54085,54086,54087,54088,54089,54090,54091,54092,54093,54094,54095,54096,54097,54098,54099,54100,65533,54101,54102,54103,54104,54105,54106,54107,54108,54109,54110,54111,65533,65533,65533,54112,54113,54114,54115,54116,54117,54118,54119,54120,54121,54122,54123,54124,54125,54126,54127,54128,65533,54129,54130,54131,54132,54133,54134,54135,54136,54137,54138,54139,65533,65533,65533,54140,54141,54142,54143,54144,54145,54146,54147,54148,54149,54150,54151,54152,54153,54154,54155,54156,65533,54157,54158,54159,54160,54161,54162,54163,54164,54165,54166,54167,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54168,54169,54170,54171,54172,54173,54174,54175,54176,54177,54178,54179,54180,54181,54182,54183,54184,65533,54185,54186,54187,54188,54189,54190,54191,54192,54193,54194,54195,65533,65533,65533,54196,54197,54198,54199,54200,54201,54202,54203,54204,54205,54206,54207,54208,54209,54210,54211,54212,65533,54213,54214,54215,54216,54217,54218,54219,54220,54221,54222,54223,65533,65533,65533,54224,54225,54226,54227,54228,54229,54230,54231,54232,54233,54234,54235,54236,54237,54238,54239,54240,65533,54241,54242,54243,54244,54245,54246,54247,54248,54249,54250,54251,65533,65533,65533,54252,54253,54254,54255,54256,54257,54258,54259,54260,54261,54262,54263,54264,54265,54266,54267,54268,65533,54269,54270,54271,54272,54273,54274,54275,54276,54277,54278,54279,65533,65533,65533,54280,54281,54282,54283,54284,54285,54286,54287,54288,54289,54290,54291,54292,54293,54294,54295,54296,65533,54297,54298,54299,54300,54301,54302,54303,54304,54305,54306,54307,65533,65533,65533,54308,54309,54310,54311,54312,54313,54314,54315,54316,54317,54318,54319,54320,54321,54322,54323,54324,65533,54325,54326,54327,54328,54329,54330,54331,54332,54333,54334,54335,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54336,54337,54338,54339,54340,54341,54342,54343,54344,54345,54346,54347,54348,54349,54350,54351,54352,65533,54353,54354,54355,54356,54357,54358,54359,54360,54361,54362,54363,65533,65533,65533,54364,54365,54366,54367,54368,54369,54370,54371,54372,54373,54374,54375,54376,54377,54378,54379,54380,65533,54381,54382,54383,54384,54385,54386,54387,54388,54389,54390,54391,65533,65533,65533,54392,54393,54394,54395,54396,54397,54398,54399,54400,54401,54402,54403,54404,54405,54406,54407,54408,65533,54409,54410,54411,54412,54413,54414,54415,54416,54417,54418,54419,65533,65533,65533,54420,54421,54422,54423,54424,54425,54426,54427,54428,54429,54430,54431,54432,54433,54434,54435,54436,65533,54437,54438,54439,54440,54441,54442,54443,54444,54445,54446,54447,65533,65533,65533,54448,54449,54450,54451,54452,54453,54454,54455,54456,54457,54458,54459,54460,54461,54462,54463,54464,65533,54465,54466,54467,54468,54469,54470,54471,54472,54473,54474,54475,65533,65533,65533,54476,54477,54478,54479,54480,54481,54482,54483,54484,54485,54486,54487,54488,54489,54490,54491,54492,65533,54493,54494,54495,54496,54497,54498,54499,54500,54501,54502,54503,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54504,54505,54506,54507,54508,54509,54510,54511,54512,54513,54514,54515,54516,54517,54518,54519,54520,65533,54521,54522,54523,54524,54525,54526,54527,54528,54529,54530,54531,65533,65533,65533,54532,54533,54534,54535,54536,54537,54538,54539,54540,54541,54542,54543,54544,54545,54546,54547,54548,65533,54549,54550,54551,54552,54553,54554,54555,54556,54557,54558,54559,65533,65533,65533,54560,54561,54562,54563,54564,54565,54566,54567,54568,54569,54570,54571,54572,54573,54574,54575,54576,65533,54577,54578,54579,54580,54581,54582,54583,54584,54585,54586,54587,65533,65533,65533,54588,54589,54590,54591,54592,54593,54594,54595,54596,54597,54598,54599,54600,54601,54602,54603,54604,65533,54605,54606,54607,54608,54609,54610,54611,54612,54613,54614,54615,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12622,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54616,54617,54618,54619,54620,54621,54622,54623,54624,54625,54626,54627,54628,54629,54630,54631,54632,65533,54633,54634,54635,54636,54637,54638,54639,54640,54641,54642,54643,65533,65533,65533,54644,54645,54646,54647,54648,54649,54650,54651,54652,54653,54654,54655,54656,54657,54658,54659,54660,65533,54661,54662,54663,54664,54665,54666,54667,54668,54669,54670,54671,65533,65533,65533,54672,54673,54674,54675,54676,54677,54678,54679,54680,54681,54682,54683,54684,54685,54686,54687,54688,65533,54689,54690,54691,54692,54693,54694,54695,54696,54697,54698,54699,65533,65533,65533,54700,54701,54702,54703,54704,54705,54706,54707,54708,54709,54710,54711,54712,54713,54714,54715,54716,65533,54717,54718,54719,54720,54721,54722,54723,54724,54725,54726,54727,65533,65533,65533,54728,54729,54730,54731,54732,54733,54734,54735,54736,54737,54738,54739,54740,54741,54742,54743,54744,65533,54745,54746,54747,54748,54749,54750,54751,54752,54753,54754,54755,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54756,54757,54758,54759,54760,54761,54762,54763,54764,54765,54766,54767,54768,54769,54770,54771,54772,65533,54773,54774,54775,54776,54777,54778,54779,54780,54781,54782,54783,65533,65533,65533,54784,54785,54786,54787,54788,54789,54790,54791,54792,54793,54794,54795,54796,54797,54798,54799,54800,65533,54801,54802,54803,54804,54805,54806,54807,54808,54809,54810,54811,65533,65533,65533,54812,54813,54814,54815,54816,54817,54818,54819,54820,54821,54822,54823,54824,54825,54826,54827,54828,65533,54829,54830,54831,54832,54833,54834,54835,54836,54837,54838,54839,65533,65533,65533,54840,54841,54842,54843,54844,54845,54846,54847,54848,54849,54850,54851,54852,54853,54854,54855,54856,65533,54857,54858,54859,54860,54861,54862,54863,54864,54865,54866,54867,65533,65533,65533,54868,54869,54870,54871,54872,54873,54874,54875,54876,54877,54878,54879,54880,54881,54882,54883,54884,65533,54885,54886,54887,54888,54889,54890,54891,54892,54893,54894,54895,65533,65533,65533,54896,54897,54898,54899,54900,54901,54902,54903,54904,54905,54906,54907,54908,54909,54910,54911,54912,65533,54913,54914,54915,54916,54917,54918,54919,54920,54921,54922,54923,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,54924,54925,54926,54927,54928,54929,54930,54931,54932,54933,54934,54935,54936,54937,54938,54939,54940,65533,54941,54942,54943,54944,54945,54946,54947,54948,54949,54950,54951,65533,65533,65533,54952,54953,54954,54955,54956,54957,54958,54959,54960,54961,54962,54963,54964,54965,54966,54967,54968,65533,54969,54970,54971,54972,54973,54974,54975,54976,54977,54978,54979,65533,65533,65533,54980,54981,54982,54983,54984,54985,54986,54987,54988,54989,54990,54991,54992,54993,54994,54995,54996,65533,54997,54998,54999,55e3,55001,55002,55003,55004,55005,55006,55007,65533,65533,65533,55008,55009,55010,55011,55012,55013,55014,55015,55016,55017,55018,55019,55020,55021,55022,55023,55024,65533,55025,55026,55027,55028,55029,55030,55031,55032,55033,55034,55035,65533,65533,65533,55036,55037,55038,55039,55040,55041,55042,55043,55044,55045,55046,55047,55048,55049,55050,55051,55052,65533,55053,55054,55055,55056,55057,55058,55059,55060,55061,55062,55063,65533,65533,65533,55064,55065,55066,55067,55068,55069,55070,55071,55072,55073,55074,55075,55076,55077,55078,55079,55080,65533,55081,55082,55083,55084,55085,55086,55087,55088,55089,55090,55091,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,55092,55093,55094,55095,55096,55097,55098,55099,55100,55101,55102,55103,55104,55105,55106,55107,55108,65533,55109,55110,55111,55112,55113,55114,55115,55116,55117,55118,55119,65533,65533,65533,55120,55121,55122,55123,55124,55125,55126,55127,55128,55129,55130,55131,55132,55133,55134,55135,55136,65533,55137,55138,55139,55140,55141,55142,55143,55144,55145,55146,55147,65533,65533,65533,55148,55149,55150,55151,55152,55153,55154,55155,55156,55157,55158,55159,55160,55161,55162,55163,55164,65533,55165,55166,55167,55168,55169,55170,55171,55172,55173,55174,55175,65533,65533,65533,55176,55177,55178,55179,55180,55181,55182,55183,55184,55185,55186,55187,55188,55189,55190,55191,55192,65533,55193,55194,55195,55196,55197,55198,55199,55200,55201,55202,55203,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,57344,57345,57346,57347,57348,57349,57350,57351,57352,57353,57354,57355,57356,57357,57358,57359,57360,57361,57362,57363,57364,57365,57366,57367,57368,57369,57370,57371,57372,57373,57374,57375,57376,57377,57378,57379,57380,57381,57382,57383,57384,57385,57386,57387,57388,57389,57390,57391,57392,57393,57394,57395,57396,57397,57398,57399,57400,57401,57402,57403,57404,57405,57406,65533,57407,57408,57409,57410,57411,57412,57413,57414,57415,57416,57417,57418,57419,57420,57421,57422,57423,57424,57425,57426,57427,57428,57429,57430,57431,57432,57433,57434,57435,57436,57437,57438,57439,57440,57441,57442,57443,57444,57445,57446,57447,57448,57449,57450,57451,57452,57453,57454,57455,57456,57457,57458,57459,57460,57461,57462,57463,57464,57465,57466,57467,57468,57469,57470,57471,57472,57473,57474,57475,57476,57477,57478,57479,57480,57481,57482,57483,57484,57485,57486,57487,57488,57489,57490,57491,57492,57493,57494,57495,57496,57497,57498,57499,57500,57501,57502,57503,57504,57505,57506,57507,57508,57509,57510,57511,57512,57513,57514,57515,57516,57517,57518,57519,57520,57521,57522,57523,57524,57525,57526,57527,57528,57529,57530,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];const ebcdic300=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12288,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,65533,65533,65533,65533,65533,65533,65533,65533,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,65533,65533,65533,65533,65533,65533,65533,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,65533,65533,65533,65533,65533,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65505,65294,65308,65288,65291,65372,65286,65533,65533,65533,65533,65533,65533,65533,65533,65533,65281,65509,65290,65289,65307,65506,8722,65295,65533,65533,65533,65533,65533,65533,65533,65533,166,65292,65285,65343,65310,65311,65533,65533,65533,65533,65533,65533,65533,65533,65533,65344,65306,65283,65312,65287,65309,65282,65533,65345,65346,65347,65348,65349,65350,65351,65352,65353,65533,65533,65533,65533,65533,65533,65533,65354,65355,65356,65357,65358,65359,65360,65361,65362,65533,65533,65533,65533,65533,65533,65533,65507,65363,65364,65365,65366,65367,65368,65369,65370,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65371,65313,65314,65315,65316,65317,65318,65319,65320,65321,65533,65533,65533,65533,65533,65533,65373,65322,65323,65324,65325,65326,65327,65328,65329,65330,65533,65533,65533,65533,65533,65533,65284,8364,65331,65332,65333,65334,65335,65336,65337,65338,65533,65533,65533,65533,65533,65533,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12290,12300,12301,12289,12539,12530,12449,12451,12453,65504,8736,8869,8978,8706,8711,65533,12455,12457,12515,12517,12519,12483,12526,12540,12533,12534,8801,8786,8810,8811,8730,8765,8733,8747,8748,8712,8715,8838,8839,8834,8835,8746,8745,8743,8744,8658,8660,8704,8707,8491,8240,9839,9837,9834,8224,8225,182,9711,65533,9472,9474,9484,9488,65533,12450,12452,12454,12456,12458,12459,12461,12463,12465,12467,65533,12469,12471,12473,12475,12477,12479,12481,12484,12486,12488,12490,12491,12492,12493,12494,65533,65533,12495,12498,12501,65533,12316,12504,12507,12510,12511,12512,12513,12514,12516,12518,65533,12520,12521,12522,12523,9496,9492,9500,9516,9508,9524,9532,9473,9475,9487,12524,12525,12527,12531,12443,12444,12460,12462,12464,12466,12468,12470,12472,12474,12476,12478,12480,12482,12485,12487,12489,12496,12499,12502,12505,12508,12532,12497,12500,12503,12506,12509,12528,12529,12541,12542,65533,65533,65340,9491,9499,9495,9507,9523,9515,9531,9547,9504,9519,9512,9527,9535,9501,9520,9509,9528,9538,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12302,12303,65339,65341,12434,12353,12355,12357,8212,177,8800,8734,8451,65533,180,12359,12361,12419,12421,12423,12387,12430,65533,65533,8208,12291,20189,12293,12294,12295,168,8216,8220,12308,12296,12298,12304,8806,8756,9794,167,8251,12306,12849,8470,8481,65342,8217,8221,12309,12297,12299,12305,8807,8757,9792,215,247,8214,12307,8229,8230,65533,12354,12356,12358,12360,12362,12363,12365,12367,12369,12371,65533,12373,12375,12377,12379,12381,12383,12385,12388,12390,12392,12394,12395,12396,12397,12398,65533,65533,12399,12402,12405,65533,65533,12408,12411,12414,12415,12416,12417,12418,12420,12422,65533,12424,12425,12426,12427,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12428,12429,12431,12435,65533,65533,12364,12366,12368,12370,12372,12374,12376,12378,12380,12382,12384,12386,12389,12391,12393,12400,12403,12406,12409,12412,65533,12401,12404,12407,12410,12413,12432,12433,12445,12446,65533,65533,9675,9679,9651,9650,9678,9734,9733,9671,9670,9633,9632,9661,9660,176,8242,8243,8594,8592,8593,8595,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19968,20108,19977,22235,20116,20845,19971,20843,20061,21313,30334,21315,19975,20740,37117,36947,24220,30476,24066,21306,30010,26449,26481,35199,21335,21271,22823,20013,23567,19978,19979,24180,26376,26085,3e4,23376,23665,26412,24029,34276,37326,24037,26989,26408,20117,37070,23798,38596,39640,23713,22827,21407,20140,20304,27491,26494,27231,21644,35069,30007,32654,21513,23822,30707,35895,38651,38263,27835,27810,37329,26032,21475,27211,20037,31119,25152,24179,20869,22269,21270,38442,23470,20154,20316,37096,28165,27425,32681,29983,20195,20986,27700,26862,20809,21152,21512,31070,26519,37325,34892,20449,26126,28023,23433,24184,20445,22826,23500,27743,37428,21069,30693,27494,20234,26157,20998,21213,29992,24195,36896,27671,25104,35211,21033,20250,23398,23721,29987,38291,22320,33258,33391,38306,24859,25919,23614,35336,25991,25163,29238,26041,20107,25144,21697,21916,28193,24344,21476,36794,20489,37444,20043,22580,27915,22478,27941,31435,24230,21320,20170,24422,35373,36890,21205,24460,22856,23450,27744,23627,27996,29702,22338,23455,33521,30340,21496,31168,27178,21517,23389,31481,21338,21147,24235,33865,26628,27704,22120,29577,22810,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36032,30495,24693,38745,20870,33538,25935,35914,20853,27861,30330,38738,22679,26009,24544,36039,26178,29289,36554,24499,35201,23550,22618,31179,30333,27827,28716,27833,38534,34101,24403,20426,24535,26149,31038,39340,20837,24314,26681,26441,36914,33288,28006,31934,21516,24615,31859,32773,21161,26525,36817,30452,30446,26469,30011,30456,40658,20024,33337,30001,22763,31532,29066,32025,20581,26800,33459,22303,26377,23478,32218,32076,35519,22825,26399,32622,27973,25993,24335,24418,38754,31278,36664,22806,20803,20307,40575,24481,22899,24247,19990,21191,22528,22909,20816,23546,37628,29305,22524,36948,21521,21462,31561,26234,22238,38272,36939,20633,24605,38463,19981,38920,20840,23551,21892,26495,39151,35998,29694,39135,32068,39006,20844,26448,39321,21830,32080,34920,30690,28511,31169,21046,37030,27836,31992,23439,31574,27874,21729,25968,38283,28310,27193,36027,26124,24375,30740,21451,23431,33509,33738,25345,33457,24341,32e3,33618,21029,20462,36234,20303,34220,27611,36960,21839,22885,22411,24515,30331,26089,26611,28009,36074,21209,27849,24120,23432,22522,31649,27888,20280,26368,20197,27468,35029,36196,36275,35215,27969,35488,26119,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24030,29031,22633,36865,38597,26411,21746,23736,20063,23696,21021,33576,21063,27604,33021,35441,25237,36578,33733,36899,20182,27665,32102,37202,32321,20385,28288,26397,20184,26465,28961,32771,27005,20027,24847,25126,20999,21092,29255,32048,28168,31282,24067,37324,23646,31456,22793,20309,26716,24444,26619,30410,22770,20161,28145,21488,40165,40372,25903,25972,35282,22025,21619,34907,35696,22311,29575,36335,28779,38428,36637,28857,19982,28187,30033,37504,31354,20132,32701,21322,21454,22830,32207,35352,26228,27083,38555,26757,21360,35328,26647,36523,26360,20811,32032,38598,31680,20808,28381,27770,25945,32020,26612,25509,26143,30528,30041,26144,24049,30028,20855,25964,32676,38918,20849,27963,37327,25351,35299,23460,26524,21508,26395,38450,32004,25010,38525,20096,22259,20104,33394,31246,26893,21487,24658,20301,20856,24517,32154,24613,22312,22435,21531,24310,23947,20225,26627,26381,29105,21106,21332,27497,21490,20778,25998,25151,23447,26684,36784,31520,22290,35576,33031,21843,36066,24357,39080,24471,26131,25171,38957,26093,27573,21218,28982,22243,38989,33853,37197,31243,36795,21566,24863,23515,21453,31252,38656,28304,27798,38988,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36796,33609,31639,30427,36786,37027,30465,27096,27583,23569,20171,21463,38899,32232,22996,24196,20418,29366,31034,24215,23195,26666,28363,26792,32260,21491,24038,21450,36984,23621,24773,32244,28845,39208,37489,27169,27530,32318,20124,32330,20210,22615,28040,34899,26908,26391,23429,21151,23578,36031,24742,33026,31712,20339,32033,20904,26705,30906,29287,20006,20516,35251,36020,32173,32113,23487,20001,31958,35242,37682,28548,26045,23481,39131,23616,31056,36942,27663,25913,30436,31309,28171,24059,28147,24540,20105,36557,35013,37240,32340,26579,24093,32191,31881,33322,30002,21608,20185,24453,20302,32209,36605,40635,24950,21172,30959,20025,32946,38480,23566,25918,26179,24231,20214,24819,39443,20181,20351,36650,38996,30058,24373,32862,20379,28271,28342,26657,37509,37619,34701,38742,20889,23436,28207,37723,22812,20805,40845,32177,33777,36895,21193,21047,36215,25705,21442,21942,31298,25512,36820,32887,27490,20253,24185,29699,27177,23637,24161,33883,24237,38750,21495,21336,27507,25313,20966,35486,26152,22495,28149,20877,20685,31185,39770,31471,36884,26696,23383,35542,20860,21448,25391,25216,24505,26413,31995,24467,20919,24907,23792,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22833,21402,20596,27880,28204,38915,20055,35430,22378,33833,20826,27773,23453,24685,27147,28201,25975,35500,33464,21578,27508,33324,39166,31036,23558,38627,30722,21028,24441,24433,26365,24111,38520,37772,35527,24432,24746,27161,30003,23475,27597,35036,24140,22768,38500,31545,23142,20094,31478,33437,29275,36023,31227,30813,33590,21177,39178,21234,32933,35609,28809,22799,22530,26575,25173,24112,28988,30827,32769,31350,23529,37341,26029,23556,24046,23888,25240,32784,23459,22987,24459,27531,26223,35937,37111,21331,38626,34219,27515,32789,25805,20142,20113,37089,21220,27714,36011,23448,22971,35023,30524,20271,31407,31689,38542,25563,26690,39365,26806,22343,36001,21629,29579,33970,37057,30952,31505,26354,26997,22577,25552,35388,38634,36949,35009,39318,30149,26704,20313,29926,20196,21561,29482,26410,21083,36e3,20276,20736,21547,36969,36804,23611,24012,31572,36861,35342,19976,37467,29123,35506,28858,38498,26522,30382,35703,32190,38632,25105,23492,33659,25276,32013,30435,32299,38477,22317,31452,31684,27578,35997,27022,36935,28436,21344,36843,21127,25165,25958,32026,32066,27598,32121,32302,26222,31077,20491,23554,39378,35413,30048,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23384,32905,20670,24107,28082,20363,33251,33267,22240,32153,24050,35226,28317,27927,35501,35222,29467,24040,32178,34955,20219,23494,34966,27841,33879,36611,27589,38911,36009,24133,33510,25514,24449,30913,33310,21162,31402,22937,25239,36628,32722,20419,21705,38522,26356,35611,24178,24489,35370,27966,30563,25731,35672,24910,23130,36229,29136,38972,29417,22586,24062,35469,26564,32224,20241,30701,20239,23493,25244,23612,21307,28096,33276,38609,36938,28014,37857,23652,39164,21066,28155,34180,38538,22266,22659,30566,38917,20083,35910,35377,32210,36848,28010,20381,27503,27431,25285,20767,38761,21364,39592,26485,34943,21253,30064,36208,34382,23791,36062,24565,29279,30342,24735,32972,23019,33073,24076,35351,38518,33495,29872,33976,20693,38642,29256,30772,28113,28169,26623,28500,22805,20493,29356,40644,31558,39740,25955,21435,35480,37340,38936,28611,26053,20511,32650,28516,36913,24382,25588,36920,35686,31716,29190,26691,29420,26063,33446,23458,26976,40614,21215,26512,25499,32117,38997,24051,22533,35531,38307,34915,36008,23395,24202,21577,30828,32043,36002,21330,32118,36024,28784,21628,25925,26230,29618,22258,31665,22696,31361,26286,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32903,23039,34880,22256,31569,28151,24321,37707,36864,20451,26463,20415,36035,21103,25505,21570,35079,27018,24109,23064,29976,20813,24190,20661,23517,26834,29790,27131,24494,21987,35440,23544,22564,33624,24339,24213,28783,29978,32005,24803,32368,20498,21048,33775,21363,24369,27179,40180,21452,27954,20139,20114,33836,35468,26082,28417,32937,40441,35698,31570,38281,28020,25506,26e3,23506,25369,35504,30431,39336,31348,33334,34886,32865,25943,22818,38468,34987,37670,31563,25269,21361,24193,23519,20341,22721,28760,32202,21560,29664,21208,21e3,30928,27427,26680,20035,26894,33655,28369,39154,33136,34903,36600,31118,33756,36814,32257,21776,20136,35379,37218,24315,24687,20102,26187,25448,21015,32854,20989,30274,33311,38533,20687,26159,20284,20057,27197,20081,21050,35535,27224,26367,26379,25915,38706,24259,35347,22402,24651,34411,38360,24745,19969,25551,28608,26012,36012,33541,31911,24656,38647,24525,25613,23380,36879,25299,22969,29017,20908,31216,21807,21109,26263,33016,20120,20175,20941,40284,20804,31379,26609,22593,31777,34913,23601,26842,37351,40434,25582,25973,34030,21051,27442,31896,22914,38556,35207,31903,36870,25307,26332,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25429,27010,20652,25147,24536,25562,30171,25215,24942,33382,31893,29038,38599,32618,21542,20992,33747,21009,22863,40232,22346,26311,39e3,33294,26132,29503,20663,25937,24248,23403,21932,24555,25480,36015,26479,22865,23041,29157,24035,35946,25201,33268,23610,24466,36933,29572,29001,31192,31085,36867,33740,24500,23437,25209,25774,32024,29246,23534,26087,36104,40568,21223,23815,40802,24681,21359,26241,38499,24125,25265,29226,28234,37806,31206,21477,32925,35070,21427,27784,28287,20801,37009,28526,33988,34282,33065,27602,26172,32626,29634,24351,30990,24754,29421,22766,33145,36493,23653,24039,27703,28129,34349,29359,36362,31890,33304,32819,25511,37521,20505,33109,35433,36575,26292,33075,30097,27424,26217,37109,20018,29674,26943,30343,28797,32058,24904,34311,39423,22985,30770,30741,36991,32929,23615,26274,37912,27972,24149,22612,31637,36321,20129,35930,33256,35302,38512,21091,29942,39514,24594,21002,29748,38913,36986,21764,31062,21040,21682,35380,38563,20467,37507,37347,32057,38536,20305,32097,23994,39854,24448,31069,34199,36259,31840,23562,30053,34217,25558,40599,32034,21365,39658,36930,27453,32011,25490,32938,32233,40763,39366,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28024,26417,21809,25496,30757,23731,24033,37549,39165,38928,27875,27492,21281,27475,24207,31461,20523,28246,25277,33398,27292,19992,22519,29995,31895,33515,38914,33050,29645,36763,23563,25569,29554,33104,32993,23449,30423,25233,26092,35386,22855,26088,28286,26262,21931,36617,37613,37782,20206,30044,28472,36766,31105,23553,25312,39912,37320,25206,26059,36367,35617,27035,25110,23186,37048,20698,31199,27713,21104,37237,35641,26717,22645,33180,23452,35465,35442,40335,25463,22900,35492,21169,26978,23624,40169,26426,30130,27934,20237,32365,31560,32716,26086,22949,31209,25106,28382,30475,36007,26044,34909,27355,23626,32884,36996,36556,26071,22521,28814,28422,24188,30636,20469,22857,33261,39749,32764,33144,27133,27850,27079,31186,35613,40665,33235,31292,31080,28508,25522,36317,25475,28316,24115,25080,30399,25644,32180,25159,25688,26646,24425,36898,31258,33465,28872,39442,24931,28655,21483,40251,25342,24736,38289,28057,24930,37528,25436,38663,35186,26685,20961,39764,24716,23330,39364,28966,35443,38684,29590,26580,24739,19985,20208,36059,36016,30994,38772,35206,20806,22492,39376,32963,33592,30887,34509,32645,20553,33351,26891,31821,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21482,24358,28197,26753,37749,24061,21319,38695,25658,30151,28580,29609,30697,37969,35676,32908,26446,20141,22575,30067,36562,27877,37664,36855,32051,29378,33303,29730,33477,39472,30522,24452,38515,25773,37389,29916,24775,34541,20474,21155,27194,30496,21280,25014,22132,34678,27839,20572,24618,33894,27542,28092,38867,38543,26742,24785,21368,25764,20896,37204,24052,25246,24163,37530,30355,27738,26007,20711,31874,24427,27873,24428,23233,28460,34093,25666,22352,22727,36092,35422,31359,26781,32294,31296,29508,35563,20439,31331,32822,32239,32966,35565,29471,36842,20238,30091,20874,26420,24537,25031,26031,40179,24266,37474,26847,27832,33012,22475,27801,38560,23396,22769,26820,21520,38956,35463,20062,24935,39851,37034,21936,33469,22890,26355,33433,22675,29087,25220,26577,36963,23244,27735,31975,22609,25778,22730,33550,22888,21250,23110,34562,24677,29401,35239,26249,26361,23919,23472,38588,25454,24796,31048,20957,34310,24265,30036,22894,27396,20291,31636,26586,25309,25226,38686,25325,28357,20621,26550,32996,40639,24245,25484,34253,39015,21189,24598,26827,25040,22353,36649,24490,33192,32098,29128,21696,27084,27454,26028,25539,20294,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31515,27526,35064,20995,29486,26247,32023,22516,22287,24974,38666,31807,35584,30849,36064,21643,31623,29787,31761,34928,21400,21576,27891,28450,21494,34996,21249,31339,34453,22635,23849,35010,25298,19998,20534,38592,29539,35387,20854,29081,32736,34952,32286,20047,33995,28459,22617,37740,21481,34394,37193,34543,24070,21767,36910,26517,33900,23461,33445,33841,28044,25594,20133,20934,25384,32624,23391,23997,39368,21484,31109,35412,31074,35039,23305,20405,20369,39822,20882,38640,28079,25135,33936,36060,20597,23776,19988,20355,31828,34001,30643,35566,23784,25334,26171,35475,34086,35477,26106,26388,21460,25259,36070,35059,23527,34442,26254,22570,24944,26991,40723,31378,30867,27263,36887,37478,32016,31687,28404,33308,23613,25293,34241,28418,28263,26257,34214,25466,33307,20365,20625,35330,25324,39881,31293,31899,20677,36889,28810,31883,25836,26207,25954,29483,21305,26528,21927,27946,31295,25830,31143,26584,31526,38587,25361,29344,23663,28710,38894,24799,35582,35588,33940,39894,33455,37676,26118,38464,23490,34503,31049,32791,26905,28818,38459,31870,22995,23388,32027,37336,27264,34281,26885,27795,20525,20134,32705,24996,36042,38501,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37841,21489,22922,36524,25304,26727,29141,31591,20559,26576,33489,38797,29835,32954,29494,20814,33029,37066,22602,26622,28657,24573,30406,39438,20605,38548,24311,31672,36941,27726,34299,33181,26543,22092,22022,35980,22234,29677,36036,36805,38646,27728,35140,36671,32094,24808,29436,32156,33891,23803,21574,23830,27809,33203,22778,23476,33032,21535,36028,24962,30889,28641,37284,30450,24608,30462,33993,32566,20167,30045,31255,34028,30196,20282,26477,29792,25331,28448,31204,34809,24724,25140,26283,33292,33945,29242,24524,24841,28879,29281,31312,20632,39661,23913,24604,26215,39348,24187,25662,22576,21449,31391,39180,39746,36703,31406,23451,26786,25161,31108,40442,21585,37679,35524,24464,36339,23087,32990,27945,31311,33980,40235,36880,27960,37226,28609,39173,27579,24246,37304,20598,28431,19993,21519,38517,27762,20916,22065,40736,26278,24330,30123,20984,26447,36341,27760,35435,30079,23724,26689,36051,39899,33909,26771,33804,29403,30071,34152,30778,33914,24336,33564,26643,28186,40367,20985,31104,20121,24291,37002,32943,22952,30683,36212,35359,26429,21311,35338,22040,26454,21465,20240,29705,23105,20472,31152,38968,36394,40288,36676,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26021,30142,36973,34427,24764,20918,22839,32047,37228,27054,31968,31018,23828,25793,22764,22684,36198,26329,25074,37165,28248,37941,38491,29298,24426,24218,36635,23445,23609,36883,33615,31950,25098,37101,26907,28181,26075,26366,20127,21930,31363,33769,35715,33901,33776,32592,37261,37264,30094,38309,33255,30178,25001,35408,38322,21416,23030,38931,30865,31767,27450,22496,25102,33750,35538,30164,37502,23004,21129,36999,28670,29811,23561,40300,34044,31967,31661,35438,22862,22178,33178,31047,26166,21473,30855,22732,37783,28179,21078,33419,40607,38275,25996,40595,29509,28198,40199,22915,32172,38593,25022,26466,40654,37032,37255,40718,31800,20977,34201,21068,21518,30977,25950,26216,23777,30054,30408,34425,21277,21766,31014,35090,30703,31936,22283,20828,32394,21340,35424,26023,34662,22374,27368,34811,24086,31466,36211,30494,29562,26336,37904,33131,31496,37372,22327,28644,34154,32341,39255,34746,26954,33167,24319,35100,29392,38982,40667,36249,24022,25273,25771,20342,24895,26799,24340,32780,37624,31681,21246,26191,37239,20982,38816,33694,25722,39994,26613,31823,26719,39791,40779,32763,37704,20470,40594,37271,38619,23526,27852,31998,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37971,26658,26297,23508,39156,35558,33108,30759,29885,28371,37512,23072,23435,34552,30221,34396,26177,37321,21897,31310,23013,24642,37675,23386,33948,23697,38605,25305,26460,26503,24189,34384,40633,23729,32974,31232,35516,22272,32918,32114,37393,32920,36988,30561,34615,36981,33146,31806,28322,38494,32400,29399,22781,24755,38790,32392,22654,28192,34012,26977,30637,20887,25898,26487,24013,24833,37678,22868,25447,31117,31487,32982,22707,24936,27331,29827,39826,26122,25645,20760,26467,32923,39952,20425,26963,31260,21247,24661,30350,33151,22082,24429,29076,28859,29750,32768,34635,21978,29749,30352,38635,26333,29980,25405,28361,31844,31909,27957,37724,28711,24101,28701,21693,24858,26995,27754,21914,27929,38604,23521,23035,27004,37196,30473,34048,31302,30834,37604,36077,31994,40219,33102,39620,26784,28107,22808,33713,22057,39745,26775,28851,38769,37913,26530,26626,30869,26791,20694,32945,24312,33492,31098,26570,32333,27085,20932,29245,26665,39347,24380,36705,26667,24917,26001,36785,32283,38808,39250,34935,23340,26161,20384,26937,27387,23477,31432,20518,22852,36953,31525,31567,36468,34115,22616,35598,20537,34388,38902,30057,29432,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20215,40329,20502,20940,25292,37318,34645,25754,35060,37350,26708,26970,27712,31596,26433,30679,34851,21380,36527,29312,35947,30861,29029,33287,26801,36100,36983,28702,36838,33034,33215,35292,26803,27359,37610,38343,31063,31264,21417,36447,30831,31161,24359,24278,26707,37804,37276,26906,22534,25776,32331,32143,26866,28325,33499,37266,21059,36528,36993,29211,32203,30294,22956,28640,35624,32930,21828,24688,24394,26824,25402,37944,39759,33253,27159,28893,27047,24908,37390,37648,39853,21207,37470,37625,22931,30358,26363,22377,29642,30328,27167,32412,38929,36049,22592,25417,34588,25296,24756,27529,34542,22372,22557,34121,29237,30290,38971,33335,21329,23588,22974,22549,36893,27060,33610,40617,38763,32902,21421,24680,20398,30403,27141,26779,37758,39381,37319,23574,22622,24999,38553,20447,33400,40018,24389,24840,31885,32879,24055,36203,22448,39138,22275,31167,22934,31041,21514,33759,39993,21202,27608,34507,20160,39464,21350,32774,29495,25746,36845,23241,21536,21375,20399,32894,21563,29973,31512,34633,21683,28748,35223,27819,34298,28948,26990,37672,29786,22993,28251,24958,21474,33559,30439,33931,34223,26917,23648,29273,30165,35728,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28167,33453,23631,31725,38788,28528,30284,34999,37586,20278,24318,36961,35041,33905,28954,27931,32948,29922,29747,23167,36956,38924,21273,36974,27572,34218,30871,31482,27310,35088,38287,25100,20285,20348,31166,40206,20180,22434,20901,26880,24713,28796,31459,35158,37799,39981,20754,21242,31946,24825,28792,33222,21917,27025,38601,21822,32858,33540,33586,21754,22107,36799,22068,26464,21093,33806,24159,31589,36917,33671,27470,22718,25353,29309,38829,27088,21610,38990,25387,29006,34135,31966,25458,26873,29969,34306,28346,23100,31364,34074,38308,22992,24794,20970,23081,29033,28437,26987,25531,30185,20046,32187,26932,34081,36858,37716,39995,24343,24275,33368,35167,33511,21187,23633,33707,30758,31201,32752,25198,24816,23720,28567,29096,39177,20786,24119,24324,25467,26451,26839,26194,40182,34992,21163,20420,20028,26547,31658,32589,35363,25524,29158,26020,28425,34109,20594,32186,21782,31492,29437,27859,33826,25119,20653,33333,34584,22809,24616,26492,28451,30137,26972,21006,32792,35585,29165,22291,26127,33771,29028,32155,22039,32125,36685,37656,34153,23831,26508,26590,34759,31150,22581,33796,36929,32724,28300,35427,40200,26383,37786,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25516,24623,25826,24717,38583,25431,33889,37195,30168,24807,39187,40023,22916,28139,24214,28060,39920,22715,31095,24758,25407,23541,38930,21899,33491,20807,24976,31059,31165,27741,40634,40008,36264,24288,32067,24316,34126,36068,23265,21736,20515,21182,32236,34065,26214,27710,29260,35548,39949,30629,35586,36101,28433,38964,38907,20731,32629,23043,34067,20406,25420,40289,32907,21140,26017,22138,22871,36107,27189,27347,28921,34398,28593,20967,32747,23018,24199,27498,30031,29053,37198,32044,35961,24674,25114,32680,24347,27788,34558,30050,31622,39608,26151,31418,33870,28545,35628,34468,28651,31627,32631,36655,36420,32291,20045,31142,35578,36924,20689,40653,24287,30095,25375,21467,39184,33390,25335,26874,29277,32829,22741,23629,34521,21515,34821,37618,37431,23649,39003,34532,38506,29282,26965,27863,27028,39983,30695,26825,36328,28012,26561,39850,24986,25513,28693,37638,37709,27233,25176,21123,29989,22151,27779,26676,25758,20123,29266,23014,36802,24509,28120,34295,35409,38935,39361,25504,31873,23344,33081,21507,32386,33030,21290,27278,32619,21737,22136,35513,26389,23507,25720,25854,27421,36034,20939,32399,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24332,19984,19989,20008,20010,20017,20022,20031,20034,20054,20056,20066,20098,20101,20106,20110,24333,20126,20128,20130,20144,20147,20150,20174,20173,20164,20166,20162,20193,20183,20190,20205,20191,20220,20233,20252,20224,20227,20314,20272,20317,20281,20311,20295,20318,20310,20315,20370,20362,20360,20367,20378,20397,20376,20347,20395,20329,20336,20372,20335,20358,20374,20436,20430,20440,20443,20433,20442,20432,20429,20452,20453,20506,20544,20520,20500,20522,20517,20485,20513,20514,20521,20524,20479,20478,20463,20497,20510,20486,20547,20551,20565,20560,20552,20570,20566,20495,20550,20592,20546,20588,20600,20608,20628,20634,20613,20660,26371,20658,20681,20682,20659,20674,20724,20702,20709,20696,20717,20707,20718,20729,20725,20745,20737,20738,20762,20757,20756,20758,20769,20794,20791,20796,20795,20799,20800,20810,20812,20818,20820,20834,20836,20841,20842,20846,20864,20866,22232,20876,20873,20879,20881,20883,20885,20886,20893,20900,20902,20898,20905,20906,20907,20915,20913,20914,20912,20917,20926,20925,20933,20937,20955,20960,20969,20972,20973,20976,20981,20990,20996,21003,21012,21013,21031,21034,21038,21043,21049,21060,21067,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21071,21086,21076,21105,21098,21107,21108,21097,21119,21117,21133,21128,21138,21137,21148,21158,21164,21165,21180,21173,21185,21184,21197,21211,21214,21219,21222,21216,21235,21237,21240,21241,21248,21254,21255,21256,30008,21261,21264,21263,21269,21274,21284,21283,21295,21297,21299,21304,21312,21317,21318,21321,19991,21325,20950,33289,21342,21353,21358,21362,21367,21371,21378,21395,21398,21408,21414,21413,21422,21424,21426,21430,21443,31762,21469,21471,26364,64014,29166,21486,21480,21485,21498,21505,21565,21568,21548,21549,21564,21550,21558,21545,21533,21582,21647,21621,21646,21599,21617,21623,21616,21650,21627,21632,21660,21622,21636,21648,21638,21642,21703,21692,21679,21666,21688,21669,21676,21700,21720,21704,21672,21675,21698,21668,21673,21694,21733,21759,21734,21775,21780,21757,21742,21741,21730,21817,21824,21859,21836,21806,21852,21829,21846,21847,21816,21811,21853,21913,21888,21898,21919,21883,21886,21912,21918,21934,21884,21894,21891,21929,21895,21928,21957,21983,21956,21980,21988,21972,22009,22036,22007,22038,22014,22013,22043,22094,22096,22070,22066,22072,22123,22116,22150,22063,22124,22122,29151,22164,22159,22144,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22154,22176,22181,22190,22198,22196,22216,22210,22204,22209,22211,22208,22222,22227,22225,22231,22254,22265,22271,22276,22281,22280,22285,21959,22296,22294,22300,22310,22328,22350,22331,22361,22336,22351,22373,22408,22369,22399,22409,22419,22432,22436,22451,22444,22442,22467,22470,22472,22464,22484,22471,22482,22483,22486,64015,22538,22499,22539,22553,22561,22603,22626,27584,22589,22610,64016,22640,22649,22661,22642,22687,22699,22712,22686,22702,22706,22713,22714,22725,22739,22737,22743,22745,22744,22750,22748,22751,22756,22757,22767,22775,22777,22779,22780,22786,22794,22795,22800,22811,26790,22821,22828,22829,22834,22840,22846,22869,22864,22867,22874,22872,22875,22877,22883,22882,22880,22887,22892,22889,22904,22913,22925,22939,22941,22947,22948,22962,22970,22982,23016,23001,23002,23077,23071,23057,23068,23066,23049,23104,23148,23113,23093,23094,23138,23146,23194,23228,23230,23248,23243,23234,23229,23267,23255,23270,23273,23254,23290,23291,23308,23307,23318,23346,23338,23350,23358,23363,23365,23360,23377,23381,23382,25992,23387,23397,23401,23408,23411,23413,23416,23418,23424,23427,23462,23480,23491,23495,23488,23497,29999,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23504,23512,23518,23532,23524,23522,23525,23531,23536,23539,23542,23557,23559,23560,23565,23571,23582,23584,23586,23592,23608,23617,23622,23630,23635,23632,23409,23660,23662,23670,23673,23692,23700,23742,23723,23739,23734,23735,23718,23738,23749,23740,23751,23769,23785,23805,23802,23797,23789,23786,23819,23829,23839,23835,23825,23847,23842,23834,23833,23832,23884,23890,23891,64017,23900,23886,23883,23874,23916,23923,23917,23926,23943,23940,23938,23948,23970,23965,23952,23980,23982,23991,23992,23996,23993,24009,24016,24019,24018,24027,24043,24053,24075,24090,24089,24081,24091,24118,24132,24131,24128,24135,24142,24151,24148,24162,24164,24181,24182,24186,24191,24224,24257,24258,24264,24272,24271,24285,24282,24283,24290,24289,24296,24297,24300,24304,24305,24307,24308,24323,24329,24331,24337,24342,24353,24361,24365,24367,24372,24376,24385,24392,24396,24398,24401,24406,24407,24409,24412,24413,24417,24423,24435,24439,24451,24450,24447,24458,24456,24455,24465,24473,24478,24472,24480,24488,24493,24503,24508,24534,24571,24548,24568,24561,24560,24541,24542,24575,24609,24601,24592,24617,24590,24625,24603,24597,24619,24614,24591,24634,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24666,24641,24672,24669,24682,24695,24671,24650,24646,24653,24675,24643,24676,24684,24683,24665,24709,24705,24707,24730,24708,24731,24714,24726,24727,24722,24743,24715,24801,24760,24798,24800,24787,24765,24774,24757,24789,24792,24864,24818,24853,24838,24822,24823,24832,24820,24826,24835,24865,24827,24817,24845,24846,24849,24903,24909,24887,24872,24871,24894,24906,24880,24892,24876,24884,24933,24925,24893,24898,24900,24947,24967,24951,24920,24921,24922,24939,24948,24943,24945,24927,24915,24949,24984,24985,24982,25004,24980,24970,24977,25003,25006,25036,25034,25033,25032,25027,25030,25018,25035,32633,25037,25062,25059,25076,25079,25078,25085,25082,25087,25084,25086,25088,25096,25097,25101,25107,25108,25115,25118,25121,25130,25134,25136,25138,25139,25153,25166,25182,25187,25179,25184,25192,25212,25218,25225,25234,25214,25235,25238,25219,25236,25303,25297,25275,25295,25260,25286,25288,25308,25300,25290,25282,25254,25287,25243,25289,25356,25326,25329,25383,25346,25352,25327,25333,25343,25424,25421,25406,25423,25494,25486,25472,25515,25462,25507,25487,25481,25503,25451,25449,25525,25534,25577,25536,25542,25589,25571,25545,25554,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25590,25540,25652,25606,25619,25638,25654,25628,25623,25640,25615,25622,25678,25703,25711,25696,25718,25785,25757,25806,25749,25787,25747,25765,25769,25736,25788,25818,25810,25797,25799,25812,25816,25794,25841,25831,25824,25825,25827,25839,25844,25846,25842,25850,25856,25853,25880,25884,25885,25861,25892,25891,25899,25900,25908,25909,25911,25910,25912,30027,25928,25934,25942,25933,25944,25941,25949,25970,25976,25986,25987,35722,26011,26015,26027,26039,26051,26054,26049,26052,26060,26066,26073,26081,26080,26097,26112,26133,26114,26482,26115,26107,26121,26175,26165,26158,26142,26164,26140,26148,26180,26185,26213,26199,26206,26212,26201,26210,26205,64018,26227,26224,26243,26248,26244,26265,26264,26272,26269,26290,26308,26305,26303,26313,26302,26300,26296,26326,26330,26342,26345,26352,26357,26359,26362,26382,63785,26390,26398,32290,26406,26407,38712,26414,26431,26422,26423,26424,26438,26462,26457,26470,26468,26505,26501,26480,26537,26474,26507,26483,26534,26529,26555,26551,26607,26548,26604,26601,26552,26599,26596,26706,26589,26594,26606,26560,26574,26553,26625,26566,26654,26694,26701,26688,26692,26674,26702,26723,26713,26765,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26743,26751,26783,26750,26767,26797,26772,26755,26812,26809,26740,26805,26810,26895,26881,26826,26888,26840,26918,26849,26892,26829,26836,26855,26837,26898,26863,26884,26851,26848,26831,26822,26914,26922,26913,26915,26920,64019,27001,26999,26934,27e3,26964,26986,26996,26984,26941,26969,26928,26974,26973,27006,27009,27058,27071,64020,27032,27073,27091,27070,27086,23528,27082,27057,27101,27067,27075,27040,27036,27029,27102,27182,27112,27138,27163,27135,27129,27122,27111,27106,27166,27117,27156,27115,27146,27170,27154,27171,27155,27184,27243,27204,27148,27296,27190,27256,27207,27234,27225,27238,27208,27206,27192,27250,27251,27280,27277,27268,27298,27299,27262,27287,27308,27306,27323,27330,27320,27315,27329,27358,27362,27345,27354,27364,34326,34327,27370,27397,27402,27386,27410,27414,27423,27448,27447,27449,30428,39150,27463,27459,27465,27472,27481,27476,27483,27487,27489,27512,27513,27519,27520,27524,27523,27533,27544,27541,27550,27556,27562,27563,27567,27569,27570,27571,27575,27580,27590,27595,27603,27606,27615,27628,27627,27635,27631,27656,27667,27668,27675,27684,27683,27711,27742,27733,27740,27746,27778,27789,27782,27759,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27802,27777,27803,27774,27752,27763,27794,27792,27844,27889,27837,27845,27822,27866,27869,27825,27838,27834,27867,27887,27865,27882,27935,27908,27958,27947,27965,27955,27922,27916,28003,28039,28051,28015,28004,27994,28025,27993,28046,28053,28059,28037,28054,28153,28170,28206,28085,28134,28103,28076,28088,28111,28102,28140,28126,28108,28136,28152,28114,28101,28154,28121,28146,28156,28132,28117,28138,28142,28205,28270,28185,28274,28255,28217,28222,28195,28267,28252,28203,28278,28237,28191,28199,28227,28220,28218,28238,28196,28189,28216,28290,28330,28312,28343,28349,28335,28356,28338,28372,28373,28303,28351,28354,28319,28481,28485,28396,28408,28414,28479,28402,28465,28399,28466,28364,28415,28478,28435,28407,28550,28538,28536,28544,28527,28507,28525,28532,28546,28552,28540,28504,28614,28558,28561,28518,28595,28579,28597,28577,28601,28635,28586,28610,28639,28629,28652,28632,28628,28661,28654,28677,28679,28681,28683,28666,28689,28673,28687,28699,28698,28703,28659,28712,28696,28720,28734,28722,28753,28771,28805,28825,28847,28843,28844,28856,28846,28895,28875,28889,28937,28943,28932,28913,28925,28956,28953,29020,28998,28999,29030,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29026,29004,29014,29036,29064,29071,29060,29077,64021,29100,29121,29113,29118,29138,29159,29129,29140,29143,29134,29173,29152,29164,29179,29180,29177,29182,29183,29197,29200,29224,29229,29228,29232,29234,29243,29244,29247,29248,29254,29259,29272,29300,29310,29313,29319,29314,29330,29334,29346,29351,29361,29362,29374,29379,29382,29380,29369,29390,29394,29410,29408,29409,29433,29431,29463,29450,29468,29462,29469,29476,29492,29481,29487,64022,29477,29502,29519,29518,29527,40664,29546,29544,29552,29559,29560,29557,29563,29640,29629,29619,29646,29627,29632,29641,29654,29669,29667,29650,29678,29681,29662,29688,29703,29685,29701,29734,29738,29733,29737,29742,29746,29754,29781,29759,29791,29785,29761,29788,29801,29808,29795,29802,29796,29794,29833,29807,29822,29855,29854,29858,29863,29898,29903,29908,29920,29923,29927,29929,29934,29936,29938,29937,29943,29944,29953,29956,29955,29957,29965,29964,29966,29971,29982,29990,29996,30012,30020,30029,30026,30025,30022,30043,30042,30052,30055,30059,30063,30068,30061,30072,30070,30082,30086,30087,30090,30089,30100,30106,30109,30117,30115,30146,30131,30147,30133,30141,30136,30140,30129,30157,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30154,30162,30169,30179,30174,30206,30207,30204,30209,30192,30202,30194,30195,30219,30217,30239,30247,30240,30241,30242,30244,30260,30256,30267,30279,30280,30296,30278,30300,30305,30306,30312,30313,30311,30314,30316,30320,30322,30326,30332,30338,30336,30339,30344,30347,30361,30362,30364,30366,30363,30374,30384,30388,30392,30393,30394,30402,64023,30413,30422,30418,30430,30433,30437,30442,34351,30459,30472,30471,30468,30500,30505,30501,30502,30491,30519,30520,30534,30535,30554,30568,30571,30555,30565,30591,30590,30585,30606,30603,30609,30624,30622,30640,30646,30649,30655,30652,30653,30651,30663,30669,30682,30684,30691,30702,21167,30716,30732,30738,30753,30783,30752,30789,30798,30820,30836,30862,30842,30854,30874,30844,30860,30883,30901,30890,30895,30929,30918,30923,30932,30910,30908,30917,30922,30956,30951,30938,30973,30964,30983,30993,31001,31020,31019,31024,64024,31040,31072,64025,31071,31066,31061,64026,31103,31114,31124,64027,31133,31131,31146,31155,31162,31177,31189,31207,31212,31203,31240,31245,31256,31257,31263,31281,31294,31287,31291,31299,31319,31305,31330,31329,31337,40861,31344,31353,31357,31368,31381,31384,31382,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31383,31401,31408,31414,36995,31427,31423,31429,31428,31431,31434,31437,31439,31442,31441,31445,31443,31449,31450,31453,31457,31458,31462,31463,64028,31467,31469,31472,31480,31490,31503,31499,31498,31494,31539,31542,31513,31518,31541,31528,31568,31565,31564,31557,31581,31605,31610,31604,31600,31601,31598,31645,31640,31647,31629,31644,31642,31634,31631,31641,31695,31691,31692,31668,31686,31646,31709,31721,31718,31735,31717,31764,31744,31763,31751,31731,31757,31734,31779,31783,31786,31775,31799,31787,31805,31808,31820,31811,31830,31824,31832,31839,31845,31852,31861,31875,31888,31908,31906,31915,31905,31917,31912,31923,31922,31921,31918,31929,64029,31933,31941,31938,31954,31970,31960,31964,31983,31986,31988,31990,32006,32002,32028,32021,32010,32069,32075,32046,32050,32063,32053,32072,32070,32092,32115,32086,32078,32104,32110,32079,32099,32147,32137,32091,32174,32163,32181,32183,32199,32189,32171,32162,32175,32160,32184,32159,32176,32213,32216,32221,32214,32228,32222,32251,32267,32242,32225,32220,32261,32266,32289,32274,32287,32265,32314,32326,32358,32305,32317,32309,32315,32313,32323,32311,32306,32349,32342,32350,32338,32345,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32346,32359,32377,32362,32361,32380,32379,32381,36782,32383,32387,32393,32398,32396,32402,32403,32404,32406,32411,32568,32570,32581,32583,32588,32590,32593,32597,32596,32600,32607,32608,32616,32615,32617,32632,32642,32646,32643,32647,32648,32652,32660,32670,32669,32666,32673,32675,32687,32686,32690,32697,32694,32696,35697,64030,32709,32710,32714,32725,32737,32742,32745,32755,32761,32772,32779,32786,32793,32796,32801,32808,32831,32827,32842,32838,32850,32856,32863,32866,32872,32883,32882,32880,32886,32889,32893,32895,32900,32901,32915,32922,32941,20880,32940,32987,32997,32985,32989,32964,32986,33033,33007,33009,33051,33059,33071,33099,33094,33086,33107,33105,33020,33137,33134,33125,33119,33126,33140,33155,33160,33162,33152,33154,33184,33173,33187,33171,33205,33188,33193,33208,33200,33224,33214,33213,33216,33218,33210,33225,33229,33233,33240,33241,33242,33247,33248,33274,33275,33278,33281,33282,33285,33293,33296,33298,33302,33321,33323,33326,33336,33331,33344,33369,33370,33373,33375,33380,33378,33384,33386,33387,33393,33399,33406,33421,33426,33451,33439,33467,33452,33505,33507,33503,33537,33490,33524,33523,33539,33531,33529,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33502,33542,33500,33530,33545,33497,33589,33634,33588,33558,33585,33600,33593,33616,33605,33583,33579,33560,33690,33706,33695,33698,33686,33571,33678,33653,33663,33674,33660,33717,33651,33683,33696,33669,33673,33704,33780,33811,33735,33742,33783,33789,33795,33752,33803,33729,33799,33760,33778,33805,33824,33782,33725,33787,33834,33890,33852,33924,33911,33899,33913,33864,33902,33922,33897,33862,33903,33848,33845,33994,33977,33983,33951,33972,33997,33979,34010,34e3,33985,33965,33990,34006,33953,34009,34047,34036,34071,34072,34092,34079,34069,34068,34054,34131,34138,34112,34137,34147,34136,34120,34113,34122,34123,34155,34133,34176,34212,34184,34193,34186,34216,34157,34196,34203,34222,34183,34204,34167,34174,34192,64031,33290,34224,34249,34234,34255,34233,34256,34261,34269,34277,34268,34297,34314,34323,34315,34302,34338,34330,34352,34367,64032,34381,20053,34389,34399,34407,34417,34451,34467,34473,34443,34474,34444,34486,34479,34500,34502,34480,34505,34510,64033,34475,34516,34526,34537,34540,34527,34523,34578,34566,34568,34560,34563,34555,34577,34569,34573,34553,34570,34612,34623,34619,34597,34601,34586,34655,34680,34636,34638,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34676,34647,34664,34690,34666,34656,34670,34649,34643,34659,34687,34722,34758,34719,34735,34763,34749,34752,34768,38614,34731,34756,34739,34770,34747,34799,34802,34784,34830,34823,34831,34838,34829,34814,34806,34807,34833,34837,34850,34849,34855,34865,34870,34873,34875,34882,34884,34893,34898,34905,34910,34914,34923,34945,34942,34933,34941,34930,34946,34974,34967,34962,34990,34969,34978,34957,34980,35007,34997,34993,35011,35012,35028,35032,35033,35037,35065,35074,35068,35061,35048,35058,35076,35084,35114,35101,35082,35091,35102,35109,35115,35137,35131,35126,35139,35128,35149,35148,35168,35166,35174,35178,35172,35181,35183,35188,35191,35198,35203,35208,35210,35219,35224,35233,35241,35238,35244,35247,35250,35258,35263,35261,35264,35290,35293,35303,35316,35320,35331,35350,35344,35340,35346,35355,35357,35365,35382,35393,35383,35419,35410,35398,35400,35452,35437,35436,35426,35449,35461,35458,35460,35496,35489,35473,35493,35494,35482,35491,35495,35532,35518,35533,35522,35546,35571,35559,35556,35569,35604,35552,35554,35553,35551,64034,35574,35575,35550,35547,35596,35591,35610,35606,35600,35607,35616,35635,35649,38827,35622,35627,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35646,35660,35663,35662,35667,35657,35670,35675,35674,35700,35691,35679,35692,35695,35709,35711,35712,35724,35726,35737,35730,35731,35734,35738,35898,35905,35903,35912,35916,35918,35920,35925,35938,35948,35960,35962,35964,35970,35977,35973,35978,35981,35982,35992,35988,25117,36013,36010,36014,36029,36018,36019,36033,36022,36040,36046,36045,36067,36058,36080,36084,36093,36090,36091,36103,36106,36111,36109,36114,36112,36115,36116,36118,36199,36205,36209,36214,64035,36225,36290,36286,36282,36303,36314,36310,36300,36315,36299,36330,36331,36319,36323,36348,36360,36351,36361,36381,36382,36368,36383,36418,36405,36400,36404,36426,36423,36425,36428,36432,36424,36441,36452,36448,36437,36451,36470,36466,36487,36476,36481,36485,36484,36491,36490,36499,36497,36500,36505,36513,36522,36529,36542,36550,36549,36552,36555,36559,36571,36579,36604,36603,36587,36606,36618,36620,36613,36629,36626,36627,36636,36633,36639,36646,36659,36667,36665,36677,36674,36670,36681,36678,36684,36686,36695,36700,36706,36707,36708,36764,36767,36771,36776,36775,36781,36783,36791,64036,36826,36837,36834,36847,36841,36852,36869,36857,36856,36881,36885,36878,36897,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36877,36894,36886,36875,36903,36918,36921,36943,64037,36944,36945,36946,36937,36926,36950,36952,36958,36968,36967,36975,36982,38568,36978,36994,36989,37001,36992,37007,25160,37039,37041,37045,37090,37092,37083,37086,37122,64038,37141,37138,37145,37170,37159,37168,37194,37206,37208,37219,37221,37225,37235,37234,37259,37257,37250,37282,37291,37295,37290,37301,37300,37306,37312,37313,37323,37328,37338,37339,37335,37342,37334,37343,37345,37357,37365,37358,37348,37366,37349,37382,37406,37375,37392,37396,37386,37420,37397,37417,37463,37445,37434,37449,37476,37440,37436,37448,37454,37456,37465,37439,37457,37433,37451,37479,37466,37532,37543,37495,37496,37526,37523,37531,37525,37609,37583,37607,37591,37593,37584,64039,37589,37561,37559,37600,37587,37690,37685,37647,37669,37626,37665,37700,37627,64040,37657,37662,37631,37666,37658,37661,37667,37634,37691,37744,37728,37756,37742,37718,37719,37817,37808,37796,37805,37780,37832,37846,37830,37847,37864,37861,37848,37827,37853,37854,37840,37860,37914,37880,37908,37907,37921,37891,37895,37942,37931,37937,37946,37953,37970,37957,37956,37960,37979,37978,37984,37986,37982,37994,38005,38e3,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38007,38015,38013,38012,38014,38017,38274,38279,38282,38290,38292,38294,38296,38297,38304,38312,38311,38317,38332,38331,38329,38334,38346,28662,38339,38349,38348,38357,38356,38358,38364,38369,38373,38370,38433,38440,38446,38447,38466,38479,38476,38475,38492,38493,38495,38502,38519,38514,38508,38541,38539,63964,38552,38549,38551,64041,38557,38567,38570,38577,38578,38576,38575,38580,38582,38584,38585,38606,38603,38613,38620,38617,38649,38660,38662,38664,38681,38669,38675,38670,38673,38671,38678,38692,38698,38704,38707,38713,38715,38717,38718,38726,38724,38723,38728,38722,38729,38733,38735,38737,38741,38748,38752,38756,38758,38760,38765,38777,38789,38780,38785,38778,38795,38799,38800,38812,38824,38822,38819,38835,38836,38851,38854,38856,38859,38876,38893,38898,31455,38901,38927,38938,38948,38945,38967,38973,38991,38987,38999,39013,39019,39023,39024,39025,39028,39027,39082,39087,39089,39094,39108,39107,39110,39132,39149,39145,64042,39147,64043,39171,39197,39186,39188,39192,39207,64044,39201,39198,39204,39200,39212,39214,39229,39230,39234,39241,39237,39248,39243,39249,39244,39253,39319,39320,39326,39333,39341,39342,39356,39391,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39387,39389,39384,39377,39405,39406,39394,39409,39410,39419,39416,39425,39439,39429,39449,39467,39479,39488,39493,39490,39491,39486,39509,39501,39502,39515,39511,39519,39522,39529,39525,39524,39530,39531,39597,39600,39612,39616,39631,39635,39636,39633,39641,39644,39646,39647,39650,39651,39654,39663,39659,39662,39668,39665,39671,39675,39686,39704,39706,39711,39714,39715,39717,39719,39720,39721,39722,39726,39727,39729,39730,39739,39748,39747,39757,39758,39761,39768,39797,39796,39794,39827,39823,39811,39825,39830,39831,39839,39840,39848,39857,39860,39872,39882,39867,39865,39878,39887,39889,39890,39907,39906,39908,39892,39905,39925,39921,39922,39940,39963,39957,39956,39936,39945,39955,39948,39942,39944,39954,39946,39982,39973,39972,39969,39984,40007,39986,40006,39998,40026,40032,40039,40054,40056,40171,40167,40172,40176,40201,40195,40198,40234,40230,40236,40227,40223,40213,40210,40257,40255,40260,40254,40262,40264,40285,40286,40281,40273,40272,40292,40306,40304,40327,40299,40303,40314,40346,40356,40361,40363,40370,40388,40385,40379,40376,40378,40390,40399,40386,64045,40409,40403,40440,40422,40429,40431,40445,40474,40475,40473,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40478,40565,40569,40573,40577,40584,40587,40588,40597,40593,40605,40613,40632,40618,40621,40636,40638,38753,40652,40655,40656,40657,40660,40668,40670,40669,40672,40677,40680,40687,40692,40694,40695,40697,40699,40700,40701,40711,40712,30391,40725,40737,40748,40766,40778,40782,40783,40786,40788,40803,40799,40800,40801,40806,40807,40812,40810,40823,40818,40822,40853,40860,40864,23597,27097,36965,29814,20956,29013,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19983,131083,13314,20009,20012,131209,20040,131234,131236,13318,13356,13358,20155,131490,20156,20168,20203,20324,131603,64048,20454,20465,20482,13416,13418,20616,20629,20643,131883,20657,20667,131953,20697,20705,64049,131969,20723,13458,132089,132170,64050,20832,132361,13493,13500,13505,13511,132566,20931,20938,132648,13531,21085,132943,21100,21124,133127,133178,64051,21194,13599,21200,64052,133305,21243,133500,64053,133533,21351,21370,21373,133843,133917,13661,13662,13667,134047,21492,21522,21534,21540,13678,21589,21612,21664,21699,21745,21747,13734,13736,134469,21885,13765,64054,134625,21981,13786,134756,134765,134805,64055,22023,22056,135007,13812,22087,22099,64056,22134,13829,22194,135681,135741,22305,135765,135796,135803,135895,135908,135933,22487,135963,13898,22523,135990,136004,64057,136132,22667,64058,22698,22723,136301,136302,22752,22772,22797,136663,13969,20851,22845,13974,13977,136775,136884,136966,23032,14031,23063,137026,23172,23280,137405,137667,14177,23502,14178,14187,14188,14197,23555,23570,14221,138326,23643,23647,64059,64060,138541,138565,138594,138616,23719,23725,138642,138652,14273,138657,23760,138679,138720,23824,23837,23840,138803,138804,14306,23879,14312,14324,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,14333,14336,23959,139038,23972,139126,24017,24023,139258,24034,14383,14390,14400,14428,14433,139643,24183,139800,24249,63784,24281,140062,24313,24317,24320,140205,24350,24501,14586,24610,14615,14618,64061,141043,24814,14703,24890,64062,64063,141403,141483,64064,25077,141711,25150,25185,25211,25221,25241,142008,25394,25403,142150,25433,142159,142160,142246,25579,25581,142365,142372,25591,25721,142817,14958,14963,25906,25924,64065,25988,26037,26040,64066,15062,15063,26108,26170,26184,15082,26202,143798,26211,143811,143812,26221,143861,64067,15118,15130,15132,26310,15138,26369,26386,144242,26445,144336,144338,144339,144341,144346,26514,144351,144356,26587,26640,26620,26648,26686,26697,144458,144459,144465,144485,64068,26768,15213,26777,26795,26804,15223,26819,26852,26871,26883,26887,144612,15240,15239,15245,26950,144730,144788,15268,27056,27072,27087,15286,144836,27107,27113,27114,27124,27126,15299,144952,144953,144954,144967,15309,27187,27258,15344,27284,27297,145164,145180,145215,145251,145252,27379,15375,145383,63773,145407,27403,145444,145469,15398,27493,27500,27511,27514,27521,63856,146072,27591,27592,27599,27607,27658,146559,27780,15555,27818,27821,27885,15570,27899,27904,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27940,27956,146686,146688,146702,27992,27995,28e3,64069,28032,28033,28041,28042,28045,146752,28075,28078,28098,28112,28122,146899,28183,146937,146938,64070,15633,28212,28236,15646,28331,28340,28377,28432,64071,28453,28469,28512,147326,28568,15716,28606,28617,28682,147606,28730,147715,28743,15770,28777,28831,147910,147966,28908,28936,15808,28974,29009,29011,15828,64072,29078,29102,148412,15877,29205,64073,29271,149033,15935,149157,29360,29376,15968,15974,15976,16003,29491,149489,29497,16020,149654,29578,29588,29608,29715,64074,29779,29832,29847,150093,29861,29882,29910,150358,150383,150550,16215,30060,30066,150804,30092,16242,16245,16247,30128,30135,30163,30173,16302,151054,30232,151095,30248,151146,16329,151179,16343,30369,30383,30390,151626,151637,151842,16441,151977,152013,30552,152037,30588,152094,16472,152140,30628,30633,16531,152622,30764,30745,30799,30801,152718,64075,152793,152846,30969,30974,152999,31003,31022,64076,64078,64077,64079,64080,64081,16645,64082,64083,31180,31181,153457,16712,153513,153524,16719,16739,64084,64085,154052,154068,16820,31422,16831,154339,154340,154353,31506,16870,31547,16878,16883,31609,31615,16903,154546,16910,64086,154699,154724,31728,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31774,16996,31813,155041,31831,31855,155182,155222,155234,155237,155330,155352,155368,155427,155484,17094,155604,155616,17110,155643,17117,155660,155671,32192,155744,32227,64087,17154,64088,155885,64089,32373,17195,17219,156272,156294,64090,156492,20859,156674,32770,64091,32835,32891,32921,32932,32965,32970,32998,157310,33013,33019,157360,17390,33037,17392,33085,17416,157469,17431,17436,17442,33217,33238,157917,157930,64092,17491,158033,158063,33284,17499,158173,158238,33340,33353,17526,158296,17530,33367,158348,158391,17553,64093,64094,33401,158463,33427,33548,17587,17598,33635,17620,158761,33761,33765,158835,33815,64095,158941,33887,33943,17672,33998,17677,34075,159296,159333,17701,34110,17731,159636,159734,159735,159736,34265,34273,34340,159988,160013,34361,160057,34395,63798,17821,34439,34441,34461,34534,17848,34641,34684,160730,160731,160766,17893,160784,17898,160841,34789,34790,34796,34805,17935,161300,161301,34927,161329,35004,161412,161427,17985,64096,161550,35127,161571,161618,18021,35200,64097,18081,18095,35361,162181,35536,64098,162436,35597,64099,18188,35665,35689,35741,162739,162750,162759,163e3,18276,64100,163232,36081,64101,163344,36110,163767,36364,18429,163978,164027,18454,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36504,36534,164471,164482,18500,18510,164595,36651,36682,164813,164876,36788,64102,164949,64103,165227,165320,165321,18613,165591,37106,165626,37190,37316,166214,166217,37399,37462,166251,166279,166280,166330,166331,37623,37636,166430,166441,37706,37739,166467,166513,166553,166605,166621,166628,37873,37877,166849,166895,38278,167184,167281,18864,167419,38452,167455,167478,167561,167659,18919,167730,38589,18938,167928,18948,64104,38676,18985,38710,38727,168608,168625,64105,38916,19132,169104,64106,63952,169423,39100,39111,39115,169599,39136,39152,39153,19259,169712,169753,169808,39331,170182,39420,39434,39450,39473,39506,39512,19394,19402,39607,19410,170610,19432,19479,19488,39798,171483,39918,171541,171581,171593,39965,171658,171716,171739,171753,40037,40045,40058,171982,19652,172058,19665,172079,40274,172162,40307,40345,172281,40381,40384,40419,172432,19719,40461,172940,40637,40643,173111,19831,173553,173570,173594,173746,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19970,19972,19973,19980,19986,19999,20003,20004,20011,20014,20015,20016,20021,20032,20033,20036,20039,20049,20058,20060,20067,20072,20073,20084,20085,20089,20095,20109,20118,20119,20125,20143,20153,20163,20176,20186,20187,20192,20194,20200,20207,20209,20211,20213,20221,20222,20223,20226,20232,20235,20236,20242,20245,20246,20247,20249,20270,20273,20275,20277,20279,20283,20286,20288,20290,20296,20297,20299,20300,20306,20308,20312,20319,20320,20323,20330,20332,20334,20337,20343,20344,20345,20346,20349,20350,20353,20354,20356,20357,20361,20364,20366,20368,20371,20375,20377,20382,20383,20402,20407,20409,20411,20412,20413,20414,20416,20417,20421,20422,20424,20427,20428,20431,20434,20444,20448,20450,20464,20466,20476,20477,20480,20481,20484,20487,20490,20492,20494,20496,20499,20503,20504,20507,20508,20509,20519,20526,20528,20530,20531,20533,20539,20545,20549,20554,20556,20558,20561,20562,20563,20567,20569,20575,20576,20578,20579,20582,20583,20586,20589,20593,20609,20611,20612,20614,20618,20622,20623,20624,20626,20627,20630,20635,20636,20638,20639,20640,20641,20642,20650,20655,20656,20665,20666,20669,20672,20675,20676,20679,20684,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20686,20688,20691,20692,20700,20701,20703,20706,20708,20710,20712,20713,20719,20721,20722,20726,20730,20734,20739,20742,20743,20744,20747,20748,20749,20750,20752,20759,20761,20763,20764,20765,20766,20771,20775,20776,20780,20781,20783,20785,20787,20788,20789,20792,20793,20802,20815,20819,20821,20823,20824,20831,20838,20862,20867,20868,20875,20878,20888,20897,20899,20909,20920,20922,20924,20927,20930,20936,20943,20945,20946,20947,20949,20952,20958,20962,20965,20974,20978,20979,20980,20983,20993,20994,20997,21010,21011,21014,21016,21026,21032,21041,21042,21045,21052,21061,21065,21077,21079,21080,21082,21084,21087,21088,21089,21094,21102,21111,21112,21113,21120,21122,21125,21130,21132,21139,21141,21142,21143,21144,21146,21156,21157,21159,21168,21174,21175,21176,21178,21179,21181,21188,21190,21192,21196,21199,21201,21204,21206,21212,21217,21221,21224,21225,21226,21228,21232,21233,21236,21238,21239,21251,21258,21259,21260,21265,21267,21272,21275,21276,21278,21279,21285,21287,21288,21289,21291,21292,21293,21296,21298,21301,21308,21309,21310,21314,21323,21324,21337,21339,21345,21347,21349,21356,21357,21369,21374,21379,21383,21384,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21390,21396,21401,21405,21409,21412,21418,21419,21423,21428,21429,21431,21432,21434,21437,21440,21445,21455,21458,21459,21461,21466,21470,21472,21478,21479,21493,21506,21523,21530,21537,21543,21544,21546,21551,21553,21556,21557,21571,21572,21575,21581,21583,21598,21602,21604,21606,21607,21609,21611,21613,21614,21620,21631,21633,21635,21637,21640,21641,21645,21649,21653,21654,21663,21665,21670,21671,21674,21677,21678,21681,21687,21689,21690,21691,21695,21702,21706,21709,21710,21728,21738,21740,21743,21750,21756,21758,21760,21761,21765,21768,21769,21772,21773,21774,21781,21802,21803,21810,21813,21814,21819,21820,21821,21825,21831,21833,21834,21837,21840,21841,21848,21850,21851,21854,21856,21857,21860,21862,21887,21889,21890,21896,21902,21903,21905,21906,21907,21908,21911,21923,21924,21933,21938,21951,21953,21955,21958,21961,21963,21964,21966,21969,21970,21971,21975,21976,21979,21982,21986,21993,22006,22015,22021,22024,22026,22029,22030,22031,22032,22033,22034,22041,22060,22064,22067,22069,22071,22073,22075,22076,22077,22079,22080,22081,22083,22084,22086,22089,22091,22093,22095,22100,22110,22112,22113,22114,22115,22118,22121,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22125,22127,22129,22130,22133,22148,22149,22152,22155,22156,22165,22169,22170,22173,22174,22175,22182,22183,22184,22185,22187,22188,22189,22193,22195,22199,22206,22213,22217,22218,22219,22220,22221,22223,22224,22233,22236,22237,22239,22241,22244,22245,22246,22247,22248,22251,22253,22257,22262,22263,22273,22274,22279,22282,22284,22289,22293,22298,22299,22301,22304,22306,22307,22308,22309,22313,22314,22316,22318,22319,22323,22324,22333,22334,22335,22341,22342,22348,22349,22354,22370,22375,22376,22379,22381,22382,22383,22384,22385,22387,22388,22389,22391,22393,22394,22395,22396,22398,22401,22403,22412,22420,22421,22423,22425,22426,22428,22429,22430,22431,22433,22439,22440,22441,22456,22461,22476,22479,22485,22493,22494,22497,22500,22502,22503,22505,22509,22512,22517,22518,22520,22525,22526,22527,22531,22532,22536,22537,22540,22541,22555,22558,22559,22560,22566,22567,22573,22578,22585,22591,22601,22604,22605,22607,22608,22613,22623,22625,22628,22631,22632,22648,22652,22655,22656,22657,22663,22664,22665,22666,22668,22669,22671,22672,22676,22678,22685,22688,22689,22690,22694,22697,22705,22716,22722,22724,22728,22733,22734,22736,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22738,22740,22742,22746,22749,22753,22754,22761,22771,22789,22790,22796,22802,22803,22804,22813,22817,22819,22820,22824,22831,22832,22835,22837,22838,22847,22851,22854,22866,22873,22878,22879,22881,22891,22893,22895,22898,22901,22902,22905,22907,22908,22923,22924,22926,22930,22933,22935,22943,22951,22957,22958,22959,22960,22963,22967,22972,22977,22979,22980,22984,22986,22989,22994,23005,23006,23007,23011,23012,23015,23022,23023,23025,23026,23028,23031,23040,23044,23052,23053,23054,23058,23059,23070,23075,23076,23079,23080,23082,23085,23088,23108,23109,23111,23112,23116,23120,23125,23134,23139,23141,23143,23149,23159,23162,23163,23166,23179,23184,23187,23190,23193,23196,23198,23199,23200,23202,23207,23212,23217,23218,23219,23221,23224,23226,23227,23231,23236,23238,23240,23247,23258,23260,23264,23269,23274,23278,23285,23286,23293,23296,23297,23304,23319,23321,23323,23325,23329,23333,23341,23348,23352,23361,23371,23372,23378,23390,23400,23406,23407,23420,23421,23422,23423,23425,23428,23430,23434,23438,23440,23441,23443,23444,23446,23464,23465,23468,23469,23471,23473,23474,23479,23482,23484,23489,23501,23503,23510,23511,23513,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23514,23520,23535,23537,23540,23549,23564,23575,23583,23587,23590,23593,23595,23596,23598,23600,23602,23605,23606,23641,23642,23644,23650,23651,23655,23656,23657,23661,23664,23668,23669,23674,23675,23676,23677,23687,23688,23690,23695,23698,23709,23711,23712,23714,23715,23722,23730,23732,23733,23753,23755,23762,23767,23773,23790,23793,23794,23796,23809,23814,23821,23826,23843,23844,23846,23851,23857,23860,23865,23869,23871,23875,23878,23880,23882,23889,23893,23897,23903,23904,23905,23906,23908,23914,23920,23929,23930,23934,23935,23937,23939,23944,23946,23954,23955,23956,23957,23961,23963,23967,23968,23975,23979,23984,23986,23988,24003,24007,24011,24014,24024,24025,24032,24036,24041,24056,24057,24064,24071,24077,24082,24084,24085,24088,24095,24096,24104,24110,24114,24117,24126,24137,24139,24144,24145,24150,24152,24155,24156,24158,24168,24170,24171,24172,24173,24174,24176,24192,24203,24206,24226,24228,24229,24232,24234,24236,24241,24243,24253,24254,24255,24262,24267,24268,24270,24273,24274,24276,24277,24284,24286,24293,24299,24322,24326,24327,24328,24334,24345,24348,24349,24354,24355,24356,24360,24363,24364,24366,24368,24374,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24379,24381,24383,24384,24388,24391,24397,24400,24404,24408,24411,24416,24419,24420,24431,24434,24436,24437,24440,24442,24445,24446,24457,24461,24463,24470,24476,24477,24482,24484,24487,24491,24492,24495,24496,24497,24504,24516,24519,24520,24521,24523,24528,24529,24530,24531,24532,24545,24546,24552,24553,24554,24556,24557,24558,24559,24562,24563,24566,24570,24572,24583,24586,24589,24595,24596,24599,24600,24602,24607,24612,24621,24627,24629,24640,24647,24648,24649,24652,24657,24660,24662,24663,24673,24679,24689,24702,24703,24706,24710,24712,24718,24721,24723,24725,24728,24733,24734,24738,24740,24741,24744,24752,24753,24759,24763,24766,24770,24772,24776,24777,24778,24779,24782,24783,24788,24793,24795,24797,24802,24805,24821,24824,24828,24829,24834,24839,24842,24844,24848,24850,24851,24852,24854,24855,24857,24860,24862,24866,24874,24875,24881,24885,24886,24889,24897,24901,24902,24905,24926,24928,24940,24946,24952,24955,24956,24959,24960,24961,24963,24964,24971,24973,24978,24979,24983,24988,24989,24991,24992,24997,25e3,25002,25005,25016,25017,25020,25024,25025,25026,25038,25039,25045,25052,25053,25054,25055,25057,25058,25061,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25063,25065,25068,25069,25071,25089,25091,25092,25095,25109,25116,25120,25122,25123,25127,25129,25131,25145,25149,25154,25155,25156,25158,25164,25168,25169,25170,25172,25174,25178,25180,25188,25197,25199,25203,25210,25213,25229,25230,25231,25232,25256,25267,25270,25271,25274,25278,25279,25284,25294,25301,25302,25306,25322,25330,25332,25340,25341,25347,25348,25354,25355,25357,25360,25363,25366,25368,25385,25386,25389,25397,25398,25401,25404,25409,25410,25411,25412,25414,25418,25419,25422,25426,25427,25428,25432,25435,25445,25446,25452,25453,25457,25460,25461,25464,25468,25469,25471,25474,25476,25479,25482,25488,25492,25493,25497,25498,25502,25508,25510,25517,25518,25519,25533,25537,25541,25544,25550,25553,25555,25556,25557,25564,25568,25573,25578,25580,25586,25587,25592,25593,25609,25610,25616,25618,25620,25624,25630,25632,25634,25636,25637,25641,25642,25647,25648,25653,25661,25663,25675,25679,25681,25682,25683,25684,25690,25691,25692,25693,25695,25697,25699,25709,25715,25716,25723,25725,25733,25735,25743,25744,25745,25752,25753,25755,25759,25761,25763,25766,25768,25772,25779,25789,25790,25791,25796,25801,25802,25803,25804,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25808,25809,25813,25815,25828,25829,25833,25834,25837,25840,25845,25847,25851,25855,25857,25860,25864,25865,25866,25871,25875,25876,25878,25881,25883,25886,25887,25890,25894,25897,25902,25905,25914,25916,25917,25923,25927,25929,25936,25938,25940,25951,25952,25959,25963,25978,25981,25985,25989,25994,26002,26005,26008,26013,26016,26019,26022,26030,26034,26035,26036,26047,26050,26056,26057,26062,26064,26068,26070,26072,26079,26096,26098,26100,26101,26105,26110,26111,26116,26120,26125,26129,26130,26134,26141,26145,26146,26147,26150,26153,26154,26155,26156,26160,26163,26167,26169,26176,26181,26182,26186,26188,26190,26193,26200,26203,26204,26208,26209,26218,26219,26220,26229,26231,26232,26233,26235,26236,26238,26239,26240,26251,26252,26253,26256,26258,26266,26267,26268,26271,26276,26285,26289,26293,26299,26304,26306,26307,26312,26316,26318,26319,26324,26331,26335,26344,26347,26348,26350,26373,26375,26387,26393,26396,26400,26402,26419,26430,26437,26439,26440,26444,26452,26453,26461,26476,26478,26484,26486,26491,26497,26500,26510,26511,26513,26515,26518,26520,26521,26523,26544,26545,26546,26549,26556,26557,26562,26563,26565,26568,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26569,26578,26583,26585,26588,26593,26598,26608,26610,26614,26615,26617,26644,26649,26653,26655,26663,26664,26668,26669,26671,26672,26673,26675,26683,26687,26693,26698,26700,26709,26711,26712,26715,26731,26734,26735,26736,26737,26738,26741,26745,26746,26747,26748,26754,26756,26758,26760,26774,26776,26778,26780,26785,26787,26789,26793,26794,26798,26802,26811,26821,26828,26832,26833,26835,26838,26841,26844,26845,26853,26856,26858,26859,26860,26861,26864,26865,26869,26870,26875,26876,26877,26886,26889,26890,26896,26897,26899,26902,26903,26929,26931,26933,26936,26939,26946,26949,26953,26958,26967,26971,26979,26980,26981,26982,26985,26988,26992,26993,26994,27002,27003,27007,27008,27021,27026,27030,27041,27045,27046,27048,27051,27053,27055,27063,27064,27066,27068,27077,27080,27089,27094,27095,27109,27118,27119,27121,27123,27125,27134,27136,27137,27139,27151,27153,27157,27162,27165,27168,27172,27176,27186,27188,27191,27195,27198,27199,27205,27209,27210,27214,27216,27217,27218,27221,27222,27227,27236,27239,27242,27249,27265,27267,27270,27271,27273,27275,27281,27291,27293,27294,27295,27301,27307,27311,27312,27313,27316,27325,27326,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27327,27334,27336,27337,27340,27344,27348,27349,27350,27356,27357,27367,27372,27376,27377,27378,27388,27389,27394,27395,27398,27399,27401,27407,27408,27409,27415,27419,27422,27428,27432,27435,27436,27439,27445,27446,27451,27455,27462,27466,27469,27474,27478,27480,27485,27488,27495,27499,27502,27504,27509,27517,27518,27522,27525,27543,27547,27551,27552,27554,27555,27560,27561,27564,27565,27566,27568,27576,27577,27581,27582,27587,27588,27593,27596,27610,27617,27619,27622,27623,27630,27633,27639,27641,27647,27650,27652,27653,27657,27661,27662,27664,27666,27673,27679,27686,27687,27688,27692,27694,27699,27701,27702,27706,27707,27722,27723,27725,27727,27730,27732,27737,27739,27751,27755,27757,27764,27766,27768,27769,27771,27781,27783,27785,27796,27797,27799,27800,27804,27807,27824,27826,27828,27842,27846,27853,27855,27856,27857,27858,27860,27862,27868,27872,27879,27881,27883,27884,27886,27890,27892,27911,27914,27918,27919,27921,27923,27930,27942,27943,27944,27950,27951,27953,27961,27964,27967,27991,27998,27999,28001,28005,28007,28016,28028,28034,28049,28050,28052,28055,28056,28074,28084,28087,28089,28093,28095,28100,28104,28106,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28110,28118,28123,28125,28127,28128,28130,28133,28137,28143,28144,28148,28150,28160,28164,28190,28194,28210,28214,28219,28228,28229,28232,28233,28235,28239,28241,28242,28243,28244,28247,28253,28254,28258,28259,28264,28275,28283,28285,28301,28307,28313,28320,28327,28333,28334,28337,28339,28347,28352,28353,28355,28359,28360,28362,28365,28366,28367,28395,28397,28398,28409,28411,28413,28420,28424,28426,28428,28429,28438,28440,28442,28443,28454,28457,28458,28461,28463,28464,28467,28470,28475,28476,28495,28497,28498,28499,28503,28505,28506,28509,28510,28513,28514,28520,28524,28541,28542,28547,28551,28555,28556,28557,28560,28562,28563,28564,28566,28570,28575,28576,28581,28582,28583,28584,28590,28591,28592,28598,28604,28613,28615,28616,28618,28634,28638,28648,28649,28656,28665,28668,28669,28672,28678,28685,28695,28704,28707,28719,28724,28727,28729,28732,28739,28740,28744,28745,28746,28747,28750,28756,28757,28765,28766,28772,28773,28780,28782,28789,28790,28798,28801,28806,28820,28821,28822,28823,28824,28827,28836,28848,28849,28852,28855,28874,28881,28883,28884,28885,28886,28888,28892,28900,28922,28931,28933,28934,28935,28939,28940,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28958,28960,28971,28973,28975,28976,28977,28984,28993,28997,29002,29003,29008,29010,29015,29018,29022,29024,29032,29049,29056,29061,29063,29068,29074,29082,29083,29088,29090,29103,29104,29106,29107,29114,29119,29120,29124,29131,29132,29139,29142,29145,29146,29148,29176,29184,29191,29192,29193,29203,29207,29210,29213,29215,29220,29227,29231,29236,29240,29241,29249,29250,29251,29253,29262,29263,29264,29267,29269,29270,29274,29276,29278,29280,29283,29288,29291,29294,29295,29297,29303,29304,29307,29308,29311,29316,29321,29325,29326,29331,29339,29352,29357,29358,29364,29377,29383,29385,29388,29397,29398,29400,29407,29413,29427,29428,29434,29435,29438,29442,29444,29445,29447,29451,29453,29458,29459,29464,29465,29470,29474,29479,29480,29484,29489,29490,29493,29498,29499,29501,29507,29517,29520,29522,29526,29528,29533,29534,29535,29536,29542,29543,29545,29547,29548,29550,29551,29553,29561,29564,29568,29569,29571,29573,29574,29582,29584,29587,29589,29591,29592,29596,29598,29599,29600,29602,29605,29606,29610,29611,29613,29621,29623,29625,29628,29631,29637,29638,29643,29644,29647,29651,29657,29661,29665,29670,29671,29673,29684,29687,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29689,29690,29691,29693,29695,29696,29697,29700,29706,29713,29722,29723,29732,29736,29739,29740,29741,29743,29744,29745,29753,29760,29763,29764,29766,29767,29771,29773,29777,29778,29783,29789,29798,29799,29800,29803,29805,29806,29809,29810,29824,29825,29829,29830,29831,29839,29840,29841,29842,29848,29849,29850,29852,29856,29857,29859,29862,29864,29865,29866,29867,29870,29871,29873,29874,29877,29881,29883,29887,29896,29897,29900,29904,29907,29912,29914,29915,29918,29919,29924,29928,29930,29931,29935,29940,29946,29947,29948,29951,29958,29970,29974,29975,29984,29985,29988,29991,29993,29994,30006,30009,30013,30014,30015,30016,30019,30023,30024,30030,30032,30034,30039,30046,30047,30049,30065,30073,30074,30075,30076,30077,30078,30081,30085,30096,30098,30099,30101,30105,30108,30114,30116,30132,30138,30143,30144,30145,30148,30150,30156,30158,30159,30167,30172,30175,30176,30177,30180,30183,30188,30190,30191,30193,30201,30208,30210,30211,30212,30215,30216,30218,30220,30223,30226,30227,30229,30230,30233,30235,30236,30237,30238,30243,30245,30246,30249,30253,30258,30259,30261,30264,30265,30266,30268,30272,30273,30275,30276,30277,30281,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30282,30283,30293,30297,30303,30308,30309,30317,30318,30319,30321,30324,30337,30341,30348,30349,30357,30365,30367,30368,30370,30371,30372,30373,30375,30376,30378,30381,30397,30401,30405,30409,30411,30412,30414,30420,30425,30432,30438,30440,30444,30448,30449,30454,30457,30460,30464,30470,30474,30478,30482,30484,30485,30487,30489,30490,30492,30498,30504,30509,30510,30511,30516,30517,30518,30521,30525,30526,30530,30533,30538,30541,30542,30543,30546,30550,30551,30556,30558,30559,30560,30562,30564,30567,30570,30572,30576,30578,30579,30580,30586,30589,30592,30596,30604,30605,30612,30613,30614,30618,30623,30626,30631,30634,30638,30639,30641,30645,30654,30659,30665,30673,30674,30677,30681,30686,30687,30688,30692,30694,30698,30700,30704,30705,30708,30712,30715,30725,30726,30729,30733,30734,30737,30749,30754,30755,30765,30766,30768,30773,30775,30787,30788,30791,30792,30796,30802,30812,30814,30816,30817,30819,30824,30826,30830,30846,30858,30863,30868,30872,30877,30878,30879,30881,30884,30888,30892,30893,30896,30897,30898,30899,30907,30909,30911,30919,30920,30921,30924,30926,30930,30931,30933,30934,30939,30943,30944,30945,30948,30950,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30954,30962,30963,30966,30967,30970,30971,30975,30976,30982,30988,30992,31002,31004,31006,31007,31008,31013,31015,31017,31021,31025,31028,31029,31035,31037,31039,31044,31045,31046,31050,31051,31055,31057,31060,31064,31067,31068,31079,31081,31083,31090,31097,31099,31100,31102,31115,31116,31121,31123,31125,31126,31128,31132,31137,31144,31145,31147,31151,31153,31156,31160,31163,31170,31172,31175,31176,31178,31183,31188,31190,31194,31197,31198,31200,31202,31205,31210,31211,31213,31217,31224,31228,31234,31235,31239,31241,31242,31244,31249,31253,31259,31262,31265,31271,31275,31277,31279,31280,31284,31285,31288,31289,31290,31300,31301,31303,31304,31308,31317,31318,31321,31324,31325,31327,31328,31333,31335,31338,31341,31349,31352,31358,31360,31362,31365,31366,31370,31371,31376,31377,31380,31390,31392,31395,31404,31411,31413,31417,31419,31420,31430,31433,31436,31438,31451,31464,31465,31468,31473,31476,31483,31485,31486,31495,31508,31519,31523,31527,31529,31530,31531,31533,31534,31535,31536,31537,31540,31549,31551,31552,31553,31559,31566,31573,31584,31588,31590,31593,31594,31597,31599,31602,31603,31607,31620,31625,31630,31632,31633,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31638,31643,31648,31653,31660,31663,31664,31666,31669,31670,31674,31675,31676,31677,31682,31685,31688,31690,31700,31702,31703,31705,31706,31707,31720,31722,31730,31732,31733,31736,31737,31738,31740,31742,31745,31746,31747,31748,31750,31753,31755,31756,31758,31759,31769,31771,31776,31781,31782,31784,31788,31793,31795,31796,31798,31801,31802,31814,31818,31825,31826,31827,31829,31833,31834,31835,31836,31837,31838,31841,31843,31847,31849,31853,31854,31856,31858,31865,31868,31869,31878,31879,31887,31892,31902,31904,31910,31920,31926,31927,31930,31931,31932,31935,31940,31943,31944,31945,31949,31951,31955,31956,31957,31959,31961,31962,31965,31974,31977,31979,31989,32003,32007,32008,32009,32015,32017,32018,32019,32022,32029,32030,32035,32038,32042,32045,32049,32060,32061,32062,32064,32065,32071,32077,32081,32083,32087,32089,32090,32093,32101,32103,32106,32112,32120,32122,32123,32127,32129,32130,32131,32133,32134,32136,32139,32140,32141,32145,32150,32151,32157,32158,32166,32167,32170,32179,32182,32185,32194,32195,32196,32197,32198,32204,32205,32206,32215,32217,32226,32229,32230,32234,32235,32237,32241,32245,32246,32249,32250,32256,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32264,32272,32273,32277,32279,32284,32285,32288,32295,32296,32300,32301,32303,32307,32310,32319,32324,32325,32327,32334,32336,32344,32351,32353,32354,32357,32363,32366,32367,32371,32376,32382,32385,32390,32391,32397,32401,32405,32408,32410,32413,32414,32571,32572,32573,32574,32575,32579,32580,32591,32594,32595,32603,32604,32605,32609,32611,32612,32613,32614,32621,32625,32637,32638,32639,32640,32651,32653,32655,32656,32657,32662,32663,32668,32674,32678,32682,32685,32692,32700,32703,32704,32707,32712,32718,32719,32731,32735,32739,32741,32744,32748,32750,32751,32754,32762,32765,32766,32767,32775,32776,32778,32781,32782,32783,32785,32787,32788,32790,32797,32798,32799,32800,32804,32806,32812,32814,32816,32820,32821,32823,32825,32826,32828,32830,32832,32836,32864,32868,32870,32877,32881,32885,32897,32904,32910,32924,32926,32934,32935,32939,32952,32953,32968,32973,32975,32978,32980,32981,32983,32984,32992,33005,33006,33008,33010,33011,33014,33017,33018,33022,33027,33035,33046,33047,33048,33052,33054,33056,33060,33063,33068,33072,33077,33082,33084,33093,33095,33098,33100,33106,33111,33120,33121,33127,33128,33129,33133,33135,33143,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33153,33156,33157,33158,33163,33166,33168,33174,33176,33179,33182,33186,33198,33202,33204,33211,33219,33221,33226,33227,33230,33231,33237,33239,33243,33245,33246,33249,33252,33259,33260,33264,33265,33266,33269,33270,33272,33273,33277,33279,33280,33283,33295,33299,33300,33305,33306,33309,33313,33314,33320,33330,33332,33338,33347,33348,33349,33350,33355,33358,33359,33361,33366,33372,33376,33379,33383,33389,33396,33403,33405,33407,33408,33409,33411,33412,33415,33417,33418,33422,33425,33428,33430,33432,33434,33435,33440,33441,33443,33444,33447,33448,33449,33450,33454,33456,33458,33460,33463,33466,33468,33470,33471,33478,33488,33493,33498,33504,33506,33508,33512,33514,33517,33519,33526,33527,33533,33534,33536,33543,33544,33546,33547,33563,33565,33566,33567,33569,33570,33580,33581,33582,33584,33587,33591,33594,33596,33597,33602,33603,33604,33607,33613,33614,33617,33619,33620,33621,33622,33623,33648,33656,33661,33664,33666,33668,33670,33677,33682,33684,33685,33688,33689,33691,33692,33693,33702,33703,33705,33708,33709,33726,33727,33728,33737,33743,33744,33745,33748,33757,33768,33770,33784,33785,33788,33793,33798,33802,33807,33809,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33813,33817,33839,33849,33861,33863,33866,33869,33871,33873,33874,33878,33880,33881,33882,33884,33888,33892,33893,33895,33898,33904,33907,33908,33910,33912,33916,33917,33921,33925,33938,33939,33941,33950,33958,33960,33961,33962,33967,33969,33978,33981,33982,33984,33986,33991,33992,33996,33999,34003,34023,34026,34031,34032,34033,34034,34039,34042,34043,34045,34050,34051,34055,34060,34062,34064,34076,34078,34082,34083,34084,34085,34087,34090,34091,34095,34098,34099,34100,34102,34111,34118,34127,34128,34129,34130,34134,34140,34141,34142,34143,34144,34145,34146,34148,34159,34169,34170,34171,34173,34175,34177,34181,34182,34185,34187,34188,34191,34195,34200,34205,34207,34208,34210,34213,34215,34221,34228,34230,34231,34232,34236,34237,34238,34239,34242,34247,34250,34251,34254,34264,34266,34271,34272,34278,34280,34285,34291,34294,34300,34303,34304,34308,34309,34317,34318,34320,34321,34322,34328,34329,34331,34334,34337,34343,34345,34358,34360,34362,34364,34365,34368,34369,34370,34374,34386,34387,34390,34391,34392,34393,34397,34400,34401,34402,34403,34404,34409,34412,34415,34421,34422,34423,34426,34440,34445,34449,34454,34456,34458,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34460,34465,34470,34471,34472,34477,34481,34483,34484,34485,34487,34488,34489,34495,34496,34497,34499,34501,34513,34514,34517,34519,34522,34524,34528,34531,34533,34535,34554,34556,34557,34564,34565,34567,34571,34574,34575,34576,34579,34580,34585,34590,34591,34593,34595,34600,34606,34607,34609,34610,34617,34618,34620,34621,34622,34624,34627,34629,34637,34648,34653,34657,34660,34661,34671,34673,34674,34683,34691,34692,34693,34694,34695,34696,34697,34699,34700,34704,34707,34709,34711,34712,34713,34718,34720,34723,34727,34732,34733,34734,34737,34741,34750,34751,34753,34760,34761,34762,34766,34773,34774,34777,34778,34780,34783,34786,34787,34788,34794,34795,34797,34801,34803,34808,34810,34815,34817,34819,34822,34825,34826,34827,34832,34834,34835,34836,34840,34841,34842,34843,34844,34846,34847,34856,34861,34862,34864,34866,34869,34874,34876,34881,34883,34885,34888,34889,34890,34891,34894,34897,34901,34902,34904,34906,34908,34911,34912,34916,34921,34929,34937,34939,34944,34968,34970,34971,34972,34975,34976,34984,34986,35002,35005,35006,35008,35018,35019,35020,35021,35022,35025,35026,35027,35035,35038,35047,35055,35056,35057,35063,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35073,35078,35085,35086,35087,35093,35094,35096,35097,35098,35104,35110,35111,35112,35120,35121,35122,35125,35129,35130,35134,35136,35138,35141,35142,35145,35151,35154,35159,35162,35163,35164,35169,35170,35171,35179,35182,35184,35187,35189,35194,35195,35196,35197,35209,35213,35216,35220,35221,35227,35228,35231,35232,35237,35248,35252,35253,35254,35255,35260,35284,35285,35286,35287,35288,35301,35305,35307,35309,35313,35315,35318,35321,35325,35327,35332,35333,35335,35343,35345,35348,35349,35358,35360,35362,35364,35366,35371,35372,35375,35381,35389,35390,35392,35395,35397,35399,35401,35405,35406,35411,35414,35415,35416,35420,35421,35425,35429,35431,35445,35446,35447,35450,35451,35454,35455,35456,35459,35462,35467,35471,35472,35474,35478,35479,35481,35487,35497,35502,35503,35507,35510,35511,35515,35523,35526,35528,35529,35530,35537,35539,35540,35541,35543,35549,35564,35568,35572,35573,35580,35583,35589,35590,35594,35595,35601,35612,35614,35615,35629,35632,35639,35644,35650,35651,35652,35653,35654,35656,35661,35666,35668,35673,35678,35683,35693,35702,35704,35705,35708,35710,35713,35716,35717,35723,35725,35727,35732,35733,35740,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35742,35743,35896,35897,35901,35902,35909,35911,35913,35915,35919,35921,35923,35924,35927,35928,35929,35931,35933,35939,35940,35942,35944,35945,35949,35955,35957,35958,35963,35966,35974,35975,35979,35984,35986,35987,35993,35995,35996,36004,36025,36026,36037,36038,36041,36043,36047,36053,36054,36057,36061,36065,36072,36076,36079,36082,36085,36087,36088,36094,36095,36097,36099,36105,36119,36123,36197,36201,36204,36206,36223,36226,36228,36232,36237,36240,36241,36245,36254,36255,36256,36262,36267,36268,36271,36274,36277,36279,36281,36283,36284,36288,36293,36294,36295,36296,36298,36302,36305,36308,36309,36311,36313,36324,36325,36327,36332,36336,36337,36338,36340,36349,36353,36356,36357,36358,36363,36369,36372,36374,36384,36385,36386,36387,36390,36391,36401,36403,36406,36407,36408,36409,36413,36416,36417,36427,36429,36430,36431,36436,36443,36444,36445,36446,36449,36450,36457,36460,36461,36463,36464,36465,36473,36474,36475,36482,36483,36489,36496,36498,36501,36506,36507,36509,36510,36514,36519,36521,36525,36526,36531,36533,36538,36539,36544,36545,36547,36548,36551,36561,36564,36572,36584,36589,36590,36592,36593,36599,36601,36602,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36608,36610,36615,36616,36623,36624,36630,36631,36632,36638,36640,36641,36643,36645,36647,36648,36652,36653,36654,36660,36661,36662,36663,36666,36672,36673,36675,36679,36687,36689,36690,36691,36692,36693,36696,36701,36702,36709,36765,36768,36769,36772,36773,36774,36789,36790,36792,36798,36800,36801,36806,36810,36811,36813,36816,36818,36819,36821,36832,36835,36836,36840,36846,36849,36853,36854,36859,36862,36866,36868,36872,36876,36888,36891,36904,36905,36906,36908,36909,36911,36915,36916,36919,36927,36931,36932,36940,36955,36957,36962,36966,36972,36976,36980,36985,36997,37e3,37003,37004,37006,37008,37013,37015,37016,37017,37019,37024,37025,37026,37029,37040,37042,37043,37044,37046,37053,37054,37059,37060,37061,37063,37064,37068,37074,37077,37079,37080,37081,37084,37085,37087,37093,37099,37103,37104,37108,37110,37118,37119,37120,37124,37125,37126,37128,37133,37136,37140,37142,37143,37144,37146,37148,37150,37152,37154,37155,37157,37161,37166,37167,37169,37172,37174,37175,37177,37178,37180,37181,37187,37191,37192,37199,37203,37207,37209,37210,37211,37217,37220,37223,37229,37236,37241,37242,37243,37249,37251,37253,37254,37258,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37262,37265,37267,37268,37269,37272,37278,37281,37286,37288,37292,37293,37294,37296,37297,37298,37299,37302,37307,37308,37309,37311,37314,37315,37317,37331,37332,37337,37353,37354,37356,37359,37360,37361,37367,37369,37371,37373,37376,37377,37380,37381,37383,37385,37388,37394,37395,37398,37400,37404,37405,37411,37412,37413,37414,37416,37422,37423,37424,37427,37429,37430,37432,37438,37442,37443,37446,37447,37450,37453,37455,37464,37468,37469,37472,37473,37477,37480,37481,37486,37487,37488,37493,37494,37497,37499,37500,37501,37503,37513,37514,37517,37518,37522,37527,37529,37535,37536,37540,37541,37544,37547,37551,37554,37558,37560,37562,37563,37564,37565,37567,37568,37569,37570,37571,37573,37574,37575,37576,37579,37580,37581,37582,37592,37596,37597,37599,37601,37603,37605,37608,37612,37614,37616,37632,37640,37645,37649,37652,37653,37660,37663,37668,37671,37673,37674,37683,37684,37686,37687,37703,37705,37712,37713,37714,37717,37720,37722,37726,37732,37733,37735,37737,37738,37741,37743,37745,37747,37748,37750,37754,37757,37759,37760,37761,37762,37768,37770,37771,37773,37775,37778,37781,37784,37787,37790,37793,37795,37798,37800,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37801,37803,37812,37813,37814,37818,37825,37828,37829,37831,37833,37834,37835,37836,37837,37843,37849,37852,37855,37858,37862,37863,37879,37881,37882,37883,37885,37889,37890,37892,37896,37897,37901,37902,37903,37909,37910,37911,37919,37934,37935,37938,37939,37940,37947,37949,37951,37955,37962,37964,37973,37977,37980,37983,37985,37987,37992,37995,37997,37998,37999,38001,38002,38019,38020,38264,38265,38270,38276,38280,38284,38285,38286,38301,38302,38303,38305,38310,38313,38315,38316,38324,38326,38330,38333,38335,38342,38344,38345,38347,38352,38353,38354,38355,38361,38362,38365,38366,38367,38368,38372,38374,38429,38430,38434,38436,38437,38438,38444,38449,38451,38455,38456,38457,38458,38460,38461,38465,38482,38484,38486,38487,38488,38497,38510,38516,38523,38524,38526,38527,38529,38530,38531,38532,38537,38545,38550,38554,38559,38564,38565,38566,38569,38574,38579,38586,38602,38610,38616,38618,38621,38622,38623,38633,38639,38641,38650,38658,38659,38661,38665,38682,38683,38685,38689,38690,38691,38696,38705,38721,38730,38734,38743,38744,38746,38747,38755,38759,38762,38766,38771,38774,38775,38776,38779,38781,38783,38784,38793,38805,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38806,38807,38809,38810,38814,38815,38818,38828,38830,38833,38834,38837,38838,38840,38841,38842,38844,38846,38847,38849,38852,38853,38855,38857,38858,38860,38861,38862,38864,38865,38868,38871,38872,38873,38875,38877,38878,38880,38881,38884,38895,38897,38900,38903,38904,38906,38919,38922,38925,38926,38932,38934,38937,38940,38942,38944,38947,38949,38950,38955,38958,38959,38960,38962,38963,38965,38974,38980,38983,38986,38993,38994,38995,38998,39001,39002,39010,39011,39014,39018,39020,39083,39085,39086,39088,39092,39095,39096,39098,39099,39103,39106,39109,39112,39116,39137,39139,39141,39142,39143,39146,39155,39158,39170,39175,39176,39185,39189,39190,39191,39194,39195,39196,39199,39202,39206,39211,39217,39218,39219,39220,39221,39225,39226,39227,39228,39232,39233,39238,39239,39240,39245,39246,39252,39256,39257,39259,39260,39262,39263,39264,39323,39325,39327,39334,39344,39345,39346,39349,39353,39354,39357,39359,39363,39369,39379,39380,39385,39386,39388,39390,39399,39402,39403,39404,39408,39412,39413,39417,39421,39422,39426,39427,39428,39435,39436,39440,39441,39446,39454,39456,39458,39459,39460,39463,39469,39470,39475,39477,39478,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39480,39489,39492,39495,39498,39499,39500,39505,39508,39510,39517,39594,39596,39598,39599,39602,39604,39605,39606,39609,39611,39614,39615,39617,39619,39622,39624,39630,39632,39634,39637,39638,39639,39643,39648,39652,39653,39655,39657,39660,39666,39667,39669,39673,39674,39677,39679,39680,39681,39682,39683,39684,39685,39688,39689,39691,39692,39693,39694,39696,39698,39702,39705,39707,39708,39712,39718,39723,39725,39731,39732,39733,39735,39737,39738,39741,39752,39755,39756,39765,39766,39767,39771,39774,39777,39779,39781,39782,39784,39786,39787,39788,39789,39790,39795,39799,39800,39801,39807,39808,39812,39813,39814,39815,39817,39818,39819,39821,39824,39828,39834,39837,39838,39846,39847,39849,39852,39856,39858,39863,39864,39868,39870,39871,39873,39879,39880,39886,39888,39895,39896,39901,39903,39909,39911,39914,39915,39919,39923,39927,39928,39929,39930,39933,39935,39938,39947,39951,39953,39958,39960,39961,39962,39964,39966,39970,39971,39974,39975,39976,39977,39978,39985,39989,39990,39991,39997,40001,40003,40004,40005,40009,40010,40014,40015,40016,40019,40020,40022,40024,40027,40028,40029,40030,40031,40035,40040,40041,40042,40043,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40046,40048,40050,40053,40055,40059,40166,40178,40183,40185,40194,40203,40209,40215,40216,40220,40221,40222,40239,40240,40242,40243,40244,40250,40252,40253,40258,40259,40261,40263,40266,40275,40276,40287,40290,40291,40293,40297,40298,40310,40311,40315,40316,40318,40323,40324,40326,40330,40333,40334,40338,40339,40341,40342,40343,40344,40353,40362,40364,40366,40369,40373,40377,40380,40383,40387,40391,40393,40394,40404,40405,40406,40407,40410,40414,40415,40416,40421,40423,40425,40427,40430,40432,40435,40436,40446,40450,40455,40458,40462,40464,40465,40466,40469,40470,40476,40477,40570,40571,40572,40576,40578,40579,40580,40581,40583,40590,40591,40598,40600,40603,40606,40612,40616,40620,40622,40623,40624,40627,40628,40629,40646,40648,40651,40661,40671,40676,40679,40684,40685,40686,40688,40689,40690,40693,40696,40703,40706,40707,40713,40719,40720,40721,40722,40724,40726,40727,40729,40730,40731,40735,40738,40742,40746,40747,40751,40753,40754,40756,40759,40761,40762,40764,40765,40767,40769,40771,40772,40773,40774,40775,40787,40789,40790,40791,40792,40794,40797,40798,40808,40809,40813,40814,40815,40816,40817,40819,40821,40826,40829,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40847,40848,40849,40850,40852,40854,40855,40862,40865,40866,40867,40869,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,160,161,164,169,170,171,173,174,175,178,179,181,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,248,249,250,251,252,253,254,255,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,450,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,501,506,507,508,509,510,511,403,504,505,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,65533,65533,65533,65533,65533,65533,65533,710,711,712,713,716,717,720,721,722,723,724,725,726,728,729,730,731,732,733,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,734,741,742,743,744,745,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,884,885,890,894,900,901,902,903,904,905,906,908,910,911,912,938,939,940,941,942,943,944,962,970,971,972,973,974,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1038,1039,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1118,1119,1120,1121,1122,1123,1124,1125,1126,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200,1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1223,1224,1227,1228,1232,1233,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,1250,1251,1252,1253,1254,1255,1256,1257,1258,1259,1262,1263,1264,1265,1266,1267,1268,1269,1272,1273,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,7742,7743,7808,7809,7810,7811,7812,7813,7870,7871,7872,7873,7922,7923,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8050,8048,8049,8051,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8209,8210,8211,8213,8215,8218,8219,8222,8223,8226,8227,8228,8231,8232,8233,8234,8235,8236,8237,8238,8241,8244,8245,8246,8247,8248,8249,8250,8252,8253,8255,8256,8257,8258,8259,8260,8261,8262,8263,8264,8265,8273,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8304,8308,8309,8310,8311,8312,8313,8314,8315,8316,8317,8318,8319,8320,8321,8322,8323,8324,8325,8326,8327,8328,8329,8330,8331,8332,8333,8334,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8352,8353,8354,8355,8356,8357,8358,8359,8360,8361,8362,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8448,8449,8450,8452,8453,8454,8455,8456,8457,8458,8459,8460,8461,8462,8463,8464,8465,8466,8467,8468,8469,8471,8472,8473,8474,8475,8476,8477,8478,8479,8480,8482,8483,8484,8485,8486,8487,8488,8489,8490,8492,8493,8494,8495,8496,8497,8498,8499,8500,8501,8502,8503,8504,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8531,8532,8533,8534,8535,8536,8537,8538,8539,8540,8541,8542,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8543,8554,8555,8556,8557,8558,8559,8570,8571,8572,8573,8574,8575,8576,8577,8578,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8596,8597,8598,8599,8600,8601,8602,8603,8604,8605,8606,8607,8608,8609,8610,8611,8612,8613,8614,8615,8616,8617,8618,8619,8620,8621,8622,8623,8624,8625,8626,8627,8628,8629,8630,8631,8632,8633,8634,8635,8636,8637,8638,8639,8640,8641,8642,8643,8644,8645,8646,8647,8648,8649,8650,8651,8652,8653,8654,8655,8656,8657,8659,8661,8662,8663,8664,8665,8666,8667,8668,8669,8670,8671,8672,8673,8674,8675,8676,8677,8678,8679,8680,8681,8682,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8705,8708,8709,8710,8713,8714,8716,8717,8718,8719,8720,8721,8723,8724,8725,8726,8727,8728,8729,8731,8732,8735,8737,8738,8739,8740,8741,8742,8749,8750,8751,8752,8753,8754,8755,8758,8759,8760,8761,8762,8763,8764,8766,8767,8768,8769,8770,8771,8772,8773,8774,8775,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8776,8777,8778,8779,8780,8781,8782,8783,8784,8785,8787,8788,8789,8790,8791,8792,8793,8794,8795,8796,8797,8798,8799,8802,8803,8804,8805,8808,8809,8812,8813,8814,8815,8816,8817,8818,8819,8820,8821,8822,8823,8824,8825,8826,8827,8828,8829,8830,8831,8832,8833,8836,8837,8840,8841,8842,8843,8844,8845,8846,8847,8848,8849,8850,8851,8852,8853,8854,8855,8856,8857,8858,8859,8860,8861,8862,8863,8864,8865,8866,8867,8868,8870,8871,8872,8873,8874,8875,8876,8877,8878,8879,8880,8881,8882,8883,8884,8885,8886,8887,8888,8889,8890,8891,8892,8893,8894,8895,8896,8897,8898,8899,8900,8901,8902,8903,8904,8905,8906,8907,8908,8909,8910,8911,8912,8913,8914,8915,8916,8917,8918,8919,8920,8921,8922,8923,8924,8925,8926,8927,8928,8929,8930,8931,8932,8933,8934,8935,8936,8937,8938,8939,8940,8941,8942,8943,8944,8945,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8962,8965,8966,8976,8984,8992,8993,9004,9150,9151,9152,9153,9154,9155,9156,9157,9158,9159,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9160,9161,9162,9163,9164,9166,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,9327,9328,9329,9330,9331,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351,9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371,9372,9373,9374,9375,9376,9377,9378,9379,9380,9381,9382,9383,9384,9385,9386,9387,9388,9389,9390,9391,9392,9393,9394,9395,9396,9397,9398,9399,9400,9401,9402,9403,9404,9405,9406,9407,9408,9409,9410,9411,9412,9413,9414,9415,9416,9417,9418,9419,9420,9421,9422,9423,9424,9425,9426,9427,9428,9429,9430,9431,9432,9433,9434,9435,9436,9437,9438,9439,9440,9441,9442,9443,9444,9445,9446,9447,9448,9449,9450,9451,9452,9453,9454,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9455,9456,9457,9458,9459,9460,9461,9462,9463,9464,9465,9466,9467,9468,9469,9470,65533,9476,9477,9478,9479,9480,9481,9482,9483,9485,9486,9489,9490,9493,9494,9497,9498,9502,9503,9505,9506,9510,9511,9513,9514,9517,9518,9521,9522,9525,9526,9529,9530,9533,9534,9536,9537,9539,9540,9541,9542,9543,9544,9545,9546,9548,9549,9550,9551,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9581,9582,9583,9584,9585,9586,9587,9588,9589,9590,9591,9592,9593,9594,9595,9596,9597,9598,9599,9600,9601,9602,9603,9604,9605,9606,9607,9608,9609,9610,9611,9612,9613,9614,9615,9616,9617,9618,9619,9620,9621,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9634,9635,9636,9637,9638,9639,9640,9641,9642,9643,9644,9645,9646,9647,9648,9649,9652,9653,9654,9655,9656,9657,9658,9659,9662,9663,9664,9665,9666,9667,9668,9669,9672,9673,9674,9676,9677,9680,9681,9682,9683,9684,9685,9686,9687,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9688,9689,9690,9691,9692,9693,9694,9695,9696,9697,9698,9699,9700,9701,9702,9703,9704,9705,9706,9707,9708,9709,9710,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9728,9729,9730,9731,9732,9735,9736,9737,9738,9739,9740,9741,9742,9743,9744,9745,9746,9747,9754,9755,9756,9757,9758,9759,9760,9761,9762,9763,9764,9765,9766,9767,9768,9769,9770,9771,9772,9773,9774,9775,9776,9777,9778,9779,9780,9781,9782,9783,9784,9785,9786,9787,9788,9789,9790,9791,9793,9795,9796,9797,9798,9799,9800,9801,9802,9803,9804,9805,9806,9807,9808,9809,9810,9811,9812,9813,9814,9815,9816,9817,9818,9819,9820,9821,9822,9823,9824,9825,9826,9827,9828,9829,9830,9831,9832,9833,9835,9836,9838,9750,9751,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9985,9986,9987,9988,9990,9991,9992,9993,9996,9997,9998,9999,1e4,10001,10002,10003,10004,10005,10006,10007,10008,10009,10010,10011,10012,10013,10014,10015,10016,10017,10018,10019,10020,10021,10022,10023,10025,10026,10027,10028,10029,10030,10031,10032,10033,10034,10035,10036,10037,10038,10039,10040,10041,10042,10043,10044,10045,10046,10047,10048,10049,10050,10051,10052,10053,10054,10055,10056,10057,10058,10059,10061,10063,10064,10065,10066,10070,10072,10073,10074,10075,10076,10077,10078,10081,10082,10083,10084,10085,10086,10087,10102,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,10103,10104,10105,10106,10107,10108,10109,10110,10111,10112,10113,10114,10115,10116,10117,10118,10119,10120,10121,10122,10123,10124,10125,10126,10127,10128,10129,10130,10131,10132,10136,10137,10138,10139,10140,10141,10142,10143,10144,10145,10146,10147,10148,10149,10150,10151,10152,10153,10154,10155,10156,10157,10158,10159,10161,10162,10163,10164,10165,10166,10167,10168,10169,10170,10171,10172,10173,10174,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12292,12310,12311,12312,12313,12314,12315,12317,12318,12319,12320,12336,12337,12338,12339,12340,12341,12342,12343,12347,12348,12349,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12436,12437,12438,12447,65533,65533,65533,65533,65533,12535,12536,12537,12538,12448,12543,12832,12833,12834,12835,12836,12837,12838,12839,12840,12841,12842,12843,12844,12845,12846,12847,12848,12850,12851,12852,12853,12854,12855,12856,12857,12858,12859,12860,12861,12862,12863,12864,12865,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12866,12867,12928,12929,12930,12931,12932,12933,12934,12935,12936,12937,12938,12939,12940,12941,12942,12943,12944,12945,12946,12947,12948,12949,12950,12951,12952,12953,12954,12955,12956,12957,12958,12959,12960,12961,12962,12963,12964,12965,12966,12967,12968,12969,12970,12971,12972,12973,12974,12975,12976,12992,12993,12994,12995,12996,12997,12998,12999,13e3,13001,13002,13003,13008,13009,13010,13011,13012,13013,13014,13015,13016,13017,13018,13019,13020,13021,13022,13023,13024,13025,13026,13027,13028,13029,13030,13031,13032,13033,13034,13035,13036,13037,13038,13039,13040,13041,13042,13043,13044,13045,13046,13047,13048,13049,13050,13051,13052,13053,13054,12881,12882,12883,12884,12885,12886,12887,12888,12889,12890,12891,12892,12893,12894,12895,12977,12978,12979,12980,12981,12982,12983,12984,12985,12986,12987,12988,12989,12990,12991,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,13056,13057,13058,13059,13060,13061,13062,13063,13064,13065,13066,13067,13068,13069,13070,13071,13072,13073,13074,13075,13076,13077,13078,13079,13080,13081,13082,13083,13084,13085,13086,13087,13088,13089,13090,13091,13092,13093,13094,13095,13096,13097,13098,13099,13100,13101,13102,13103,13104,13105,13106,13107,13108,13109,13110,13111,13112,13113,13114,13115,13116,13117,13118,13119,13120,13121,13122,13123,13124,13125,13126,13127,13128,13129,13130,13131,13132,13133,13134,13135,13136,13137,13138,13139,13140,13141,13142,13143,13144,13145,13146,13147,13148,13149,13150,13151,13152,13153,13154,13155,13156,13157,13158,13159,13160,13161,13162,13163,13164,13165,13166,13167,13168,13169,13170,13171,13172,13173,13174,13179,13180,13181,13182,13183,13184,13185,13186,13187,13188,13189,13190,13191,13192,13193,13194,13195,13196,13197,13198,13199,13200,13201,13202,13203,13204,13205,13206,13207,13208,13209,13210,13211,13212,13213,13214,13215,13216,13217,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,13218,13219,13220,13221,13222,13223,13224,13225,13226,13227,13228,13229,13230,13231,13232,13233,13234,13235,13236,13237,13238,13239,13240,13241,13242,13243,13244,13245,13246,13247,13248,13249,13250,13251,13252,13253,13254,13255,13256,13257,13258,13259,13260,13261,13262,13263,13264,13265,13266,13267,13268,13269,13270,13271,13272,13273,13274,13275,13276,13277,13280,13281,13282,13283,13284,13285,13286,13287,13288,13289,13290,13291,13292,13293,13294,13295,13296,13297,13298,13299,13300,13301,13302,13303,13304,13305,13306,13307,13308,13309,13310,65533,65533,65533,65533,65533,65533,65533,64257,64258,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65293,65374,65508,65533,65375,65376,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,768,769,770,771,772,65533,774,65533,776,65533,65533,779,780,65533,65533,783,65533,65533,65533,65533,65533,65533,65533,65533,792,793,794,65533,796,797,798,799,800,65533,65533,65533,804,805,65533,65533,65533,809,810,65533,812,65533,65533,815,816,65533,65533,65533,820,65533,65533,65533,65533,825,826,827,828,829,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,865,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9251,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,10548,10549,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,10687,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,10746,10747,65533,65533,65533,65533,12784,12785,12786,12787,12788,12789,12790,12791,12792,12793,12794,12795,12796,12797,12798,12799,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65093,65094,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];const ebcdic837=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12288,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,65533,65533,65533,65533,65533,65533,65533,65533,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,65533,65533,65533,65533,65533,65533,65533,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,65533,65533,65533,65533,65533,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65505,65294,65308,65288,65291,65372,65286,65533,65533,65533,65533,65533,65533,65533,65533,65533,65281,65509,65290,65289,65307,65506,65293,65295,65533,65533,65533,65533,65533,65533,65533,65533,65508,65292,65285,65343,65310,65311,65533,65533,65533,65533,65533,65533,65533,65533,65533,65344,65306,65283,65312,65533,65309,65282,65533,65345,65346,65347,65348,65349,65350,65351,65352,65353,65533,65533,65533,65533,65533,65533,65533,65354,65355,65356,65357,65358,65359,65360,65361,65362,65533,65533,65533,65533,65533,65533,65533,65507,65363,65364,65365,65366,65367,65368,65369,65370,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65371,65313,65314,65315,65316,65317,65318,65319,65320,65321,65533,65533,65533,65533,65533,65533,65373,65322,65323,65324,65325,65326,65327,65328,65329,65330,65533,65533,65533,65533,65533,65533,65284,65533,65331,65332,65333,65334,65335,65336,65337,65338,65533,65533,65533,65533,65533,65533,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12290,12300,12301,12289,183,12530,12449,12451,12453,65504,65533,65533,65533,65533,65533,65533,12455,12457,12515,12517,12519,12483,12526,12540,12533,12534,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12450,12452,12454,12456,12458,12459,12461,12463,12465,12467,65533,12469,12471,12473,12475,12477,12479,12481,12484,12486,12488,12490,12491,12492,12493,12494,65533,65533,12495,12498,12501,65533,65374,12504,12507,12510,12511,12512,12513,12514,12516,12518,65533,12520,12521,12522,12523,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12524,12525,12527,12531,12443,12444,12460,12462,12464,12466,12468,12470,12472,12474,12476,12478,12480,12482,12485,12487,12489,12496,12499,12502,12505,12508,12532,12497,12500,12503,12506,12509,12528,12529,12541,12542,65533,65533,65340,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12302,12303,65339,65341,12434,12353,12355,12357,8212,177,8800,8734,8451,65533,65287,12359,12361,12419,12421,12423,12387,12430,65533,65533,8208,12291,65533,12293,12294,12295,168,8216,8220,12308,12296,12298,12304,8804,8756,9794,167,8251,12306,12849,8470,8481,65342,8217,8221,12309,12297,12299,12305,8805,8757,9792,215,247,8214,12307,8229,8230,65533,12354,12356,12358,12360,12362,12363,12365,12367,12369,12371,65533,12373,12375,12377,12379,12381,12383,12385,12388,12390,12392,12394,12395,12396,12397,12398,65533,65533,12399,12402,12405,65533,65533,12408,12411,12414,12415,12416,12417,12418,12420,12422,65533,12424,12425,12426,12427,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12428,12429,12431,12435,65533,65533,12364,12366,12368,12370,12372,12374,12376,12378,12380,12382,12384,12386,12389,12391,12393,12400,12403,12406,12409,12412,65533,12401,12404,12407,12410,12413,12432,12433,12445,12446,65533,65533,9675,9679,9651,9650,9678,9734,9733,9671,9670,9633,9632,9661,9660,176,8242,8243,8594,8592,8593,8595,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,713,711,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,12310,12311,65533,65533,65533,65533,65533,8758,8743,8744,8721,8719,8746,8745,8712,8759,8730,8869,8741,8736,8978,8857,8747,8750,8801,8780,8776,8765,8733,65533,8814,8815,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,164,65533,65533,8240,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351,65533,65533,65533,65533,65533,65533,65533,65533,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,65533,65533,65533,65533,65533,65533,12832,12833,12834,12835,12836,12837,12838,12839,12840,12841,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,257,225,462,224,275,233,283,232,299,237,464,236,333,243,466,242,363,250,468,249,470,472,474,476,252,234,593,59335,324,328,59336,609,65533,65533,65533,65533,12549,12550,12551,12552,12553,12554,12555,12556,12557,12558,12559,12560,12561,12562,12563,12564,12565,12566,12567,12568,12569,12570,12571,12572,12573,12574,12575,12576,12577,12578,12579,12580,12581,12582,12583,12584,12585,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,9472,9473,9474,9475,9476,9477,9478,9479,9480,9481,9482,9483,9484,9485,9486,9487,9488,9489,9490,9491,9492,9493,9494,9495,9496,9497,9498,9499,9500,9501,9502,9503,9504,9505,9506,9507,9508,9509,9510,9511,9512,9513,9514,9515,9516,9517,9518,9519,9520,9521,9522,9523,9524,9525,9526,9527,9528,9529,9530,9531,9532,9533,9534,9535,9536,9537,9538,9539,9540,9541,9542,9543,9544,9545,9546,9547,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65077,65078,65081,65082,65087,65088,65085,65086,65089,65090,65091,65092,65083,65084,65079,65080,65073,65075,65076,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21834,38463,22467,25384,21710,21769,21696,30353,30284,34108,30702,33406,30861,29233,38552,38797,27688,23433,20474,25353,26263,23736,33018,26696,32942,26114,30414,20985,25942,29100,32753,34948,20658,22885,25034,28595,33453,25420,25170,21485,21543,31494,20843,30116,24052,25300,36299,38774,25226,32793,22365,38712,32610,29240,30333,26575,30334,25670,20336,36133,25308,31255,26001,29677,25644,25203,33324,39041,26495,29256,25198,25292,20276,29923,21322,21150,32458,37030,24110,26758,27036,33152,32465,26834,30917,34444,38225,20621,35876,33502,32990,21253,35090,21093,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34180,38649,20445,22561,39281,23453,25265,25253,26292,35961,40077,29190,26479,30865,24754,21329,21271,36744,32972,36125,38049,20493,29384,22791,24811,28953,34987,22868,33519,26412,31528,23849,32503,29997,27893,36454,36856,36924,40763,27604,37145,31508,24444,30887,34006,34109,27605,27609,27606,24065,24199,30201,38381,25949,24330,24517,36767,22721,33218,36991,38491,38829,36793,65533,32534,36140,25153,20415,21464,21342,36776,36777,36779,36941,26631,24426,33176,34920,40150,24971,21035,30250,24428,25996,28626,28392,23486,25672,20853,20912,26564,19993,31177,39292,28851,30149,24182,29627,33760,25773,25320,38069,27874,21338,21187,25615,38082,31636,20271,24091,33334,33046,33162,28196,27850,39539,25429,21340,21754,34917,22496,19981,24067,27493,31807,37096,24598,25830,29468,35009,26448,25165,36130,30572,36393,37319,24425,33756,34081,39184,21442,34453,27531,24813,24808,28799,33485,33329,20179,27815,34255,25805,31961,27133,26361,33609,21397,31574,20391,20876,27979,23618,36461,25554,21449,33580,33590,26597,30900,25661,23519,23700,24046,35815,25286,26612,35962,25600,25530,34633,39307,35863,32544,38130,20135,38416,39076,26124,29462,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22330,23581,24120,38271,20607,32928,21378,25950,30021,21809,20513,36229,25220,38046,26397,22066,28526,24034,21557,28818,36710,25199,25764,25507,24443,28552,37108,33251,36784,23576,26216,24561,27785,38472,36225,34924,25745,31216,22478,27225,25104,21576,20056,31243,24809,28548,35802,25215,36894,39563,31204,21507,30196,25345,21273,27744,36831,24347,39536,32827,40831,20360,23610,65533,36196,32709,26021,28861,20805,20914,34411,23815,23456,25277,37228,30068,36364,31264,24833,31609,20167,32504,30597,19985,33261,21021,20986,27249,21416,36487,38148,38607,28353,38500,26970,30784,20648,30679,25616,35302,22788,25571,24029,31359,26941,20256,33337,21912,20018,30126,31383,24162,24202,38383,21019,21561,28810,25462,38180,22402,26149,26943,37255,21767,28147,32431,34850,25139,32496,30133,33576,30913,38604,36766,24904,29943,35789,27492,21050,36176,27425,32874,33905,22257,21254,20174,19995,20945,31895,37259,31751,20419,36479,31713,31388,25703,23828,20652,33030,30209,31929,28140,32736,26449,23384,23544,30923,25774,25619,25514,25387,38169,25645,36798,31572,30249,25171,22823,21574,27513,20643,25140,24102,27526,20195,36151,34955,24453,36910,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24608,32829,25285,20025,21333,37112,25528,32966,26086,27694,20294,24814,28129,35806,24377,34507,24403,25377,20826,33633,26723,20992,25443,36424,20498,23707,31095,23548,21040,31291,24764,36947,30423,24503,24471,30340,36460,28783,30331,31561,30634,20979,37011,22564,20302,28404,36842,25932,31515,29380,28068,32735,23265,25269,24213,22320,33922,31532,24093,24351,36882,32532,39072,65533,25474,28359,30872,28857,20856,38747,22443,30005,20291,30008,24215,24806,22880,28096,27583,30857,21500,38613,20939,20993,25481,21514,38035,35843,36300,29241,30879,34678,36845,35853,21472,19969,30447,21486,38025,39030,40718,38189,23450,35746,20002,19996,20908,33891,25026,21160,26635,20375,24683,20923,27934,20828,25238,26007,38497,35910,36887,30168,37117,30563,27602,29322,29420,35835,22581,30585,36172,26460,38208,32922,24230,28193,22930,31471,30701,38203,27573,26029,32526,22534,20817,38431,23545,22697,21544,36466,25958,39039,22244,38045,30462,36929,25479,21702,22810,22842,22427,36530,26421,36346,33333,21057,24816,22549,34558,23784,40517,20420,39069,35769,23077,24694,21380,25212,36943,37122,39295,24681,32780,20799,32819,23572,39285,27953,20108,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36144,21457,32602,31567,20240,20047,38400,27861,29648,34281,24070,30058,32763,27146,30718,38034,32321,20961,28902,21453,36820,33539,36137,29359,39277,27867,22346,33459,26041,32938,25151,38450,22952,20223,35775,32442,25918,33778,38750,21857,39134,32933,21290,35837,21536,32954,24223,27832,36153,33452,37210,21545,27675,20998,32439,22367,28954,27774,31881,22859,20221,24575,24868,65533,31914,20016,23553,26539,34562,23792,38155,39118,30127,28925,36898,20911,32541,35773,22857,20964,20315,21542,22827,25975,32932,23413,25206,25282,36752,24133,27679,31526,20239,20440,26381,28014,28074,31119,34993,24343,29995,25242,36741,20463,37340,26023,33071,33105,24220,33104,36212,21103,35206,36171,22797,20613,20184,38428,29238,33145,36127,23500,35747,38468,22919,32538,21648,22134,22030,35813,25913,27010,38041,30422,28297,24178,29976,26438,26577,31487,32925,36214,24863,31174,25954,36195,20872,21018,38050,32568,32923,32434,23703,28207,26464,31705,30347,39640,33167,32660,31957,25630,38224,31295,21578,21733,27468,25601,25096,40509,33011,30105,21106,38761,33883,26684,34532,38401,38548,38124,20010,21508,32473,26681,36319,32789,26356,24218,32697,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22466,32831,26775,24037,25915,21151,24685,40858,20379,36524,20844,23467,24339,24041,27742,25329,36129,20849,38057,21246,27807,33503,29399,22434,26500,36141,22815,36764,33735,21653,31629,20272,27837,23396,22993,40723,21476,34506,39592,35895,32929,25925,39038,22266,38599,21038,29916,21072,23521,25346,35074,20054,25296,24618,26874,20851,23448,20896,35266,31649,39302,32592,24815,65533,28748,36143,20809,24191,36891,29808,35268,22317,30789,24402,40863,38394,36712,39740,35809,30328,26690,26588,36330,36149,21053,36746,28378,26829,38149,37101,22269,26524,35065,36807,21704,39608,23401,28023,27686,20133,23475,39559,37219,25e3,37039,38889,21547,28085,23506,20989,21898,32597,32752,25788,25421,26097,25022,24717,28938,27735,27721,22831,26477,33322,22741,22158,35946,27627,37085,22909,32791,21495,28009,21621,21917,33655,33743,26680,31166,21644,20309,21512,30418,35977,38402,27827,28088,36203,35088,40548,36154,22079,40657,30165,24456,29408,24680,21756,20136,27178,34913,24658,36720,21700,28888,34425,40511,27946,23439,24344,32418,21897,20399,29492,21564,21402,20505,21518,21628,20046,24573,29786,22774,33899,32993,34676,29392,31946,28246,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24359,34382,21804,25252,20114,27818,25143,33457,21719,21326,29502,28369,30011,21010,21270,35805,27088,24458,24576,28142,22351,27426,29615,26707,36824,32531,25442,24739,21796,30186,35938,28949,28067,23462,24187,33618,24908,40644,30970,34647,31783,30343,20976,24822,29004,26179,24140,24653,35854,28784,25381,36745,24509,24674,34516,22238,27585,24724,24935,21321,24800,26214,36159,65533,31229,20250,28905,27719,35763,35826,32472,33636,26127,23130,39746,27985,28151,35905,27963,20249,28779,33719,25110,24785,38669,36135,31096,20987,22334,22522,26426,30072,31293,31215,31637,32908,39269,36857,28608,35749,40481,23020,32489,32521,21513,26497,26840,36753,31821,38598,21450,24613,30142,27762,21363,23241,32423,25380,20960,33034,24049,34015,25216,20864,23395,20238,31085,21058,24760,27982,23492,23490,35745,35760,26082,24524,38469,22931,32487,32426,22025,26551,22841,20339,23478,21152,33626,39050,36158,30002,38078,20551,31292,20215,26550,39550,23233,27516,30417,22362,23574,31546,38388,29006,20860,32937,33392,22904,32516,33575,26816,26604,30897,30839,25315,25441,31616,20461,21098,20943,33616,27099,37492,36341,36145,35265,38190,31661,20214,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20581,33328,21073,39279,28176,28293,28071,24314,20725,23004,23558,27974,27743,30086,33931,26728,22870,35762,21280,37233,38477,34121,26898,30977,28966,33014,20132,37066,27975,39556,23047,22204,25605,38128,30699,20389,33050,29409,35282,39290,32564,32478,21119,25945,37237,36735,36739,21483,31382,25581,25509,30342,31224,34903,38454,25130,21163,33410,26708,26480,25463,30571,31469,65533,27905,32467,35299,22992,25106,34249,33445,30028,20511,20171,30117,35819,23626,24062,31563,26020,37329,20170,27941,35167,32039,38182,20165,35880,36827,38771,26187,31105,36817,28908,28024,23613,21170,33606,20834,33550,30555,26230,40120,20140,24778,31934,31923,32463,20117,35686,26223,39048,38745,22659,25964,38236,24452,30153,38742,31455,31454,20928,28847,31384,25578,31350,32416,29590,38893,20037,28792,20061,37202,21417,25937,26087,33276,33285,21646,23601,30106,38816,25304,29401,30141,23621,39545,33738,23616,21632,30697,20030,27822,32858,25298,25454,24040,20855,36317,36382,38191,20465,21477,24807,28844,21095,25424,40515,23071,20518,30519,21367,32482,25733,25899,25225,25496,20500,29237,35273,20915,35776,32477,22343,33740,38055,20891,21531,23803,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20426,31459,27994,37089,39567,21888,21654,21345,21679,24320,25577,26999,20975,24936,21002,22570,21208,22350,30733,30475,24247,24951,31968,25179,25239,20130,28821,32771,25335,28900,38752,22391,33499,26607,26869,30933,39063,31185,22771,21683,21487,28212,20811,21051,23458,35838,32943,21827,22438,24691,22353,21549,31354,24656,23380,25511,25248,21475,25187,23495,26543,21741,31391,65533,33510,37239,24211,35044,22840,22446,25358,36328,33007,22359,31607,20393,24555,23485,27454,21281,31568,29378,26694,30719,30518,26103,20917,20111,30420,23743,31397,33909,22862,39745,20608,39304,24871,28291,22372,26118,25414,22256,25324,25193,24275,38420,22403,25289,21895,34593,33098,36771,21862,33713,26469,36182,34013,23146,26639,25318,31726,38417,20848,28572,35888,25597,35272,25042,32518,28866,28389,29701,27028,29436,24266,37070,26391,28010,25438,21171,29282,32769,20332,23013,37226,28889,28061,21202,20048,38647,38253,34174,30922,32047,20769,22418,25794,32907,31867,27882,26865,26974,20919,21400,26792,29313,40654,31729,29432,31163,28435,29702,26446,37324,40100,31036,33673,33620,21519,26647,20029,21385,21169,30782,21382,21033,20616,20363,20432,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30178,31435,31890,27813,38582,21147,29827,21737,20457,32852,33714,36830,38256,24265,24604,28063,24088,25947,33080,38142,24651,28860,32451,31918,20937,26753,31921,33391,20004,36742,37327,26238,20142,35845,25769,32842,20698,30103,29134,23525,36797,28518,20102,25730,38243,24278,26009,21015,35010,28872,21155,29454,29747,26519,30967,38678,20020,37051,40158,28107,20955,36161,21533,65533,25294,29618,33777,38646,40836,38083,20278,32666,20940,28789,38517,23725,39046,21478,20196,28316,29705,27060,30827,39311,30041,21016,30244,27969,26611,20845,40857,32843,21657,31548,31423,38534,22404,25314,38471,27004,23044,25602,31699,28431,38475,33446,21346,39045,24208,28809,25523,21348,34383,40065,40595,30860,38706,36335,36162,40575,28510,31108,24405,38470,25134,39540,21525,38109,20387,26053,23653,23649,32533,34385,27695,24459,29575,28388,32511,23782,25371,23402,28390,21365,20081,25504,30053,25249,36718,20262,20177,27814,32438,35770,33821,34746,32599,36923,38179,31657,39585,35064,33853,27931,39558,32476,22920,40635,29595,30721,34434,39532,39554,22043,21527,22475,20080,40614,21334,36808,33033,30610,39314,34542,28385,34067,26364,24930,28459,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35881,33426,33579,30450,27667,24537,33725,29483,33541,38170,27611,30683,38086,21359,33538,20882,24125,35980,36152,20040,29611,26522,26757,37238,38665,29028,27809,30473,23186,38209,27599,32654,26151,23504,22969,23194,38376,38391,20204,33804,33945,27308,30431,38192,29467,26790,23391,30511,37274,38753,31964,36855,35868,24357,31859,31192,35269,27852,34588,23494,24130,26825,30496,65533,32501,20885,20813,21193,23081,32517,38754,33495,25551,30596,34256,31186,28218,24217,22937,34065,28781,27665,25279,30399,25935,24751,38397,26126,34719,40483,38125,21517,21629,35884,25720,25721,34321,27169,33180,30952,25705,39764,25273,26411,33707,22696,40664,27819,28448,23518,38476,35851,29279,26576,25287,29281,20137,22982,27597,22675,26286,24149,21215,24917,26408,30446,30566,29287,31302,25343,21738,21584,38048,37027,23068,32435,27670,20035,22902,32784,22856,21335,30007,38590,22218,25376,33041,24700,38393,28118,21602,39297,20869,23273,33021,22958,38675,20522,27877,23612,25311,20320,21311,33147,36870,28346,34091,25288,24180,30910,25781,25467,24565,23064,37247,40479,23615,25423,32834,23421,21870,38218,38221,28037,24744,26592,29406,20957,23425,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25319,27870,29275,25197,38062,32445,33043,27987,20892,24324,22900,21162,24594,22899,26262,34384,30111,25386,25062,31983,35834,21734,27431,40485,27572,34261,21589,20598,27812,21866,36276,29228,24085,24597,29750,25293,25490,29260,24472,28227,27966,25856,28504,30424,30928,30460,30036,21028,21467,20051,24222,26049,32810,32982,25243,21638,21032,28846,34957,36305,27873,21624,32986,65533,22521,35060,36180,38506,37197,20329,27803,21943,30406,30768,25256,28921,28558,24429,34028,26842,30844,31735,33192,26379,40527,25447,30896,22383,30738,38713,25209,25259,21128,29749,27607,21860,33086,30130,30382,21305,30174,20731,23617,35692,31687,20559,29255,39575,39128,28418,29922,31080,25735,30629,25340,39057,36139,21697,32856,20050,22378,33529,33805,24179,20973,29942,35780,23631,22369,27900,39047,23110,30772,39748,36843,31893,21078,25169,38138,20166,33670,33889,33769,33970,22484,26420,22275,26222,28006,35889,26333,28689,26399,27450,26646,25114,22971,19971,20932,28422,26578,27791,20854,26827,22855,27495,30054,23822,33040,40784,26071,31048,31041,39569,36215,23682,20062,20225,21551,22865,30732,22120,27668,36804,24323,27773,27875,35755,25488,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24688,27965,29301,25190,38030,38085,21315,36801,31614,20191,35878,20094,40660,38065,38067,21069,28508,36963,27973,35892,22545,23884,27424,27465,26538,21595,33108,32652,22681,34103,24378,25250,27207,38201,25970,24708,26725,30631,20052,20392,24039,38808,25772,32728,23789,20431,31373,20999,33540,19988,24623,31363,38054,20405,20146,31206,29748,21220,33465,25810,31165,23517,27777,65533,38738,36731,27682,20542,21375,28165,25806,26228,27696,24773,39031,35831,24198,29756,31351,31179,19992,37041,29699,27714,22234,37195,27845,36235,21306,34502,26354,36527,23624,39537,28192,21462,23094,40843,36259,21435,22280,39079,26435,37275,27849,20840,30154,25331,29356,21048,21149,32570,28820,30264,21364,40522,27063,30830,38592,35033,32676,28982,29123,20873,26579,29924,22756,25880,22199,35753,39286,25200,32469,24825,28909,22764,20161,20154,24525,38887,20219,35748,20995,22922,32427,25172,20173,26085,25102,33592,33993,33635,34701,29076,28342,23481,32466,20887,25545,26580,32905,33593,34837,20754,23418,22914,36785,20083,27741,20837,35109,36719,38446,34122,29790,38160,38384,28070,33509,24369,25746,27922,33832,33134,40131,22622,36187,19977,21441,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20254,25955,26705,21971,20007,25620,39578,25195,23234,29791,33394,28073,26862,20711,33678,30722,26432,21049,27801,32433,20667,21861,29022,31579,26194,29642,33515,26441,23665,21024,29053,34923,38378,38485,25797,36193,33203,21892,27733,25159,32558,22674,20260,21830,36175,26188,19978,23578,35059,26786,25422,31245,28903,33421,21242,38902,23569,21736,37045,32461,22882,36170,34503,65533,33292,33293,36198,25668,23556,24913,28041,31038,35774,30775,30003,21627,20280,36523,28145,23072,32453,31070,27784,23457,23158,29978,32958,24910,28183,22768,29983,29989,29298,21319,32499,30465,30427,21097,32988,22307,24072,22833,29422,26045,28287,35799,23608,34417,21313,30707,25342,26102,20160,39135,34432,23454,35782,21490,30690,20351,23630,39542,22987,24335,31034,22763,19990,26623,20107,25325,35475,36893,21183,26159,21980,22124,36866,20181,20365,37322,39280,27663,24066,24643,23460,35270,35797,25910,25163,39318,23432,23551,25480,21806,21463,30246,20861,34092,26530,26803,27530,25234,36755,21460,33298,28113,30095,20070,36174,23408,29087,34223,26257,26329,32626,34560,40653,40736,23646,26415,36848,26641,26463,25101,31446,22661,24246,25968,28465,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24661,21047,32781,25684,34928,29993,24069,26643,25332,38684,21452,29245,35841,27700,30561,31246,21550,30636,39034,33308,35828,30805,26388,28865,26031,25749,22070,24605,31169,21496,19997,27515,32902,23546,21987,22235,20282,20284,39282,24051,26494,32824,24578,39042,36865,23435,35772,35829,25628,33368,25822,22013,33487,37221,20439,32032,36895,31903,20723,22609,28335,23487,35785,65533,32899,37240,33948,31639,34429,38539,38543,32485,39635,30862,23681,31319,36930,38567,31071,23385,25439,31499,34001,26797,21766,32553,29712,32034,38145,25152,22604,20182,23427,22905,22612,29549,25374,36427,36367,32974,33492,25260,21488,27888,37214,22826,24577,27760,22349,25674,36138,30251,28393,22363,27264,30192,28525,35885,35848,22374,27631,34962,30899,25506,21497,28845,27748,22616,25642,22530,26848,33179,21776,31958,20504,36538,28108,36255,28907,25487,28059,28372,32486,33796,26691,36867,28120,38518,35752,22871,29305,34276,33150,30140,35466,26799,21076,36386,38161,25552,39064,36420,21884,20307,26367,22159,24789,28053,21059,23625,22825,28155,22635,3e4,29980,24684,33300,33094,25361,26465,36834,30522,36339,36148,38081,24086,21381,21548,28867,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27712,24311,20572,20141,24237,25402,33351,36890,26704,37230,30643,21516,38108,24420,31461,26742,25413,31570,32479,30171,20599,25237,22836,36879,20984,31171,31361,22270,24466,36884,28034,23648,22303,21520,20820,28237,22242,25512,39059,33151,34581,35114,36864,21534,23663,33216,25302,25176,33073,40501,38464,39534,39548,26925,22949,25299,21822,25366,21703,34521,27964,23043,29926,65533,34972,27498,22806,35916,24367,28286,29609,39037,20024,28919,23436,30871,25405,26202,30358,24779,23451,23113,19975,33109,27754,29579,20129,26505,32593,24448,26106,26395,24536,22916,23041,24013,24494,21361,38886,36829,26693,22260,21807,24799,20026,28493,32500,33479,33806,22996,20255,20266,23614,32428,26410,34074,21619,30031,32963,21890,39759,20301,28205,35859,23561,24944,21355,30239,28201,34442,25991,38395,32441,21563,31283,32010,38382,21985,32705,29934,25373,34583,28065,31389,25105,26017,21351,25569,27779,24043,21596,38056,20044,27745,35820,23627,26080,33436,26791,21566,21556,27595,27494,20116,25410,21320,33310,20237,20398,22366,25098,38654,26212,29289,21247,21153,24735,35823,26132,29081,26512,35199,30802,30717,26224,22075,21560,38177,29306,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31232,24687,24076,24713,33181,22805,24796,29060,28911,28330,27728,29312,27268,34989,24109,20064,23219,21916,38115,27927,31995,38553,25103,32454,30606,34430,21283,38686,36758,26247,23777,20384,29421,19979,21414,22799,21523,25472,38184,20808,20185,40092,32420,21688,36132,34900,33335,38386,28046,24358,23244,26174,38505,29616,29486,21439,33146,39301,32673,23466,38519,38480,32447,65533,30456,21410,38262,39321,31665,35140,28248,20065,32724,31077,35814,24819,21709,20139,39033,24055,27233,20687,21521,35937,33831,30813,38660,21066,21742,22179,38144,28040,23477,28102,26195,23567,23389,26657,32918,21880,31505,25928,26964,20123,27463,34638,38795,21327,25375,25658,37034,26012,32961,35856,20889,26800,21368,34809,25032,27844,27899,35874,23633,34218,33455,38156,27427,36763,26032,24571,24515,20449,34885,26143,33125,29481,24826,20852,21009,22411,24418,37026,34892,37266,24184,26447,24615,22995,20804,20982,33016,21256,27769,38596,29066,20241,20462,32670,26429,21957,38152,31168,34966,32483,22687,25100,38656,34394,22040,39035,24464,35768,33988,37207,21465,26093,24207,30044,24676,32110,23167,32490,32493,36713,21927,23459,24748,26059,29572,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36873,30307,30505,32474,38772,34203,23398,31348,38634,34880,21195,29071,24490,26092,35810,23547,39535,24033,27529,27739,35757,35759,36874,36805,21387,25276,40486,40493,21568,20011,33469,29273,34460,23830,34905,28079,38597,21713,20122,35766,28937,21693,38409,28895,28153,30416,20005,30740,34578,23721,24310,35328,39068,38414,28814,27839,22852,25513,30524,34893,28436,33395,22576,65533,29141,21388,30746,38593,21761,24422,28976,23476,35866,39564,27523,22830,40495,31207,26472,25196,20335,30113,32650,27915,38451,27687,20208,30162,20859,26679,28478,36992,33136,22934,29814,25671,23591,36965,31377,35875,23002,21676,33280,33647,35201,32768,26928,22094,32822,29239,37326,20918,20063,39029,25494,19994,21494,26355,33099,22812,28082,19968,22777,21307,25558,38129,20381,20234,34915,39056,22839,36951,31227,20202,33008,30097,27778,23452,23016,24413,26885,34433,20506,24050,20057,30691,20197,33402,25233,26131,37009,23673,20159,24441,33222,36920,32900,30123,20134,35028,24847,27589,24518,20041,30410,28322,35811,35758,35850,35793,24322,32764,32716,32462,33589,33643,22240,27575,38899,38452,23035,21535,38134,28139,23493,39278,23609,24341,38544,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21360,33521,27185,23156,40560,24212,32552,33721,33828,33829,33639,34631,36814,36194,30408,24433,39062,30828,26144,21727,25317,20323,33219,30152,24248,38605,36362,34553,21647,27891,28044,27704,24703,21191,29992,24189,20248,24736,24551,23588,30001,37038,38080,29369,27833,28216,37193,26377,21451,21491,20305,37321,35825,21448,24188,36802,28132,20110,30402,27014,34398,24858,33286,65533,20313,20446,36926,40060,24841,28189,28180,38533,20104,23089,38632,19982,23679,31161,23431,35821,32701,29577,22495,33419,37057,21505,36935,21947,23786,24481,24840,27442,29425,32946,35465,28020,23507,35029,39044,35947,39533,40499,28170,20900,20803,22435,34945,21407,25588,36757,22253,21592,22278,29503,28304,32536,36828,33489,24895,24616,38498,26352,32422,36234,36291,38053,23731,31908,26376,24742,38405,32792,20113,37095,21248,38504,20801,36816,34164,37213,26197,38901,23381,21277,30776,26434,26685,21705,28798,23472,36733,20877,22312,21681,25874,26242,36190,36163,33039,33900,36973,31967,20991,34299,26531,26089,28577,34468,36481,22122,36896,30338,28790,29157,36131,25321,21017,27901,36156,24590,22686,24974,26366,36192,25166,21939,28195,26413,36711,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38113,38392,30504,26629,27048,21643,20045,28856,35784,25688,25995,23429,31364,20538,23528,30651,27617,35449,31896,27838,30415,26025,36759,23853,23637,34360,26632,21344,25112,31449,28251,32509,27167,31456,24432,28467,24352,25484,28072,26454,19976,24080,36134,20183,32960,30260,38556,25307,26157,25214,27836,36213,29031,32617,20806,32903,21484,36974,25240,21746,34544,36761,32773,65533,38167,34071,36825,27993,29645,26015,30495,29956,30759,33275,36126,38024,20390,26517,30137,35786,38663,25391,38215,38453,33976,25379,30529,24449,29424,20105,24596,25972,25327,27491,25919,24103,30151,37073,35777,33437,26525,25903,21553,34584,30693,32930,33026,27713,20043,32455,32844,30452,26893,27542,25191,20540,20356,22336,25351,27490,36286,21482,26088,32440,24535,25370,25527,33267,33268,32622,24092,23769,21046,26234,31209,31258,36136,28825,30164,28382,27835,31378,20013,30405,24544,38047,34935,32456,31181,32959,37325,20210,20247,33311,21608,24030,27954,35788,31909,36724,32920,24090,21650,30385,23449,26172,39588,29664,26666,34523,26417,29482,35832,35803,36880,31481,28891,29038,25284,30633,22065,20027,33879,26609,21161,34496,36142,38136,31569,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20303,27880,31069,39547,25235,29226,25341,19987,30742,36716,25776,36186,31686,26729,24196,35013,22918,25758,22766,29366,26894,38181,36861,36184,22368,32512,35846,20934,25417,25305,21331,26700,29730,33537,37196,21828,30528,28796,27978,20857,21672,36164,23039,28363,28100,23388,32043,20180,31869,28371,23376,33258,28173,23383,39683,26837,36394,23447,32508,24635,32437,37049,36208,65533,22863,25549,31199,36275,21330,26063,31062,35781,38459,32452,38075,32386,22068,37257,26368,32618,23562,36981,26152,24038,20304,26590,20570,20316,22352,24231,65533,65533,65533,65533,65533,20109,19980,20800,19984,24319,21317,19989,20120,19998,39730,23404,22121,20008,31162,20031,21269,20039,22829,29243,21358,27664,22239,32996,39319,27603,30590,40727,20022,20127,40720,20060,20073,20115,33416,23387,21868,22031,20164,21389,21405,21411,21413,21422,38757,36189,21274,21493,21286,21294,21310,36188,21350,21347,20994,21e3,21006,21037,21043,21055,21056,21068,21086,21089,21084,33967,21117,21122,21121,21136,21139,20866,32596,20155,20163,20169,20162,20200,20193,20203,20190,20251,20211,20258,20324,20213,20261,20263,20233,20267,20318,20327,25912,20314,20317,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20319,20311,20274,20285,20342,20340,20369,20361,20355,20367,20350,20347,20394,20348,20396,20372,20454,20456,20458,20421,20442,20451,20444,20433,20447,20472,20521,20556,20467,20524,20495,20526,20525,20478,20508,20492,20517,20520,20606,20547,20565,20552,20558,20588,20603,20645,20647,20649,20666,20694,20742,20717,20716,20710,20718,20743,20747,20189,27709,20312,20325,20430,40864,65533,27718,31860,20846,24061,40649,39320,20865,22804,21241,21261,35335,21264,20971,22809,20821,20128,20822,20147,34926,34980,20149,33044,35026,31104,23348,34819,32696,20907,20913,20925,20924,20935,20886,20898,20901,35744,35750,35751,35754,35764,35765,35767,35778,35779,35787,35791,35790,35794,35795,35796,35798,35800,35801,35804,35807,35808,35812,35816,35817,35822,35824,35827,35830,35833,35836,35839,35840,35842,35844,35847,35852,35855,35857,35858,35860,35861,35862,35865,35867,35864,35869,35871,35872,35873,35877,35879,35882,35883,35886,35887,35890,35891,35893,35894,21353,21370,38429,38434,38433,38449,38442,38461,38460,38466,38473,38484,38495,38503,38508,38514,38516,38536,38541,38551,38576,37015,37019,37021,37017,37036,37025,37044,37043,37046,37050,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37048,37040,37071,37061,37054,37072,37060,37063,37075,37094,37090,37084,37079,37083,37099,37103,37118,37124,37154,37150,37155,37169,37167,37177,37187,37190,21005,22850,21154,21164,21165,21182,21759,21200,21206,21232,21471,29166,30669,24308,20981,20988,39727,21430,24321,30042,24047,22348,22441,22433,22654,22716,22725,22737,22313,22316,22314,22323,22329,22318,22319,22364,22331,65533,22338,22377,22405,22379,22406,22396,22395,22376,22381,22390,22387,22445,22436,22412,22450,22479,22439,22452,22419,22432,22485,22488,22490,22489,22482,22456,22516,22511,22520,22500,22493,22539,22541,22525,22509,22528,22558,22553,22596,22560,22629,22636,22657,22665,22682,22656,39336,40729,25087,33401,33405,33407,33423,33418,33448,33412,33422,33425,33431,33433,33451,33464,33470,33456,33480,33482,33507,33432,33463,33454,33483,33484,33473,33449,33460,33441,33450,33439,33476,33486,33444,33505,33545,33527,33508,33551,33543,33500,33524,33490,33496,33548,33531,33491,33553,33562,33542,33556,33557,33504,33493,33564,33617,33627,33628,33544,33682,33596,33588,33585,33691,33630,33583,33615,33607,33603,33631,33600,33559,33632,33581,33594,33587,33638,33637,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33640,33563,33641,33644,33642,33645,33646,33712,33656,33715,33716,33696,33706,33683,33692,33669,33660,33718,33705,33661,33720,33659,33688,33694,33704,33722,33724,33729,33793,33765,33752,22535,33816,33803,33757,33789,33750,33820,33848,33809,33798,33748,33759,33807,33795,33784,33785,33770,33733,33728,33830,33776,33761,33884,33873,33882,33881,33907,33927,33928,33914,33929,33912,65533,33852,33862,33897,33910,33932,33934,33841,33901,33985,33997,34e3,34022,33981,34003,33994,33983,33978,34016,33953,33977,33972,33943,34021,34019,34060,29965,34104,34032,34105,34079,34106,34134,34107,34047,34044,34137,34120,34152,34148,34142,34170,30626,34115,34162,34171,34212,34216,34183,34191,34169,34222,34204,34181,34233,34231,34224,34259,34241,34268,34303,34343,34309,34345,34326,34364,24318,24328,22844,22849,32823,22869,22874,22872,21263,23586,23589,23596,23604,25164,25194,25247,25275,25290,25306,25303,25326,25378,25334,25401,25419,25411,25517,25590,25457,25466,25486,25524,25453,25516,25482,25449,25518,25532,25586,25592,25568,25599,25540,25566,25550,25682,25542,25534,25669,25665,25611,25627,25632,25612,25638,25633,25694,25732,25709,25750,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25722,25783,25784,25753,25786,25792,25808,25815,25828,25826,25865,25893,25902,24331,24530,29977,24337,21343,21489,21501,21481,21480,21499,21522,21526,21510,21579,21586,21587,21588,21590,21571,21537,21591,21593,21539,21554,21634,21652,21623,21617,21604,21658,21659,21636,21622,21606,21661,21712,21677,21698,21684,21714,21671,21670,21715,21716,21618,21667,21717,21691,21695,21708,65533,21721,21722,21724,21673,21674,21668,21725,21711,21726,21787,21735,21792,21757,21780,21747,21794,21795,21775,21777,21799,21802,21863,21903,21941,21833,21869,21825,21845,21823,21840,21820,21815,21846,21877,21878,21879,21811,21808,21852,21899,21970,21891,21937,21945,21896,21889,21919,21886,21974,21905,21883,21983,21949,21950,21908,21913,21994,22007,21961,22047,21969,21995,21996,21972,21990,21981,21956,21999,21989,22002,22003,21964,21965,21992,22005,21988,36756,22046,22024,22028,22017,22052,22051,22014,22016,22055,22061,22104,22073,22103,22060,22093,22114,22105,22108,22092,22100,22150,22116,22129,22123,22139,22140,22149,22163,22191,22228,22231,22237,22241,22261,22251,22265,22271,22276,22282,22281,22300,24079,24089,24084,24081,24113,24123,24124,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24119,24132,24148,24155,24158,24161,23692,23674,23693,23696,23702,23688,23704,23705,23697,23706,23708,23733,23714,23741,23724,23723,23729,23715,23745,23735,23748,23762,23780,23755,23781,23810,23811,23847,23846,23854,23844,23838,23814,23835,23896,23870,23860,23869,23916,23899,23919,23901,23915,23883,23882,23913,23924,23938,23961,23965,35955,23991,24005,24435,24439,24450,24455,65533,24457,24460,24469,24473,24476,24488,24493,24501,24508,34914,24417,29357,29360,29364,29367,29368,29379,29377,29390,29389,29394,29416,29423,29417,29426,29428,29431,29441,29427,29443,29434,29435,29463,29459,29473,29450,29470,29469,29461,29474,29497,29477,29484,29496,29489,29520,29517,29527,29536,29548,29551,29566,33307,22821,39143,22820,22786,39267,39271,39272,39273,39274,39275,39276,39284,39287,39293,39296,39300,39303,39306,39309,39312,39313,39315,39316,39317,24192,24209,24203,24214,24229,24224,24249,24245,24254,24243,36179,24274,24273,24283,24296,24298,33210,24516,24521,24534,24527,24579,24558,24580,24545,24548,24574,24581,24582,24554,24557,24568,24601,24629,24614,24603,24591,24589,24617,24619,24586,24639,24609,24696,24697,24699,24698,24642,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24682,24701,24726,24730,24749,24733,24707,24722,24716,24731,24812,24763,24753,24797,24792,24774,24794,24756,24864,24870,24853,24867,24820,24832,24846,24875,24906,24949,25004,24980,24999,25015,25044,25077,24541,38579,38377,38379,38385,38387,38389,38390,38396,38398,38403,38404,38406,38408,38410,38411,38412,38413,38415,38418,38421,38422,38423,38425,38426,20012,29247,25109,27701,65533,27732,27740,27722,27811,27781,27792,27796,27788,27752,27753,27764,27766,27782,27817,27856,27860,27821,27895,27896,27889,27863,27826,27872,27862,27898,27883,27886,27825,27859,27887,27902,27961,27943,27916,27971,27976,27911,27908,27929,27918,27947,27981,27950,27957,27930,27983,27986,27988,27955,28049,28015,28062,28064,27998,28051,28052,27996,28e3,28028,28003,28186,28103,28101,28126,28174,28095,28128,28177,28134,28125,28121,28182,28075,28172,28078,28203,28270,28238,28267,28338,28255,28294,28243,28244,28210,28197,28228,28383,28337,28312,28384,28461,28386,28325,28327,28349,28347,28343,28375,28340,28367,28303,28354,28319,28514,28486,28487,28452,28437,28409,28463,28470,28491,28532,28458,28425,28457,28553,28557,28556,28536,28530,28540,28538,28625,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28617,28583,28601,28598,28610,28641,28654,28638,28640,28655,28698,28707,28699,28729,28725,28751,28766,23424,23428,23445,23443,23461,23480,29999,39582,25652,23524,23534,35120,23536,36423,35591,36790,36819,36821,36837,36846,36836,36841,36838,36851,36840,36869,36868,36875,36902,36881,36877,36886,36897,36917,36918,36909,36911,36932,36945,36946,36944,36968,36952,36962,36955,26297,65533,36980,36989,36994,37e3,36995,37003,24400,24407,24406,24408,23611,21675,23632,23641,23409,23651,23654,32700,24362,24361,24365,33396,24380,39739,23662,22913,22915,22925,22953,22954,22947,22935,22986,22955,22942,22948,22994,22962,22959,22999,22974,23045,23046,23005,23048,23011,23e3,23033,23052,23049,23090,23092,23057,23075,23059,23104,23143,23114,23125,23100,23138,23157,33004,23210,23195,23159,23162,23230,23275,23218,23250,23252,23224,23264,23267,23281,23254,23270,23256,23260,23305,23319,23318,23346,23351,23360,23573,23580,23386,23397,23411,23377,23379,23394,39541,39543,39544,39546,39551,39549,39552,39553,39557,39560,39562,39568,39570,39571,39574,39576,39579,39580,39581,39583,39584,39586,39587,39589,39591,32415,32417,32419,32421,32424,32425,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32429,32432,32446,32448,32449,32450,32457,32459,32460,32464,32468,32471,32475,32480,32481,32488,32491,32494,32495,32497,32498,32525,32502,32506,32507,32510,32513,32514,32515,32519,32520,32523,32524,32527,32529,32530,32535,32537,32540,32539,32543,32545,32546,32547,32548,32549,32550,32551,32554,32555,32556,32557,32559,32560,32561,32562,32563,32565,24186,30079,24027,30014,37013,65533,29582,29585,29614,29602,29599,29647,29634,29649,29623,29619,29632,29641,29640,29669,29657,39036,29706,29673,29671,29662,29626,29682,29711,29738,29787,29734,29733,29736,29744,29742,29740,29723,29722,29761,29788,29783,29781,29785,29815,29805,29822,29852,29838,29824,29825,29831,29835,29854,29864,29865,29840,29863,29906,29882,38890,38891,38892,26444,26451,26462,26440,26473,26533,26503,26474,26483,26520,26535,26485,26536,26526,26541,26507,26487,26492,26608,26633,26584,26634,26601,26544,26636,26585,26549,26586,26547,26589,26624,26563,26552,26594,26638,26561,26621,26674,26675,26720,26721,26702,26722,26692,26724,26755,26653,26709,26726,26689,26727,26688,26686,26698,26697,26665,26805,26767,26740,26743,26771,26731,26818,26990,26876,26911,26912,26873,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26916,26864,26891,26881,26967,26851,26896,26993,26937,26976,26946,26973,27012,26987,27008,27032,27e3,26932,27084,27015,27016,27086,27017,26982,26979,27001,27035,27047,27067,27051,27053,27092,27057,27073,27082,27103,27029,27104,27021,27135,27183,27117,27159,27160,27237,27122,27204,27198,27296,27216,27227,27189,27278,27257,27197,27176,27224,27260,27281,27280,27305,27287,27307,65533,29495,29522,27521,27522,27527,27524,27538,27539,27533,27546,27547,27553,27562,36715,36717,36721,36722,36723,36725,36726,36728,36727,36729,36730,36732,36734,36737,36738,36740,36743,36747,36749,36750,36751,36760,36762,36558,25099,25111,25115,25119,25122,25121,25125,25124,25132,33255,29935,29940,29951,29967,29969,29971,25908,26094,26095,26096,26122,26137,26482,26115,26133,26112,28805,26359,26141,26164,26161,26166,26165,32774,26207,26196,26177,26191,26198,26209,26199,26231,26244,26252,26279,26269,26302,26331,26332,26342,26345,36146,36147,36150,36155,36157,36160,36165,36166,36168,36169,36167,36173,36181,36185,35271,35274,35275,35276,35278,35279,35280,35281,29294,29343,29277,29286,29295,29310,29311,29316,29323,29325,29327,29330,25352,25394,25520,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25663,25816,32772,27626,27635,27645,27637,27641,27653,27655,27654,27661,27669,27672,27673,27674,27681,27689,27684,27690,27698,25909,25941,25963,29261,29266,29270,29232,34402,21014,32927,32924,32915,32956,26378,32957,32945,32939,32941,32948,32951,32999,33e3,33001,33002,32987,32962,32964,32985,32973,32983,26384,32989,33003,33009,33012,33005,33037,33038,33010,33020,26389,33042,65533,35930,33078,33054,33068,33048,33074,33096,33100,33107,33140,33113,33114,33137,33120,33129,33148,33149,33133,33127,22605,23221,33160,33154,33169,28373,33187,33194,33228,26406,33226,33211,33217,33190,27428,27447,27449,27459,27462,27481,39121,39122,39123,39125,39129,39130,27571,24384,27586,35315,26e3,40785,26003,26044,26054,26052,26051,26060,26062,26066,26070,28800,28828,28822,28829,28859,28864,28855,28843,28849,28904,28874,28944,28947,28950,28975,28977,29043,29020,29032,28997,29042,29002,29048,29050,29080,29107,29109,29096,29088,29152,29140,29159,29177,29213,29224,28780,28952,29030,29113,25150,25149,25155,25160,25161,31035,31040,31046,31049,31067,31068,31059,31066,31074,31063,31072,31087,31079,31098,31109,31114,31130,31143,31155,24529,24528,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24636,24669,24666,24679,24641,24665,24675,24747,24838,24845,24925,25001,24989,25035,25041,25094,32896,32895,27795,27894,28156,30710,30712,30720,30729,30743,30744,30737,26027,30765,30748,30749,30777,30778,30779,30751,30780,30757,30764,30755,30761,30798,30829,30806,30807,30758,30800,30791,30796,30826,30875,30867,30874,30855,30876,30881,30883,30898,30905,30885,30932,30937,30921,65533,30956,30962,30981,30964,30995,31012,31006,31028,40859,40697,40699,40700,30449,30468,30477,30457,30471,30472,30490,30498,30489,30509,30502,30517,30520,30544,30545,30535,30531,30554,30568,30562,30565,30591,30605,30589,30592,30604,30609,30623,30624,30640,30645,30653,30010,30016,30030,30027,30024,30043,30066,30073,30083,32600,32609,32607,35400,32616,32628,32625,32633,32641,32638,30413,30437,34866,38021,38022,38023,38027,38026,38028,38029,38031,38032,38036,38039,38037,38042,38043,38044,38051,38052,38059,38058,38061,38060,38063,38064,38066,38068,38070,38071,38072,38073,38074,38076,38077,38079,38084,38088,38089,38090,38091,38092,38093,38094,38096,38097,38098,38101,38102,38103,38105,38104,38107,38110,38111,38112,38114,38116,38117,38119,38120,38122,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38121,38123,38126,38127,38131,38132,38133,38135,38137,38140,38141,38143,38147,38146,38150,38151,38153,38154,38157,38158,38159,38162,38163,38164,38165,38166,38168,38171,38173,38174,38175,38178,38186,38187,38185,38188,38193,38194,38196,38198,38199,38200,38204,38206,38207,38210,38197,38212,38213,38214,38217,38220,38222,38223,38226,38227,38228,38230,38231,38232,38233,38235,38238,65533,38239,38237,38241,38242,38244,38245,38246,38247,38248,38249,38250,38251,38252,38255,38257,38258,38259,38202,30695,30700,38601,31189,31213,31203,31211,31238,23879,31235,31234,31262,31252,31289,31287,31313,40655,39333,31344,30344,30350,30355,30361,30372,29918,29920,29996,40480,40482,40488,40489,40490,40491,40492,40498,40497,40502,40504,40503,40505,40506,40510,40513,40514,40516,40518,40519,40520,40521,40523,40524,40526,40529,40533,40535,40538,40539,40540,40542,40547,40550,40551,40552,40553,40554,40555,40556,40561,40557,40563,30098,30100,30102,30112,30109,30124,30115,30131,30132,30136,30148,30129,30128,30147,30146,30166,30157,30179,30184,30182,30180,30187,30183,30211,30193,30204,30207,30224,30208,30213,30220,30231,30218,30245,30232,30229,30233,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30235,30268,30242,30240,30272,30253,30256,30271,30261,30275,30270,30259,30285,30302,30292,30300,30294,30315,30319,32714,31462,31352,31353,31360,31366,31368,31381,31398,31392,31404,31400,31405,31411,34916,34921,34930,34941,34943,34946,34978,35014,34999,35004,35017,35042,35022,35043,35045,35057,35098,35068,35048,35070,35056,35105,35097,35091,35099,35082,35124,35115,35126,35137,65533,35174,35195,30091,32997,30386,30388,30684,32786,32788,32790,32796,32800,32802,32805,32806,32807,32809,32808,32817,32779,32821,32835,32838,32845,32850,32873,32881,35203,39032,39040,39043,39049,39052,39053,39055,39060,39066,39067,39070,39071,39073,39074,39077,39078,34381,34388,34412,34414,34431,34426,34428,34427,34472,34445,34443,34476,34461,34471,34467,34474,34451,34473,34486,34500,34485,34510,34480,34490,34481,34479,34505,34511,34484,34537,34545,34546,34541,34547,34512,34579,34526,34548,34527,34520,34513,34563,34567,34552,34568,34570,34573,34569,34595,34619,34590,34597,34606,34586,34622,34632,34612,34609,34601,34615,34623,34690,34594,34685,34686,34683,34656,34672,34636,34670,34699,34643,34659,34684,34660,34649,34661,34707,34735,34728,34770,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34758,34696,34693,34733,34711,34691,34731,34789,34732,34741,34739,34763,34771,34749,34769,34752,34762,34779,34794,34784,34798,34838,34835,34814,34826,34843,34849,34873,34876,32566,32578,32580,32581,33296,31482,31485,31496,31491,31492,31509,31498,31531,31503,31559,31544,31530,31513,31534,31537,31520,31525,31524,31539,31550,31518,31576,31578,31557,31605,31564,31581,31584,31598,65533,31611,31586,31602,31601,31632,31654,31655,31672,31660,31645,31656,31621,31658,31644,31650,31659,31668,31697,31681,31692,31709,31706,31717,31718,31722,31756,31742,31740,31759,31766,31755,31775,31786,31782,31800,31809,31808,33278,33281,33282,33284,33260,34884,33313,33314,33315,33325,33327,33320,33323,33336,33339,33331,33332,33342,33348,33353,33355,33359,33370,33375,33384,34942,34949,34952,35032,35039,35166,32669,32671,32679,32687,32688,32690,31868,25929,31889,31901,31900,31902,31906,31922,31932,31933,31937,31943,31948,31949,31944,31941,31959,31976,33390,26280,32703,32718,32725,32741,32737,32742,32745,32750,32755,31992,32119,32166,32174,32327,32411,40632,40628,36211,36228,36244,36241,36273,36199,36205,35911,35913,37194,37200,37198,37199,37220,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37218,37217,37232,37225,37231,37245,37246,37234,37236,37241,37260,37253,37264,37261,37265,37282,37283,37290,37293,37294,37295,37301,37300,37306,35925,40574,36280,36331,36357,36441,36457,36277,36287,36284,36282,36292,36310,36311,36314,36318,36302,36303,36315,36294,36332,36343,36344,36323,36345,36347,36324,36361,36349,36372,36381,36383,36396,36398,36387,36399,36410,36416,36409,65533,36405,36413,36401,36425,36417,36418,36433,36434,36426,36464,36470,36476,36463,36468,36485,36495,36500,36496,36508,36510,35960,35970,35978,35973,35992,35988,26011,35286,35294,35290,35292,35301,35307,35311,35390,35622,38739,38633,38643,38639,38662,38657,38664,38671,38670,38698,38701,38704,38718,40832,40835,40837,40838,40839,40840,40841,40842,40844,40702,40715,40717,38585,38588,38589,38606,38610,30655,38624,37518,37550,37576,37694,37738,37834,37775,37950,37995,40063,40066,40069,40070,40071,40072,31267,40075,40078,40080,40081,40082,40084,40085,40090,40091,40094,40095,40096,40097,40098,40099,40101,40102,40103,40104,40105,40107,40109,40110,40112,40113,40114,40115,40116,40117,40118,40119,40122,40123,40124,40125,40132,40133,40134,40135,40138,40139,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40140,40141,40142,40143,40144,40147,40148,40149,40151,40152,40153,40156,40157,40159,40162,38780,38789,38801,38802,38804,38831,38827,38819,38834,38836,39601,39600,39607,40536,39606,39610,39612,39617,39616,39621,39618,39627,39628,39633,39749,39747,39751,39753,39752,39757,39761,39144,39181,39214,39253,39252,39647,39649,39654,39663,39659,39675,39661,39673,39688,39695,39699,39711,65533,39715,40637,40638,32315,40578,40583,40584,40587,40594,37846,40605,40607,40667,40668,40669,40672,40671,40674,40681,40679,40677,40682,40687,40738,40748,40751,40761,40759,40765,40766,40772,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null,null,null,null,null,null,null,null,null,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,57344,57345,57346,57347,57348,57349,57350,57351,57352,57353,57354,57355,57356,57357,57358,57359,57360,57361,57362,57363,57364,57365,57366,57367,57368,57369,57370,57371,57372,57373,57374,57375,57376,57377,57378,57379,57380,57381,57382,57383,57384,57385,57386,57387,57388,57389,57390,57391,57392,57393,57394,57395,57396,57397,57398,57399,57400,57401,57402,57403,57404,57405,57406,65533,57407,57408,57409,57410,57411,57412,57413,57414,57415,57416,57417,57418,57419,57420,57421,57422,57423,57424,57425,57426,57427,57428,57429,57430,57431,57432,57433,57434,57435,57436,57437,57438,57439,57440,57441,57442,57443,57444,57445,57446,57447,57448,57449,57450,57451,57452,57453,57454,57455,57456,57457,57458,57459,57460,57461,57462,57463,57464,57465,57466,57467,57468,57469,57470,57471,57472,57473,57474,57475,57476,57477,57478,57479,57480,57481,57482,57483,57484,57485,57486,57487,57488,57489,57490,57491,57492,57493,57494,57495,57496,57497,57498,57499,57500,57501,57502,57503,57504,57505,57506,57507,57508,57509,57510,57511,57512,57513,57514,57515,57516,57517,57518,57519,57520,57521,57522,57523,57524,57525,57526,57527,57528,57529,57530,57531,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,57532,57533,57534,57535,57536,57537,57538,57539,57540,57541,57542,57543,57544,57545,57546,57547,57548,57549,57550,57551,57552,57553,57554,57555,57556,57557,57558,57559,57560,57561,57562,57563,57564,57565,57566,57567,57568,57569,57570,57571,57572,57573,57574,57575,57576,57577,57578,57579,57580,57581,57582,57583,57584,57585,57586,57587,57588,57589,57590,57591,57592,57593,57594,65533,57595,57596,57597,57598,57599,57600,57601,57602,57603,57604,57605,57606,57607,57608,57609,57610,57611,57612,57613,57614,57615,57616,57617,57618,57619,57620,57621,57622,57623,57624,57625,57626,57627,57628,57629,57630,57631,57632,57633,57634,57635,57636,57637,57638,57639,57640,57641,57642,57643,57644,57645,57646,57647,57648,57649,57650,57651,57652,57653,57654,57655,57656,57657,57658,57659,57660,57661,57662,57663,57664,57665,57666,57667,57668,57669,57670,57671,57672,57673,57674,57675,57676,57677,57678,57679,57680,57681,57682,57683,57684,57685,57686,57687,57688,57689,57690,57691,57692,57693,57694,57695,57696,57697,57698,57699,57700,57701,57702,57703,57704,57705,57706,57707,57708,57709,57710,57711,57712,57713,57714,57715,57716,57717,57718,57719,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,57720,57721,57722,57723,57724,57725,57726,57727,57728,57729,57730,57731,57732,57733,57734,57735,57736,57737,57738,57739,57740,57741,57742,57743,57744,57745,57746,57747,57748,57749,57750,57751,57752,57753,57754,57755,57756,57757,57758,57759,57760,57761,57762,57763,57764,57765,57766,57767,57768,57769,57770,57771,57772,57773,57774,57775,57776,57777,57778,57779,57780,57781,57782,65533,57783,57784,57785,57786,57787,57788,57789,57790,57791,57792,57793,57794,57795,57796,57797,57798,57799,57800,57801,57802,57803,57804,57805,57806,57807,57808,57809,57810,57811,57812,57813,57814,57815,57816,57817,57818,57819,57820,57821,57822,57823,57824,57825,57826,57827,57828,57829,57830,57831,57832,57833,57834,57835,57836,57837,57838,57839,57840,57841,57842,57843,57844,57845,57846,57847,57848,57849,57850,57851,57852,57853,57854,57855,57856,57857,57858,57859,57860,57861,57862,57863,57864,57865,57866,57867,57868,57869,57870,57871,57872,57873,57874,57875,57876,57877,57878,57879,57880,57881,57882,57883,57884,57885,57886,57887,57888,57889,57890,57891,57892,57893,57894,57895,57896,57897,57898,57899,57900,57901,57902,57903,57904,57905,57906,57907,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,57908,57909,57910,57911,57912,57913,57914,57915,57916,57917,57918,57919,57920,57921,57922,57923,57924,57925,57926,57927,57928,57929,57930,57931,57932,57933,57934,57935,57936,57937,57938,57939,57940,57941,57942,57943,57944,57945,57946,57947,57948,57949,57950,57951,57952,57953,57954,57955,57956,57957,57958,57959,57960,57961,57962,57963,57964,57965,57966,57967,57968,57969,57970,65533,57971,57972,57973,57974,57975,57976,57977,57978,57979,57980,57981,57982,57983,57984,57985,57986,57987,57988,57989,57990,57991,57992,57993,57994,57995,57996,57997,57998,57999,58e3,58001,58002,58003,58004,58005,58006,58007,58008,58009,58010,58011,58012,58013,58014,58015,58016,58017,58018,58019,58020,58021,58022,58023,58024,58025,58026,58027,58028,58029,58030,58031,58032,58033,58034,58035,58036,58037,58038,58039,58040,58041,58042,58043,58044,58045,58046,58047,58048,58049,58050,58051,58052,58053,58054,58055,58056,58057,58058,58059,58060,58061,58062,58063,58064,58065,58066,58067,58068,58069,58070,58071,58072,58073,58074,58075,58076,58077,58078,58079,58080,58081,58082,58083,58084,58085,58086,58087,58088,58089,58090,58091,58092,58093,58094,58095,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,58096,58097,58098,58099,58100,58101,58102,58103,58104,58105,58106,58107,58108,58109,58110,58111,58112,58113,58114,58115,58116,58117,58118,58119,58120,58121,58122,58123,58124,58125,58126,58127,58128,58129,58130,58131,58132,58133,58134,58135,58136,58137,58138,58139,58140,58141,58142,58143,58144,58145,58146,58147,58148,58149,58150,58151,58152,58153,58154,58155,58156,58157,58158,65533,58159,58160,58161,58162,58163,58164,58165,58166,58167,58168,58169,58170,58171,58172,58173,58174,58175,58176,58177,58178,58179,58180,58181,58182,58183,58184,58185,58186,58187,58188,58189,58190,58191,58192,58193,58194,58195,58196,58197,58198,58199,58200,58201,58202,58203,58204,58205,58206,58207,58208,58209,58210,58211,58212,58213,58214,58215,58216,58217,58218,58219,58220,58221,58222,58223,58224,58225,58226,58227,58228,58229,58230,58231,58232,58233,58234,58235,58236,58237,58238,58239,58240,58241,58242,58243,58244,58245,58246,58247,58248,58249,58250,58251,58252,58253,58254,58255,58256,58257,58258,58259,58260,58261,58262,58263,58264,58265,58266,58267,58268,58269,58270,58271,58272,58273,58274,58275,58276,58277,58278,58279,58280,58281,58282,58283,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,58284,58285,58286,58287,58288,58289,58290,58291,58292,58293,58294,58295,58296,58297,58298,58299,58300,58301,58302,58303,58304,58305,58306,58307,58308,58309,58310,58311,58312,58313,58314,58315,58316,58317,58318,58319,58320,58321,58322,58323,58324,58325,58326,58327,58328,58329,58330,58331,58332,58333,58334,58335,58336,58337,58338,58339,58340,58341,58342,58343,58344,58345,58346,65533,58347,58348,58349,58350,58351,58352,58353,58354,58355,58356,58357,58358,58359,58360,58361,58362,58363,58364,58365,58366,58367,58368,58369,58370,58371,58372,58373,58374,58375,58376,58377,58378,58379,58380,58381,58382,58383,58384,58385,58386,58387,58388,58389,58390,58391,58392,58393,58394,58395,58396,58397,58398,58399,58400,58401,58402,58403,58404,58405,58406,58407,58408,58409,58410,58411,58412,58413,58414,58415,58416,58417,58418,58419,58420,58421,58422,58423,58424,58425,58426,58427,58428,58429,58430,58431,58432,58433,58434,58435,58436,58437,58438,58439,58440,58441,58442,58443,58444,58445,58446,58447,58448,58449,58450,58451,58452,58453,58454,58455,58456,58457,58458,58459,58460,58461,58462,58463,58464,58465,58466,58467,58468,58469,58470,58471,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,58472,58473,58474,58475,58476,58477,58478,58479,58480,58481,58482,58483,58484,58485,58486,58487,58488,58489,58490,58491,58492,58493,58494,58495,58496,58497,58498,58499,58500,58501,58502,58503,58504,58505,58506,58507,58508,58509,58510,58511,58512,58513,58514,58515,58516,58517,58518,58519,58520,58521,58522,58523,58524,58525,58526,58527,58528,58529,58530,58531,58532,58533,58534,65533,58535,58536,58537,58538,58539,58540,58541,58542,58543,58544,58545,58546,58547,58548,58549,58550,58551,58552,58553,58554,58555,58556,58557,58558,58559,58560,58561,58562,58563,58564,65533,58566,58567,58568,58569,58570,58571,58572,58573,58574,58575,58576,58577,58578,58579,58580,58581,58582,58583,58584,58585,58586,58587,58588,58589,58590,58591,58592,58593,58594,58595,58596,58597,58598,58599,58600,58601,58602,58603,58604,58605,58606,58607,58608,58609,58610,58611,58612,58613,58614,58615,58616,58617,58618,58619,58620,58621,58622,58623,58624,58625,58626,58627,58628,58629,58630,58631,58632,58633,58634,58635,58636,58637,58638,58639,58640,58641,58642,58643,58644,58645,58646,58647,58648,58649,58650,58651,58652,58653,58654,58655,58656,58657,58658,58659,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,58660,58661,58662,58663,58664,58665,58666,58667,58668,58669,58670,58671,58672,58673,58674,58675,58676,58677,58678,58679,58680,58681,58682,58683,58684,58685,58686,58687,58688,58689,58690,58691,58692,58693,58694,58695,58696,58697,58698,58699,58700,58701,58702,58703,58704,58705,58706,58707,58708,58709,58710,58711,58712,58713,58714,58715,58716,58717,58718,58719,58720,58721,58722,65533,58723,58724,58725,58726,58727,58728,58729,58730,58731,58732,58733,58734,58735,58736,58737,58738,58739,58740,58741,58742,58743,58744,58745,58746,58747,58748,58749,58750,58751,58752,58753,58754,58755,58756,58757,58758,58759,58760,58761,58762,58763,58764,58765,58766,58767,58768,58769,58770,58771,58772,58773,58774,58775,58776,58777,58778,58779,58780,58781,58782,58783,58784,58785,58786,58787,58788,58789,58790,58791,58792,58793,58794,58795,58796,58797,58798,58799,58800,58801,58802,58803,58804,58805,58806,58807,58808,58809,58810,58811,58812,58813,58814,58815,58816,58817,58818,58819,58820,58821,58822,58823,58824,58825,58826,58827,58828,58829,58830,58831,58832,58833,58834,58835,58836,58837,58838,58839,58840,58841,58842,58843,58844,58845,58846,58847,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,58848,58849,58850,58851,58852,58853,58854,58855,58856,58857,58858,58859,58860,58861,58862,58863,58864,58865,58866,58867,58868,58869,58870,58871,58872,58873,58874,58875,58876,58877,58878,58879,58880,58881,58882,58883,58884,58885,58886,58887,58888,58889,58890,58891,58892,58893,58894,58895,58896,58897,58898,58899,58900,58901,58902,58903,58904,58905,58906,58907,58908,58909,58910,65533,58911,58912,58913,58914,58915,58916,58917,58918,58919,58920,58921,58922,58923,58924,58925,58926,58927,58928,58929,58930,58931,58932,58933,58934,58935,58936,58937,58938,58939,58940,58941,58942,58943,58944,58945,58946,58947,58948,58949,58950,58951,58952,58953,58954,58955,58956,58957,58958,58959,58960,58961,58962,58963,58964,58965,58966,58967,58968,58969,58970,58971,58972,58973,58974,58975,58976,58977,58978,58979,58980,58981,58982,58983,58984,58985,58986,58987,58988,58989,58990,58991,58992,58993,58994,58995,58996,58997,58998,58999,59e3,59001,59002,59003,59004,59005,59006,59007,59008,59009,59010,59011,59012,59013,59014,59015,59016,59017,59018,59019,59020,59021,59022,59023,59024,59025,59026,59027,59028,59029,59030,59031,59032,59033,59034,59035,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,59036,59037,59038,59039,59040,59041,59042,59043,59044,59045,59046,59047,59048,59049,59050,59051,59052,59053,59054,59055,59056,59057,59058,59059,59060,59061,59062,59063,59064,59065,59066,59067,59068,59069,59070,59071,59072,59073,59074,59075,59076,59077,59078,59079,59080,59081,59082,59083,59084,59085,59086,59087,59088,59089,59090,59091,59092,59093,59094,59095,59096,59097,59098,65533,59099,59100,59101,59102,59103,59104,59105,59106,59107,59108,59109,59110,59111,59112,59113,59114,59115,59116,59117,59118,59119,59120,59121,59122,59123,59124,59125,59126,59127,59128,59129,59130,59131,59132,59133,59134,59135,59136,59137,59138,59139,59140,59141,59142,59143,59144,59145,59146,59147,59148,59149,59150,59151,59152,59153,59154,59155,59156,59157,59158,59159,59160,59161,59162,59163,59164,59165,59166,59167,59168,59169,59170,59171,59172,59173,59174,59175,59176,59177,59178,59179,59180,59181,59182,59183,59184,59185,59186,59187,59188,59189,59190,59191,59192,59193,59194,59195,59196,59197,59198,59199,59200,59201,59202,59203,59204,59205,59206,59207,59208,59209,59210,59211,59212,59213,59214,59215,59216,59217,59218,59219,59220,59221,59222,59223,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,59224,59225,59226,59227,59228,59229,59230,59231,59232,59233,59234,59235,59236,59237,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,19970,19972,19973,19974,19983,19986,19991,19999,2e4,20001,20003,20006,20009,20014,20015,20017,20019,20021,20023,20028,20032,20033,20034,20036,20038,20042,20049,20053,20055,20058,20059,20066,20067,20068,20069,20071,20072,20074,20075,20076,20077,20078,20079,20082,20084,20085,20086,20087,20088,20089,20090,20091,20092,20093,20095,20096,20097,20098,20099,20100,20101,20103,20106,65533,20112,20118,20119,20121,20124,20125,20126,20131,20138,20143,20144,20145,20148,20150,20151,20152,20153,20156,20157,20158,20168,20172,20175,20176,20178,20186,20187,20188,20192,20194,20198,20199,20201,20205,20206,20207,20209,20212,20216,20217,20218,20220,20222,20224,20226,20227,20228,20229,20230,20231,20232,20235,20236,20242,20243,20244,20245,20246,20252,20253,20257,20259,20264,20265,20268,20269,20270,20273,20275,20277,20279,20281,20283,20286,20287,20288,20289,20290,20292,20293,20295,20296,20297,20298,20299,20300,20306,20308,20310,20321,20322,20326,20328,20330,20331,20333,20334,20337,20338,20341,20343,20344,20345,20346,20349,20352,20353,20354,20357,20358,20359,20362,20364,20366,20368,20370,20371,20373,20374,20376,20377,20378,20380,20382,20383,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20385,20386,20388,20395,20397,20400,20401,20402,20403,20404,20406,20407,20408,20409,20410,20411,20412,20413,20414,20416,20417,20418,20422,20423,20424,20425,20427,20428,20429,20434,20435,20436,20437,20438,20441,20443,20448,20450,20452,20453,20455,20459,20460,20464,20466,20468,20469,20470,20471,20473,20475,20476,20477,20479,20480,20481,20482,20483,20484,20485,20486,20487,20488,65533,20489,20490,20491,20494,20496,20497,20499,20501,20502,20503,20507,20509,20510,20512,20514,20515,20516,20519,20523,20527,20528,20529,20530,20531,20532,20533,20534,20535,20536,20537,20539,20541,20543,20544,20545,20546,20548,20549,20550,20553,20554,20555,20557,20560,20561,20562,20563,20564,20566,20567,20568,20569,20571,20573,20574,20575,20576,20577,20578,20579,20580,20582,20583,20584,20585,20586,20587,20589,20590,20591,20592,20593,20594,20595,20596,20597,20600,20601,20602,20604,20605,20609,20610,20611,20612,20614,20615,20617,20618,20619,20620,20622,20623,20624,20625,20626,20627,20628,20629,20630,20631,20632,20633,20634,20635,20636,20637,20638,20639,20640,20641,20642,20644,20646,20650,20651,20653,20654,20655,20656,20657,20659,20660,20661,20662,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20663,20664,20665,20668,20669,20670,20671,20672,20673,20674,20675,20676,20677,20678,20679,20680,20681,20682,20683,20684,20685,20686,20688,20689,20690,20691,20692,20693,20695,20696,20697,20699,20700,20701,20702,20703,20704,20705,20706,20707,20708,20709,20712,20713,20714,20715,20719,20720,20721,20722,20724,20726,20727,20728,20729,20730,20732,20733,20734,20735,20736,20737,20738,65533,20739,20740,20741,20744,20745,20746,20748,20749,20750,20751,20752,20753,20755,20756,20757,20758,20759,20760,20761,20762,20763,20764,20765,20766,20767,20768,20770,20771,20772,20773,20774,20775,20776,20777,20778,20779,20780,20781,20782,20783,20784,20785,20786,20787,20788,20789,20790,20791,20792,20793,20794,20795,20796,20797,20798,20802,20807,20810,20812,20814,20815,20816,20818,20819,20823,20824,20825,20827,20829,20830,20831,20832,20833,20835,20836,20838,20839,20841,20842,20847,20850,20858,20862,20863,20867,20868,20870,20871,20874,20875,20878,20879,20880,20881,20883,20884,20888,20890,20893,20894,20895,20897,20899,20902,20903,20904,20905,20906,20909,20910,20916,20920,20921,20922,20926,20927,20929,20930,20931,20933,20936,20938,20941,20942,20944,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,20946,20947,20948,20949,20950,20951,20952,20953,20954,20956,20958,20959,20962,20963,20965,20966,20967,20968,20969,20970,20972,20974,20977,20978,20980,20983,20990,20996,20997,21001,21003,21004,21007,21008,21011,21012,21013,21020,21022,21023,21025,21026,21027,21029,21030,21031,21034,21036,21039,21041,21042,21044,21045,21052,21054,21060,21061,21062,21063,21064,21065,21067,21070,65533,21071,21074,21075,21077,21079,21080,21081,21082,21083,21085,21087,21088,21090,21091,21092,21094,21096,21099,21100,21101,21102,21104,21105,21107,21108,21109,21110,21111,21112,21113,21114,21115,21116,21118,21120,21123,21124,21125,21126,21127,21129,21130,21131,21132,21133,21134,21135,21137,21138,21140,21141,21142,21143,21144,21145,21146,21148,21156,21157,21158,21159,21166,21167,21168,21172,21173,21174,21175,21176,21177,21178,21179,21180,21181,21184,21185,21186,21188,21189,21190,21192,21194,21196,21197,21198,21199,21201,21203,21204,21205,21207,21209,21210,21211,21212,21213,21214,21216,21217,21218,21219,21221,21222,21223,21224,21225,21226,21227,21228,21229,21230,21231,21233,21234,21235,21236,21237,21238,21239,21240,21243,21244,21245,21249,21250,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21251,21252,21255,21257,21258,21259,21260,21262,21265,21266,21267,21268,21272,21275,21276,21278,21279,21282,21284,21285,21287,21288,21289,21291,21292,21293,21295,21296,21297,21298,21299,21300,21301,21302,21303,21304,21308,21309,21312,21314,21316,21318,21323,21324,21325,21328,21332,21336,21337,21339,21341,21349,21352,21354,21356,21357,21362,21366,21369,21371,21372,21373,21374,65533,21376,21377,21379,21383,21384,21386,21390,21391,21392,21393,21394,21395,21396,21398,21399,21401,21403,21404,21406,21408,21409,21412,21415,21418,21419,21420,21421,21423,21424,21425,21426,21427,21428,21429,21431,21432,21433,21434,21436,21437,21438,21440,21443,21444,21445,21446,21447,21454,21455,21456,21458,21459,21461,21466,21468,21469,21470,21473,21474,21479,21492,21498,21502,21503,21504,21506,21509,21511,21515,21524,21528,21529,21530,21532,21538,21540,21541,21546,21552,21555,21558,21559,21562,21565,21567,21569,21570,21572,21573,21575,21577,21580,21581,21582,21583,21585,21594,21597,21598,21599,21600,21601,21603,21605,21607,21609,21610,21611,21612,21613,21614,21615,21616,21620,21625,21626,21630,21631,21633,21635,21637,21639,21640,21641,21642,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,21645,21649,21651,21655,21656,21660,21662,21663,21664,21665,21666,21669,21678,21680,21682,21685,21686,21687,21689,21690,21692,21694,21699,21701,21706,21707,21718,21720,21723,21728,21729,21730,21731,21732,21739,21740,21743,21744,21745,21748,21749,21750,21751,21752,21753,21755,21758,21760,21762,21763,21764,21765,21768,21770,21771,21772,21773,21774,21778,21779,21781,21782,21783,65533,21784,21785,21786,21788,21789,21790,21791,21793,21797,21798,21800,21801,21803,21805,21810,21812,21813,21814,21816,21817,21818,21819,21821,21824,21826,21829,21831,21832,21835,21836,21837,21838,21839,21841,21842,21843,21844,21847,21848,21849,21850,21851,21853,21854,21855,21856,21858,21859,21864,21865,21867,21871,21872,21873,21874,21875,21876,21881,21882,21885,21887,21893,21894,21900,21901,21902,21904,21906,21907,21909,21910,21911,21914,21915,21918,21920,21921,21922,21923,21924,21925,21926,21928,21929,21930,21931,21932,21933,21934,21935,21936,21938,21940,21942,21944,21946,21948,21951,21952,21953,21954,21955,21958,21959,21960,21962,21963,21966,21967,21968,21973,21975,21976,21977,21978,21979,21982,21984,21986,21991,21993,21997,21998,22e3,22001,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22004,22006,22008,22009,22010,22011,22012,22015,22018,22019,22020,22021,22022,22023,22026,22027,22029,22032,22033,22034,22035,22036,22037,22038,22039,22041,22042,22044,22045,22048,22049,22050,22053,22054,22056,22057,22058,22059,22062,22063,22064,22067,22069,22071,22072,22074,22076,22077,22078,22080,22081,22082,22083,22084,22085,22086,22087,22088,22089,22090,22091,22095,22096,65533,22097,22098,22099,22101,22102,22106,22107,22109,22110,22111,22112,22113,22115,22117,22118,22119,22125,22126,22127,22128,22130,22131,22132,22133,22135,22136,22137,22138,22141,22142,22143,22144,22145,22146,22147,22148,22151,22152,22153,22154,22155,22156,22157,22160,22161,22162,22164,22165,22166,22167,22168,22169,22170,22171,22172,22173,22174,22175,22176,22177,22178,22180,22181,22182,22183,22184,22185,22186,22187,22188,22189,22190,22192,22193,22194,22195,22196,22197,22198,22200,22201,22202,22203,22205,22206,22207,22208,22209,22210,22211,22212,22213,22214,22215,22216,22217,22219,22220,22221,22222,22223,22224,22225,22226,22227,22229,22230,22232,22233,22236,22243,22245,22246,22247,22248,22249,22250,22252,22254,22255,22258,22259,22262,22263,22264,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22267,22268,22272,22273,22274,22277,22279,22283,22284,22285,22286,22287,22288,22289,22290,22291,22292,22293,22294,22295,22296,22297,22298,22299,22301,22302,22304,22305,22306,22308,22309,22310,22311,22315,22321,22322,22324,22325,22326,22327,22328,22332,22333,22335,22337,22339,22340,22341,22342,22344,22345,22347,22354,22355,22356,22357,22358,22360,22361,22370,22371,22373,22375,65533,22380,22382,22384,22385,22386,22388,22389,22392,22393,22394,22397,22398,22399,22400,22401,22407,22408,22409,22410,22413,22414,22415,22416,22417,22420,22421,22422,22423,22424,22425,22426,22428,22429,22430,22431,22437,22440,22442,22444,22447,22448,22449,22451,22453,22454,22455,22457,22458,22459,22460,22461,22462,22463,22464,22465,22468,22469,22470,22471,22472,22473,22474,22476,22477,22480,22481,22483,22486,22487,22491,22492,22494,22497,22498,22499,22501,22502,22503,22504,22505,22506,22507,22508,22510,22512,22513,22514,22515,22517,22518,22519,22523,22524,22526,22527,22529,22531,22532,22533,22536,22537,22538,22540,22542,22543,22544,22546,22547,22548,22550,22551,22552,22554,22555,22556,22557,22559,22562,22563,22565,22566,22567,22568,22569,22571,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22572,22573,22574,22575,22577,22578,22579,22580,22582,22583,22584,22585,22586,22587,22588,22589,22590,22591,22592,22593,22594,22595,22597,22598,22599,22600,22601,22602,22603,22606,22607,22608,22610,22611,22613,22614,22615,22617,22618,22619,22620,22621,22623,22624,22625,22626,22627,22628,22630,22631,22632,22633,22634,22637,22638,22639,22640,22641,22642,22643,22644,22645,22646,65533,22647,22648,22649,22650,22651,22652,22653,22655,22658,22660,22662,22663,22664,22666,22667,22668,22669,22670,22671,22672,22673,22676,22677,22678,22679,22680,22683,22684,22685,22688,22689,22690,22691,22692,22693,22694,22695,22698,22699,22700,22701,22702,22703,22704,22705,22706,22707,22708,22709,22710,22711,22712,22713,22714,22715,22717,22718,22719,22720,22722,22723,22724,22726,22727,22728,22729,22730,22731,22732,22733,22734,22735,22736,22738,22739,22740,22742,22743,22744,22745,22746,22747,22748,22749,22750,22751,22752,22753,22754,22755,22757,22758,22759,22760,22761,22762,22765,22767,22769,22770,22772,22773,22775,22776,22778,22779,22780,22781,22782,22783,22784,22785,22787,22789,22790,22792,22793,22794,22795,22796,22798,22800,22801,22802,22803,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,22807,22808,22811,22813,22814,22816,22817,22818,22819,22822,22824,22828,22832,22834,22835,22837,22838,22843,22845,22846,22847,22848,22851,22853,22854,22858,22860,22861,22864,22866,22867,22873,22875,22876,22877,22878,22879,22881,22883,22884,22886,22887,22888,22889,22890,22891,22892,22893,22894,22895,22896,22897,22898,22901,22903,22906,22907,22908,22910,22911,22912,22917,22921,65533,22923,22924,22926,22927,22928,22929,22932,22933,22936,22938,22939,22940,22941,22943,22944,22945,22946,22950,22951,22956,22957,22960,22961,22963,22964,22965,22966,22967,22968,22970,22972,22973,22975,22976,22977,22978,22979,22980,22981,22983,22984,22985,22988,22989,22990,22991,22997,22998,23001,23003,23006,23007,23008,23009,23010,23012,23014,23015,23017,23018,23019,23021,23022,23023,23024,23025,23026,23027,23028,23029,23030,23031,23032,23034,23036,23037,23038,23040,23042,23050,23051,23053,23054,23055,23056,23058,23060,23061,23062,23063,23065,23066,23067,23069,23070,23073,23074,23076,23078,23079,23080,23082,23083,23084,23085,23086,23087,23088,23091,23093,23095,23096,23097,23098,23099,23101,23102,23103,23105,23106,23107,23108,23109,23111,23112,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23115,23116,23117,23118,23119,23120,23121,23122,23123,23124,23126,23127,23128,23129,23131,23132,23133,23134,23135,23136,23137,23139,23140,23141,23142,23144,23145,23147,23148,23149,23150,23151,23152,23153,23154,23155,23160,23161,23163,23164,23165,23166,23168,23169,23170,23171,23172,23173,23174,23175,23176,23177,23178,23179,23180,23181,23182,23183,23184,23185,23187,23188,23189,65533,23190,23191,23192,23193,23196,23197,23198,23199,23200,23201,23202,23203,23204,23205,23206,23207,23208,23209,23211,23212,23213,23214,23215,23216,23217,23220,23222,23223,23225,23226,23227,23228,23229,23231,23232,23235,23236,23237,23238,23239,23240,23242,23243,23245,23246,23247,23248,23249,23251,23253,23255,23257,23258,23259,23261,23262,23263,23266,23268,23269,23271,23272,23274,23276,23277,23278,23279,23280,23282,23283,23284,23285,23286,23287,23288,23289,23290,23291,23292,23293,23294,23295,23296,23297,23298,23299,23300,23301,23302,23303,23304,23306,23307,23308,23309,23310,23311,23312,23313,23314,23315,23316,23317,23320,23321,23322,23323,23324,23325,23326,23327,23328,23329,23330,23331,23332,23333,23334,23335,23336,23337,23338,23339,23340,23341,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23342,23343,23344,23345,23347,23349,23350,23352,23353,23354,23355,23356,23357,23358,23359,23361,23362,23363,23364,23365,23366,23367,23368,23369,23370,23371,23372,23373,23374,23375,23378,23382,23390,23392,23393,23399,23400,23403,23405,23406,23407,23410,23412,23414,23415,23416,23417,23419,23420,23422,23423,23426,23430,23434,23437,23438,23440,23441,23442,23444,23446,23455,23463,65533,23464,23465,23468,23469,23470,23471,23473,23474,23479,23482,23483,23484,23488,23489,23491,23496,23497,23498,23499,23501,23502,23503,23505,23508,23509,23510,23511,23512,23513,23514,23515,23516,23520,23522,23523,23526,23527,23529,23530,23531,23532,23533,23535,23537,23538,23539,23540,23541,23542,23543,23549,23550,23552,23554,23555,23557,23559,23560,23563,23564,23565,23566,23568,23570,23571,23575,23577,23579,23582,23583,23584,23585,23587,23590,23592,23593,23594,23595,23597,23598,23599,23600,23602,23603,23605,23606,23607,23619,23620,23622,23623,23628,23629,23634,23635,23636,23638,23639,23640,23642,23643,23644,23645,23647,23650,23652,23655,23656,23657,23658,23659,23660,23661,23664,23666,23667,23668,23669,23670,23671,23672,23675,23676,23677,23678,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23680,23683,23684,23685,23686,23687,23689,23690,23691,23694,23695,23698,23699,23701,23709,23710,23711,23712,23713,23716,23717,23718,23719,23720,23722,23726,23727,23728,23730,23732,23734,23737,23738,23739,23740,23742,23744,23746,23747,23749,23750,23751,23752,23753,23754,23756,23757,23758,23759,23760,23761,23763,23764,23765,23766,23767,23768,23770,23771,23772,23773,23774,23775,65533,23776,23778,23779,23783,23785,23787,23788,23790,23791,23793,23794,23795,23796,23797,23798,23799,23800,23801,23802,23804,23805,23806,23807,23808,23809,23812,23813,23816,23817,23818,23819,23820,23821,23823,23824,23825,23826,23827,23829,23831,23832,23833,23834,23836,23837,23839,23840,23841,23842,23843,23845,23848,23850,23851,23852,23855,23856,23857,23858,23859,23861,23862,23863,23864,23865,23866,23867,23868,23871,23872,23873,23874,23875,23876,23877,23878,23880,23881,23885,23886,23887,23888,23889,23890,23891,23892,23893,23894,23895,23897,23898,23900,23902,23903,23904,23905,23906,23907,23908,23909,23910,23911,23912,23914,23917,23918,23920,23921,23922,23923,23925,23926,23927,23928,23929,23930,23931,23932,23933,23934,23935,23936,23937,23939,23940,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,23941,23942,23943,23944,23945,23946,23947,23948,23949,23950,23951,23952,23953,23954,23955,23956,23957,23958,23959,23960,23962,23963,23964,23966,23967,23968,23969,23970,23971,23972,23973,23974,23975,23976,23977,23978,23979,23980,23981,23982,23983,23984,23985,23986,23987,23988,23989,23990,23992,23993,23994,23995,23996,23997,23998,23999,24e3,24001,24002,24003,24004,24006,24007,65533,24008,24009,24010,24011,24012,24014,24015,24016,24017,24018,24019,24020,24021,24022,24023,24024,24025,24026,24028,24031,24032,24035,24036,24042,24044,24045,24048,24053,24054,24056,24057,24058,24059,24060,24063,24064,24068,24071,24073,24074,24075,24077,24078,24082,24083,24087,24094,24095,24096,24097,24098,24099,24100,24101,24104,24105,24106,24107,24108,24111,24112,24114,24115,24116,24117,24118,24121,24122,24126,24127,24128,24129,24131,24134,24135,24136,24137,24138,24139,24141,24142,24143,24144,24145,24146,24147,24150,24151,24152,24153,24154,24156,24157,24159,24160,24163,24164,24165,24166,24167,24168,24169,24170,24171,24172,24173,24174,24175,24176,24177,24181,24183,24185,24190,24193,24194,24195,24197,24200,24201,24204,24205,24206,24210,24216,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24219,24221,24225,24226,24227,24228,24232,24233,24234,24235,24236,24238,24239,24240,24241,24242,24244,24250,24251,24252,24253,24255,24256,24257,24258,24259,24260,24261,24262,24263,24264,24267,24268,24269,24270,24271,24272,24276,24277,24279,24280,24281,24282,24284,24285,24286,24287,24288,24289,24290,24291,24292,24293,24294,24295,24297,24299,24300,24301,24302,24303,24304,24305,65533,24306,24307,24309,24312,24313,24315,24316,24317,24325,24326,24327,24329,24332,24333,24334,24336,24338,24340,24342,24345,24346,24348,24349,24350,24353,24354,24355,24356,24360,24363,24364,24366,24368,24370,24371,24372,24373,24374,24375,24376,24379,24381,24382,24383,24385,24386,24387,24388,24389,24390,24391,24392,24393,24394,24395,24396,24397,24398,24399,24401,24404,24409,24410,24411,24412,24414,24415,24416,24419,24421,24423,24424,24427,24430,24431,24434,24436,24437,24438,24440,24442,24445,24446,24447,24451,24454,24461,24462,24463,24465,24467,24468,24470,24474,24475,24477,24478,24479,24480,24482,24483,24484,24485,24486,24487,24489,24491,24492,24495,24496,24497,24498,24499,24500,24502,24504,24505,24506,24507,24510,24511,24512,24513,24514,24519,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24520,24522,24523,24526,24531,24532,24533,24538,24539,24540,24542,24543,24546,24547,24549,24550,24552,24553,24556,24559,24560,24562,24563,24564,24566,24567,24569,24570,24572,24583,24584,24585,24587,24588,24592,24593,24595,24599,24600,24602,24606,24607,24610,24611,24612,24620,24621,24622,24624,24625,24626,24627,24628,24630,24631,24632,24633,24634,24637,24638,24640,24644,24645,65533,24646,24647,24648,24649,24650,24652,24654,24655,24657,24659,24660,24662,24663,24664,24667,24668,24670,24671,24672,24673,24677,24678,24686,24689,24690,24692,24693,24695,24702,24704,24705,24706,24709,24710,24711,24712,24714,24715,24718,24719,24720,24721,24723,24725,24727,24728,24729,24732,24734,24737,24738,24740,24741,24743,24745,24746,24750,24752,24755,24757,24758,24759,24761,24762,24765,24766,24767,24768,24769,24770,24771,24772,24775,24776,24777,24780,24781,24782,24783,24784,24786,24787,24788,24790,24791,24793,24795,24798,24801,24802,24803,24804,24805,24810,24817,24818,24821,24823,24824,24827,24828,24829,24830,24831,24834,24835,24836,24837,24839,24842,24843,24844,24848,24849,24850,24851,24852,24854,24855,24856,24857,24859,24860,24861,24862,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,24865,24866,24869,24872,24873,24874,24876,24877,24878,24879,24880,24881,24882,24883,24884,24885,24886,24887,24888,24889,24890,24891,24892,24893,24894,24896,24897,24898,24899,24900,24901,24902,24903,24905,24907,24909,24911,24912,24914,24915,24916,24918,24919,24920,24921,24922,24923,24924,24926,24927,24928,24929,24931,24932,24933,24934,24937,24938,24939,24940,24941,24942,24943,65533,24945,24946,24947,24948,24950,24952,24953,24954,24955,24956,24957,24958,24959,24960,24961,24962,24963,24964,24965,24966,24967,24968,24969,24970,24972,24973,24975,24976,24977,24978,24979,24981,24982,24983,24984,24985,24986,24987,24988,24990,24991,24992,24993,24994,24995,24996,24997,24998,25002,25003,25005,25006,25007,25008,25009,25010,25011,25012,25013,25014,25016,25017,25018,25019,25020,25021,25023,25024,25025,25027,25028,25029,25030,25031,25033,25036,25037,25038,25039,25040,25043,25045,25046,25047,25048,25049,25050,25051,25052,25053,25054,25055,25056,25057,25058,25059,25060,25061,25063,25064,25065,25066,25067,25068,25069,25070,25071,25072,25073,25074,25075,25076,25078,25079,25080,25081,25082,25083,25084,25085,25086,25088,25089,25090,25091,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25092,25093,25095,25097,25107,25108,25113,25116,25117,25118,25120,25123,25126,25127,25128,25129,25131,25133,25135,25136,25137,25138,25141,25142,25144,25145,25146,25147,25148,25154,25156,25157,25158,25162,25167,25168,25173,25174,25175,25177,25178,25180,25181,25182,25183,25184,25185,25186,25188,25189,25192,25201,25202,25204,25205,25207,25208,25210,25211,25213,25217,25218,25219,65533,25221,25222,25223,25224,25227,25228,25229,25230,25231,25232,25236,25241,25244,25245,25246,25251,25254,25255,25257,25258,25261,25262,25263,25264,25266,25267,25268,25270,25271,25272,25274,25278,25280,25281,25283,25291,25295,25297,25301,25309,25310,25312,25313,25316,25322,25323,25328,25330,25333,25336,25337,25338,25339,25344,25347,25348,25349,25350,25354,25355,25356,25357,25359,25360,25362,25363,25364,25365,25367,25368,25369,25372,25382,25383,25385,25388,25389,25390,25392,25393,25395,25396,25397,25398,25399,25400,25403,25404,25406,25407,25408,25409,25412,25415,25416,25418,25425,25426,25427,25428,25430,25431,25432,25433,25434,25435,25436,25437,25440,25444,25445,25446,25448,25450,25451,25452,25455,25456,25458,25459,25460,25461,25464,25465,25468,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25469,25470,25471,25473,25475,25476,25477,25478,25483,25485,25489,25491,25492,25493,25495,25497,25498,25499,25500,25501,25502,25503,25505,25508,25510,25515,25519,25521,25522,25525,25526,25529,25531,25533,25535,25536,25537,25538,25539,25541,25543,25544,25546,25547,25548,25553,25555,25556,25557,25559,25560,25561,25562,25563,25564,25565,25567,25570,25572,25573,25574,25575,25576,65533,25579,25580,25582,25583,25584,25585,25587,25589,25591,25593,25594,25595,25596,25598,25603,25604,25606,25607,25608,25609,25610,25613,25614,25617,25618,25621,25622,25623,25624,25625,25626,25629,25631,25634,25635,25636,25637,25639,25640,25641,25643,25646,25647,25648,25649,25650,25651,25653,25654,25655,25656,25657,25659,25660,25662,25664,25666,25667,25673,25675,25676,25677,25678,25679,25680,25681,25683,25685,25686,25687,25689,25690,25691,25692,25693,25695,25696,25697,25698,25699,25700,25701,25702,25704,25706,25707,25708,25710,25711,25712,25713,25714,25715,25716,25717,25718,25719,25723,25724,25725,25726,25727,25728,25729,25731,25734,25736,25737,25738,25739,25740,25741,25742,25743,25744,25747,25748,25751,25752,25754,25755,25756,25757,25759,25760,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,25761,25762,25763,25765,25766,25767,25768,25770,25771,25775,25777,25778,25779,25780,25782,25785,25787,25789,25790,25791,25793,25795,25796,25798,25799,25800,25801,25802,25803,25804,25807,25809,25811,25812,25813,25814,25817,25818,25819,25820,25821,25823,25824,25825,25827,25829,25831,25832,25833,25834,25835,25836,25837,25838,25839,25840,25841,25842,25843,25844,25845,25846,25847,65533,25848,25849,25850,25851,25852,25853,25854,25855,25857,25858,25859,25860,25861,25862,25863,25864,25866,25867,25868,25869,25870,25871,25872,25873,25875,25876,25877,25878,25879,25881,25882,25883,25884,25885,25886,25887,25888,25889,25890,25891,25892,25894,25895,25896,25897,25898,25900,25901,25904,25905,25906,25907,25911,25914,25916,25917,25920,25921,25922,25923,25924,25926,25927,25930,25931,25933,25934,25936,25938,25939,25940,25943,25944,25946,25948,25951,25952,25953,25956,25957,25959,25960,25961,25962,25965,25966,25967,25969,25971,25973,25974,25976,25977,25978,25979,25980,25981,25982,25983,25984,25985,25986,25987,25988,25989,25990,25992,25993,25994,25997,25998,25999,26002,26004,26005,26006,26008,26010,26013,26014,26016,26018,26019,26022,26024,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26026,26028,26030,26033,26034,26035,26036,26037,26038,26039,26040,26042,26043,26046,26047,26048,26050,26055,26056,26057,26058,26061,26064,26065,26067,26068,26069,26072,26073,26074,26075,26076,26077,26078,26079,26081,26083,26084,26090,26091,26098,26099,26100,26101,26104,26105,26107,26108,26109,26110,26111,26113,26116,26117,26119,26120,26121,26123,26125,26128,26129,26130,26134,65533,26135,26136,26138,26139,26140,26142,26145,26146,26147,26148,26150,26153,26154,26155,26156,26158,26160,26162,26163,26167,26168,26169,26170,26171,26173,26175,26176,26178,26180,26181,26182,26183,26184,26185,26186,26189,26190,26192,26193,26200,26201,26203,26204,26205,26206,26208,26210,26211,26213,26215,26217,26218,26219,26220,26221,26225,26226,26227,26229,26232,26233,26235,26236,26237,26239,26240,26241,26243,26245,26246,26248,26249,26250,26251,26253,26254,26255,26256,26258,26259,26260,26261,26264,26265,26266,26267,26268,26270,26271,26272,26273,26274,26275,26276,26277,26278,26281,26282,26283,26284,26285,26287,26288,26289,26290,26291,26293,26294,26295,26296,26298,26299,26300,26301,26303,26304,26305,26306,26307,26308,26309,26310,26311,26312,26313,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26314,26315,26316,26317,26318,26319,26320,26321,26322,26323,26324,26325,26326,26327,26328,26330,26334,26335,26336,26337,26338,26339,26340,26341,26343,26344,26346,26347,26348,26349,26350,26351,26353,26357,26358,26360,26362,26363,26365,26369,26370,26371,26372,26373,26374,26375,26380,26382,26383,26385,26386,26387,26390,26392,26393,26394,26396,26398,26400,26401,26402,26403,26404,65533,26405,26407,26409,26414,26416,26418,26419,26422,26423,26424,26425,26427,26428,26430,26431,26433,26436,26437,26439,26442,26443,26445,26450,26452,26453,26455,26456,26457,26458,26459,26461,26466,26467,26468,26470,26471,26475,26476,26478,26481,26484,26486,26488,26489,26490,26491,26493,26496,26498,26499,26501,26502,26504,26506,26508,26509,26510,26511,26513,26514,26515,26516,26518,26521,26523,26527,26528,26529,26532,26534,26537,26540,26542,26545,26546,26548,26553,26554,26555,26556,26557,26558,26559,26560,26562,26565,26566,26567,26568,26569,26570,26571,26572,26573,26574,26581,26582,26583,26587,26591,26593,26595,26596,26598,26599,26600,26602,26603,26605,26606,26610,26613,26614,26615,26616,26617,26618,26619,26620,26622,26625,26626,26627,26628,26630,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26637,26640,26642,26644,26645,26648,26649,26650,26651,26652,26654,26655,26656,26658,26659,26660,26661,26662,26663,26664,26667,26668,26669,26670,26671,26672,26673,26676,26677,26678,26682,26683,26687,26695,26699,26701,26703,26706,26710,26711,26712,26713,26714,26715,26716,26717,26718,26719,26730,26732,26733,26734,26735,26736,26737,26738,26739,26741,26744,26745,26746,26747,26748,65533,26749,26750,26751,26752,26754,26756,26759,26760,26761,26762,26763,26764,26765,26766,26768,26769,26770,26772,26773,26774,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26787,26788,26789,26793,26794,26795,26796,26798,26801,26802,26804,26806,26807,26808,26809,26810,26811,26812,26813,26814,26815,26817,26819,26820,26821,26822,26823,26824,26826,26828,26830,26831,26832,26833,26835,26836,26838,26839,26841,26843,26844,26845,26846,26847,26849,26850,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26863,26866,26867,26868,26870,26871,26872,26875,26877,26878,26879,26880,26882,26883,26884,26886,26887,26888,26889,26890,26892,26895,26897,26899,26900,26901,26902,26903,26904,26905,26906,26907,26908,26909,26910,26913,26914,26915,26917,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,26918,26919,26920,26921,26922,26923,26924,26926,26927,26929,26930,26931,26933,26934,26935,26936,26938,26939,26940,26942,26944,26945,26947,26948,26949,26950,26951,26952,26953,26954,26955,26956,26957,26958,26959,26960,26961,26962,26963,26965,26966,26968,26969,26971,26972,26975,26977,26978,26980,26981,26983,26984,26985,26986,26988,26989,26991,26992,26994,26995,26996,26997,26998,65533,27002,27003,27005,27006,27007,27009,27011,27013,27018,27019,27020,27022,27023,27024,27025,27026,27027,27030,27031,27033,27034,27037,27038,27039,27040,27041,27042,27043,27044,27045,27046,27049,27050,27052,27054,27055,27056,27058,27059,27061,27062,27064,27065,27066,27068,27069,27070,27071,27072,27074,27075,27076,27077,27078,27079,27080,27081,27083,27085,27087,27089,27090,27091,27093,27094,27095,27096,27097,27098,27100,27101,27102,27105,27106,27107,27108,27109,27110,27111,27112,27113,27114,27115,27116,27118,27119,27120,27121,27123,27124,27125,27126,27127,27128,27129,27130,27131,27132,27134,27136,27137,27138,27139,27140,27141,27142,27143,27144,27145,27147,27148,27149,27150,27151,27152,27153,27154,27155,27156,27157,27158,27161,27162,27163,27164,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27165,27166,27168,27170,27171,27172,27173,27174,27175,27177,27179,27180,27181,27182,27184,27186,27187,27188,27190,27191,27192,27193,27194,27195,27196,27199,27200,27201,27202,27203,27205,27206,27208,27209,27210,27211,27212,27213,27214,27215,27217,27218,27219,27220,27221,27222,27223,27226,27228,27229,27230,27231,27232,27234,27235,27236,27238,27239,27240,27241,27242,27243,27244,65533,27245,27246,27247,27248,27250,27251,27252,27253,27254,27255,27256,27258,27259,27261,27262,27263,27265,27266,27267,27269,27270,27271,27272,27273,27274,27275,27276,27277,27279,27282,27283,27284,27285,27286,27288,27289,27290,27291,27292,27293,27294,27295,27297,27298,27299,27300,27301,27302,27303,27304,27306,27309,27310,27311,27312,27313,27314,27315,27316,27317,27318,27319,27320,27321,27322,27323,27324,27325,27326,27327,27328,27329,27330,27331,27332,27333,27334,27335,27336,27337,27338,27339,27340,27341,27342,27343,27344,27345,27346,27347,27348,27349,27350,27351,27352,27353,27354,27355,27356,27357,27358,27359,27360,27361,27362,27363,27364,27365,27366,27367,27368,27369,27370,27371,27372,27373,27374,27375,27376,27377,27378,27379,27380,27381,27382,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27383,27384,27385,27386,27387,27388,27389,27390,27391,27392,27393,27394,27395,27396,27397,27398,27399,27400,27401,27402,27403,27404,27405,27406,27407,27408,27409,27410,27411,27412,27413,27414,27415,27416,27417,27418,27419,27420,27421,27422,27423,27429,27430,27432,27433,27434,27435,27436,27437,27438,27439,27440,27441,27443,27444,27445,27446,27448,27451,27452,27453,27455,27456,65533,27457,27458,27460,27461,27464,27466,27467,27469,27470,27471,27472,27473,27474,27475,27476,27477,27478,27479,27480,27482,27483,27484,27485,27486,27487,27488,27489,27496,27497,27499,27500,27501,27502,27503,27504,27505,27506,27507,27508,27509,27510,27511,27512,27514,27517,27518,27519,27520,27525,27528,27532,27534,27535,27536,27537,27540,27541,27543,27544,27545,27548,27549,27550,27551,27552,27554,27555,27556,27557,27558,27559,27560,27561,27563,27564,27565,27566,27567,27568,27569,27570,27574,27576,27577,27578,27579,27580,27581,27582,27584,27587,27588,27590,27591,27592,27593,27594,27596,27598,27600,27601,27608,27610,27612,27613,27614,27615,27616,27618,27619,27620,27621,27622,27623,27624,27625,27628,27629,27630,27632,27633,27634,27636,27638,27639,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,27640,27642,27643,27644,27646,27647,27648,27649,27650,27651,27652,27656,27657,27658,27659,27660,27662,27666,27671,27676,27677,27678,27680,27683,27685,27691,27692,27693,27697,27699,27702,27703,27705,27706,27707,27708,27710,27711,27715,27716,27717,27720,27723,27724,27725,27726,27727,27729,27730,27731,27734,27736,27737,27738,27746,27747,27749,27750,27751,27755,27756,27757,27758,65533,27759,27761,27763,27765,27767,27768,27770,27771,27772,27775,27776,27780,27783,27786,27787,27789,27790,27793,27794,27797,27798,27799,27800,27802,27804,27805,27806,27808,27810,27816,27820,27823,27824,27828,27829,27830,27831,27834,27840,27841,27842,27843,27846,27847,27848,27851,27853,27854,27855,27857,27858,27864,27865,27866,27868,27869,27871,27876,27878,27879,27881,27884,27885,27890,27892,27897,27903,27904,27906,27907,27909,27910,27912,27913,27914,27917,27919,27920,27921,27923,27924,27925,27926,27928,27932,27933,27935,27936,27937,27938,27939,27940,27942,27944,27945,27948,27949,27951,27952,27956,27958,27959,27960,27962,27967,27968,27970,27972,27977,27980,27984,27989,27990,27991,27992,27995,27997,27999,28001,28002,28004,28005,28007,28008,28011,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28012,28013,28016,28017,28018,28019,28021,28022,28025,28026,28027,28029,28030,28031,28032,28033,28035,28036,28038,28039,28042,28043,28045,28047,28048,28050,28054,28055,28056,28057,28058,28060,28066,28069,28076,28077,28080,28081,28083,28084,28086,28087,28089,28090,28091,28092,28093,28094,28097,28098,28099,28104,28105,28106,28109,28110,28111,28112,28114,28115,28116,28117,28119,65533,28122,28123,28124,28127,28130,28131,28133,28135,28136,28137,28138,28141,28143,28144,28146,28148,28149,28150,28152,28154,28157,28158,28159,28160,28161,28162,28163,28164,28166,28167,28168,28169,28171,28175,28178,28179,28181,28184,28185,28187,28188,28190,28191,28194,28198,28199,28200,28202,28204,28206,28208,28209,28211,28213,28214,28215,28217,28219,28220,28221,28222,28223,28224,28225,28226,28229,28230,28231,28232,28233,28234,28235,28236,28239,28240,28241,28242,28245,28247,28249,28250,28252,28253,28254,28256,28257,28258,28259,28260,28261,28262,28263,28264,28265,28266,28268,28269,28271,28272,28273,28274,28275,28276,28277,28278,28279,28280,28281,28282,28283,28284,28285,28288,28289,28290,28292,28295,28296,28298,28299,28300,28301,28302,28305,28306,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28307,28308,28309,28310,28311,28313,28314,28315,28317,28318,28320,28321,28323,28324,28326,28328,28329,28331,28332,28333,28334,28336,28339,28341,28344,28345,28348,28350,28351,28352,28355,28356,28357,28358,28360,28361,28362,28364,28365,28366,28368,28370,28374,28376,28377,28379,28380,28381,28387,28391,28394,28395,28396,28397,28398,28399,28400,28401,28402,28403,28405,28406,28407,65533,28408,28410,28411,28412,28413,28414,28415,28416,28417,28419,28420,28421,28423,28424,28426,28427,28428,28429,28430,28432,28433,28434,28438,28439,28440,28441,28442,28443,28444,28445,28446,28447,28449,28450,28451,28453,28454,28455,28456,28460,28462,28464,28466,28468,28469,28471,28472,28473,28474,28475,28476,28477,28479,28480,28481,28482,28483,28484,28485,28488,28489,28490,28492,28494,28495,28496,28497,28498,28499,28500,28501,28502,28503,28505,28506,28507,28509,28511,28512,28513,28515,28516,28517,28519,28520,28521,28522,28523,28524,28527,28528,28529,28531,28533,28534,28535,28537,28539,28541,28542,28543,28544,28545,28546,28547,28549,28550,28551,28554,28555,28559,28560,28561,28562,28563,28564,28565,28566,28567,28568,28569,28570,28571,28573,28574,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28575,28576,28578,28579,28580,28581,28582,28584,28585,28586,28587,28588,28589,28590,28591,28592,28593,28594,28596,28597,28599,28600,28602,28603,28604,28605,28606,28607,28609,28611,28612,28613,28614,28615,28616,28618,28619,28620,28621,28622,28623,28624,28627,28628,28629,28630,28631,28632,28633,28634,28635,28636,28637,28639,28642,28643,28644,28645,28646,28647,28648,28649,28650,65533,28651,28652,28653,28656,28657,28658,28659,28660,28661,28662,28663,28664,28665,28666,28667,28668,28669,28670,28671,28672,28673,28674,28675,28676,28677,28678,28679,28680,28681,28682,28683,28684,28685,28686,28687,28688,28690,28691,28692,28693,28694,28695,28696,28697,28700,28701,28702,28703,28704,28705,28706,28708,28709,28710,28711,28712,28713,28714,28715,28716,28717,28718,28719,28720,28721,28722,28723,28724,28726,28727,28728,28730,28731,28732,28733,28734,28735,28736,28737,28738,28739,28740,28741,28742,28743,28744,28745,28746,28747,28749,28750,28752,28753,28754,28755,28756,28757,28758,28759,28760,28761,28762,28763,28764,28765,28767,28768,28769,28770,28771,28772,28773,28774,28775,28776,28777,28778,28782,28785,28786,28787,28788,28791,28793,28794,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,28795,28797,28801,28802,28803,28804,28806,28807,28808,28811,28812,28813,28815,28816,28817,28819,28823,28824,28826,28827,28830,28831,28832,28833,28834,28835,28836,28837,28838,28839,28840,28841,28842,28848,28850,28852,28853,28854,28858,28862,28863,28868,28869,28870,28871,28873,28875,28876,28877,28878,28879,28880,28881,28882,28883,28884,28885,28886,28887,28890,28892,28893,28894,65533,28896,28897,28898,28899,28901,28906,28910,28912,28913,28914,28915,28916,28917,28918,28920,28922,28923,28924,28926,28927,28928,28929,28930,28931,28932,28933,28934,28935,28936,28939,28940,28941,28942,28943,28945,28946,28948,28951,28955,28956,28957,28958,28959,28960,28961,28962,28963,28964,28965,28967,28968,28969,28970,28971,28972,28973,28974,28978,28979,28980,28981,28983,28984,28985,28986,28987,28988,28989,28990,28991,28992,28993,28994,28995,28996,28998,28999,29e3,29001,29003,29005,29007,29008,29009,29010,29011,29012,29013,29014,29015,29016,29017,29018,29019,29021,29023,29024,29025,29026,29027,29029,29033,29034,29035,29036,29037,29039,29040,29041,29044,29045,29046,29047,29049,29051,29052,29054,29055,29056,29057,29058,29059,29061,29062,29063,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29064,29065,29067,29068,29069,29070,29072,29073,29074,29075,29077,29078,29079,29082,29083,29084,29085,29086,29089,29090,29091,29092,29093,29094,29095,29097,29098,29099,29101,29102,29103,29104,29105,29106,29108,29110,29111,29112,29114,29115,29116,29117,29118,29119,29120,29121,29122,29124,29125,29126,29127,29128,29129,29130,29131,29132,29133,29135,29136,29137,29138,29139,29142,65533,29143,29144,29145,29146,29147,29148,29149,29150,29151,29153,29154,29155,29156,29158,29160,29161,29162,29163,29164,29165,29167,29168,29169,29170,29171,29172,29173,29174,29175,29176,29178,29179,29180,29181,29182,29183,29184,29185,29186,29187,29188,29189,29191,29192,29193,29194,29195,29196,29197,29198,29199,29200,29201,29202,29203,29204,29205,29206,29207,29208,29209,29210,29211,29212,29214,29215,29216,29217,29218,29219,29220,29221,29222,29223,29225,29227,29229,29230,29231,29234,29235,29236,29242,29244,29246,29248,29249,29250,29251,29252,29253,29254,29257,29258,29259,29262,29263,29264,29265,29267,29268,29269,29271,29272,29274,29276,29278,29280,29283,29284,29285,29288,29290,29291,29292,29293,29296,29297,29299,29300,29302,29303,29304,29307,29308,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29309,29314,29315,29317,29318,29319,29320,29321,29324,29326,29328,29329,29331,29332,29333,29334,29335,29336,29337,29338,29339,29340,29341,29342,29344,29345,29346,29347,29348,29349,29350,29351,29352,29353,29354,29355,29358,29361,29362,29363,29365,29370,29371,29372,29373,29374,29375,29376,29381,29382,29383,29385,29386,29387,29388,29391,29393,29395,29396,29397,29398,29400,29402,65533,29403,29404,29405,29407,29410,29411,29412,29413,29414,29415,29418,29419,29429,29430,29433,29437,29438,29439,29440,29442,29444,29445,29446,29447,29448,29449,29451,29452,29453,29455,29456,29457,29458,29460,29464,29465,29466,29471,29472,29475,29476,29478,29479,29480,29485,29487,29488,29490,29491,29493,29494,29498,29499,29500,29501,29504,29505,29506,29507,29508,29509,29510,29511,29512,29513,29514,29515,29516,29518,29519,29521,29523,29524,29525,29526,29528,29529,29530,29531,29532,29533,29534,29535,29537,29538,29539,29540,29541,29542,29543,29544,29545,29546,29547,29550,29552,29553,29554,29555,29556,29557,29558,29559,29560,29561,29562,29563,29564,29565,29567,29568,29569,29570,29571,29573,29574,29576,29578,29580,29581,29583,29584,29586,29587,29588,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29589,29591,29592,29593,29594,29596,29597,29598,29600,29601,29603,29604,29605,29606,29607,29608,29610,29612,29613,29617,29620,29621,29622,29624,29625,29628,29629,29630,29631,29633,29635,29636,29637,29638,29639,29643,29644,29646,29650,29651,29652,29653,29654,29655,29656,29658,29659,29660,29661,29663,29665,29666,29667,29668,29670,29672,29674,29675,29676,29678,29679,29680,29681,65533,29683,29684,29685,29686,29687,29688,29689,29690,29691,29692,29693,29694,29695,29696,29697,29698,29700,29703,29704,29707,29708,29709,29710,29713,29714,29715,29716,29717,29718,29719,29720,29721,29724,29725,29726,29727,29728,29729,29731,29732,29735,29737,29739,29741,29743,29745,29746,29751,29752,29753,29754,29755,29757,29758,29759,29760,29762,29763,29764,29765,29766,29767,29768,29769,29770,29771,29772,29773,29774,29775,29776,29777,29778,29779,29780,29782,29784,29789,29792,29793,29794,29795,29796,29797,29798,29799,29800,29801,29802,29803,29804,29806,29807,29809,29810,29811,29812,29813,29816,29817,29818,29819,29820,29821,29823,29826,29828,29829,29830,29832,29833,29834,29836,29837,29839,29841,29842,29843,29844,29845,29846,29847,29848,29849,29850,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,29851,29853,29855,29856,29857,29858,29859,29860,29861,29862,29866,29867,29868,29869,29870,29871,29872,29873,29874,29875,29876,29877,29878,29879,29880,29881,29883,29884,29885,29886,29887,29888,29889,29890,29891,29892,29893,29894,29895,29896,29897,29898,29899,29900,29901,29902,29903,29904,29905,29907,29908,29909,29910,29911,29912,29913,29914,29915,29917,29919,29921,29925,29927,65533,29928,29929,29930,29931,29932,29933,29936,29937,29938,29939,29941,29944,29945,29946,29947,29948,29949,29950,29952,29953,29954,29955,29957,29958,29959,29960,29961,29962,29963,29964,29966,29968,29970,29972,29973,29974,29975,29979,29981,29982,29984,29985,29986,29987,29988,29990,29991,29994,29998,30004,30006,30009,30012,30013,30015,30017,30018,30019,30020,30022,30023,30025,30026,30029,30032,30033,30034,30035,30037,30038,30039,30040,30045,30046,30047,30048,30049,30050,30051,30052,30055,30056,30057,30059,30060,30061,30062,30063,30064,30065,30067,30069,30070,30071,30074,30075,30076,30077,30078,30080,30081,30082,30084,30085,30087,30088,30089,30090,30092,30093,30094,30096,30099,30101,30104,30107,30108,30110,30114,30118,30119,30120,30121,30122,30125,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30134,30135,30138,30139,30143,30144,30145,30150,30155,30156,30158,30159,30160,30161,30163,30167,30169,30170,30172,30173,30175,30176,30177,30181,30185,30188,30189,30190,30191,30194,30195,30197,30198,30199,30200,30202,30203,30205,30206,30210,30212,30214,30215,30216,30217,30219,30221,30222,30223,30225,30226,30227,30228,30230,30234,30236,30237,30238,30241,30243,30247,30248,30252,65533,30254,30255,30257,30258,30262,30263,30265,30266,30267,30269,30273,30274,30276,30277,30278,30279,30280,30281,30282,30283,30286,30287,30288,30289,30290,30291,30293,30295,30296,30297,30298,30299,30301,30303,30304,30305,30306,30308,30309,30310,30311,30312,30313,30314,30316,30317,30318,30320,30321,30322,30323,30324,30325,30326,30327,30329,30330,30332,30335,30336,30337,30339,30341,30345,30346,30348,30349,30351,30352,30354,30356,30357,30359,30360,30362,30363,30364,30365,30366,30367,30368,30369,30370,30371,30373,30374,30375,30376,30377,30378,30379,30380,30381,30383,30384,30387,30389,30390,30391,30392,30393,30394,30395,30396,30397,30398,30400,30401,30403,30404,30407,30409,30411,30412,30419,30421,30425,30426,30428,30429,30430,30432,30433,30434,30435,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30436,30438,30439,30440,30441,30442,30443,30444,30445,30448,30451,30453,30454,30455,30458,30459,30461,30463,30464,30466,30467,30469,30470,30474,30476,30478,30479,30480,30481,30482,30483,30484,30485,30486,30487,30488,30491,30492,30493,30494,30497,30499,30500,30501,30503,30506,30507,30508,30510,30512,30513,30514,30515,30516,30521,30523,30525,30526,30527,30530,30532,30533,30534,65533,30536,30537,30538,30539,30540,30541,30542,30543,30546,30547,30548,30549,30550,30551,30552,30553,30556,30557,30558,30559,30560,30564,30567,30569,30570,30573,30574,30575,30576,30577,30578,30579,30580,30581,30582,30583,30584,30586,30587,30588,30593,30594,30595,30598,30599,30600,30601,30602,30603,30607,30608,30611,30612,30613,30614,30615,30616,30617,30618,30619,30620,30621,30622,30625,30627,30628,30630,30632,30635,30637,30638,30639,30641,30642,30644,30646,30647,30648,30649,30650,30652,30654,30656,30657,30658,30659,30660,30661,30662,30663,30664,30665,30666,30667,30668,30670,30671,30672,30673,30674,30675,30676,30677,30678,30680,30681,30682,30685,30686,30687,30688,30689,30692,30694,30696,30698,30703,30704,30705,30706,30708,30709,30711,30713,30714,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30715,30716,30723,30724,30725,30726,30727,30728,30730,30731,30734,30735,30736,30739,30741,30745,30747,30750,30752,30753,30754,30756,30760,30762,30763,30766,30767,30769,30770,30771,30773,30774,30781,30783,30785,30786,30787,30788,30790,30792,30793,30794,30795,30797,30799,30801,30803,30804,30808,30809,30810,30811,30812,30814,30815,30816,30817,30818,30819,30820,30821,30822,30823,65533,30824,30825,30831,30832,30833,30834,30835,30836,30837,30838,30840,30841,30842,30843,30845,30846,30847,30848,30849,30850,30851,30852,30853,30854,30856,30858,30859,30863,30864,30866,30868,30869,30870,30873,30877,30878,30880,30882,30884,30886,30888,30889,30890,30891,30892,30893,30894,30895,30901,30902,30903,30904,30906,30907,30908,30909,30911,30912,30914,30915,30916,30918,30919,30920,30924,30925,30926,30927,30929,30930,30931,30934,30935,30936,30938,30939,30940,30941,30942,30943,30944,30945,30946,30947,30948,30949,30950,30951,30953,30954,30955,30957,30958,30959,30960,30961,30963,30965,30966,30968,30969,30971,30972,30973,30974,30975,30976,30978,30979,30980,30982,30983,30984,30985,30986,30987,30988,30989,30990,30991,30992,30993,30994,30996,30997,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,30998,30999,31e3,31001,31002,31003,31004,31005,31007,31008,31009,31010,31011,31013,31014,31015,31016,31017,31018,31019,31020,31021,31022,31023,31024,31025,31026,31027,31029,31030,31031,31032,31033,31037,31039,31042,31043,31044,31045,31047,31050,31051,31052,31053,31054,31055,31056,31057,31058,31060,31061,31064,31065,31073,31075,31076,31078,31081,31082,31083,31084,31086,31088,65533,31089,31090,31091,31092,31093,31094,31097,31099,31100,31101,31102,31103,31106,31107,31110,31111,31112,31113,31115,31116,31117,31118,31120,31121,31122,31123,31124,31125,31126,31127,31128,31129,31131,31132,31133,31134,31135,31136,31137,31138,31139,31140,31141,31142,31144,31145,31146,31147,31148,31149,31150,31151,31152,31153,31154,31156,31157,31158,31159,31160,31164,31167,31170,31172,31173,31175,31176,31178,31180,31182,31183,31184,31187,31188,31190,31191,31193,31194,31195,31196,31197,31198,31200,31201,31202,31205,31208,31210,31212,31214,31217,31218,31219,31220,31221,31222,31223,31225,31226,31228,31230,31231,31233,31236,31237,31239,31240,31241,31242,31244,31247,31248,31249,31250,31251,31253,31254,31256,31257,31259,31260,31261,31263,31265,31266,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31268,31269,31270,31271,31272,31273,31274,31275,31276,31277,31278,31279,31280,31281,31282,31284,31285,31286,31288,31290,31294,31296,31297,31298,31299,31300,31301,31303,31304,31305,31306,31307,31308,31309,31310,31311,31312,31314,31315,31316,31317,31318,31320,31321,31322,31323,31324,31325,31326,31327,31328,31329,31330,31331,31332,31333,31334,31335,31336,31337,31338,31339,31340,65533,31341,31342,31343,31345,31346,31347,31349,31355,31356,31357,31358,31362,31365,31367,31369,31370,31371,31372,31374,31375,31376,31379,31380,31385,31386,31387,31390,31393,31394,31395,31396,31399,31401,31402,31403,31406,31407,31408,31409,31410,31412,31413,31414,31415,31416,31417,31418,31419,31420,31421,31422,31424,31425,31426,31427,31428,31429,31430,31431,31432,31433,31434,31436,31437,31438,31439,31440,31441,31442,31443,31444,31445,31447,31448,31450,31451,31452,31453,31457,31458,31460,31463,31464,31465,31466,31467,31468,31470,31472,31473,31474,31475,31476,31477,31478,31479,31480,31483,31484,31486,31488,31489,31490,31493,31495,31497,31500,31501,31502,31504,31506,31507,31510,31511,31512,31514,31516,31517,31519,31521,31522,31523,31527,31529,31533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31535,31536,31538,31540,31541,31542,31543,31545,31547,31549,31551,31552,31553,31554,31555,31556,31558,31560,31562,31565,31566,31571,31573,31575,31577,31580,31582,31583,31585,31587,31588,31589,31590,31591,31592,31593,31594,31595,31596,31597,31599,31600,31603,31604,31606,31608,31610,31612,31613,31615,31617,31618,31619,31620,31622,31623,31624,31625,31626,31627,31628,31630,31631,65533,31633,31634,31635,31638,31640,31641,31642,31643,31646,31647,31648,31651,31652,31653,31662,31663,31664,31666,31667,31669,31670,31671,31673,31674,31675,31676,31677,31678,31679,31680,31682,31683,31684,31685,31688,31689,31690,31691,31693,31694,31695,31696,31698,31700,31701,31702,31703,31704,31707,31708,31710,31711,31712,31714,31715,31716,31719,31720,31721,31723,31724,31725,31727,31728,31730,31731,31732,31733,31734,31736,31737,31738,31739,31741,31743,31744,31745,31746,31747,31748,31749,31750,31752,31753,31754,31757,31758,31760,31761,31762,31763,31764,31765,31767,31768,31769,31770,31771,31772,31773,31774,31776,31777,31778,31779,31780,31781,31784,31785,31787,31788,31789,31790,31791,31792,31793,31794,31795,31796,31797,31798,31799,31801,31802,31803,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,31804,31805,31806,31810,31811,31812,31813,31814,31815,31816,31817,31818,31819,31820,31822,31823,31824,31825,31826,31827,31828,31829,31830,31831,31832,31833,31834,31835,31836,31837,31838,31839,31840,31841,31842,31843,31844,31845,31846,31847,31848,31849,31850,31851,31852,31853,31854,31855,31856,31857,31858,31861,31862,31863,31864,31865,31866,31870,31871,31872,31873,31874,31875,65533,31876,31877,31878,31879,31880,31882,31883,31884,31885,31886,31887,31888,31891,31892,31894,31897,31898,31899,31904,31905,31907,31910,31911,31912,31913,31915,31916,31917,31919,31920,31924,31925,31926,31927,31928,31930,31931,31935,31936,31938,31939,31940,31942,31945,31947,31950,31951,31952,31953,31954,31955,31956,31960,31962,31963,31965,31966,31969,31970,31971,31972,31973,31974,31975,31977,31978,31979,31980,31981,31982,31984,31985,31986,31987,31988,31989,31990,31991,31993,31994,31996,31997,31998,31999,32e3,32001,32002,32003,32004,32005,32006,32007,32008,32009,32011,32012,32013,32014,32015,32016,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32035,32036,32037,32038,32040,32041,32042,32044,32045,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32046,32048,32049,32050,32051,32052,32053,32054,32055,32056,32057,32058,32059,32060,32061,32062,32063,32064,32065,32066,32067,32068,32069,32070,32071,32072,32073,32074,32075,32076,32077,32078,32079,32080,32081,32082,32083,32084,32085,32086,32087,32088,32089,32090,32091,32092,32093,32094,32095,32096,32097,32098,32099,32100,32101,32102,32103,32104,32105,32106,32107,32108,32109,65533,32111,32112,32113,32114,32115,32116,32117,32118,32120,32121,32122,32123,32124,32125,32126,32127,32128,32129,32130,32131,32132,32133,32134,32135,32136,32137,32138,32139,32140,32141,32142,32143,32144,32145,32146,32147,32148,32149,32150,32151,32152,32153,32154,32155,32156,32157,32158,32159,32160,32161,32162,32163,32164,32165,32167,32168,32169,32170,32171,32172,32173,32175,32176,32177,32178,32179,32180,32181,32182,32183,32184,32185,32186,32187,32188,32189,32190,32191,32192,32193,32194,32195,32196,32197,32198,32199,32200,32201,32202,32203,32204,32205,32206,32207,32208,32209,32210,32211,32212,32213,32214,32215,32216,32217,32218,32219,32220,32221,32222,32223,32224,32225,32226,32227,32228,32229,32230,32231,32232,32233,32234,32235,32236,32237,32238,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32239,32240,32241,32242,32243,32244,32245,32246,32247,32248,32249,32250,32251,32252,32253,32254,32255,32256,32257,32258,32259,32260,32261,32262,32263,32264,32265,32266,32267,32268,32269,32270,32271,32272,32273,32274,32275,32276,32277,32278,32279,32280,32281,32282,32283,32284,32285,32286,32287,32288,32289,32290,32291,32292,32293,32294,32295,32296,32297,32298,32299,32300,32301,65533,32302,32303,32304,32305,32306,32307,32308,32309,32310,32311,32312,32313,32314,32316,32317,32318,32319,32320,32322,32323,32324,32325,32326,32328,32329,32330,32331,32332,32333,32334,32335,32336,32337,32338,32339,32340,32341,32342,32343,32344,32345,32346,32347,32348,32349,32350,32351,32352,32353,32354,32355,32356,32357,32358,32359,32360,32361,32362,32363,32364,32365,32366,32367,32368,32369,32370,32371,32372,32373,32374,32375,32376,32377,32378,32379,32380,32381,32382,32383,32384,32385,32387,32388,32389,32390,32391,32392,32393,32394,32395,32396,32397,32398,32399,32400,32401,32402,32403,32404,32405,32406,32407,32408,32409,32410,32412,32413,32414,32430,32436,32443,32444,32470,32484,32492,32505,32522,32528,32542,32567,32569,32571,32572,32573,32574,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32575,32576,32577,32579,32582,32583,32584,32585,32586,32587,32588,32589,32590,32591,32594,32595,32598,32601,32603,32604,32605,32606,32608,32611,32612,32613,32614,32615,32619,32620,32621,32623,32624,32627,32629,32630,32631,32632,32634,32635,32636,32637,32639,32640,32642,32643,32644,32645,32646,32647,32648,32649,32651,32653,32655,32656,32657,32658,32659,32661,32662,32663,32664,65533,32665,32667,32668,32672,32674,32675,32677,32678,32680,32681,32682,32683,32684,32685,32686,32689,32691,32692,32693,32694,32695,32698,32699,32702,32704,32706,32707,32708,32710,32711,32712,32713,32715,32717,32719,32720,32721,32722,32723,32726,32727,32729,32730,32731,32732,32733,32734,32738,32739,32740,32743,32744,32746,32747,32748,32749,32751,32754,32756,32757,32758,32759,32760,32761,32762,32765,32766,32767,32770,32775,32776,32777,32778,32782,32783,32785,32787,32794,32795,32797,32798,32799,32801,32803,32804,32811,32812,32813,32814,32815,32816,32818,32820,32825,32826,32828,32830,32832,32833,32836,32837,32839,32840,32841,32846,32847,32848,32849,32851,32853,32854,32855,32857,32859,32860,32861,32862,32863,32864,32865,32866,32867,32868,32869,32870,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,32871,32872,32875,32876,32877,32878,32879,32880,32882,32883,32884,32885,32886,32887,32888,32889,32890,32891,32892,32893,32894,32897,32898,32901,32904,32906,32909,32910,32911,32912,32913,32914,32916,32917,32919,32921,32926,32931,32934,32935,32936,32940,32944,32947,32949,32950,32952,32953,32955,32965,32967,32968,32969,32970,32971,32975,32976,32977,32978,32979,32980,32981,32984,65533,32991,32992,32994,32995,32998,33006,33013,33015,33017,33019,33022,33023,33024,33025,33027,33028,33029,33031,33032,33035,33036,33045,33047,33049,33051,33052,33053,33055,33056,33057,33058,33059,33060,33061,33062,33063,33064,33065,33066,33067,33069,33070,33072,33075,33076,33077,33079,33081,33082,33083,33084,33085,33087,33088,33089,33090,33091,33092,33093,33095,33097,33101,33102,33103,33106,33110,33111,33112,33115,33116,33117,33118,33119,33121,33122,33123,33124,33126,33128,33130,33131,33132,33135,33138,33139,33141,33142,33143,33144,33153,33155,33156,33157,33158,33159,33161,33163,33164,33165,33166,33168,33170,33171,33172,33173,33174,33175,33177,33178,33182,33183,33184,33185,33186,33188,33189,33191,33193,33195,33196,33197,33198,33199,33200,33201,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33202,33204,33205,33206,33207,33208,33209,33212,33213,33214,33215,33220,33221,33223,33224,33225,33227,33229,33230,33231,33232,33233,33234,33235,33236,33237,33238,33239,33240,33241,33242,33243,33244,33245,33246,33247,33248,33249,33250,33252,33253,33254,33256,33257,33259,33262,33263,33264,33265,33266,33269,33270,33271,33272,33273,33274,33277,33279,33283,33287,33288,33289,33290,65533,33291,33294,33295,33297,33299,33301,33302,33303,33304,33305,33306,33309,33312,33316,33317,33318,33319,33321,33326,33330,33338,33340,33341,33343,33344,33345,33346,33347,33349,33350,33352,33354,33356,33357,33358,33360,33361,33362,33363,33364,33365,33366,33367,33369,33371,33372,33373,33374,33376,33377,33378,33379,33380,33381,33382,33383,33385,33386,33387,33388,33389,33393,33397,33398,33399,33400,33403,33404,33408,33409,33411,33413,33414,33415,33417,33420,33424,33427,33428,33429,33430,33434,33435,33438,33440,33442,33443,33447,33458,33461,33462,33466,33467,33468,33471,33472,33474,33475,33477,33478,33481,33488,33494,33497,33498,33501,33506,33511,33512,33513,33514,33516,33517,33518,33520,33522,33523,33525,33526,33528,33530,33532,33533,33534,33535,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33536,33546,33547,33549,33552,33554,33555,33558,33560,33561,33565,33566,33567,33568,33569,33570,33571,33572,33573,33574,33577,33578,33582,33584,33586,33591,33595,33597,33598,33599,33601,33602,33604,33605,33608,33610,33611,33612,33613,33614,33619,33621,33622,33623,33624,33625,33629,33634,33648,33649,33650,33651,33652,33653,33654,33657,33658,33662,33663,33664,33665,33666,33667,65533,33668,33671,33672,33674,33675,33676,33677,33679,33680,33681,33684,33685,33686,33687,33689,33690,33693,33695,33697,33698,33699,33700,33701,33702,33703,33708,33709,33710,33711,33717,33723,33726,33727,33730,33731,33732,33734,33736,33737,33739,33741,33742,33744,33745,33746,33747,33749,33751,33753,33754,33755,33758,33762,33763,33764,33766,33767,33768,33771,33772,33773,33774,33775,33779,33780,33781,33782,33783,33786,33787,33788,33790,33791,33792,33794,33797,33799,33800,33801,33802,33808,33810,33811,33812,33813,33814,33815,33817,33818,33819,33822,33823,33824,33825,33826,33827,33833,33834,33835,33836,33837,33838,33839,33840,33842,33843,33844,33845,33846,33847,33849,33850,33851,33854,33855,33856,33857,33858,33859,33860,33861,33863,33864,33865,33866,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,33867,33868,33869,33870,33871,33872,33874,33875,33876,33877,33878,33880,33885,33886,33887,33888,33890,33892,33893,33894,33895,33896,33898,33902,33903,33904,33906,33908,33911,33913,33915,33916,33917,33918,33919,33920,33921,33923,33924,33925,33926,33930,33933,33935,33936,33937,33938,33939,33940,33941,33942,33944,33946,33947,33949,33950,33951,33952,33954,33955,33956,33957,33958,65533,33959,33960,33961,33962,33963,33964,33965,33966,33968,33969,33971,33973,33974,33975,33979,33980,33982,33984,33986,33987,33989,33990,33991,33992,33995,33996,33998,33999,34002,34004,34005,34007,34008,34009,34010,34011,34012,34014,34017,34018,34020,34023,34024,34025,34026,34027,34029,34030,34031,34033,34034,34035,34036,34037,34038,34039,34040,34041,34042,34043,34045,34046,34048,34049,34050,34051,34052,34053,34054,34055,34056,34057,34058,34059,34061,34062,34063,34064,34066,34068,34069,34070,34072,34073,34075,34076,34077,34078,34080,34082,34083,34084,34085,34086,34087,34088,34089,34090,34093,34094,34095,34096,34097,34098,34099,34100,34101,34102,34110,34111,34112,34113,34114,34116,34117,34118,34119,34123,34124,34125,34126,34127,34128,34129,34130,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34131,34132,34133,34135,34136,34138,34139,34140,34141,34143,34144,34145,34146,34147,34149,34150,34151,34153,34154,34155,34156,34157,34158,34159,34160,34161,34163,34165,34166,34167,34168,34172,34173,34175,34176,34177,34178,34179,34182,34184,34185,34186,34187,34188,34189,34190,34192,34193,34194,34195,34196,34197,34198,34199,34200,34201,34202,34205,34206,34207,34208,34209,34210,65533,34211,34213,34214,34215,34217,34219,34220,34221,34225,34226,34227,34228,34229,34230,34232,34234,34235,34236,34237,34238,34239,34240,34242,34243,34244,34245,34246,34247,34248,34250,34251,34252,34253,34254,34257,34258,34260,34262,34263,34264,34265,34266,34267,34269,34270,34271,34272,34273,34274,34275,34277,34278,34279,34280,34282,34283,34284,34285,34286,34287,34288,34289,34290,34291,34292,34293,34294,34295,34296,34297,34298,34300,34301,34302,34304,34305,34306,34307,34308,34310,34311,34312,34313,34314,34315,34316,34317,34318,34319,34320,34322,34323,34324,34325,34327,34328,34329,34330,34331,34332,34333,34334,34335,34336,34337,34338,34339,34340,34341,34342,34344,34346,34347,34348,34349,34350,34351,34352,34353,34354,34355,34356,34357,34358,34359,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34361,34362,34363,34365,34366,34367,34368,34369,34370,34371,34372,34373,34374,34375,34376,34377,34378,34379,34380,34386,34387,34389,34390,34391,34392,34393,34395,34396,34397,34399,34400,34401,34403,34404,34405,34406,34407,34408,34409,34410,34413,34415,34416,34418,34419,34420,34421,34422,34423,34424,34435,34436,34437,34438,34439,34440,34441,34446,34447,34448,34449,34450,34452,65533,34454,34455,34456,34457,34458,34459,34462,34463,34464,34465,34466,34469,34470,34475,34477,34478,34482,34483,34487,34488,34489,34491,34492,34493,34494,34495,34497,34498,34499,34501,34504,34508,34509,34514,34515,34517,34518,34519,34522,34524,34525,34528,34529,34530,34531,34533,34534,34535,34536,34538,34539,34540,34543,34549,34550,34551,34554,34555,34556,34557,34559,34561,34564,34565,34566,34571,34572,34574,34575,34576,34577,34580,34582,34585,34587,34589,34591,34592,34596,34598,34599,34600,34602,34603,34604,34605,34607,34608,34610,34611,34613,34614,34616,34617,34618,34620,34621,34624,34625,34626,34627,34628,34629,34630,34634,34635,34637,34639,34640,34641,34642,34644,34645,34646,34648,34650,34651,34652,34653,34654,34655,34657,34658,34662,34663,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34664,34665,34666,34667,34668,34669,34671,34673,34674,34675,34677,34679,34680,34681,34682,34687,34688,34689,34692,34694,34695,34697,34698,34700,34702,34703,34704,34705,34706,34708,34709,34710,34712,34713,34714,34715,34716,34717,34718,34720,34721,34722,34723,34724,34725,34726,34727,34729,34730,34734,34736,34737,34738,34740,34742,34743,34744,34745,34747,34748,34750,34751,34753,65533,34754,34755,34756,34757,34759,34760,34761,34764,34765,34766,34767,34768,34772,34773,34774,34775,34776,34777,34778,34780,34781,34782,34783,34785,34786,34787,34788,34790,34791,34792,34793,34795,34796,34797,34799,34800,34801,34802,34803,34804,34805,34806,34807,34808,34810,34811,34812,34813,34815,34816,34817,34818,34820,34821,34822,34823,34824,34825,34827,34828,34829,34830,34831,34832,34833,34834,34836,34839,34840,34841,34842,34844,34845,34846,34847,34848,34851,34852,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34867,34868,34869,34870,34871,34872,34874,34875,34877,34878,34879,34881,34882,34883,34886,34887,34888,34889,34890,34891,34894,34895,34896,34897,34898,34899,34901,34902,34904,34906,34907,34908,34909,34910,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,34911,34912,34918,34919,34922,34925,34927,34929,34931,34932,34933,34934,34936,34937,34938,34939,34940,34944,34947,34950,34951,34953,34954,34956,34958,34959,34960,34961,34963,34964,34965,34967,34968,34969,34970,34971,34973,34974,34975,34976,34977,34979,34981,34982,34983,34984,34985,34986,34988,34990,34991,34992,34994,34995,34996,34997,34998,35e3,35001,35002,35003,35005,35006,65533,35007,35008,35011,35012,35015,35016,35018,35019,35020,35021,35023,35024,35025,35027,35030,35031,35034,35035,35036,35037,35038,35040,35041,35046,35047,35049,35050,35051,35052,35053,35054,35055,35058,35061,35062,35063,35066,35067,35069,35071,35072,35073,35075,35076,35077,35078,35079,35080,35081,35083,35084,35085,35086,35087,35089,35092,35093,35094,35095,35096,35100,35101,35102,35103,35104,35106,35107,35108,35110,35111,35112,35113,35116,35117,35118,35119,35121,35122,35123,35125,35127,35128,35129,35130,35131,35132,35133,35134,35135,35136,35138,35139,35141,35142,35143,35144,35145,35146,35147,35148,35149,35150,35151,35152,35153,35154,35155,35156,35157,35158,35159,35160,35161,35162,35163,35164,35165,35168,35169,35170,35171,35172,35173,35175,35176,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35177,35178,35179,35180,35181,35182,35183,35184,35185,35186,35187,35188,35189,35190,35191,35192,35193,35194,35196,35197,35198,35200,35202,35204,35205,35207,35208,35209,35210,35211,35212,35213,35214,35215,35216,35217,35218,35219,35220,35221,35222,35223,35224,35225,35226,35227,35228,35229,35230,35231,35232,35233,35234,35235,35236,35237,35238,35239,35240,35241,35242,35243,35244,65533,35245,35246,35247,35248,35249,35250,35251,35252,35253,35254,35255,35256,35257,35258,35259,35260,35261,35262,35263,35264,35267,35277,35283,35284,35285,35287,35288,35289,35291,35293,35295,35296,35297,35298,35300,35303,35304,35305,35306,35308,35309,35310,35312,35313,35314,35316,35317,35318,35319,35320,35321,35322,35323,35324,35325,35326,35327,35329,35330,35331,35332,35333,35334,35336,35337,35338,35339,35340,35341,35342,35343,35344,35345,35346,35347,35348,35349,35350,35351,35352,35353,35354,35355,35356,35357,35358,35359,35360,35361,35362,35363,35364,35365,35366,35367,35368,35369,35370,35371,35372,35373,35374,35375,35376,35377,35378,35379,35380,35381,35382,35383,35384,35385,35386,35387,35388,35389,35391,35392,35393,35394,35395,35396,35397,35398,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35399,35401,35402,35403,35404,35405,35406,35407,35408,35409,35410,35411,35412,35413,35414,35415,35416,35417,35418,35419,35420,35421,35422,35423,35424,35425,35426,35427,35428,35429,35430,35431,35432,35433,35434,35435,35436,35437,35438,35439,35440,35441,35442,35443,35444,35445,35446,35447,35448,35450,35451,35452,35453,35454,35455,35456,35457,35458,35459,35460,35461,35462,35463,65533,35464,35467,35468,35469,35470,35471,35472,35473,35474,35476,35477,35478,35479,35480,35481,35482,35483,35484,35485,35486,35487,35488,35489,35490,35491,35492,35493,35494,35495,35496,35497,35498,35499,35500,35501,35502,35503,35504,35505,35506,35507,35508,35509,35510,35511,35512,35513,35514,35515,35516,35517,35518,35519,35520,35521,35522,35523,35524,35525,35526,35527,35528,35529,35530,35531,35532,35533,35534,35535,35536,35537,35538,35539,35540,35541,35542,35543,35544,35545,35546,35547,35548,35549,35550,35551,35552,35553,35554,35555,35556,35557,35558,35559,35560,35561,35562,35563,35564,35565,35566,35567,35568,35569,35570,35571,35572,35573,35574,35575,35576,35577,35578,35579,35580,35581,35582,35583,35584,35585,35586,35587,35588,35589,35590,35592,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35593,35594,35595,35596,35597,35598,35599,35600,35601,35602,35603,35604,35605,35606,35607,35608,35609,35610,35611,35612,35613,35614,35615,35616,35617,35618,35619,35620,35621,35623,35624,35625,35626,35627,35628,35629,35630,35631,35632,35633,35634,35635,35636,35637,35638,35639,35640,35641,35642,35643,35644,35645,35646,35647,35648,35649,35650,35651,35652,35653,35654,35655,35656,65533,35657,35658,35659,35660,35661,35662,35663,35664,35665,35666,35667,35668,35669,35670,35671,35672,35673,35674,35675,35676,35677,35678,35679,35680,35681,35682,35683,35684,35685,35687,35688,35689,35690,35691,35693,35694,35695,35696,35697,35698,35699,35700,35701,35702,35703,35704,35705,35706,35707,35708,35709,35710,35711,35712,35713,35714,35715,35716,35717,35718,35719,35720,35721,35722,35723,35724,35725,35726,35727,35728,35729,35730,35731,35732,35733,35734,35735,35736,35737,35738,35739,35740,35741,35742,35743,35756,35761,35771,35783,35792,35818,35849,35870,35896,35897,35898,35899,35900,35901,35902,35903,35904,35906,35907,35908,35909,35912,35914,35915,35917,35918,35919,35920,35921,35922,35923,35924,35926,35927,35928,35929,35931,35932,35933,35934,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,35935,35936,35939,35940,35941,35942,35943,35944,35945,35948,35949,35950,35951,35952,35953,35954,35956,35957,35958,35959,35963,35964,35965,35966,35967,35968,35969,35971,35972,35974,35975,35976,35979,35981,35982,35983,35984,35985,35986,35987,35989,35990,35991,35993,35994,35995,35996,35997,35998,35999,36e3,36001,36002,36003,36004,36005,36006,36007,36008,36009,36010,36011,36012,65533,36013,36014,36015,36016,36017,36018,36019,36020,36021,36022,36023,36024,36025,36026,36027,36028,36029,36030,36031,36032,36033,36034,36035,36036,36037,36038,36039,36040,36041,36042,36043,36044,36045,36046,36047,36048,36049,36050,36051,36052,36053,36054,36055,36056,36057,36058,36059,36060,36061,36062,36063,36064,36065,36066,36067,36068,36069,36070,36071,36072,36073,36074,36075,36076,36077,36078,36079,36080,36081,36082,36083,36084,36085,36086,36087,36088,36089,36090,36091,36092,36093,36094,36095,36096,36097,36098,36099,36100,36101,36102,36103,36104,36105,36106,36107,36108,36109,36110,36111,36112,36113,36114,36115,36116,36117,36118,36119,36120,36121,36122,36123,36124,36128,36177,36178,36183,36191,36197,36200,36201,36202,36204,36206,36207,36209,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36210,36216,36217,36218,36219,36220,36221,36222,36223,36224,36226,36227,36230,36231,36232,36233,36236,36237,36238,36239,36240,36242,36243,36245,36246,36247,36248,36249,36250,36251,36252,36253,36254,36256,36257,36258,36260,36261,36262,36263,36264,36265,36266,36267,36268,36269,36270,36271,36272,36274,36278,36279,36281,36283,36285,36288,36289,36290,36293,36295,36296,36297,36298,65533,36301,36304,36306,36307,36308,36309,36312,36313,36316,36320,36321,36322,36325,36326,36327,36329,36333,36334,36336,36337,36338,36340,36342,36348,36350,36351,36352,36353,36354,36355,36356,36358,36359,36360,36363,36365,36366,36368,36369,36370,36371,36373,36374,36375,36376,36377,36378,36379,36380,36384,36385,36388,36389,36390,36391,36392,36395,36397,36400,36402,36403,36404,36406,36407,36408,36411,36412,36414,36415,36419,36421,36422,36428,36429,36430,36431,36432,36435,36436,36437,36438,36439,36440,36442,36443,36444,36445,36446,36447,36448,36449,36450,36451,36452,36453,36455,36456,36458,36459,36462,36465,36467,36469,36471,36472,36473,36474,36475,36477,36478,36480,36482,36483,36484,36486,36488,36489,36490,36491,36492,36493,36494,36497,36498,36499,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36501,36502,36503,36504,36505,36506,36507,36509,36511,36512,36513,36514,36515,36516,36517,36518,36519,36520,36521,36522,36525,36526,36528,36529,36531,36532,36533,36534,36535,36536,36537,36539,36540,36541,36542,36543,36544,36545,36546,36547,36548,36549,36550,36551,36552,36553,36554,36555,36556,36557,36559,36560,36561,36562,36563,36564,36565,36566,36567,36568,36569,36570,36571,65533,36572,36573,36574,36575,36576,36577,36578,36579,36580,36581,36582,36583,36584,36585,36586,36587,36588,36589,36590,36591,36592,36593,36594,36595,36596,36597,36598,36599,36600,36601,36602,36603,36604,36605,36606,36607,36608,36609,36610,36611,36612,36613,36614,36615,36616,36617,36618,36619,36620,36621,36622,36623,36624,36625,36626,36627,36628,36629,36630,36631,36632,36633,36634,36635,36636,36637,36638,36639,36640,36641,36642,36643,36644,36645,36646,36647,36648,36649,36650,36651,36652,36653,36654,36655,36656,36657,36658,36659,36660,36661,36662,36663,36664,36665,36666,36667,36668,36669,36670,36671,36672,36673,36674,36675,36676,36677,36678,36679,36680,36681,36682,36683,36684,36685,36686,36687,36688,36689,36690,36691,36692,36693,36694,36695,36696,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,36697,36698,36699,36700,36701,36702,36703,36704,36705,36706,36707,36708,36709,36714,36736,36748,36754,36765,36768,36769,36770,36772,36773,36774,36775,36778,36780,36781,36782,36783,36786,36787,36788,36789,36791,36792,36794,36795,36796,36799,36800,36803,36806,36809,36810,36811,36812,36813,36815,36818,36822,36823,36826,36832,36833,36835,36839,36844,36847,36849,36850,36852,36853,65533,36854,36858,36859,36860,36862,36863,36871,36872,36876,36878,36883,36885,36888,36889,36892,36899,36900,36901,36903,36904,36905,36906,36907,36908,36912,36913,36914,36915,36916,36919,36921,36922,36925,36927,36928,36931,36933,36934,36936,36937,36938,36939,36940,36942,36948,36949,36950,36953,36954,36956,36957,36958,36959,36960,36961,36964,36966,36967,36969,36970,36971,36972,36975,36976,36977,36978,36979,36982,36983,36984,36985,36986,36987,36988,36990,36993,36996,36997,36998,36999,37001,37002,37004,37005,37006,37007,37008,37010,37012,37014,37016,37018,37020,37022,37023,37024,37028,37029,37031,37032,37033,37035,37037,37042,37047,37052,37053,37055,37056,37058,37059,37062,37064,37065,37067,37068,37069,37074,37076,37077,37078,37080,37081,37082,37086,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37087,37088,37091,37092,37093,37097,37098,37100,37102,37104,37105,37106,37107,37109,37110,37111,37113,37114,37115,37116,37119,37120,37121,37123,37125,37126,37127,37128,37129,37130,37131,37132,37133,37134,37135,37136,37137,37138,37139,37140,37141,37142,37143,37144,37146,37147,37148,37149,37151,37152,37153,37156,37157,37158,37159,37160,37161,37162,37163,37164,37165,37166,37168,65533,37170,37171,37172,37173,37174,37175,37176,37178,37179,37180,37181,37182,37183,37184,37185,37186,37188,37189,37191,37192,37201,37203,37204,37205,37206,37208,37209,37211,37212,37215,37216,37222,37223,37224,37227,37229,37235,37242,37243,37244,37248,37249,37250,37251,37252,37254,37256,37258,37262,37263,37267,37268,37269,37270,37271,37272,37273,37276,37277,37278,37279,37280,37281,37284,37285,37286,37287,37288,37289,37291,37292,37296,37297,37298,37299,37302,37303,37304,37305,37307,37308,37309,37310,37311,37312,37313,37314,37315,37316,37317,37318,37320,37323,37328,37330,37331,37332,37333,37334,37335,37336,37337,37338,37339,37341,37342,37343,37344,37345,37346,37347,37348,37349,37350,37351,37352,37353,37354,37355,37356,37357,37358,37359,37360,37361,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37362,37363,37364,37365,37366,37367,37368,37369,37370,37371,37372,37373,37374,37375,37376,37377,37378,37379,37380,37381,37382,37383,37384,37385,37386,37387,37388,37389,37390,37391,37392,37393,37394,37395,37396,37397,37398,37399,37400,37401,37402,37403,37404,37405,37406,37407,37408,37409,37410,37411,37412,37413,37414,37415,37416,37417,37418,37419,37420,37421,37422,37423,37424,65533,37425,37426,37427,37428,37429,37430,37431,37432,37433,37434,37435,37436,37437,37438,37439,37440,37441,37442,37443,37444,37445,37446,37447,37448,37449,37450,37451,37452,37453,37454,37455,37456,37457,37458,37459,37460,37461,37462,37463,37464,37465,37466,37467,37468,37469,37470,37471,37472,37473,37474,37475,37476,37477,37478,37479,37480,37481,37482,37483,37484,37485,37486,37487,37488,37489,37490,37491,37493,37494,37495,37496,37497,37498,37499,37500,37501,37502,37503,37504,37505,37506,37507,37508,37509,37510,37511,37512,37513,37514,37515,37516,37517,37519,37520,37521,37522,37523,37524,37525,37526,37527,37528,37529,37530,37531,37532,37533,37534,37535,37536,37537,37538,37539,37540,37541,37542,37543,37544,37545,37546,37547,37548,37549,37551,37552,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37553,37554,37555,37556,37557,37558,37559,37560,37561,37562,37563,37564,37565,37566,37567,37568,37569,37570,37571,37572,37573,37574,37575,37577,37578,37579,37580,37581,37582,37583,37584,37585,37586,37587,37588,37589,37590,37591,37592,37593,37594,37595,37596,37597,37598,37599,37600,37601,37602,37603,37604,37605,37606,37607,37608,37609,37610,37611,37612,37613,37614,37615,37616,65533,37617,37618,37619,37620,37621,37622,37623,37624,37625,37626,37627,37628,37629,37630,37631,37632,37633,37634,37635,37636,37637,37638,37639,37640,37641,37642,37643,37644,37645,37646,37647,37648,37649,37650,37651,37652,37653,37654,37655,37656,37657,37658,37659,37660,37661,37662,37663,37664,37665,37666,37667,37668,37669,37670,37671,37672,37673,37674,37675,37676,37677,37678,37679,37680,37681,37682,37683,37684,37685,37686,37687,37688,37689,37690,37691,37692,37693,37695,37696,37697,37698,37699,37700,37701,37702,37703,37704,37705,37706,37707,37708,37709,37710,37711,37712,37713,37714,37715,37716,37717,37718,37719,37720,37721,37722,37723,37724,37725,37726,37727,37728,37729,37730,37731,37732,37733,37734,37735,37736,37737,37739,37740,37741,37742,37743,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37744,37745,37746,37747,37748,37749,37750,37751,37752,37753,37754,37755,37756,37757,37758,37759,37760,37761,37762,37763,37764,37765,37766,37767,37768,37769,37770,37771,37772,37773,37774,37776,37777,37778,37779,37780,37781,37782,37783,37784,37785,37786,37787,37788,37789,37790,37791,37792,37793,37794,37795,37796,37797,37798,37799,37800,37801,37802,37803,37804,37805,37806,37807,65533,37808,37809,37810,37811,37812,37813,37814,37815,37816,37817,37818,37819,37820,37821,37822,37823,37824,37825,37826,37827,37828,37829,37830,37831,37832,37833,37835,37836,37837,37838,37839,37840,37841,37842,37843,37844,37845,37847,37848,37849,37850,37851,37852,37853,37854,37855,37856,37857,37858,37859,37860,37861,37862,37863,37864,37865,37866,37867,37868,37869,37870,37871,37872,37873,37874,37875,37876,37877,37878,37879,37880,37881,37882,37883,37884,37885,37886,37887,37888,37889,37890,37891,37892,37893,37894,37895,37896,37897,37898,37899,37900,37901,37902,37903,37904,37905,37906,37907,37908,37909,37910,37911,37912,37913,37914,37915,37916,37917,37918,37919,37920,37921,37922,37923,37924,37925,37926,37927,37928,37929,37930,37931,37932,37933,37934,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,37935,37936,37937,37938,37939,37940,37941,37942,37943,37944,37945,37946,37947,37948,37949,37951,37952,37953,37954,37955,37956,37957,37958,37959,37960,37961,37962,37963,37964,37965,37966,37967,37968,37969,37970,37971,37972,37973,37974,37975,37976,37977,37978,37979,37980,37981,37982,37983,37984,37985,37986,37987,37988,37989,37990,37991,37992,37993,37994,37996,37997,37998,37999,65533,38e3,38001,38002,38003,38004,38005,38006,38007,38008,38009,38010,38011,38012,38013,38014,38015,38016,38017,38018,38019,38020,38033,38038,38040,38087,38095,38099,38100,38106,38118,38139,38172,38176,38183,38195,38205,38211,38216,38219,38229,38234,38240,38254,38260,38261,38263,38264,38265,38266,38267,38268,38269,38270,38272,38273,38274,38275,38276,38277,38278,38279,38280,38281,38282,38283,38284,38285,38286,38287,38288,38289,38290,38291,38292,38293,38294,38295,38296,38297,38298,38299,38300,38301,38302,38303,38304,38305,38306,38307,38308,38309,38310,38311,38312,38313,38314,38315,38316,38317,38318,38319,38320,38321,38322,38323,38324,38325,38326,38327,38328,38329,38330,38331,38332,38333,38334,38335,38336,38337,38338,38339,38340,38341,38342,38343,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38344,38345,38346,38347,38348,38349,38350,38351,38352,38353,38354,38355,38356,38357,38358,38359,38360,38361,38362,38363,38364,38365,38366,38367,38368,38369,38370,38371,38372,38373,38374,38375,38380,38399,38407,38419,38424,38427,38430,38432,38435,38436,38437,38438,38439,38440,38441,38443,38444,38445,38447,38448,38455,38456,38457,38458,38462,38465,38467,38474,38478,38479,38481,65533,38482,38483,38486,38487,38488,38489,38490,38492,38493,38494,38496,38499,38501,38502,38507,38509,38510,38511,38512,38513,38515,38520,38521,38522,38523,38524,38525,38526,38527,38528,38529,38530,38531,38532,38535,38537,38538,38540,38542,38545,38546,38547,38549,38550,38554,38555,38557,38558,38559,38560,38561,38562,38563,38564,38565,38566,38568,38569,38570,38571,38572,38573,38574,38575,38577,38578,38580,38581,38583,38584,38586,38587,38591,38594,38595,38600,38602,38603,38608,38609,38611,38612,38614,38615,38616,38617,38618,38619,38620,38621,38622,38623,38625,38626,38627,38628,38629,38630,38631,38635,38636,38637,38638,38640,38641,38642,38644,38645,38648,38650,38651,38652,38653,38655,38658,38659,38661,38666,38667,38668,38672,38673,38674,38676,38677,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38679,38680,38681,38682,38683,38685,38687,38688,38689,38690,38691,38692,38693,38694,38695,38696,38697,38699,38700,38702,38703,38705,38707,38708,38709,38710,38711,38714,38715,38716,38717,38719,38720,38721,38722,38723,38724,38725,38726,38727,38728,38729,38730,38731,38732,38733,38734,38735,38736,38737,38740,38741,38743,38744,38746,38748,38749,38751,38755,38756,38758,38759,38760,65533,38762,38763,38764,38765,38766,38767,38768,38769,38770,38773,38775,38776,38777,38778,38779,38781,38782,38783,38784,38785,38786,38787,38788,38790,38791,38792,38793,38794,38796,38798,38799,38800,38803,38805,38806,38807,38809,38810,38811,38812,38813,38814,38815,38817,38818,38820,38821,38822,38823,38824,38825,38826,38828,38830,38832,38833,38835,38837,38838,38839,38840,38841,38842,38843,38844,38845,38846,38847,38848,38849,38850,38851,38852,38853,38854,38855,38856,38857,38858,38859,38860,38861,38862,38863,38864,38865,38866,38867,38868,38869,38870,38871,38872,38873,38874,38875,38876,38877,38878,38879,38880,38881,38882,38883,38884,38885,38888,38894,38895,38896,38897,38898,38900,38903,38904,38905,38906,38907,38908,38909,38910,38911,38912,38913,38914,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,38915,38916,38917,38918,38919,38920,38921,38922,38923,38924,38925,38926,38927,38928,38929,38930,38931,38932,38933,38934,38935,38936,38937,38938,38939,38940,38941,38942,38943,38944,38945,38946,38947,38948,38949,38950,38951,38952,38953,38954,38955,38956,38957,38958,38959,38960,38961,38962,38963,38964,38965,38966,38967,38968,38969,38970,38971,38972,38973,38974,38975,38976,38977,65533,38978,38979,38980,38981,38982,38983,38984,38985,38986,38987,38988,38989,38990,38991,38992,38993,38994,38995,38996,38997,38998,38999,39e3,39001,39002,39003,39004,39005,39006,39007,39008,39009,39010,39011,39012,39013,39014,39015,39016,39017,39018,39019,39020,39021,39022,39023,39024,39025,39026,39027,39028,39051,39054,39058,39061,39065,39075,39080,39081,39082,39083,39084,39085,39086,39087,39088,39089,39090,39091,39092,39093,39094,39095,39096,39097,39098,39099,39100,39101,39102,39103,39104,39105,39106,39107,39108,39109,39110,39111,39112,39113,39114,39115,39116,39117,39119,39120,39124,39126,39127,39131,39132,39133,39136,39137,39138,39139,39140,39141,39142,39145,39146,39147,39148,39149,39150,39151,39152,39153,39154,39155,39156,39157,39158,39159,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39160,39161,39162,39163,39164,39165,39166,39167,39168,39169,39170,39171,39172,39173,39174,39175,39176,39177,39178,39179,39180,39182,39183,39185,39186,39187,39188,39189,39190,39191,39192,39193,39194,39195,39196,39197,39198,39199,39200,39201,39202,39203,39204,39205,39206,39207,39208,39209,39210,39211,39212,39213,39215,39216,39217,39218,39219,39220,39221,39222,39223,39224,39225,65533,39226,39227,39228,39229,39230,39231,39232,39233,39234,39235,39236,39237,39238,39239,39240,39241,39242,39243,39244,39245,39246,39247,39248,39249,39250,39251,39254,39255,39256,39257,39258,39259,39260,39261,39262,39263,39264,39265,39266,39268,39270,39283,39288,39289,39291,39294,39298,39299,39305,39308,39310,39322,39323,39324,39325,39326,39327,39328,39329,39330,39331,39332,39334,39335,39337,39338,39339,39340,39341,39342,39343,39344,39345,39346,39347,39348,39349,39350,39351,39352,39353,39354,39355,39356,39357,39358,39359,39360,39361,39362,39363,39364,39365,39366,39367,39368,39369,39370,39371,39372,39373,39374,39375,39376,39377,39378,39379,39380,39381,39382,39383,39384,39385,39386,39387,39388,39389,39390,39391,39392,39393,39394,39395,39396,39397,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39398,39399,39400,39401,39402,39403,39404,39405,39406,39407,39408,39409,39410,39411,39412,39413,39414,39415,39416,39417,39418,39419,39420,39421,39422,39423,39424,39425,39426,39427,39428,39429,39430,39431,39432,39433,39434,39435,39436,39437,39438,39439,39440,39441,39442,39443,39444,39445,39446,39447,39448,39449,39450,39451,39452,39453,39454,39455,39456,39457,39458,39459,39460,65533,39461,39462,39463,39464,39465,39466,39467,39468,39469,39470,39471,39472,39473,39474,39475,39476,39477,39478,39479,39480,39481,39482,39483,39484,39485,39486,39487,39488,39489,39490,39491,39492,39493,39494,39495,39496,39497,39498,39499,39500,39501,39502,39503,39504,39505,39506,39507,39508,39509,39510,39511,39512,39513,39514,39515,39516,39517,39518,39519,39520,39521,39522,39523,39524,39525,39526,39527,39528,39529,39530,39531,39538,39555,39561,39565,39566,39572,39573,39577,39590,39593,39594,39595,39596,39597,39598,39599,39602,39603,39604,39605,39609,39611,39613,39614,39615,39619,39620,39622,39623,39624,39625,39626,39629,39630,39631,39632,39634,39636,39637,39638,39639,39641,39642,39643,39644,39645,39646,39648,39650,39651,39652,39653,39655,39656,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39657,39658,39660,39662,39664,39665,39666,39667,39668,39669,39670,39671,39672,39674,39676,39677,39678,39679,39680,39681,39682,39684,39685,39686,39687,39689,39690,39691,39692,39693,39694,39696,39697,39698,39700,39701,39702,39703,39704,39705,39706,39707,39708,39709,39710,39712,39713,39714,39716,39717,39718,39719,39720,39721,39722,39723,39724,39725,39726,39728,39729,39731,39732,65533,39733,39734,39735,39736,39737,39738,39741,39742,39743,39744,39750,39754,39755,39756,39758,39760,39762,39763,39765,39766,39767,39768,39769,39770,39771,39772,39773,39774,39775,39776,39777,39778,39779,39780,39781,39782,39783,39784,39785,39786,39787,39788,39789,39790,39791,39792,39793,39794,39795,39796,39797,39798,39799,39800,39801,39802,39803,39804,39805,39806,39807,39808,39809,39810,39811,39812,39813,39814,39815,39816,39817,39818,39819,39820,39821,39822,39823,39824,39825,39826,39827,39828,39829,39830,39831,39832,39833,39834,39835,39836,39837,39838,39839,39840,39841,39842,39843,39844,39845,39846,39847,39848,39849,39850,39851,39852,39853,39854,39855,39856,39857,39858,39859,39860,39861,39862,39863,39864,39865,39866,39867,39868,39869,39870,39871,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,39872,39873,39874,39875,39876,39877,39878,39879,39880,39881,39882,39883,39884,39885,39886,39887,39888,39889,39890,39891,39892,39893,39894,39895,39896,39897,39898,39899,39900,39901,39902,39903,39904,39905,39906,39907,39908,39909,39910,39911,39912,39913,39914,39915,39916,39917,39918,39919,39920,39921,39922,39923,39924,39925,39926,39927,39928,39929,39930,39931,39932,39933,39934,65533,39935,39936,39937,39938,39939,39940,39941,39942,39943,39944,39945,39946,39947,39948,39949,39950,39951,39952,39953,39954,39955,39956,39957,39958,39959,39960,39961,39962,39963,39964,39965,39966,39967,39968,39969,39970,39971,39972,39973,39974,39975,39976,39977,39978,39979,39980,39981,39982,39983,39984,39985,39986,39987,39988,39989,39990,39991,39992,39993,39994,39995,39996,39997,39998,39999,4e4,40001,40002,40003,40004,40005,40006,40007,40008,40009,40010,40011,40012,40013,40014,40015,40016,40017,40018,40019,40020,40021,40022,40023,40024,40025,40026,40027,40028,40029,40030,40031,40032,40033,40034,40035,40036,40037,40038,40039,40040,40041,40042,40043,40044,40045,40046,40047,40048,40049,40050,40051,40052,40053,40054,40055,40056,40057,40058,40059,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40061,40062,40064,40067,40068,40073,40074,40076,40079,40083,40086,40087,40088,40089,40093,40106,40108,40111,40121,40126,40127,40128,40129,40130,40136,40137,40145,40146,40154,40155,40160,40161,40163,40164,40165,40166,40167,40168,40169,40170,40171,40172,40173,40174,40175,40176,40177,40178,40179,40180,40181,40182,40183,40184,40185,40186,40187,40188,40189,40190,40191,40192,40193,65533,40194,40195,40196,40197,40198,40199,40200,40201,40202,40203,40204,40205,40206,40207,40208,40209,40210,40211,40212,40213,40214,40215,40216,40217,40218,40219,40220,40221,40222,40223,40224,40225,40226,40227,40228,40229,40230,40231,40232,40233,40234,40235,40236,40237,40238,40239,40240,40241,40242,40243,40244,40245,40246,40247,40248,40249,40250,40251,40252,40253,40254,40255,40256,40257,40258,40259,40260,40261,40262,40263,40264,40265,40266,40267,40268,40269,40270,40271,40272,40273,40274,40275,40276,40277,40278,40279,40280,40281,40282,40283,40284,40285,40286,40287,40288,40289,40290,40291,40292,40293,40294,40295,40296,40297,40298,40299,40300,40301,40302,40303,40304,40305,40306,40307,40308,40309,40310,40311,40312,40313,40314,40315,40316,40317,40318,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40319,40320,40321,40322,40323,40324,40325,40326,40327,40328,40329,40330,40331,40332,40333,40334,40335,40336,40337,40338,40339,40340,40341,40342,40343,40344,40345,40346,40347,40348,40349,40350,40351,40352,40353,40354,40355,40356,40357,40358,40359,40360,40361,40362,40363,40364,40365,40366,40367,40368,40369,40370,40371,40372,40373,40374,40375,40376,40377,40378,40379,40380,40381,65533,40382,40383,40384,40385,40386,40387,40388,40389,40390,40391,40392,40393,40394,40395,40396,40397,40398,40399,40400,40401,40402,40403,40404,40405,40406,40407,40408,40409,40410,40411,40412,40413,40414,40415,40416,40417,40418,40419,40420,40421,40422,40423,40424,40425,40426,40427,40428,40429,40430,40431,40432,40433,40434,40435,40436,40437,40438,40439,40440,40441,40442,40443,40444,40445,40446,40447,40448,40449,40450,40451,40452,40453,40454,40455,40456,40457,40458,40459,40460,40461,40462,40463,40464,40465,40466,40467,40468,40469,40470,40471,40472,40473,40474,40475,40476,40477,40478,40484,40487,40494,40496,40500,40507,40508,40512,40525,40528,40530,40531,40532,40534,40537,40541,40543,40544,40545,40546,40549,40558,40559,40562,40564,40565,40566,40567,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40568,40569,40570,40571,40572,40573,40576,40577,40579,40580,40581,40582,40585,40586,40588,40589,40590,40591,40592,40593,40596,40597,40598,40599,40600,40601,40602,40603,40604,40606,40608,40609,40610,40611,40612,40613,40615,40616,40617,40618,40619,40620,40621,40622,40623,40624,40625,40626,40627,40629,40630,40631,40633,40634,40636,40639,40640,40641,40642,40643,40645,40646,40647,65533,40648,40650,40651,40652,40656,40658,40659,40661,40662,40663,40665,40666,40670,40673,40675,40676,40678,40680,40683,40684,40685,40686,40688,40689,40690,40691,40692,40693,40694,40695,40696,40698,40701,40703,40704,40705,40706,40707,40708,40709,40710,40711,40712,40713,40714,40716,40719,40721,40722,40724,40725,40726,40728,40730,40731,40732,40733,40734,40735,40737,40739,40740,40741,40742,40743,40744,40745,40746,40747,40749,40750,40752,40753,40754,40755,40756,40757,40758,40760,40762,40764,40767,40768,40769,40770,40771,40773,40774,40775,40776,40777,40778,40779,40780,40781,40782,40783,40786,40787,40788,40789,40790,40791,40792,40793,40794,40795,40796,40797,40798,40799,40800,40801,40802,40803,40804,40805,40806,40807,40808,40809,40810,40811,40812,40813,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,40814,40815,40816,40817,40818,40819,40820,40821,40822,40823,40824,40825,40826,40827,40828,40829,40830,40833,40834,40845,40846,40847,40848,40849,40850,40851,40852,40853,40854,40855,40856,40860,40861,40862,40865,40866,40867,40868,40869,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,714,715,729,8211,8213,8245,8453,8457,8598,8599,8600,8601,8725,8735,8739,8786,8806,8807,8895,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9581,9582,9583,9584,9585,9586,9587,9601,9602,9603,9604,9605,9606,9607,9608,65533,9609,9610,9611,9612,9613,9614,9615,9619,9620,9621,9698,9699,9700,9701,9737,8853,12317,12318,12321,12322,12323,12324,12325,12326,12327,12328,12329,12963,13198,13199,13212,13213,13214,13217,13252,13262,13265,13266,13269,65072,65097,65098,65099,65100,65101,65102,65103,65104,65105,65106,65108,65109,65110,65111,65113,65114,65115,65116,65117,65118,65119,65120,65121,65122,65123,65124,65125,65126,65128,65129,65130,65131,59367,59368,59369,59370,59371,59372,59373,59374,59375,59376,59377,59378,59379,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,63788,63865,63893,63975,63985,64012,64013,64014,64015,64017,64019,64020,64024,64031,64032,64033,64035,64036,64039,64040,64041,59413,59414,59415,59416,59417,59418,59419,59420,59421,59422,59423,59424,59425,59426,59427,59428,59429,59430,59431,59432,59433,59434,59435,59436,59437,59438,59439,59440,59441,59442,59443,59444,59445,59446,59447,59448,59449,59450,59451,59452,59453,59454,65533,59455,59456,59457,59458,59459,59460,59461,59462,59463,59464,59465,59466,59467,59468,59469,59470,59471,59472,59473,59474,59475,59476,59477,59478,59479,59480,59481,59482,59483,59484,59485,59486,59487,59488,59489,59490,59491,59492,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var keyboardLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.keyboard");var messageLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.message");var protocolLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.protocol");var telnetLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.telnet");var eventLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.event");var parseLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.parse");const TELNET_NO_STATE=0;const PARSER_TELNET_OPTION=1;const PARSER_TELNET_SUB=2;const PARSER_TELNET_VERB=3;const DEFAULT_SCREEN_WIDTH=80;const DEFAULT_SCREEN_HEIGHT=24;const OIA_TYPE_ENUM={PCOMM:0,PASSPORT:1};const STATUSLINE_SUFFIX="Statusline";const STATUSLINE_ID="statusline_id_0";const STATUSLINE_OFFSET=10;const DOUBLE_WIDTH_HEIGHT=896;const undefinedBlockFallbackState=4095^(SHIFT_LEFT|SHIFT_RIGHT|CAPS_LOCK);const undefinedVTBlockFallbackState=4095^(ALT_LEFT|ALT_RIGHT|SHIFT_LEFT|SHIFT_RIGHT|CAPS_LOCK|CONTROL_LEFT|CONTROL_RIGHT);const DEFAULT_MFA_CONFIG={serverURL:"",policyName:[],host:"*"};const DEFAULT_CONFIG={retryConnect:{maximum:10,interval:2,counter:1}};let selectionPos={};var AudioContext=window.AudioContext||window.webkitAudioContext;function superAlert(e){alert(e+": You are in the superclass!")}function VirtualScreen(e,t,i,n){this.canvas=e;this.selectionCanvas=t;this.oiaEnabled=1;this.width=i;this.height=n;this.oiaType=OIA_TYPE_ENUM.PCOMM;this.oiaArray=new OIAArray(this);this.previewCharCode=new Array(this.height*this.width);this.renderer=null;this.defaultWidth=DEFAULT_SCREEN_WIDTH;this.defaultHeight=DEFAULT_SCREEN_HEIGHT;this.outgoingMessages=[];this.webSocket=null;this.parentDiv=null;this.div=null;this.modifierKeyState=0;this.selectionStartRow=null;this.selectionStartColumn=null;this.selectionEndRow=null;this.selectionEndColumn=null;this.selectionMouseIsDown=false;this.selectionMouseIsDrag=false;this.enableKeyboard=false;this.selectionSelecteStatus=0;this.selectionDragStatus=0;this.selectionColor="rgb(255,255,255)";this.rendererSettings=null;this.keyMapping=keyNameMap;this.copyTextAsTab=true;this.recorder=null;this.inComposition=false;this.keepSelection=false;this.hotspots=new Array;this.curPos={};this.lockedByScripting=false;this.lockedByError=false;this.scriptingReady=false;this.connectState=CONNECT_STATE_DISCONNECTED;this.wheelLeftover=0;this.combinationKeyStatus=false;this.inputProhibitExclusion=["Reset"];this.isAltGrOn=false;this.singleLineSelected=false;this.isHandshakeDone=false;this.kbRestoreTimes=0;this.lastKeyMapping=null;this.mouseX=0;this.mouseY=0}VirtualScreen.prototype.onAfterHandshake=function(){eventLogger.info("Handshake succeed");if(this.callbacks&&this.callbacks.handshakeCallback){this.callbacks.handshakeCallback()}};VirtualScreen.IDUseMap=new Array(SESSION_NAME_ALPHABET.length);VirtualScreen.IDUseMap.fill(false);VirtualScreen.prototype.setID=function(){let e=VirtualScreen.IDUseMap.length;for(var t=0;t<e;t++){if(!VirtualScreen.IDUseMap[t]){VirtualScreen.IDUseMap[t]=true;this.sessionShortName=SESSION_NAME_ALPHABET[t];break}}if(!this.sessionShortName){this.sessionShortName=" "}this.sessionLongName=this.sessionShortName};const INVISIBLE_INPUT_ID_SUFFIX="Input";const INVISIBLE_HOTSPOTS_DIV_ID_SUFFIX="Hotspots";const HOTSPOTS_BUTTON_ID_SUFFIX="hotspotButton";VirtualScreen.prototype.handleWebsocketError=function(e){this.handleWebsocketCloseInner(WEBSOCKET_BZW_INTERNAL_ERROR,e.data,"Connection to host closed due to error.\nHost: "+this.hostInfo.host+"\nPort: "+this.hostInfo.port+"\nError:"+e.data)};VirtualScreen.prototype.handleWebsocketClose=function(e){this.handleWebsocketCloseInner(e.code,e.reason,"Connection to host closed.\nHost: "+this.hostInfo.host+"\nPort: "+this.hostInfo.port+"\nCode: "+e.code+"\nReason: "+e.reason)};VirtualScreen.prototype.handleWebsocketCloseInner=function(e,t,i){setTimeout(()=>{if(e!=this.expectWsCode){eventLogger.warn(i);if(!apiAgent.isSilent){alert(i)}}this.closeConnection(e,t);this.webSocket=null;this.keepTerminal=false},500)};VirtualScreen.prototype.isConnected=function(){return this.connectState===CONNECT_STATE_CONNECTED};VirtualScreen.prototype.disconnect=function(){tecoreLogger.info("Disconnected terminal with ID="+this.id);this.keepTerminal=true;this.lockedByScripting=true;this.closeConnection(4e3,"Terminal Closed");this.renderer.fullPaint()};VirtualScreen.prototype.heartbeat=function(e,t){tecoreLogger.info("deal with message, message is from = "+e);if(t){t.apply(this)}};VirtualScreen.prototype.closeConnection=function(e,t){if(this.closed===true){return}else{this.closed=true}this.expectWsCode=e;var i=this.webSocket;if(i){try{i.close(e,t)}catch(e){}}this.unbind();this.clear();if(!this.keepTerminal){var n=this.parentDiv?this.parentDiv:document.getElementById(this.canvas.id).parentNode;if(!this.isPrinter){var r=document.getElementById(this.hotspotsDiv.id);var s=document.getElementById(this.canvas.id);var o=document.getElementById(this.selectionCanvas.id)}try{if(!this.isPrinter){this.clearDiv(n);var l=n.id;const a=document.getElementById("bzwMFA");if(a){MFA.RemoveMFAForm(a,true)}const c=document.getElementById("bzwINDFILE");if(c){INDFILE.RemoveINDFILEForm(c)}}if(this.callbacks&&this.callbacks.closeCallback){this.callbacks.closeCallback(l)}}catch(e){}if(this.sessionShortName&&this.sessionShortName!=" "){VirtualScreen.IDUseMap[this.sessionShortName.charCodeAt(0)-65]=false;this.sessionShortName=null}}};function OIAArray(e,t){this.intArray=new Array(t?t:OIA_WIDTH);this.intArray.fill(32)}VirtualScreen.prototype.setRecorder=function(e){this.recorder=e};VirtualScreen.prototype.getOIAArray=function(){superAlert("getOIAArray")};VirtualScreen.prototype.initScreen=function(){superAlert("initScreen")};VirtualScreen.prototype.connect=function(e,t){superAlert("connect")};VirtualScreen.prototype.paste=function(e){superAlert("paste")};VirtualScreen.prototype.copy=function(e){superAlert("copy")};VirtualScreen.prototype.cut=function(e){superAlert("cut")};VirtualScreen.prototype.getScreenContents=function(e,t,i,n,r,s){superAlert("getScreenContents")};VirtualScreen.prototype.getScreenshot=function(){superAlert("getScreenshot")};VirtualScreen.prototype.getStatusBarContents=function(e,t,i,n){superAlert("getStatusBarContents")};VirtualScreen.prototype.setCursorPos=function(e){superAlert("setCursorPos")};VirtualScreen.prototype.modifyCursorPos=function(e){superAlert("modifyCursorPos")};VirtualScreen.prototype.steadyCursorRedraw=function(){if(this.rendererSettings.steadyCursor&&COMMON.userAgentInfo.isMobile){this.renderer.paintUpperCanvas()}};VirtualScreen.prototype.enterCharacterAtCursor=function(e){superAlert("enterCharacterAtCursor")};VirtualScreen.prototype.clear=function(){superAlert("clear")};VirtualScreen.prototype.unbind=function(){tecoreLogger.info("handle unbind function")};VirtualScreen.prototype.updatePreview=function(){tecoreLogger.info("unsupport DBCS")};VirtualScreen.prototype.handleContainerResizeFromUI=function(e,t,i,n){if(t!==null&&t!==undefined){this.rendererSettings=t.rendererSettings;this.hotspots=t.hotspots;t.inComposition=false;t.compositionString=null;this.renderer.isTransparent=t.rendererSettings.isTransparent;this.renderer.showScrollbar=t.rendererSettings.showScrollbar;this.renderer.scrollNode=t.rendererSettings.scrollNode}this.handleContainerResize(e,i,n)};var gridResizeTimeout;VirtualScreen.prototype.anyElementHasFocus=function(){var e=document.activeElement;return document.getElementById(this.canvas.id)==e||document.getElementById(this.selectionCanvas.id)==e||document.getElementById(this.invisibleInput.id)==e||document.getElementById(this.hotspotsDiv.id)==e};VirtualScreen.prototype.clearDiv=function(e){if(this.hotspotsDiv&&this.hotspotsDiv.parentNode){this.resizing=true;this.hotspotsDiv.parentNode.removeChild(this.hotspotsDiv);this.resizing=false}if(this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas)}if(this.selectionCanvas&&this.selectionCanvas.parentNode){this.selectionCanvas.parentNode.removeChild(this.selectionCanvas)}this.renderer.parentSelector=null};VirtualScreen.createHotspotDiv=function(e,t,i){let n=document.createElement("div");n.id=e.id+INVISIBLE_HOTSPOTS_DIV_ID_SUFFIX;n.style.zIndex="3";n.style.position="absolute";n.style.top="0px";n.style.left="0px";n.style.opacity=0;n.style.width=t+"px";n.style.height=i+"px";n.style.cursor="default";n.style.overflow="auto";return n};VirtualScreen.createStatuslineDiv=function(e,t,i,n){let r=document.createElement("div");r.id=e.id+STATUSLINE_SUFFIX;r.style.zIndex="1";r.style.position="absolute";r.style.top=n+"px";r.style.left="0px";r.style.opacity="255";r.style.width=t+"px";r.style.height=i+"px";let s=r.id+"Canvas";tecoreLogger.debug("make canvas "+s+" parentDiv="+r);let o=document.createElement("canvas");o.id=r.id+"Canvas";o.width=t;o.height=i;o.innerHTML="If you see this message, rather than a real drawing canvas, please upgrade to FireFox 1.5, Safari, or some other modern browser";r.appendChild(o);e.appendChild(r);return o};VirtualScreen.createInvisibleInputDiv=function(e,t){let i=document.createElement("textarea");i.id=e+"Input";if(COMMON.userAgentInfo.isMobile){i.readOnly=!(t&&(t.rteControlSysKeyboard||t.autoSysKeyboard&&t.showSysKeyboard))}i.style.position="relative";i.style.zIndex="3";i.style.bottom="0px";i.style.left="0px";i.style.opacity=0;i.style.width="100%";i.style.height="100%";i.style.cursor="default";i.draggable=true;return i};VirtualScreen.prototype.handleContainerResize=function(e,t,i){tecoreLogger.info("handling resize");clearTimeout(gridResizeTimeout);var n=t?t:e.clientWidth;var r=i?i:e.clientHeight;var s=e.id;this.parentDiv=e;var o=s+"Canvas";if(r===0||r===null||r===undefined){r=this.rendererSettings.height}this.clearDiv(e);if(this.renderer){this.renderer.clear()}tecoreLogger.info("resize w="+n+" h="+r);this.canvas=makeCanvas(o,e,n,r,1);var l=s+"SelectionCanvas";this.selectionCanvas=makeCanvas(l,e,n,r,2);this.selectionCanvas.innerHTMLMessageLength=this.selectionCanvas.innerHTML.length;let a=VirtualScreen.createInvisibleInputDiv(s,this.rendererSettings);let c=VirtualScreen.createHotspotDiv(e,n,r);e.appendChild(c);c.appendChild(a);this.invisibleInput=a;this.hotspotsDiv=c;this.setupEventHandling();if(this.renderer){this.renderer.canvas=this.canvas;this.renderer.handleResize();this.applyRendererProperties(this.rendererSettings);this.renderer.fullPaint()}if(this.hotspots!=null&&this.hotspots.length>0){this.renderer.markHotspotElements()}var u=this;gridResizeTimeout=setTimeout(function(){u.handleResizeComplete();u.setScrollPosition()},RESIZE_COMPLETE_TIMEOUT)};VirtualScreen.prototype.setScrollPosition=function(e){if(!this.rendererSettings||!this.rendererSettings.showScrollbar)return;const t=this.getScrollNode().scrollTop;if(e){this.getScrollNode().scrollTop=Math.max(e,0)}else if(t){return}else if(this.scrollTop&&!t){this.getScrollNode().scrollTop=Math.max(this.scrollTop,0)}else{const i=Math.floor(this.cursorPos/this.width);const n=(i-1)/this.height*this.parentDiv.clientHeight;this.getScrollNode().scrollTop=Math.max(n,0)}};VirtualScreen.prototype.getScrollNode=function(){if(this.renderer.scrollNode){return this.renderer.scrollNode}return this.parentDiv.parentNode};VirtualScreen.prototype.updateScrollBar=function(){if(COMMON.userAgentInfo&&COMMON.userAgentInfo.isAndroid){const e=Math.floor(this.cursorPos/this.width);const t=(e-1)/this.height*this.parentDiv.clientHeight;this.getScrollNode().scrollTop=Math.max(t,0);return}if(this.callbacks&&this.callbacks.updateScrollBar){this.callbacks.updateScrollBar(this)}};VirtualScreen.prototype.setScrollValue=function(){if(!this.rendererSettings||!this.rendererSettings.showScrollbar||!COMMON.userAgentInfo.isAndroid)return;this.scrollTop=Math.max(this.getScrollNode().scrollTop,0)};VirtualScreen.prototype.resize=function(e,t,i){this.width=e;this.height=t;this.size=e*this.height;this.oiaArray.intArray=new Array(e?e:OIA_WIDTH);this.oiaArray.intArray.fill(32);tecoreLogger.info("Resized canvas grid to r="+this.height+", c="+this.width+", size="+this.size);if(!i){this.clear()}var n=0;var r=0;if(this.renderer){this.renderer.handleResize();if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}this.renderer.fullPaint()}};VirtualScreen.prototype.selectAll=function(){this.selectionStartRow=0;this.selectionEndRow=this.height;this.selectionStartColumn=0;this.selectionEndColumn=this.width;this.renderer.fullPaint()};VirtualScreen.prototype.selectCancel=function(){this.clearSelection();this.renderer.arrowsSelection=false;this.renderer.fullPaint()};VirtualScreen.prototype.selectDown=function(){this.initSelection();if(this.selectionEndRow>this.selectionStartRow&&this.selectionStartRow<selectionPos.row){this.selectionStartRow=Math.min(this.height,Math.max(++this.selectionStartRow,1))}else{this.selectionEndRow=Math.min(this.height,Math.max(++this.selectionEndRow,1))}this.renderer.arrowsSelection=true;this.renderer.fullPaint()};VirtualScreen.prototype.selectRight=function(){this.initSelection();if(this.selectionEndColumn>this.selectionStartColumn&&this.selectionStartColumn<selectionPos.col){this.selectionStartColumn=Math.min(this.width,Math.max(++this.selectionStartColumn,1))}else{this.selectionEndColumn=Math.min(this.width,Math.max(++this.selectionEndColumn,1))}this.renderer.arrowsSelection=true;this.renderer.fullPaint()};VirtualScreen.prototype.selectLeft=function(){this.initSelection();if(this.selectionEndColumn===this.selectionStartColumn&&this.selectionEndColumn===selectionPos.col){this.selectionEndColumn=selectionPos.col+1}else if(this.selectionEndColumn>this.selectionStartColumn+1&&this.selectionEndColumn>selectionPos.col+1){this.selectionEndColumn=Math.min(this.width,Math.max(--this.selectionEndColumn,0))}else{this.selectionStartColumn=Math.min(this.width,Math.max(--this.selectionStartColumn,0))}this.renderer.arrowsSelection=true;this.renderer.fullPaint()};VirtualScreen.prototype.selectUp=function(){this.initSelection();if(this.selectionEndRow===this.selectionStartRow&&this.selectionEndRow===selectionPos.row){this.selectionEndRow=selectionPos.row+1}else if(this.selectionEndRow>this.selectionStartRow&&this.selectionEndRow>selectionPos.row+1){this.selectionEndRow=Math.min(this.height,Math.max(--this.selectionEndRow,0))}else{this.selectionStartRow=Math.min(this.height,Math.max(--this.selectionStartRow,0))}this.renderer.arrowsSelection=true;this.renderer.fullPaint()};VirtualScreen.prototype.initSelection=function(){const e=this.getCursor();const t=e.rows;const i=e.columns;let n=this.selectionStartRow==null?t:this.selectionStartRow;let r=this.selectionEndRow==null?t+1:this.selectionEndRow;let s=this.selectionStartColumn==null?i:this.selectionStartColumn;let o=this.selectionEndColumn==null?i+1:this.selectionEndColumn;n=n>r?n+1:n;s=s>o?s+1:s;selectionPos.row=selectionPos.row==null?n:selectionPos.row;selectionPos.col=selectionPos.col==null?s:selectionPos.col;this.selectionStartRow=Math.min(n,r,selectionPos.row);this.selectionEndRow=Math.max(n,r,selectionPos.row);this.selectionStartColumn=Math.min(s,o,selectionPos.col);this.selectionEndColumn=Math.max(s,o,selectionPos.col);this.curPos=e};VirtualScreen.prototype.adjustEndSelectRow=function(e,t){if(this.renderer.arrowsSelection&&e===t){return Math.min(e+1,this.height)}return t};VirtualScreen.prototype.adjustEndSelectColumn=function(e,t){if(this.renderer.arrowsSelection&&e===t){return Math.min(e+1,this.width)}return t};VirtualScreen.prototype.setKeyMapping=function(e){this.keyMapping=e;this.rendererSettings.keyboardMappingVS=e};VirtualScreen.prototype.getCursor=function(){return{columns:this.cursorPos%this.width,rows:Math.floor(this.cursorPos/this.width)}};VirtualScreen.prototype.handleKeyUpEvent=function(e){};VirtualScreen.prototype.handleKeyUp=function(t){var e=t.keyCode;var i=t.key?t.key:t.keyIdentifier;if(t.key==="AltGraph"||t.code==="Control"||t.code=="Alt"||t.constructor.name==="KeyboardEvent"&&!t.getModifierState("AltGraph"))this.isAltGrOn=false;keyboardLogger.debug("keyup "+t+" target="+t.target+" keyName='"+i+"' keyCode=0x"+hex(e));keyboardLogger.debug("keyUp, altgr status "+this.isAltGrOn);if(this.lockedByError&&!["Shift","Control","Alt"].includes(i)){eventLogger.debug("Screen locked by error occurrence");t.stopPropagation();t.preventDefault();return}this.handleKeyUpEvent();keyboardLogger.debug("keyup, modifier state starts at "+this.modifierKeyState.toString(2));if(this.modifierKeyState===0||this.modifierKeyState===256){return}if(i=="AltLeft"){this.modifierKeyState&=~ALT_LEFT}else if(i=="AltRight"){this.modifierKeyState&=~ALT_RIGHT}if(i=="Alt"){this.modifierKeyState&=~ALT_LEFT}else if(i=="ControlLeft"){this.modifierKeyState&=~CONTROL_LEFT}else if(i=="ControlRight"){this.modifierKeyState&=~CONTROL_RIGHT}else if(i=="Control"){this.modifierKeyState&=~CONTROL_LEFT}else if(i=="OSLeft"||i=="Win"){this.modifierKeyState&=~OS_LEFT}else if(i=="OSRight"){this.modifierKeyState&=~OS_RIGHT}else if(i=="ShiftLeft"){this.modifierKeyState&=~SHIFT_LEFT}else if(i=="ShiftRight"){this.modifierKeyState&=~SHIFT_RIGHT}else if(i=="Shift"){this.modifierKeyState&=~SHIFT_LEFT}else{return}if(this.modifierKeyState===0||this.modifierKeyState===256){if(!this.combinationKeyStatus&&["Shift","Control","Alt"].includes(i)&&!this.rendererSettings?.keyboardOptions?.autoRepeat?.ctrlAltShift){i=t.code;var n=this.keyMapping[i];if(n&&n[0]&&n[0].type){this.handleKeyDown(n[0],t);this.lastKeyMapping=n[0]}}this.combinationKeyStatus=false}if(this.oiaProgramMessage===X_HOST_PROCESSING||screen.lockedByScripting&&screen.sessionType==="VT"){tecoreLogger.debug("Put KeyUp in Type Ahead queue");let e={};e.type="KEYUP";e.keyEvent=t;this.typeAheadQueue.push(e);if(t.ctrlKey&&(t.value=="x"||t.value=="v"||t.value=="v")){return}}t.stopPropagation();t.preventDefault();keyboardLogger.debug("keyup, modifier state is now "+this.modifierKeyState.toString(2))};var isAlpha=function(e){var t=new RegExp("[a-zA-Z]");return t.test(e.charAt(0))};var isLatin=function(e){let t=new RegExp(/\p{Script=Latin}/u);return t.test(e.charAt(0))};VirtualScreen.prototype.handleKeyDown=function(e,t){superAlert("handleKeyDown")};VirtualScreen.prototype.checkCaps=function(e){if(navigator.appName.indexOf("Safari")===-1&&e.getModifierState){if(e.getModifierState("CapsLock")){this.modifierKeyState|=CAPS_LOCK}else{this.modifierKeyState&=~CAPS_LOCK}}};VirtualScreen.prototype.setKeyState=function(e,t){if(!t.getModifierState){if(e.type===KEYMAP_TYPE_KEY||e.type===KEYMAP_TYPE_FALLBACK&&e.value.length>1){var i=e.value;if(i=="CapsLock"){this.modifierKeyState^=CAPS_LOCK}else if(i=="AltLeft"){this.modifierKeyState|=ALT_LEFT}else if(i=="AltRight"){this.modifierKeyState|=ALT_RIGHT}else if(i=="Alt"){this.modifierKeyState|=ALT_LEFT}else if(i=="ControlLeft"){this.modifierKeyState|=CONTROL_LEFT}else if(i=="ControlRight"){this.modifierKeyState|=CONTROL_RIGHT}else if(i=="Control"){this.modifierKeyState|=CONTROL_LEFT}else if(i=="OSLeft"||i=="Win"){this.modifierKeyState|=OS_LEFT}else if(i=="OSRight"){this.modifierKeyState|=OS_RIGHT}else if(i=="ShiftLeft"){this.modifierKeyState|=SHIFT_LEFT}else if(i=="ShiftRight"){this.modifierKeyState|=SHIFT_RIGHT}else if(i=="Shift"){this.modifierKeyState|=SHIFT_LEFT}else{return false}return true}return false}else{this.modifierKeyState=0;if(t.getModifierState("Control")){this.modifierKeyState|=CONTROL_LEFT}if(t.getModifierState("Alt")){this.modifierKeyState|=ALT_LEFT}if(t.getModifierState("Shift")){this.modifierKeyState|=SHIFT_LEFT}if(t.getModifierState("CapsLock")){this.modifierKeyState|=CAPS_LOCK}if(this.isAltGrOn||t.getModifierState("AltGraph")){this.modifierKeyState|=CONTROL_LEFT;this.modifierKeyState|=ALT_LEFT}if(t.getModifierState("Meta")||t.getModifierState("OS")||t.getModifierState("Win")){this.modifierKeyState|=OS_LEFT}return true}};VirtualScreen.prototype.handleKeyDownStart=function(i){var e='~!@#$%^&*()_+{}|:"<>?';const n="`1234567890-=[];',./";const r={NumpadAdd:"+",NumpadSubtract:"-",NumpadMultiply:"*",NumpadDivide:"/",NumpadDecimal:"."};let t="";let s=false;const o="special-";keyboardLogger.debug(`handleKeyDownStart key ${i.key}, keycode ${i.code}, getModifierState ${i.getModifierState("AltGraph")}`);if(i.code&&i.code.startsWith(o)){t=i.code.substring(o.length);s=true}else if(i.getModifierState("AltGraph")){let e=i.code.replace("Key","").trim().toLowerCase();if(e!==i.key.toLowerCase())s=true;t=i.code}else{t=i.code}if(i.ctrlKey&&i.altKey||i.key=="AltGraph"&&i.getModifierState("AltGraph")){this.isAltGrOn=true}else if(i.key==="Control"&&!i.ctrlKey||i.key=="Alt"&&!i.altKey||i.key=="AltGraph"&&!i.getModifierState("AltGraph")){this.isAltGrOn=false}const l=()=>{const e=n.indexOf(i.key);let t=i.code==="NumpadDecimal"&&i.key===","?".":i.key;if(r[i.code]&&r[i.code]===t)return r[i.code];if(i.key==="Cancel"&&i.charCode===3&&i.code===undefined)return"Pause";return i.key==="Cancel"||i.key?i.key:i.keyIdentifier};this.checkCaps(i);var a=i.keyCode;var c=l();keyboardLogger.debug(`handleKeyDownStart keyEvent.location ${i.location}`);keyboardLogger.debug(`handleKeyDownStart key ${t}`);t=i.location===3?c:t;if(t==="")t=c;this.setKeyState(new KeyMapping(KEYMAP_TYPE_FALLBACK,c),i);if((i.ctrlKey||i.shiftKey||i.altKey)&&!["Control","Alt","Shift"].includes(c)){this.combinationKeyStatus=true}else if((i.ctrlKey||i.shiftKey||i.altKey)&&["Control","Alt","Shift"].includes(c)&&this.rendererSettings?.keyboardOptions?.autoRepeat?.ctrlAltShift){c=i.code;var u=this.keyMapping[c];if(u&&u[0]&&u[0].type){this.handleKeyDown(u[0],i);this.lastKeyMapping=u[0];return}}keyboardLogger.debug("keydown "+i+" target="+i.target+" keyName='"+c+"' keyCode=0x"+hex(a)+" key= "+t);keyboardLogger.debug("keydown, modifier state starts at "+this.modifierKeyState.toString(2));var h=t.startsWith("U+");if(h&&t.length==6){if(t==="U+0000"&&(COMMON.userAgentInfo.isAndroid||COMMON.userAgentInfo.isIOS)){return}var d=parseInt(t.substring(2),16);if(d>=32&&d<127){t=String.fromCharCode(d)}}var p=t.length==1&&(isAlpha(t)||isLatin(t));if(p){t=t.toLowerCase()}var f=keyNameAliasMap[t];if(f){t=f}if(i.location===3&&t!="NumLock"&&!t.startsWith("Numpad")){t="Numpad"+t}var u=this.keyMapping[t];keyboardLogger.debug("keydown, keyDefinition "+JSON.stringify(u));var E;if(u&&u!=null){var T=0;if(this.modifierKeyState&(CONTROL_LEFT|CONTROL_RIGHT)){T|=KEYMAP_CTRL}if(this.modifierKeyState&(ALT_LEFT|ALT_RIGHT)){T|=KEYMAP_ALT}if(this.modifierKeyState&(SHIFT_LEFT|SHIFT_RIGHT)){T|=KEYMAP_SHIFT}if(this.modifierKeyState==CAPS_LOCK&&p){T=KEYMAP_SHIFT}else if(T==KEYMAP_SHIFT&&this.modifierKeyState&CAPS_LOCK&&p){T=0}keyboardLogger.debug("keydown modifier="+T);if(T===0){T=KEYMAP_NORMAL}var _=u[T];if(_&&_.type!==null&&_.type!=="null"&&_.value&&_.value!=="null"){if(T===0&&_.value==="."&&i.key===","&&t==="Numpad."){E={type:2,value:","}}else{E=_}}}if(c===String.fromCharCode("0x60")&&E&&i.getModifierState("AltGraph"))return;if((i.code=="AltLeft"||i.code=="AltRight")&&i.key!="Alt"){this.combinationKeyStatus=false;return}if(!E){if((a===55||a===222)&&i.getModifierState("AltGraph"))return;if(c==="²"&&t=="Backquote"&&i.shiftKey)return;E=new KeyMapping(KEYMAP_TYPE_FALLBACK,c);if((this.isAltGrOn||i.getModifierState("AltGraph"))&&s){this.modifierKeyState=0}if(i.code==="IntlYen"&&i.shiftKey===false&&a===220)E.value=String.fromCharCode(165)}else if(E.type===KEYMAP_TYPE_UNICODE_BYTES){var g=String.fromCharCode.apply(null,E.value);E=new KeyMapping(KEYMAP_TYPE_STRING,g)}keyboardLogger.debug("keydown, altgr status "+this.isAltGrOn+" ctrl status "+i.ctrlKey+" alt status "+i.altKey+"keyCode"+a);keyboardLogger.debug("keydown, altgraph status "+i.getModifierState("AltGraph"));keyboardLogger.debug("keydown mapping result: type="+E.type+" value="+E.value);this.handleKeyDown(E,i);this.androidInputing=false;this.setScrollPosition(this.scrollTop);this.lastKeyMapping=E;keyboardLogger.debug("keydown, modifier state is now "+this.modifierKeyState.toString(2))};VirtualScreen.prototype.issueDocumentCommand=function(e){if(e&&typeof e=="string"){var t=e.toLowerCase();if(this.invisibleInput&&document.activeElement.id!=this.invisibleInput.id){this.invisibleInput.focus()}if(COMMON.userAgentInfo.isMobile){if(t=="paste"){this.isPaste=true;const i=new CustomEvent(t,{detail:{},bubbles:false,cancelable:false,composed:false});i.clipboardData={types:t};i.clipboardData.getData=function(){return""};document.dispatchEvent(i)}else{if(t=="copy"){this.isCopy=true}this.setToClipBoard(t)}}if(COMMON.userAgentInfo.isMacBook){if(t=="paste"){this.isPaste=true;this.toPaste(this)}else{if(t=="copy"){this.isCopy=true}this.setToClipBoard(t)}}else{if(t=="copy"){this.isCopy=true}if(t=="copy"||t=="cut"){let e=document.execCommand(t);if(COMMON.userAgentInfo.isFirefox&&!e){this.showCutCopyButton(t)}}else{this.isPaste=true;this.toPaste(this)}}}};VirtualScreen.prototype.toPaste=function(t){try{if(navigator&&navigator.clipboard&&navigator.clipboard.readText){navigator.clipboard.readText().then(e=>{const t=new CustomEvent("paste",{detail:{},bubbles:false,cancelable:false,composed:false});t.clipboardData={types:"paste"};t.clipboardData.getData=function(){return e};document.dispatchEvent(t)})}else{if(COMMON.userAgentInfo.isMacBook&&COMMON.userAgentInfo.isSafari){document.execCommand("paste")}else{t.promptPasteMsg()}}}catch(e){if(COMMON.userAgentInfo.isMacBook&&COMMON.userAgentInfo.isSafari){document.execCommand("paste")}else{t.promptPasteMsg()}}};VirtualScreen.prototype.promptPasteMsg=function(){var e=this.invisibleInput.id+"-paste-prompt-dialogBox";if(document.getElementById(e)){document.getElementById(e).style.display="block";document.getElementById(e).style="left: 20%; top: 30%; position: absolute;z-index: 100"}else{var t=document.createElement("div");t.id=e;t.style="left: 20%; top: 30%; position: absolute;z-index: 100";t.style.display="block";t.draggable=true;var i=document.createElement("div");i.style="background: #909;color:#FFFFFF; padding: 4px 8px 4px 4px;cursor: default;font-family: Arial Unicode MS, Arial, sans-serif;font-weight: bold;border-bottom: 1px solid #bbbbbb;border-top: 1px solid #D2D2D2;";i.innerHTML="Paste";var n=document.createElement("table");n.style="background: #FFFFFF;border-radius: 5px;";var r=document.createElement("tr");var l=document.createElement("td");l.appendChild(i);r.appendChild(l);n.appendChild(r);var a=document.createElement("textarea");var c="CTRL+V";if(COMMON.userAgentInfo.isMacBook){c="COMMAND+V"}a.innerHTML="To paste the content, use "+c+"...";a.cols="45";a.rows="13";a.readOnly=true;var u=document.createElement("tr");var h=document.createElement("td");h.appendChild(a);u.appendChild(h);n.appendChild(u);t.appendChild(n);this.parentDiv.appendChild(t);const d=document.getElementById(e);let s,o;d.addEventListener("dragstart",function(e){s=e.clientX-d.offsetLeft;o=e.clientY-d.offsetTop;e.target.style.opacity=.5});d.addEventListener("dragover",function(e){e.stopPropagation()});d.addEventListener("dragend",e=>{var t=e.clientX-s;var i=e.clientY-o;var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(t<0){t=0}else if(t+d.offsetWidth>n){t=n-d.offsetWidth}if(i<0){i=0}else if(i+d.offsetHeight>r){i=r-d.offsetHeight}d.style.left=t+"px";d.style.top=i+"px";e.target.style.opacity="";this.invisibleInput.focus()})}};VirtualScreen.prototype.setToClipBoard=function(e){try{const t=this.invisibleInput;let i=this.copy(false,true);i=this.convertText(i);if(this.isAppend){let e=window["RTE_BZW_CLIPBOARD"]||"";let t="";if(this.selectionStartColumn==null&&this.selectionEndColumn==null&&this.rendererSettings.copyFullPage4Unselect){t=this.getScreenContents(0,this.width,0,this.height,false,true)}else{t=i||""}if(e){i=e+"\r\n"+t}}else if(this.isCopy){if(this.selectionStartColumn==null&&this.selectionEndColumn==null&&this.rendererSettings.copyFullPage4Unselect){i=this.getScreenContents(0,this.width,0,this.height,false,true)}}if(i!=null){t.value=i;t.readOnly=false;const n=document.createRange();n.selectNodeContents(t);const r=window.getSelection();r.removeAllRanges();r.addRange(n);t.setSelectionRange(0,999999);document.execCommand(e);if(COMMON.userAgentInfo.isMobile){t.readOnly=true}}}catch(e){keyboardLogger.debug("cut/copy exception:"+e)}};VirtualScreen.prototype.handleKeyCode=function(e){superAlert("handleKeyCode")};VirtualScreen.prototype.handleKeyPress=function(e){var t=e.keyCode;var i=e.key?e.key:e.keyIdentifier;var n=e.charCode;this.handleCharCodeInput(n)};VirtualScreen.prototype.handleInput=function(e){var t=e.charCodeAt(0);this.handleCharCodeInput(t)};VirtualScreen.prototype.handleCharCodeInput=function(e){superAlert("handleCharCodeInput")};VirtualScreen.prototype.convertText=function(e){if(!this.copyTextAsTab||e==null)return e;let t=e.trim().replace(/ {2,}/g,"\t");t=t.replace(/ ([\+\-\.\d])/g,"\t$1");return t};VirtualScreen.prototype.revertText=function(e){if(!this.copyTextAsTab)return e;let t=e.replace(/(\r\n|\n|\r)/g,"\r").replace(/\t/g," ");return t};VirtualScreen.prototype.autoType=function(e,t){superAlert("autoType")};function pauseEvent(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();e.cancelBubble=true;e.returnValue=false;return false}VirtualScreen.prototype.handleMouseMove=function(e){if(this.isLightChoosedField){this.handleMouseMoveNext(e);return}if(this.selectionDragStatus==1){keyboardLogger.debug("drag moving");this.selectionDragStatus=2;return}if(this.selectionSelecteStatus==1){keyboardLogger.debug("select moving");this.selectionSelecteStatus=2;pauseEvent(e);return}if(!this.selectionMouseIsDown||!this.renderer){return}if(this.selectionSelecteStatus==2){var t=this.renderer.getRowColumn(e.offsetX,e.offsetY);if(t.columns+1<=this.width){this.selectionEndColumn=t.columns+1}if(t.rows+1<=this.height){this.selectionEndRow=t.rows+1;if(this.singleLineSelected){if(this.selectionStartRow+1<this.selectionEndRow){this.selectionEndRow=this.selectionStartRow+1}else if(this.selectionStartRow-1<this.selectionEndRow){this.selectionStartRow=this.selectionEndRow-1}}}this.renderer.paintUpperCanvas();pauseEvent(e)}};VirtualScreen.prototype.handleMouseMoveNext=function(e){return};VirtualScreen.prototype.handleMouseUp=function(e){keyboardLogger.debug("handleMouseUp:"+e.offsetX);this.selectionMouseIsDown=false;if(this.selectionDragStatus==2){this.selectionDragStatus=3}else if(this.selectionDragStatus==1){this.selectionMouseIsDrag=false}if(this.selectionSelecteStatus==2){keyboardLogger.debug("select end");this.selectionSelecteStatus=3;pauseEvent(e);if(this.autoCopy){setTimeout(()=>{this.handleFunction("Copy")},100)}}};const DRAG_DELAY_MS=200;VirtualScreen.prototype.clearSelection=function(){this.selectionStartColumn=null;this.selectionStartRow=null;this.selectionEndColumn=null;this.selectionEndRow=null;if(this.renderer){this.renderer.arrowsSelection=false}if(document.getElementById("Cut_Copy_Button")){document.getElementById("Cut_Copy_Button").remove()}selectionPos={}};VirtualScreen.prototype.handleMouseDown=function(e){keyboardLogger.debug("handleMouseDown:"+e.offsetX);clearTimeout(this.dragTimeout);let t=this.renderer.getRowColumn(e.offsetX,e.offsetY);if(this.renderer){this.renderer.arrowsSelection=false}if((this.selectionStartRow<=t.rows&&t.rows<this.selectionEndRow||this.selectionEndRow<=t.rows&&t.rows<this.selectionStartRow)&&(this.selectionStartColumn<=t.columns&&t.columns<this.selectionEndColumn||this.selectionEndColumn<=t.columns&&t.columns<this.selectionStartColumn)){keyboardLogger.debug("drag start"+e.offsetX);this.selectionDragStatus=1}else{keyboardLogger.debug("select start");this.selectionSelecteStatus=1;this.selectionMouseIsDrag=false;var i=this;this.dragTimeout=setTimeout(function(){if(i.selectionMouseIsDown===true){i.selectionMouseIsDrag=true}},DRAG_DELAY_MS);if((e.button==2||e.buttons==2)&&this.contextRightClick||!this.renderer){return}this.selectionMouseIsDown=true;this.selectionStartColumn=t.columns;this.selectionStartRow=t.rows;selectionPos.col=t.columns;selectionPos.row=t.rows;pauseEvent(e)}};VirtualScreen.prototype.handleMouseDrop=function(e){superAlert("handleMouseDrop")};VirtualScreen.prototype.handleMouseDrag=function(e){superAlert("handleMouseDrag")};VirtualScreen.prototype.handleClick=function(e,t,i,n){superAlert("handleClick")};VirtualScreen.prototype.handleTripleClick=function(e,t,i,n){superAlert("handleTripleClick")};VirtualScreen.prototype.handleClickStart=function(e){var t=e.offsetX;var i=e.offsetY;eventLogger.debug("click "+e+", pos=("+t+","+i+")");if(this.selectionMouseIsDrag===false){this.clearSelection();if(this.div){this.div.style.display="none"}if(this.renderer){var n=this.renderer.getRowColumn(t,i);eventLogger.debug("click row,col = "+JSON.stringify(n));if(n!=null){var r=n.rows*this.width+n.columns;if(e.type=="dblclick"){var s;var o=this.keyMapping["dblclick"];if(o&&o!=null){var l=0;if(this.modifierKeyState&(CONTROL_LEFT|CONTROL_RIGHT)){l|=KEYMAP_CTRL}if(this.modifierKeyState&(ALT_LEFT|ALT_RIGHT)){l|=KEYMAP_ALT}if(this.modifierKeyState&(SHIFT_LEFT|SHIFT_RIGHT)){l|=KEYMAP_SHIFT}var a=false;if(this.modifierKeyState==CAPS_LOCK&&a){}else if(l==KEYMAP_SHIFT&&this.modifierKeyState&CAPS_LOCK&&a){}keyboardLogger.debug("keydown modifier="+l);if(l===0){l=KEYMAP_NORMAL}var c=o[l];if(c){s=c}}this.handleDoubleClick(t,i,n,r,s)}else if(e.detail==3){this.handleTripleClick(t,i,n,r)}else{this.handleClick(t,i,n,r)}this.handleKeyboard()}else{eventLogger.warn("rejecting mouse event, type="+e.type+" because rowColumn == null")}}}};VirtualScreen.prototype.handleDoubleClick=function(e){superAlert("handleDoubleClick");eventLogger.debug("dblclick "+e)};VirtualScreen.prototype.handleResizeComplete=function(){superAlert("handleResizeComplete")};VirtualScreen.prototype.handleSData=function(e){let l=this;if(e.s){let s=window.atob(e.s).toLowerCase();let o=s.indexOf("_");if(o!=-1&&o!=s.length-1){let e=function(i){let n="";for(let t=0;t<i.length;t++){let e=i.charAt(t);if(t%4||e=="="){n+=e}}return n};let t=e(s.substring(0,o));let i=e(s.substring(o+1));let n=l.r1m.toLowerCase();let r=l.r2m.toLowerCase();if(t===n||t===r||i===n||i===r){l.connectSeen=true}}}};VirtualScreen.prototype.runAuto=function(e){if(e){if(this.recorder==null){this.recorder=new Recorder(this)}this.recorder.setActions(e);this.recorder.play(0,()=>{},()=>{})}};const RESIZE_COMPLETE_TIMEOUT=200;VirtualScreen.prototype.setupEventHandling=function(){var e=this.selectionCanvas;var h=this.invisibleInput;var d=this.hotspotsDiv;var p=this;e.tabIndex=0;e.contentEditable=true;var t;p.previewCharCode.fill(null);if(COMMON.userAgentInfo.isAndroid&&p.parentDiv&&p.getScrollNode()){p.getScrollNode().addEventListener("scroll",function(e){if(p.androidInputing){p.setScrollPosition(p.scrollTop)}})}document.addEventListener("copy",function(t){if(document.activeElement.id==h.id||document.activeElement.id==d.id){eventLogger.debug("Copy, box region start=("+this.selectionStartColumn+","+this.selectionStartRow+"), end=("+this.selectionEndColumn+","+this.selectionEndRow+")");t.stopPropagation();let e=p.copy(false,true);e=p.convertText(e);if(e!=null){if(f.isAppend){i(t,e)}else{n(t,e)}}else{if(f.isAppend){if(f.selectionStartColumn==null&&f.selectionEndColumn==null&&f.rendererSettings.copyFullPage4Unselect){i(t,e)}}else if(f.isCopy){if(f.selectionStartColumn==null&&f.selectionEndColumn==null&&f.rendererSettings.copyFullPage4Unselect){e=f.getScreenContents(0,f.width,0,f.height,false,true);n(t,e)}}}t.preventDefault();E()}});document.addEventListener("cut",function(t){if(document.activeElement.id==h.id||document.activeElement.id==d.id){eventLogger.debug("cut, box region start=("+this.selectionStartColumn+","+this.selectionStartRow+"), end=("+this.selectionEndColumn+","+this.selectionEndRow+")");t.stopPropagation();let e=p.cut(false,true);e=p.convertText(e);if(e!=null){window["RTE_BZW_CLIPBOARD"]=e;t.clipboardData.setData("text/plain",e)}t.preventDefault();E()}});document.addEventListener("paste",function(t){if(h&&document.activeElement.id==h.id){var e=h.id+"-paste-prompt-dialogBox";if(document.getElementById(e)){document.getElementById(e).style.display="none"}}if((document.activeElement==h||document.activeElement==d||document.activeElement.id=="pasteTextArea")&&(!p.lockedByScripting||f.isPaste)){eventLogger.debug("Paste, box region start=("+this.selectionStartColumn+","+this.selectionStartRow+"), end=("+this.selectionEndColumn+","+this.selectionEndRow+")");t.stopPropagation();eventLogger.debug("PASTE: Found types: "+JSON.stringify(t.clipboardData.types));let e=t.clipboardData.getData("text/plain");if(COMMON.userAgentInfo.isMobile){e=window["RTE_BZW_CLIPBOARD"]}e=p.revertText(e);if(e){if(f.rendererSettings?.dataSecurity?.globalApply&&f.rendererSettings?.dataSecurity?.maskOption?.copyControl){if(f.is3270||f.is5250){var i=f.cursorPos;f.isPaste=true;var n=e.split("\r\n");for(var r=0;r<n.length;r++){i=f.cursorPos+r*f.width;if(f.is5250){var s=f.getFieldData(i,true);if(s==undefined){continue}}for(var o=0;o<n[r].length;o++){var l=f.screenElements[i+o];if(f.is5250){if(l&&s?.position!=null&&i+o>s.position+1+s.length){l.skipMask=true;continue}}if(l&&l.maskChar!=null){delete l.maskChar}}f.matchRules(n[r],f.screenElements,i)}}else if(f.isVt){var a=new VTLine(e.length);for(var o=0;o<e.length;o++){var c=new BufferElement(32);c.receivedChar=e.charCodeAt(o);a.elements[o]=c}f.matchRules(e,a.elements,0);e=f.getLineString(a)}}var u=p.paste(e);if(u==true){t.preventDefault()}f.isPaste=false}E()}});this.parentDiv.addEventListener("click",function(e){h.focus()});var f=this;if((navigator.appName=="Firefox"||navigator.appName=="Netscape")&&parseInt(navigator.appVersion,10)<52){h.addEventListener("blur",function(e){if(p.resizing){return}p.setScrollValue();f.modifierKeyState&=CAPS_LOCK;if(f.renderer){f.renderer.hasFocus=false;eventLogger.info("Terminal focus lost");f.renderer.paintUpperCanvas()}p.blur()});h.addEventListener("focus",function(e){if(h.readOnly&&(f.rendererSettings.autoSysKeyboard&&f.rendererSettings.showSysKeyboard)&&this.selectionEndColumn==null){h.blur()}if(f.renderer){f.renderer.hasFocus=true;eventLogger.info("Terminal gained focus");f.renderer.paintUpperCanvas()}if(p.rendererSettings&&!p.rendererSettings.rteControlSysKeyboard){p.setScrollPosition()}})}else{h.addEventListener("focusout",function(e){f.modifierKeyState&=CAPS_LOCK;if(f.renderer){f.renderer.hasFocus=false;eventLogger.info("Terminal focus lost");f.renderer.paintUpperCanvas()}p.blur()});h.addEventListener("focusin",function(e){if(f.renderer){f.renderer.hasFocus=true;eventLogger.info("Terminal gained focus");f.renderer.paintUpperCanvas()}})}if(!COMMON.userAgentInfo.isAndroid){h.addEventListener("compositionupdate",function(e){eventLogger.debug("Compositionupdate: data="+e.data);p.inComposition=true;t=e.data;p.previewCharCode.fill(null);p.compositionString=t;p.updatePreview()});h.addEventListener("compositionend",function(e){eventLogger.debug("Compositionend seen");eventLogger.debug("Compositionend: "+JSON.stringify(e)+", data="+e.data);p.inComposition=false;p.previewCharCode.fill(null);if(t){if(p.oiaProgramMessage===X_HOST_PROCESSING||p.lockedByScripting){tecoreLogger.debug("Put IME string in Type Ahead queue");let e={};e.type="IME";e.compositionString=t;if(p.typeAheadQueue.length){if(p.typeAheadQueue[p.typeAheadQueue.length-1].type=="KEYDOWN"){p.typeAheadQueue.pop()}}p.typeAheadQueue.push(e);p.compositionString=null;p.renderer.fullPaint()}else{p.autoType(t)}}h.value="";h.style.top="0px";h.style.left="0px";p.compositionString=null})}h.addEventListener("unload",function(e){p.closeConnection()});h.addEventListener("dragstart",function(e){keyboardLogger.debug("dragstart event");const t=p.copy(false,true);e.dataTransfer.setData("text/plain",t);E()});h.addEventListener("dragover",function(e){var t=this.id+"-paste-prompt-dialogBox";if(document.getElementById(t)?.style.display=="block"||document.getElementById(t)?.style.display==""){return}p.handleMouseDrag(e)});h.addEventListener("drop",function(e){keyboardLogger.debug("drop event");p.handleMouseDrop(e)});let E=function(){p.selectionMouseIsDrag=false;let e=p.invisibleInput;e.value="";e.selectionEnd=0;e.selectionStart=0;p.clearSelection();if(p.renderer){p.renderer.paintUpperCanvas()}};let i=function(e,t){let i=window["RTE_BZW_CLIPBOARD"]||"";let n="";if(f.selectionStartColumn==null&&f.selectionEndColumn==null){n=f.getScreenContents(0,f.width,0,f.height,false,true)}else{n=t}if(i){t=i+"\r\n"+n}else if(t==null&&n){t=n}f.isAppend=false;window["RTE_BZW_CLIPBOARD"]=t;e.clipboardData.setData("text/plain",t)};let n=function(e,t){window["RTE_BZW_CLIPBOARD"]=t;e.clipboardData.setData("text/plain",t);f.isCopy=false};let o=null;let l=null;function a(e){return e.touches||e.originalEvent.touches}h.addEventListener("touchstart",function(e){const t=a(e)[0];o=t.clientX;l=t.clientY},false);h.addEventListener("touchmove",function(e){if(!o||!l){return}const t=a(e)[0];const i=t.clientX;const n=t.clientY;const r=o-i;const s=l-n;if(Math.abs(r)>Math.abs(s)){if(r>0){console.log("right swipe")}else{console.log("left swipe")}}else{if(s>0){p.callbacks.swipeCallback("up")}else{p.callbacks.swipeCallback("down")}}o=null;l=null},false);h.addEventListener("wheel",function(e){eventLogger.debug("wheel event:"+JSON.stringify(e));if(p.lockedByScripting){eventLogger.debug("Script in progress: rejecting keydown");e.stopPropagation();e.preventDefault()}else{p.handleMouseWheel(e)}});h.addEventListener("keydown",function(e){if(e.keyCode===229){if(!p.androidInputing){p.setScrollValue()}return}p.keepSelection=false;if(COMMON.userAgentInfo.isAndroid||!p.inComposition){h.value="";eventLogger.debug("Keydown: "+JSON.stringify(e));p.handleKeyDownStart(e);p.setScrollPosition(p.scrollTop)}});h.addEventListener("keyup",function(e){{if(!p.inComposition){p.handleKeyUp(e);if(!p.keepSelection){if(p.isKeymapStringInput){p.isKeymapStringInput=false;setTimeout(E,500)}else{if(f!=undefined&&f.lastKeyMapping!=undefined&&(f.lastKeyMapping.value.indexOf("<Copy>")>-1||f.lastKeyMapping.value.indexOf("<Cut>")>-1)){return}if(COMMON.userAgentInfo.isFirefox&&(f?.lastKeyMapping?.value==="Copy"||f?.lastKeyMapping?.value==="Cut")){if(!document.execCommand("copy"))return}E()}}}}});h.addEventListener("keypress",function(e){if(p.lockedByScripting&&p.sessionType=="VT"){eventLogger.debug("Script in progress: rejecting keypress");e.stopPropagation();e.preventDefault()}else if(p.lockedByError){eventLogger.debug("Screen locked by error occurrence");e.stopPropagation();e.preventDefault()}else if(!p.inComposition){h.value="";eventLogger.debug("Keypress: "+JSON.stringify(e));p.handleKeyDownStart(e);if(COMMON.userAgentInfo.isMacBook&&COMMON.userAgentInfo.isSafari&&(e.key=="v"&&e.keyCode==118||e.key=="c"&&e.keyCode==99||e.key=="x"&&e.keyCode==120)){return}e.stopPropagation();e.preventDefault()}});if(COMMON.userAgentInfo.isIOS||COMMON.userAgentInfo.isAndroid){h.addEventListener("input",function(e){eventLogger.debug("Input event seen. value="+h.value+", textContent="+h.textContent);if(COMMON.userAgentInfo.isAndroid&&!p.androidInputing){p.androidInputing=true;const n=e.data.slice(-1);p.callbacks.keyPress(n);return}if(p.lockedByScripting){eventLogger.debug("Script in progress: rejecting input")}else if(p.lockedByError){eventLogger.debug("Screen locked by error occurrence: rejecting input")}else{E();var t=h.value;if(t){h.value="";eventLogger.debug("Input was "+t);eventLogger.debug("Textcontent is now "+h.value);for(var i=0;i<t.length;i++){p.handleInput(t.charAt(i))}}eventLogger.debug("Empty input event ignored.")}})}h.addEventListener("mouseup",function(e){if(p.lockedByScripting){eventLogger.debug("Script in progress: rejecting mouseup")}else{eventLogger.debug("mouse event "+e+" target="+e.target);p.focus(e);p.handleMouseUp(e)}});h.addEventListener("mousedown",function(e){if(p.lockedByScripting){eventLogger.debug("Script in progress: rejecting mousedown")}else{eventLogger.debug("mouse event "+e+" target="+e.target);p.focus(e);p.handleMouseDown(e)}});h.addEventListener("mouseenter",function(e){eventLogger.log(eventLogger.FINER,"mouse event "+e+" target="+e.target);let t=p.invisibleInput;if(!p.inComposition&&t&&t.value.length>0){t.value="";t.selectionEnd=0;t.selectionStart=0}});h.addEventListener("mousemove",function(e){if(p.lockedByScripting){}else{p.focus(e);p.handleMouseMove(e)}p.mouseX=e.clientX;p.mouseY=e.clientY});e.addEventListener("click",function(e){if(p.lockedByScripting){eventLogger.debug("Script in progress: rejecting click");e.stopPropagation()}else{e.stopPropagation();eventLogger.debug("click event "+e+" target="+e.target);p.focus(e);p.handleClickStart(e)}});h.addEventListener("click",function(e){if(COMMON.userAgentInfo.isAndroid){p.setScrollValue();p.androidInputing=true}if(p.lockedByScripting){eventLogger.warn("Script in progress: rejecting click");e.stopPropagation()}else{eventLogger.debug("click event "+e+" target="+e.target);p.focus(e);p.handleClickStart(e)}if(COMMON.userAgentInfo.isAndroid){setTimeout(()=>{p.androidInputing=false;p.setScrollPosition(p.scrollTop)},100)}});h.addEventListener("dblclick",function(e){if(p.lockedByScripting){eventLogger.warn("Script in progress: rejecting dblclick");e.stopPropagation()}else if(p.lockedByError){eventLogger.warn("Screen locked by error occurrence: rejecting dblclick");e.stopPropagation()}else{e.stopPropagation();eventLogger.debug("dblclick event "+e+" target="+e.target);if(p.selectionMouseIsDrag===true){eventLogger.debug("dblclick set drag to false");p.selectionMouseIsDrag=false;clearTimeout(p.dragTimeout)}p.focus(e);p.handleClickStart(e)}});h.addEventListener("contextmenu",function(e){p.selectionMouseIsDrag=false;p.selectionMouseIsDown=false;if(p.contextRightClick&&e.shiftKey||!p.contextRightClick&&!e.shiftKey){if(p.lockedByScripting){eventLogger.debug("Script in progress: rejecting contextmenu");e.stopPropagation()}else{eventLogger.debug("mouse event "+e+" target="+e.target);p.focus(e);p.handleContextMenu(e)}}else if(p.selectionStartColumn!=null&&p.selectionEndColumn!=null){let e=p.invisibleInput;if(e){if(e.value.length==0){e.value="c"}e.select()}}else{let e=p.invisibleInput;if(e){e.value=""}}})};VirtualScreen.prototype.beep=function(){if(this.hostBell.enable&&!this.hostBell.started){this.hostBell.started=true;let e=this.hostBell.ctx.createOscillator();e.type="sine";e.frequency.value=this.hostBell.frequency;e.connect(this.hostBell.ctx.destination);e.start();let t=this;setTimeout(function(){e.stop();e.disconnect(t.hostBell.ctx.destination);t.hostBell.started=false},this.hostBell.duration)}};VirtualScreen.prototype.copyAppend=function(){this.isAppend=true;if(COMMON.userAgentInfo.isMobile){this.setToClipBoard("copy")}else{if(this.invisibleInput&&document.activeElement.id!=this.invisibleInput.id)this.invisibleInput.focus();var e=document.execCommand("copy");if(!e){this.setToClipBoard("copy")}}};VirtualScreen.prototype.blur=function(e){const t=this.rendererSettings||{};if(t.rteControlSysKeyboard||t.autoSysKeyboard&&t.showSysKeyboard&&this.selectionEndColumn==null){this.invisibleInput.readOnly=true;this.invisibleInput.blur();this.callbacks.keyboardCallback()}if(t.autoSysKeyboard&&this.selectionEndColumn==null){this.hideKeyboard()}this.renderer.hasFocus=e};VirtualScreen.prototype.focus=function(e){if(this.rendererSettings&&this.rendererSettings.rteControlSysKeyboard){return}e.target.focus()};VirtualScreen.prototype.handleKeyboard=function(){if(!this.rendererSettings||!this.rendererSettings.autoSysKeyboard)return;if(this.isEditablePosition()){this.showKeyboard()}else{this.hideKeyboard()}};VirtualScreen.prototype.isEditablePosition=function(e){return false};VirtualScreen.prototype.showKeyboard=function(){if(!COMMON.userAgentInfo.isMobile||!this.rendererSettings.autoSysKeyboard)return;if(this.enableKeyboard){return}if(!this.rendererSettings.showSysKeyboard){this.callbacks.autoKeyboardCallback(true);return}const e=()=>{this.renderer.hasFocus=true;this.invisibleInput.focus()};this.invisibleInput.blur();this.invisibleInput.readOnly=false;e();setTimeout(()=>{e();this.enableKeyboard=true;this.callbacks.autoKeyboardCallback(true);this.updateScrollBar(this)})};VirtualScreen.prototype.hideKeyboard=function(){if(!COMMON.userAgentInfo.isMobile||!this.rendererSettings.autoSysKeyboard)return;this.enableKeyboard=false;if(!this.rendererSettings.showSysKeyboard){this.callbacks.autoKeyboardCallback(false);return}this.invisibleInput.readOnly=true;this.invisibleInput.blur();this.renderer.hasFocus=true;this.callbacks.autoKeyboardCallback(false);this.updateScrollBar(this)};VirtualScreen.prototype.toString=function(){return"<VirtualScreen size="+this.size+">"};VirtualScreen.prototype.showOIA=function(){return true};var makeCanvas=function(e,t,i,n,r){tecoreLogger.debug("make canvas "+e+" parentDiv="+t);var s=document.createElement("canvas");s.id=e;s.style.zIndex=r;s.style.position="absolute";s.style.left="0px";s.style.top="0px";var o=i;var l=n;s.width=o;s.height=l;s.innerHTML="If you see this message, rather than a real drawing canvas, please upgrade to FireFox 1.5, Safari, or some other modern browser";t.appendChild(s);return s};VirtualScreen.prototype.processMessage=function(e){superAlert("processMessage")};VirtualScreen.prototype.getPos=function(){superAlert("getPos")};VirtualScreen.prototype.getScriptRowColumnFromScriptPosition=function(e){var t=Math.floor(e/(this.width+1))+1;var i=Math.floor((e-1)%this.width)+1;return{row:t,column:i}};VirtualScreen.prototype.getScriptPositionFromScriptRowColumn=function(e,t){return this.width*(e-1)+t};VirtualScreen.prototype.getRowColumnFromScriptPosition=function(e){var t=Math.floor(e/(this.width+1));var i=Math.floor((e-1)%this.width);return{row:t,column:i}};VirtualScreen.prototype.getPositionFromScriptRowColumn=function(e,t){return this.width*(e-1)+(t-1)};VirtualScreen.prototype.getScriptRowColumnFromPosition=function(e){var t=Math.floor(e/this.width)+1;var i=Math.floor(e%this.width)+1;return{row:t,column:i}};VirtualScreen.prototype.getScriptPositionFromRowColumn=function(e,t){return this.width*e+(t+1)};VirtualScreen.prototype.getRowColumnFromPosition=function(e){var t=Math.floor(e/this.width);var i=Math.floor(e%this.width);return{row:t,column:i}};VirtualScreen.prototype.getPositionFromRowColumn=function(e,t){return this.width*e+t};VirtualScreen.prototype.highLightField=function(){superAlert("highligh tField Border")};VirtualScreen.prototype.showFieldBorder=function(){superAlert("highligh tField Border")};VirtualScreen.prototype.highLightFocusField=function(){superAlert("highligh the editable field in current line")};var genPT=function(e,t){let s=Math;let i=1427769046;let n=GOCA_D;let r=GOCA_B;let o=s.ceil(i/n)*n;let l=s.floor(i/n)*n;if(o==l){o=s.ceil((i+n/10)/n)*n}let a=e.host+":"+e.port+":"+r+o;let c=e.host+":"+e.port+":"+r+l;t.k1=a;t.k2=c;let u=getStringForK(a);let h=getStringForK(c);t.r1m=u;t.r2m=h;let d=function(t){let i=t.length;let n="";let r="";for(let e=0;e<i;e++){if(!(n.length%4)&&r!="="){n+=SESSION_NAME_ALPHABET[s.floor(s.random()*26)]}r=s.random()>.5?t.charAt(e).toLowerCase():t.charAt(e).toUpperCase();n+=r}return n};return window.btoa(d(u)+"_"+d(h))};var getStringForK=function(e){let n=window.btoa(e);let t=n.length;let r=e.substring(e.length-6);let s=0;let o=-1;let l=binToB64.length;let a=""+t;let c=[];for(let e=0;e<t;e++){c.push(n.charCodeAt(e))}for(let e=0;e<a.length;e++){o++;let t=n.charCodeAt(o);let i=0;for(let e=0;e<l;e++){if(t===binToB64[e]){i=e;break}}c[o]=binToB64[(i+a.charCodeAt(e))%l];o++}for(let e=0;e<6;e++){s++;let t=n.charCodeAt(s);let i=0;for(let e=0;e<l;e++){if(t===binToB64[e]){i=e;break}}c[s]=binToB64[(i+r[e])%l];s++}return String.fromCharCode.apply(null,c)};VirtualScreen.prototype.setupDefaultCallbacks=function(){if(!this.callbacks){this.callbacks={}}if(!this.callbacks.passwordPrompt){this.callbacks.passwordPrompt=function(t){setTimeout(function(){let e=prompt("Script paused for password input. Enter password.");t(e)},100)}}};VirtualScreen.prototype.handleStringInputTimed=function(n,t,i){if(this.oiaProgramMessage===X_HOST_PROCESSING||this.lockedByScripting){if(n.length>2){let e=n.substring(1,n.length-1);let t=[...this.inputProhibitExclusion];let i=t.indexOf("Help");if(i!=-1)t.splice(i,1);if(this.inputProhibitExclusion&&t.includes(e)){this.handleFunction(e);this.invisibleInput.focus();this.renderer.hasFocus=true;return}}tecoreLogger.debug("Put String in Type Ahead queue");let e={};e.type="STRING";e.value=n;e.timing=t;e.checkIntercept=i;this.typeAheadQueue.push(e);this.invisibleInput.focus();this.renderer.hasFocus=true;return}var e=new RegExp("[<]");var r=n;var s=-1;var o=["automationObject.connect();\n"];var l=new ScriptManager;while(true){var r=n.substring(++s);tecoreLogger.debug("Searching current string "+r);var a=r.search(e);if(a!=-1){tecoreLogger.debug("Index of match is "+a);var c=r.substring(0,a);tecoreLogger.debug("Autotyping text found before match: "+c);if(c.length>0){if(c.includes("'")){c=c.replace(/'/g,"\\'")}o.push("yield automationObject.autoTypeJS('"+c+"');\n");if(isApiApplicable&&isApiApplicable("waitForString",this,false)){o.push("yield *automationObject.waitForString('"+c+"',100);\n")}}var u=r.indexOf(">",a+2);tecoreLogger.debug("First match was <, checking for >. Next index is: "+u);if(u==-1){tecoreLogger.warn("Cannot handle bracket (no closing bracket found) in "+r);return false}var h=r.substring(a+1,u);tecoreLogger.debug("Found function: "+h);if(h==undefined){tecoreLogger.warn("Cannot handle bracket (no mapping found) in "+r);return false}if(h.length>0){if(i&&apiAgent&&apiAgent.isInterceptEnabled&&(TN3270_AID_KEY_MAP[h]||TN5250_AID_KEY_MAP[h]||this.ANSICommandMap&&this.ANSICommandMap[h])){apiAgent.handleFunctionIntercept(h);return false}else if(i&&(this.sessionType=="3270"&&(TN3270_AID_KEY_MAP[h]||CURSOR_KEY_ARRAY.includes(h))||this.sessionType=="5250"&&(TN5250_AID_KEY_MAP[h]||CURSOR_KEY_ARRAY.includes(h)||TN5250_FIELD_KEY_MAP.includes(h))||this.sessionType=="VT"&&(this.ANSICommandMap&&this.ANSICommandMap[h]))){this.handleFunction(h);this.invisibleInput.focus();this.renderer.hasFocus=true;return false}else{o.push("yield automationObject.sendFunction('"+h+"');\n");if(isApiApplicable&&isApiApplicable("waitForString",this,false)){o.push("yield *automationObject.waitForString('"+h+"',100);\n")}}}s+=u;tecoreLogger.debug("handle string input last index now "+s)}else{var d=n.substring(s);if(d.includes("'")){d=d.replace(/'/g,"\\'")}if(d===undefined||d===""){break}else{tecoreLogger.debug("Pattern not found. Autotyping remaining string content: "+d);o.push("yield automationObject.autoTypeJS('"+d+"');\n");if(isApiApplicable&&isApiApplicable("waitForString",this,false)){o.push("yield *automationObject.waitForString('"+d+"',100);\n")}break}}}var p=l.create("js","s1",o.join(" "),null);p.compile();var f=this.callbacks.getScreens();var E=new ScriptExecutionContext(f,p,0,this.sessionShortName);E.runTillWaitOrComplete();this.invisibleInput.focus();this.renderer.hasFocus=true};VirtualScreen.prototype.handleStringInput=function(t,e){var i=new RegExp("[<]");const n=RegExp("<[^<>]+>");var r=t;var s=-1;var o=["automationObject.connect();\n"];var l=new ScriptManager;while(true){var r=t.substring(++s);tecoreLogger.debug("Searching current string "+r);var a=r.search(i);if(a!=-1&&n.test(t)){tecoreLogger.debug("Index of match is "+a);var c=r.substring(0,a);tecoreLogger.debug("Autotyping text found before match: "+c);if(this.recorder){this.recorder.bufferChar(c)}if(c&&c.length>0){if(c.includes("'")){c=c.replace(/'/g,"\\'")}}o.push("yield automationObject.autoTypeJS('"+c+"');\n");if(c===undefined){return false}var u=r.indexOf(">",a+2);tecoreLogger.debug("First match was <, checking for >. Next index is: "+u);if(u==-1){tecoreLogger.warn("Cannot handle bracket (no closing bracket found) in "+r);return false}var h=r.substring(a+1,u);tecoreLogger.debug("Found function: "+h);if(h==undefined){tecoreLogger.warn("Cannot handle bracket (no mapping found) in "+r);return false}if(e&&(this.sessionType=="3270"&&(TN3270_AID_KEY_MAP[h]||CURSOR_KEY_ARRAY.includes(h))||this.sessionType=="5250"&&(TN5250_AID_KEY_MAP[h]||CURSOR_KEY_ARRAY.includes(h)||TN5250_FIELD_KEY_MAP.includes(h))||this.sessionType=="VT"&&(this.ANSICommandMap&&this.ANSICommandMap[h]))){this.handleFunction(h);this.invisibleInput.focus();this.renderer.hasFocus=true;return false}else{o.push("yield automationObject.sendFunction('"+h+"');\n")}s+=u;tecoreLogger.debug("handle string input last index now "+s)}else{var d=t.substring(s);if(d){if(d.includes("\\")){d=d.replace(/\\/g,"\\\\")}if(d.includes('"')){d=d.replace(/"/g,'\\"')}if(d.includes("'")){d=d.replace(/'/g,"\\'")}}if(d===undefined||d===""){break}else{if(this.recorder){this.recorder.bufferChar(d)}tecoreLogger.debug("Pattern not found. Autotyping remaining string content: "+d);o.push("yield automationObject.autoTypeJS('"+d+"');\n");break}}}if(this.sessionType=="3270"||this.sessionType=="5250"){const T=o.findIndex(e=>e.includes("automationObject.sendFunction"))>-1;if(!T){for(let e of t){this.syncInsertChar(e)}return}}var p=l.create("js","s1",o.join(" "),null);p.compile();var f=this.callbacks.getScreens();var E=new ScriptExecutionContext(f,p,0,this.sessionShortName);E.runTillWaitOrComplete();this.invisibleInput.focus();this.renderer.hasFocus=true};VirtualScreen.prototype.syncInsertChar=function(e){console.log("Overwrite this function in VirtualBlockScreen");return};function TelnetParser(e,t){this.state=null;this.screen=e;this.telnetResponse=null;this.telnetVerb=null;this.subBytes=null;this.jsonResponseType=t}TelnetParser.prototype.sendTelnetResponse=function(e,t){if(this.jsonResponseType){if(this.telnetResponse.length>0){var i=utf8ArrayToB64(this.telnetResponse);var n={t:this.jsonResponseType,data:i};messageLogger.debug("sending telnet options, dump follows");hexDump(this.telnetResponse,messageLogger);tracer.logSentData(this.telnetResponse,this.screen);if(this.screen.webSocket!=null){this.screen.webSocket.send(JSON.stringify(n));if(e){e("send",t)}}this.telnetResponse=[]}}};VirtualScreen.prototype.findHotSpotFunction=function(e,t){if(e.target.hotspotType)return-1;for(var i=0;i<t.length;i++){if(t[i].textToMatch===e.target.value&&t[i].actionType!=="KEYMAP_TYPE_SCRIPT"){return i}}return-1};VirtualScreen.prototype.handleHotspotClick=function(i,r){if((this.oiaProgramMessage===X_HOST_PROCESSING||this.lockedByScripting)&&this.sessionType!="VT"){let e=this.findHotSpotFunction(i,r);if(e>=0){let n=r[e].actionValue;if(n.length>2){let e=n.substring(1,n.length-1);let t=[...this.inputProhibitExclusion];let i=t.indexOf("Help");if(i!=-1)t.splice(i,1);if(this.inputProhibitExclusion&&t.includes(e)){this.handleFunction(e);this.invisibleInput.focus();this.renderer.hasFocus=true;return}}}tecoreLogger.debug("Put HotSpot action in Type Ahead queue");let t={};t.type="HOTSPOT";t.mouseEvent=i;this.typeAheadQueue.push(t);this.invisibleInput.focus();this.renderer.hasFocus=true;return}eventLogger.debug("Hotspot button click event");var e=new ScriptManager;if(i.target.hotspotType){if(i.target.hotspotType==="KEYMAP_TYPE_HTTPURL"){this.handleHTTPHostSpont(i.target.value)}}else{for(var t=0;t<r.length;t++){var n=r[t].textToMatch;var s=r[t].actionType;var o=r[t].actionValue;var l=!!r[t].customized&&r[t].shared?.actionValue!=o;if(n===i.target.value){if(s==="KEYMAP_TYPE_SCRIPT"){if(this.callbacks&&this.callbacks.scriptCallback){this.callbacks.scriptCallback(s,o,true,l)}}else{this.handleStringInput(o,s==="KEYMAP_TYPE_3270FUNCTION"||s==="KEYMAP_TYPE_VTFUNCTION"||s==="KEYMAP_TYPE_5250FUNCTION")}}}}this.invisibleInput.focus();this.renderer.hasFocus=true};VirtualScreen.prototype.getAutomationObject=function(){let e=new AutomationObject;e.connect(this);return e};VirtualScreen.prototype.handleHTTPHostSpont=function(e){eventLogger.debug("Open HTTP URL");try{if(e){window.open(e,"_blank","noreferrer,noopener")}}catch(e){alert("Unable to open a window with invalid URL")}};VirtualScreen.prototype.find2Masking=function(e){superAlert("find2Masking")};VirtualScreen.prototype.matchRules=function(e,t,n){var r=new Array;if(this.rendererSettings.dataSecurity.panOption.isApply){var s=this.isAllowMaskPan4Screen();if(s){var o=/[1-9]\d+-\d+-\d+-\d+[-]{0,1}\d*/g;var l=/[1-9]\d+-\d+-\d+/g;var a=/[1-9]\d{13,}/g;var c=-1;if(e.search(o)>=0){c=e.search(o)}else if(e.search(l)>=0){c=e.search(l)}else if(e.search(a)>=0){c=e.search(a)}if(c>=0){while(substr=o.exec(e)||l.exec(e)||a.exec(e)){if(substr[0]!==undefined&&substr[0].replaceAll("-","").length<14){continue}if(substr[0]!==undefined&&substr[0].replaceAll("-","").length>19){continue}c=substr["index"];if(substr!=null&&this.rendererSettings.dataSecurity.panOption.displayRule==0){this.maskingDataElements(n+c,substr,6,false,t)}else if(substr!=null&&this.rendererSettings.dataSecurity.panOption.displayRule==1){this.maskingDataElements(n+c,substr,0,true,t)}else if(substr!=null&&this.rendererSettings.dataSecurity.panOption.displayRule==2){this.maskingDataElements(n+c,substr,4,false,t)}else if(substr!=null&&this.rendererSettings.dataSecurity.panOption.displayRule==3){this.maskingDataElements(n+c,substr,0,false,t)}r.push({startIndex:c,endIndex:c+substr[0].length})}}}}if(this.rendererSettings.dataSecurity.cusOption.isApply){var u=this.rendererSettings.dataSecurity.cusOption.rules.length;for(var h=0;h<u;h++){var d=this.isAllowCustRule4Screen(this.rendererSettings.dataSecurity.cusOption.rules[h].ruleName);if(!d){continue}var p=this.rendererSettings.dataSecurity.cusOption.rules[h].ruleDetail;var p=p.replace(/#/g,"[0-9]");p=p.replace(/@/g,"[a-zA-Z]{1}");p=p.replace(/\?/g,"[\\S|\\s]{1}");var f=p.substr(p.length-1)=="*";if(f){if(this.isVt&&this.rendererSettings.sessionProperties?.sessionAliasType!="VTlinux"){p=p.replace(/\*/g,"[\\S]*[\\s]{0,1}")}else{var E=p.substr(0,p.length-1).replace(/\*/g,"[\\S]*[\\s]{0,1}");var T=p.substr(p.length-1).replace(/\*/g,"[\\S\\s]*");p=E+T}}else{p=p.replace(/\*/g,"[\\S\\s]*")}p=p.replace(/\//g,"/");p=p.replace(/\(/g,"[(]");p=p.replace(/\)/g,"[)]");p=p.replace(/ /g,"[\\s]");p=p.replace(/\./g,"[.]");var _=p;var g=new RegExp(_,"g");while(substr=g.exec(e)){var c=substr["index"];var S=false;var C=substr[0].length;if(c>=e.length||C==0){break}for(i=0;i<r.length;i++){var R=r[i];if(c>=R.startIndex&&c<R.endIndex){S=true;break}if(c+(C-1)>=R.startIndex&&c+(C-1)<=R.endIndex){S=true;break}if(c<=R.startIndex&&c+(C-1)>=R.endIndex){substr[0]=e.substr(c,R.startIndex-c);break}}if(S){continue}var f=p.substr(p.length-1)=="*";this.maskingDataElements(n+c,substr,-1,false,t,true,f);r.push({startIndex:c,endIndex:c+substr[0].length})}}}};VirtualScreen.prototype.maskingDataElements=function(e,t,i,n,r,s,o){var l=0;var a=i;for(var c=e;c<e+t["0"].length;c++){if(o){if(!this.isVt&&r[c]?.fieldData){t["0"]=t["0"].substr(0,c-e);break}}if(r[c]==undefined){continue}if(a!=undefined&&a<=0&&t[0].substring(l,l+1)!="-"||s){if(this.is5250&&r[c].skipMask){delete r[c].skipMask;continue}if(this.rendererSettings.dataSecurity.maskOption.maskChar=="*"){r[c].maskChar=this.isVt?42:92}else if(this.rendererSettings.dataSecurity.maskOption.maskChar=="#"){r[c].maskChar=this.isVt?35:123}else{r[c].maskChar=this.isVt?88:231}}else{if(t[0].substring(l,l+1)!="-"||s)a--}if(i==6&&t["0"].replaceAll("-","").length<=16||n){if(c>=e+t["0"].length-4){r[c].maskChar=null}}else if(i==6&&t["0"].replaceAll("-","").length==17){if(c>=e+t["0"].length-5){r[c].maskChar=null}}else if(i==6&&t["0"].replaceAll("-","").length==18){if(c>=e+t["0"].length-6){r[c].maskChar=null}}else if(i==6&&t["0"].replaceAll("-","").length==19){if(c>=e+t["0"].length-7){r[c].maskChar=null}}l++}};VirtualScreen.prototype.isAllowMaskPan4Screen=function(){if(this.allowMaskCurrentScreen){return this.allowMaskCurrentScreen.pan}return true};VirtualScreen.prototype.isAllowCustRule4Screen=function(e){if(this.allowMaskCurrentScreen){return this.allowMaskCurrentScreen.cust.includes(e)}return true};VirtualScreen.prototype.allowBackUp=function(e){return e?.backUpEnabled&&e?.backUpList&&Array.isArray(e.backUpList)&&e.backUpList.length>0};VirtualScreen.prototype.alloAutoConect=function(e){return e&&e.autoReconnect};VirtualScreen.prototype.allowBackUpNext=function(e){let t=false;if(this.allowBackUp(e)){if(this.useBackUpIndex+1<this.backUpList.length){t=true}}return t};VirtualScreen.prototype.alloAutoNext=function(e){let t=false;if(e&&e.autoReconnect&&this.retryConnect&&this.retryConnect.maximum){t=this.retryConnect.maximum>=this.retryConnect.counter}return t};VirtualScreen.prototype.allowReConnect=function(t,i){let n=this.alloAutoConect(t);if(this.allowBackUp(t)){let e=this.allowBackUpNext(t);if(n){if(i)this.retryConnect.counter=0;if(e){this.useBackUpIndex++;return true}else{this.useBackUpIndex=0;if(!i){this.retryConnect.counter++}let e=this.alloAutoNext(t);return e}}else{if(e){this.useBackUpIndex++}return e}}else{if(!i){this.retryConnect.counter++}let e=this.alloAutoNext(t);return e}};VirtualScreen.prototype.getBackupHost=function(e){if(this.allowBackUp(e)){if(this.useBackUpIndex<this.backUpList.length){return{host:this.backUpList[this.useBackUpIndex].host,port:this.backUpList[this.useBackUpIndex].port}}}else{return null}};function handleInvalid(e){e.message="Unsupported protocol version";e.paintUpperCanvas()}function RuntimeException(e){this.message=e;this.name="RuntimeException";tecoreLogger.warn("Encountered exception:"+this.name+", msg:"+e)}function Exception(e){this.message=e;this.name="Exception";tecoreLogger.warn("Encountered exception:"+this.name+", msg:"+e)}function TerminalInputException(e){this.message=e;this.name="TerminalInputException";tecoreLogger.warn("Encountered exception:"+this.name+", msg:"+e)}function UnsupportedOperationException(e){this.message=e;this.name="UnsupportedOperationException";tecoreLogger.warn("Encountered exception:"+this.name+", msg:"+e)}VirtualScreen.prototype.showCutCopyButton=function(e){var t=document.createElement("div");t.id="Cut_Copy_Button";t.style.position="absolute";t.style.left=this.mouseX+"px";t.style.top=this.mouseY+"px";var i=document.createElement("input");i.type="button";i.value=e;i.style="text-transform :capitalize; width:4rem; height:2rem;";i.addEventListener("click",()=>{this.invisibleInput.focus();document.execCommand(e);t.remove()});t.append(i);document.body.append(t)};makeSubclass(VirtualBlockScreen,VirtualScreen,[VirtualBlockScreen.handleKeyCode,VirtualBlockScreen.handleKeyDown,VirtualBlockScreen.initScreen,VirtualBlockScreen.getPos]);function FieldData(e){this.position=e}FieldData.prototype.isNoDisplay=function(){console.log("Reached superclass isnodisplay")};function Field(e,t,i){this.fieldData=e;this.start=t;this.end=i}Field.prototype.getSize=function(e){if(this.end>this.start){return this.end-this.start}else{return this.end+(e-this.start)}};Field.prototype.contains=function(e){return this.screenPosition>=start&&this.screenPosition<end};Field.prototype.toString=function(){return"<Field "+this.fieldData+" from "+this.start+" to "+this.end+">"};function CharsetInfo(e,t,i,n,r,s,o,l,a,c,u){this.name=e;this.fontName=t;this.isDBCS=i;this.sbCharacterSet=n;this.sbCodePage=r;this.dbCharacterSet=s;this.dbCodePage=o;this.sbcsMapper=l;this.dbcsMapper=c;this.sbcsEuroPosition=a;this.dbcsEuroPosition=u}CharsetInfo.prototype.toString=function(){return"<CharsetInfo "+this.name+" font="+this.fontName+">"};function ScreenElement(e,t,i){this.position=e;this.ebcdicChar=t;this.fieldData=i;this.isGraphicEscape=false;this.characterAttributes=null;this.isModified=false;this.inputEbcdicChar=-1;this.field=null;this.isHotspot=false;this.isNoDisplay=false;this.maskChar=null}ScreenElement.prototype.match=function(e,t){return this.ebcdicChar===e&&this.isGraphicEscape===t};ScreenElement.prototype.matchAny=function(e,t){var i;for(i=0;i<e.length;i++){var n=e[i];if(this.ebcdicChar===n&&this.isGraphicEscape===t){return true}}return false};ScreenElement.prototype.toString=function(){return"<ScreenElement 0x"+hex(this.ebcdicChar)+(this.isGraphicEscape?"(GRPHC)":"")+" field="+this.fieldData+">"};var blankScreenElement=new ScreenElement(0,64,null);function VirtualBlockScreen(e,t,i,n){this.canvas=e;this.selectionCanvas=t;this.oiaEnabled=1;this.width=i;this.height=n;this.oiaType=OIA_TYPE_ENUM.PCOMM;this.oiaArray=new OIAArray(this);this.size=this.height*this.width;this.previewCharCode=new Array(this.height*this.width);this.renderer=null;this.defaultWidth=DEFAULT_SCREEN_WIDTH;this.defaultHeight=DEFAULT_SCREEN_HEIGHT;this.outgoingMessages=[];this.webSocket=null;this.parentDiv=null;this.div=null;this.modifierKeyState=0;this.selectionStartRow=null;this.selectionStartColumn=null;this.selectionEndRow=null;this.selectionEndColumn=null;this.selectionMouseIsDown=false;this.selectionMouseIsDrag=false;this.selectionColor="rgb(255,255,255)";this.rendererSettings=null;this.keyMapping=keyNameMap;this.recorder=null;this.screenElements=new Array(this.size);this.isFormatted=false;this.fields={};this.clear();this.cursorPos=0;this.bufferPos=0;this.oldCursorPos=0;this.gocaWidth=0;this.gocaHeight=0;this.gocaElements=new Array(0);this.charsetInfo=VirtualBlockScreen.defaultCharsetInfo;tecoreLogger.debug("charsetInfo = "+this.charsetInfo);this.isKeyboardReady=false;this.fieldInfoUpToDate=false;this.undefinedFallbackState=undefinedBlockFallbackState;this.sessionShortName="a";this.sessionLongName="a";this.lastNondisplayFieldPos=-1;this.hexEntryValue=[];this.isHexEntry=false;this.osValue=[];this.isOS=false;this.isLightChoosedField=false;this.isShowFieldBorder=false;this.recordReday=true}VirtualBlockScreen.prototype.initScreen=function(){if(!this.renderer){this.clear();let t=this.size;for(let e=0;e<t;e++){this.screenElements[e]=new ScreenElement(e,0,null)}this.cursorPos=0;this.showScreen()}else{tecoreLogger.warn("Will not init screen that already has renderer")}};VirtualBlockScreen.prototype.handleScriptComplete=function(){this.lockedByScripting=false;if(!this.lockedByError&&this.isKeyboardReady){clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},0)}};VirtualBlockScreen.prototype.handleScriptTimeout=function(){tecoreLogger.warn("Script encountered function timeout. Resuming script execution at next operation.")};var osDefaultFont="Lucida Console, Monaco, monospace";VirtualBlockScreen.charsetInfos=[new CharsetInfo("International EBCDIC 1047",osDefaultFont,false,697,1047,null,null,cp1047ToUnicode,159),new CharsetInfo("US/Canada EBCDIC 37",osDefaultFont,false,697,37,null,null,cp037ToUnicode),new CharsetInfo("US/Canada EBCDIC 1140",osDefaultFont,false,695,1140,null,null,cp037ToUnicode,159),new CharsetInfo("German/Austrian EBCDIC 1141",osDefaultFont,false,695,1141,null,null,cp273ToUnicode,159),new CharsetInfo("Danish/Norwegian EBCDIC 1142",osDefaultFont,false,695,1142,null,null,cp277ToUnicode,90),new CharsetInfo("Finnish/Swedish EBCDIC 1143",osDefaultFont,false,695,1143,null,null,cp278ToUnicode,90),new CharsetInfo("Italian EBCDIC 1144",osDefaultFont,false,695,1144,null,null,cp280ToUnicode,159),new CharsetInfo("UK/Ireland EBCDIC 1146",osDefaultFont,false,695,1146,null,null,cp285ToUnicode,159),new CharsetInfo("Japanese Katakana 290",osDefaultFont,false,1172,290,null,null,cp290ToUnicode),new CharsetInfo("Spain EBCDIC 1145",osDefaultFont,false,695,1145,null,null,cp284ToUnicode,159),new CharsetInfo("French EBCDIC 1147",osDefaultFont,false,695,1147,null,null,cp297ToUnicode,159),new CharsetInfo("Arabic (type 4) EBCDIC 420",osDefaultFont,false,235,420,null,null,cp420ToUnicode),new CharsetInfo("Hebrew EBCDIC 424",osDefaultFont,false,941,424,null,null,cp424ToUnicode),new CharsetInfo("International EBCDIC 1148",osDefaultFont,false,695,1148,null,null,cp500ToUnicode,159),new CharsetInfo("Thai EBCDIC 1160",osDefaultFont,false,1395,1160,null,null,cp838ToUnicode,254),new CharsetInfo("Croat/Czech/Polish/Serbian/Slovak EBCDIC 1153",osDefaultFont,false,1375,1153,null,null,cp870ToUnicode,159),new CharsetInfo("Greek EBCDIC 4971",osDefaultFont,false,1371,4971,null,null,cp875ToUnicode,252),new CharsetInfo("Urdu EBCDIC 918",osDefaultFont,false,1160,918,null,null,cp918ToUnicode),new CharsetInfo("Cyrillic(Russian) EBCDIC 1154",osDefaultFont,false,1381,1154,null,null,cp1025ToUnicode,225),new CharsetInfo("Turkish EBCDIC 1155",osDefaultFont,false,1378,1155,null,null,cp1026ToUnicode,159),new CharsetInfo("Farsi Bilingual EBCDIC 1097",osDefaultFont,false,1219,1097,null,null,cp1097ToUnicode),new CharsetInfo("Baltic Multilingual EBCDIC 1112",osDefaultFont,false,1305,1112,null,null,cp1112ToUnicode),new CharsetInfo("Devanagari EBCDIC 1137",osDefaultFont,false,1469,1137,null,null,cp1137ToUnicode),new CharsetInfo("Chinese Traditional DBCS EBCDIC 937","MingLiU",true,1175,37,935,835,cp037ToUnicode,null,ebcdic835,null),new CharsetInfo("Chinese Simplified DBCS EBCDIC 935","NSimSun",true,1174,836,937,837,cp836ToUnicode,null,ebcdic837,null),new CharsetInfo("Japanese English DBCS EBCDIC 931","MS Gothic",true,101,37,370,300,cp037ToUnicode,null,ebcdic300,null),new CharsetInfo("Japanese Katakana DBCS EBCDIC 5026","MS Gothic",true,1172,290,370,300,cp290ToUnicode,225,ebcdic300,[66,225]),new CharsetInfo("Japanese Latin DBCS EBCDIC 5035","MS Gothic",true,1172,1027,370,300,cp1027ToUnicode,225,ebcdic300,[66,225]),new CharsetInfo("Korean DBCS EBCDIC 933","GulimChe",true,1173,833,934,834,cp833ToUnicode,null,ebcdic834,null)];VirtualBlockScreen.defaultCharsetInfo=VirtualBlockScreen.charsetInfos[0];VirtualBlockScreen.prototype.setCharsetInfo=function(e){var t;for(t=0;t<VirtualBlockScreen.charsetInfos.length;t++){var i=VirtualBlockScreen.charsetInfos[t];if(i.name==e){this.charsetInfo=i;break}}if(this.renderer){this.renderer.unicodeConversionTable=this.charsetInfo.sbcsMapper;this.renderer.sbcsEuroPosition=this.charsetInfo.sbcsEuroPosition;this.renderer.fullPaint()}tecoreLogger.debug("charset info set to "+this.charsetInfo.name+" font="+this.charsetInfo.fontName)};VirtualBlockScreen.prototype.getEbcdicForUnicode=function(e){if(e==8364){if(this.charsetInfo.sbcsEuroPosition>0){return this.charsetInfo.sbcsEuroPosition}}var t=this.charsetInfo.sbcsMapper;for(var i=0;i<t.length;i++){if(t[i]===e){return i}}var n=this.charsetInfo.dbcsMapper;if(n!=null){for(var r=0;r<n.length;r++){if(n[r]!=null){for(var s=0;s<n[r].length;s++){if(n[r][s]==e){return r<<8|s}}}}}return 0};VirtualBlockScreen.prototype.getLastShiftOutPosition=function(){var e=this.screenElements[this.cursorPos];if(e==null){return-1}var t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==DBCS_SHIFT_IN){return this.cursorPos}for(var i=this.cursorPos-1;i!=this.cursorPos;i--){var n=this.screenElements[i];if(n){var r=n.isModified?n.inputEbcdicChar:n.ebcdicChar;if(r==DBCS_SHIFT_IN){return i}}if(i==0){i=this.size}}return-1};VirtualBlockScreen.prototype.rapidRightAsWord=function(){let e,t;let i=0;let n;e=this.cursorPos;t=this.size;while(e<=t){e=e%this.size;let t=this.getScreenElementByPosition(e);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;i=t.position;if(t&&!t.fieldData&&!this.nonNullSpaceAttributes.includes(e)){i++}else{break}}e++}i=(i+1)%this.size;while(i<=t){i=i%this.size;let t=this.getScreenElementByPosition(i);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;n=t.position;if(t&&!t.fieldData&&!this.nonNullSpaceAttributes.includes(e)){break}}i++}this.setCursorPos(n)};VirtualBlockScreen.prototype.rapidLeftAsWord=function(){let i=0;let n;let e=this.cursorPos==0?this.size:this.cursorPos-1;while(e>=0){e=e==0?this.size-1:e;let t=this.getScreenElementByPosition(e);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;i=t.position;if(t&&this.nonNullSpaceAttributes.includes(e)){i--}else{break}}e--}i=i==0?this.size-1:i-1;while(i>=0){let t=this.getScreenElementByPosition(i);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;n=t.position+1;if(t&&(!t.fieldData||t.fieldData.position===i)&&this.nonNullSpaceAttributes.includes(e)){break}}i--}this.setCursorPos(n)};VirtualBlockScreen.prototype.getDBCSEbcdicArrayForUnicodeString=function(e,t,i,n){let r=false;var s;var o=t||this.dbcsAttributes[this.cursorPos]!=DBCS_UNINTERESTING;var l=[];for(s=0;s<e.length;s++){var a=e.charCodeAt(s);if(a>=55296&&a<=56319){a=e.codePointAt(s);s++}var c=this.getEbcdicForUnicode(a);keyboardLogger.debug("Getting DBCS for UTF. Given text code=0x"+hex(a)+" ebcdic=0x"+hex(c));if(c!=null){if(c>255){if(o==false){if(n&&(r||s&&l[l.length-1]==64)){r=false;l.pop();i.pop()}l.push(DBCS_SHIFT_OUT);i.push(-1);o=true}l.push((c&65280)>>8);i.push(-2);l.push(c&255);i.push(s)}else{if(o==true){l.push(DBCS_SHIFT_IN);i.push(-1);o=false;if(n&&a==32){r=true;if(s+1==e.length){o=true;l.pop();i.pop()}else if(!s){a=e.charCodeAt(s+1);c=this.getEbcdicForUnicode(a);if(c!=null&&c>255){o=true;l.pop();i.pop()}}else{a=e.charCodeAt(s+1);c=this.getEbcdicForUnicode(a);if(c>255){r=false;o=true;l.pop();i.pop();l.push(64);i.push(-1);l.push(64);i.push(-1)}}continue}}else r=false;l.push(c);i.push(s)}}else{l.push(64);i.push(-1)}}this.dbcsEndMode=o;return l};VirtualBlockScreen.prototype.finishDBCSInsert=function(i){if(!this.lockedByError&&this.isKeyboardReady){let e=0;let t=this.screenElements[this.cursorPos];if(t)e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(this.currentdbcsMode){if(!i[this.cursorPos]&&e!=DBCS_SHIFT_IN){if(this.sessionType=="3270"){this.actionInsert(this.cursorPos,this.findNextField(this.cursorPos,false,false,false),DBCS_SHIFT_IN)}else{this.enterCharacterAtCursor(DBCS_SHIFT_IN)}}}else{if(i[this.cursorPos]){if(this.sessionType=="3270"){this.actionInsert(this.cursorPos,this.findNextField(this.cursorPos,false,false,false),DBCS_SHIFT_OUT)}else{this.enterCharacterAtCursor(DBCS_SHIFT_OUT)}}}}};VirtualBlockScreen.prototype.finishDBCSInput=function(n){if(!this.lockedByError&&this.isKeyboardReady){let e=0;let t=this.screenElements[this.cursorPos];if(t==null){t=new ScreenElement(this.cursorPos,0,null);this.setScreenElement(this.cursorPos,t)}let i=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(this.dbcsEndMode){if(n[this.cursorPos]==DBCS_UNINTERESTING||n[this.cursorPos]==DBCS_SECOND_HALF){if(!this.insertMode){t.inputEbcdicChar=DBCS_SHIFT_IN;t.isModified=true;this.dbcsEndMode=false}else{if(i!=DBCS_SHIFT_IN){if(this.sessionType=="3270"){this.actionInsert(this.cursorPos,this.findNextField(this.cursorPos,false,false,false),DBCS_SHIFT_IN)}else{this.enterCharacterAtCursor(DBCS_SHIFT_IN)}}}e=1;t=this.screenElements[this.cursorPos+e];i=t.isModified?t.inputEbcdicChar:t.ebcdicChar}}if(!this.dbcsEndMode){if(n[this.cursorPos+e]!=DBCS_UNINTERESTING){if(n[this.cursorPos+e]==DBCS_FIRST_HALF){t.inputEbcdicChar=64;t.isModified=true;t=this.screenElements[this.cursorPos+e+1];t.inputEbcdicChar=DBCS_SHIFT_OUT;t.isModified=true}else{t.inputEbcdicChar=DBCS_SHIFT_OUT;t.isModified=true}}else if(i==DBCS_SHIFT_IN){t.inputEbcdicChar=64;t.isModified=true}}}};VirtualBlockScreen.prototype.handleCharCodeInputOverDbcs=function(){let e=this.screenElements[this.cursorPos];if(e==null){e=new ScreenElement(this.cursorPos,0,null);this.setScreenElement(this.cursorPos,e)}let t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==DBCS_SHIFT_IN){if(++this.cursorPos>this.width*this.height)this.cursorPos=0}else if(t==DBCS_SHIFT_OUT){}else if(this.dbcsAttributes[this.cursorPos]){e.inputEbcdicChar=DBCS_SHIFT_IN;e.isModified=true;if(++this.cursorPos>this.width*this.height)this.cursorPos=0}this.dbcsEndMode=false};VirtualBlockScreen.prototype.handleCharCodeInsertDbcs=function(t){let e=this.screenElements[this.cursorPos];let i=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(i==DBCS_SHIFT_IN){if(++this.cursorPos>this.width*this.height)this.cursorPos=0}else if(i==DBCS_SHIFT_OUT){}else if(this.dbcsAttributes[this.cursorPos]){let e=this.numAvailablePos();if(e<3){return false}t.enterCharacterAtCursor(DBCS_SHIFT_IN);if(++this.cursorPos>this.width*this.height)this.cursorPos=0;return true}};VirtualBlockScreen.prototype.dbcsFitTest=function(e,t,n,r){if(this.charsetInfo.isDBCS){if(e[t]==DBCS_SHIFT_OUT){this.currentdbcsMode=true;if(this.insertMode&&e.length==t+1)return 1;else return 4}else if(e[t]==DBCS_SHIFT_IN){this.currentdbcsMode=false;return 1}else{let i=0;for(let t=this.cursorPos-1;t>n.position;t--){let e=this.screenElements[t];var s=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(s==DBCS_SHIFT_OUT){this.currentdbcsMode=true;if(this.insertMode){e=this.screenElements[this.cursorPos];s=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(r[this.cursorPos]||s==DBCS_SHIFT_IN)return 2-i%2}return 3-i%2}else if(s==DBCS_SHIFT_IN){this.currentdbcsMode=false;if(this.insertMode&&r[this.cursorPos]){return 2}return 1}i++}}this.currentdbcsMode=false;return 1}this.currentdbcsMode=false;return 0};VirtualBlockScreen.prototype.checkDbcsInsertFit=function(e){let t=e.length;let i=false;let n=this.screenElements[this.cursorPos];let r=n.isModified?n.inputEbcdicChar:n.ebcdicChar;if(r==DBCS_SHIFT_OUT&&e[0]==DBCS_SHIFT_OUT){e.shift();t--;i=true}else if(this.dbcsEndMode&&this.dbcsAttributes[this.cursorPos]==DBCS_UNINTERESTING&&r!=DBCS_SHIFT_IN){e.push(DBCS_SHIFT_IN);t++}if(i){this.cursorPos++}return t};VirtualBlockScreen.prototype.adjustdbcsAttributes=function(e,t){let i=0,n,r=1;if(this.sessionType!=="3270"){r=0}if(!t){t=this.getFieldData(this.cursorPos,true)}if(t){n=t.position+t.length-r;while(n>this.cursorPos){e[n]=e[n-1];n--}e[n]=0}};VirtualBlockScreen.prototype.numAvailablePos=function(e){let t=0,i,n=1;if(this.sessionType!=="3270"){n=0}if(!e)e=this.getFieldData(this.cursorPos,true);if(!e)return 0;if(this.sessionType=="3270"){if(e.attributes.isProtected())return 0}i=e.position+e.length-n;while(i>e.position){element=this.screenElements[i];elementChar=element?element.isModified?element.inputEbcdicChar:element.ebcdicChar:null;if(!elementChar||elementChar==64){t++;i=e.position+(e.length-n)-t}else break}return t};VirtualBlockScreen.prototype.setScreenElement=function(e,t){var i=t.fieldData;var n=this.screenElements[e];this.screenElements[e]=t;if(n!=null&&n.fieldData!=null){delete this.fields[e]}if(i!=null){this.fields[e]=i;this.isFormatted=true}};VirtualBlockScreen.prototype.sendModifiedFields=function(e,t){alert("In the superclass!")};VirtualBlockScreen.prototype.buildFieldMap=function(e){alert("In the superclass!")};VirtualBlockScreen.prototype.enterCharacterAtCursor=function(e,t){alert("In the superclass!")};VirtualBlockScreen.prototype.getScreenElement=function(e,t){return this.screenElements[e*this.width+t]};VirtualBlockScreen.prototype.getScreenElementByPosition=function(e){return this.screenElements[e]};VirtualBlockScreen.prototype.setCursorPos=function(e,t,i,n){const r=this.cursorPos;if(e>=this.size){e=e%this.size}else if(e<0){e=e+this.size}if(this.dbcsAttributes[e]==DBCS_SECOND_HALF&&!t){e--}this.cursorPos=e;if(this.renderer&&this.renderer.cursorBlinkTimeout){this.renderer.resetCursorBlink()}if(this.cursorEntersField&&typeof this.cursorEntersField==="function"){this.cursorEntersField(r,e)}if(this.recorder&&i){var s=this.getScriptRowColumnFromPosition(this.cursorPos);this.recorder.setCursor(s.row,s.column,n)}return true};function colorReverse(e){e=e.startsWith("0x")&&e.length===8?e:"0x000000";const t=e.replace(/#/g,"");const i="000000"+(16777215-t).toString(16);return"#"+i.substring(i.length-6,i.length)}VirtualBlockScreen.prototype.highLightFocusField=function(){if(!this.renderer||!this.rendererSettings||!this.rendererSettings.highlightFocusedField)return;const e=Math.floor(this.cursorPos/this.width);const t=this.rendererSettings.colorProperties?this.rendererSettings.colorProperties.defaultBackground:"0x000000";const i=colorReverse(t);const n=this.renderer.scaleMethod===0;const r=n?1:.4,s=n?.5:.2;if(!this.isFormatted){this.renderer.drawRectangle(i,0,e,this.width,e+1,r,s);return}const o=this.getFieldData(this.cursorPos,true);if(o==null||!o.isEditable()){return}const{startLineCol:l,startLineRow:a,endLineCol:c,endLineRow:u}=this.getEditLineFieldPosition(o);this.renderer.drawRectangle(i,l,a,c,u,r,s)};VirtualBlockScreen.prototype.getFieldPosition=function(e){superAlert("getFieldPosition")};VirtualBlockScreen.prototype.getEditLineFieldPosition=function(e){const t=Math.floor(this.cursorPos/this.width);const i=this.cursorPos%this.width;const n=this.getFieldPosition(e);const{startPos:r,endPos:s}=n;const o=t*this.width+i;if(o<r||o>s)return{};const l=Math.min(o+this.width-i-1,s);let a=Math.trunc(l/this.width);let c=l%this.width;c+=Math.min(s-a*this.width-c,1);a+=1;const u=Math.min(Math.max(o-i,r),o);const h=Math.trunc(u/this.width);const d=u%this.width;return{startLineCol:d,startLineRow:h,endLineCol:c,endLineRow:a}};VirtualBlockScreen.prototype.getPos=function(){return this.cursorPos};VirtualBlockScreen.prototype.modifyCursorPosDBCS=function(e){if(this.dbcsAttributes[this.cursorPos+e]==DBCS_SECOND_HALF){if(Math.abs(e)==this.width){if(!this.dbcsAdjustPos){this.dbcsAdjustPos=true;e--}else{e++;this.dbcsAdjustPos=false}}else{this.dbcsAdjustPos=false;if(e<0)e--;else e++}}else if(!this.dbcsAttributes[this.cursorPos+e]){if(this.dbcsAdjustPos){e++;this.dbcsAdjustPos=false}}return e};VirtualBlockScreen.prototype.modifyCursorPos=function(e){if(this.charsetInfo.dbcsMapper!=null){e=this.modifyCursorPosDBCS(e)}if(this.dbcsAttributes[this.cursorPos+e]==DBCS_SECOND_HALF){if(e<0||e==this.width)e--;else e++}this.setCursorPos(this.cursorPos+e);var t=this.screenElements[this.cursorPos];if(t){var i=t.field;if(t.fieldData){}else if(i){var n=i.fieldData}else{}}else{}};VirtualBlockScreen.prototype.setSessionShortName=function(e){if(e.length==1&&(e>=a&&e<=z)){this.sessionShortName=e}};VirtualBlockScreen.prototype.handleFunction=function(e){superAlert("handleFunction");return false};VirtualBlockScreen.prototype.handleMouseWheel=function(e){if(this.rendererSettings?.keyboardOptions?.allowMouseWheel){const t=Math.sign(e.deltaY);eventLogger.info("wheel sign:"+t.toString());this.turnPage(t)}};VirtualBlockScreen.prototype.turnPage=function(e){superAlert("pageUp");return false};VirtualBlockScreen.prototype.handleKeyCode=function(e){keyboardLogger.info("Handlekeycode hit")};VirtualBlockScreen.prototype.checkHexEntryCodeStatus=function(e,t){const i=t?/[4-9a-f]/:/[0-9a-f]/;const n=/[0-9a-f]/;const r=String.fromCharCode(e).toLowerCase();if(this.hexEntryValue.length>=2||this.hexEntryValue.length===0&&!i.test(r)||this.hexEntryValue.length===1&&!n.test(r)||t&&this.hexEntryValue.length===1&&r==="f"&&this.hexEntryValue[0].toLowerCase()==="f"){return{status:"invalid"}}this.hexEntryValue.push(String.fromCharCode(e));if(this.hexEntryValue.length===1)return{status:"middle"};if(this.hexEntryValue.length>=2){let e=(this.hexEntryValue||[]).join("");const s=parseInt(e,16);let t=this.charsetInfo.sbcsMapper[s];if(this.renderer.sbcsEuroPosition>0&&this.renderer.sbcsEuroPosition===s){t=8364}this.isHexEntry=false;this.hexEntryValue=[];return{status:"ready",newCharCode:t}}};VirtualBlockScreen.prototype.checkOSStatus=function(e){let t;if(this.osValue.length<2){this.osValue.push(e)}if(this.osValue.length>=2){if(this.osValue[0]==255&&this.osValue[1]==255)return;const i=String.fromCharCode(this.osValue[0]);const n=String.fromCharCode(this.osValue[1]);const r=MULTINATIONAL_OS_ASCII_MAP;if(n!=="\\"||i=="/"){for(let e=0;e<r.length;e++){const s=r[e];if(i===s[0]&&n===s[1]||i===s[1]&&n===s[0]){t=s[2];break}}}this.osValue=[];this.isOS=false}if([166,172,173,149].includes(t))return;if(t===0)t=32;return t};VirtualBlockScreen.prototype.isKeyDownLocked=function(e){superAlert("isClickLocked");return false};VirtualBlockScreen.prototype.syncInsertChar=function(i){if(i!==undefined&&i.length==1){let e=this.getFieldData(this.cursorPos,true);let t=this.handleCharCodeInput(i.charCodeAt(0),false,false,false);if(t){if(this.recorder){if(e&&e.isNoDisplay()){if(this.recorder.recordPassword){this.recorder.bufferChar(i,true)}else{if(e.position!=this.lastNondisplayFieldPos){this.lastNondisplayFieldPos=e.position;this.recorder.promptPassword()}}}else{this.recorder.bufferChar(i)}}this.moveCursor();if(this.charsetInfo.isDBCS){if(!this.insertMode)this.finishDBCSInput(this.dbcsAttributes);else if(this.insertShiftOut){this.enterCharacterAtCursor(DBCS_SHIFT_OUT,false,false)}}if(this.renderer){this.renderer.fullPaint()}}}else{if(this.modifierKeyState==CONTROL_LEFT&&i=="F1"){if(this.renderer){this.renderer.showSISO=!this.renderer.showSISO;this.renderer.fullPaint()}}return}};VirtualBlockScreen.prototype.handleKeyDown=function(t,i){if(!this.isKeyDownLocked(t.value)&&(this.recordReday||t.value==="Reset")){if(t.type===KEYMAP_TYPE_FALLBACK&&t.value!==undefined&&t.value.length===1&&this.modifierKeyState&this.undefinedFallbackState){keyboardLogger.warn("Rejecting FALLBACK keydown, value="+t.value+", because modifierKeyState="+this.modifierKeyState+", which leads to undefined behavior");if(i.ctrlKey&&t.value=="x"){if(i.currentTarget!==null){i.currentTarget.focus()}if(COMMON.userAgentInfo.isMobile){this.setToClipBoard("cut")}else{document.execCommand("cut")}}else if(i.ctrlKey&&t.value=="c"){if(i.currentTarget!==null){i.currentTarget.focus()}this.isCopy=true;if(COMMON.userAgentInfo.isMobile){this.setToClipBoard("copy")}else{document.execCommand("copy")}}else if(i.ctrlKey&&t.value=="v"){this.isPaste=true;if(COMMON.userAgentInfo.isMobile){i.currentTarget.focus();const r=new CustomEvent("paste",{detail:{},bubbles:true,cancelable:true,composed:false});r.clipboardData={types:"paste"};r.clipboardData.getData=function(){return""};document.dispatchEvent(r)}}return}var e=i.keyCode;if(i.ctrlKey&&i.key=="v"&&this.isPaste){return}if(i.metaKey&&i.key=="v"){return}if(t.type===KEYMAP_TYPE_KEY||t.type===KEYMAP_TYPE_FALLBACK){let e=t.value;this.syncInsertChar(e)}else if(t.type===KEYMAP_TYPE_3270FUNCTION||t.type===KEYMAP_TYPE_5250FUNCTION){if(apiAgent&&apiAgent.isInterceptEnabled&&(TN3270_AID_KEY_MAP[t.value]||TN5250_AID_KEY_MAP[t.value])){apiAgent.handleFunctionIntercept(t.value)}else{this.handleFunction(t.value);if(t.value==="Enter"){this.hideKeyboard()}}}else if(t.type===KEYMAP_TYPE_STRING){var n=t.value;this.isKeymapStringInput=true;this.handleStringInput(n)}else if(t.type===KEYMAP_TYPE_SCRIPT){if(this.callbacks&&this.callbacks.scriptCallback){this.callbacks.scriptCallback(t.type,t.value,true,t.isNotTemplate)}}else{this.handleKeyCode(e);return}}else{tecoreLogger.debug("Put KeyDown in Type Ahead queue");let e={};e.type="KEYDOWN";e.keyMapping=t;e.keyEvent=i;this.typeAheadQueue.push(e);if(i.ctrlKey&&(t.value=="x"||t.value=="v"||t.value=="v")){return}}i.stopPropagation();i.preventDefault()};VirtualBlockScreen.prototype.getFieldData=function(i,e){if(!this.isFormatted){return null}const t=Object.keys(this.fields);if(t.length==0){return null}if(e){for(let e=0;e<t.length;e++){const n=this.fields[t[e]];const r=n.position;const s=n.length;const o=(r+s)%this.size;if(o<=r&&(i>=r||i<o)){return n}else if(i>=r&&i<o){return n}}return null}for(let t=0;t<this.size;t++){let e=(i-t)%this.size;if(e<0){e=this.size+e}const l=this.screenElements[e];if(l&&l.fieldData!=null){return l.fieldData}}protocolLogger.warn("warning failed to get field data");return null};VirtualBlockScreen.prototype.showScreen=function(){superAlert("showScreen");var e=this.size/this.width;var t=this.size/e;var i="";for(var n=0;n<this.size;n++){var r=this.getScreenElementByPosition(n);if(n%this.width==0){protocolLogger.debug(i);i=""}if(r){var s=r.isModified?r.inputEbcdicChar:r.ebcdicChar;var o=this.charsetInfo.sbcsMapper[s];if(o){i+=String.fromCharCode(o)}else{i+=" "}}else{i+=" "}}};VirtualBlockScreen.prototype.getTextJS=function(e,t,i,n,r,s){var o=[];var l=this.getPositionFromScriptRowColumn(e,t);var a=this.getPositionFromScriptRowColumn(i,n);for(var c=l;c<a;c++){var u=this.getScreenElementByPosition(c);var h;var d=64;if(s===true){d=64}h=d;if(u){h=u.isModified?u.inputEbcdicChar:u.ebcdicChar;if(h<64){h=d}if(r==false){h=this.renderer.unicodeConversionTable[h]}}o.push(h)}return String.fromCharCode.apply(null,o)};VirtualBlockScreen.prototype.matchText=function(e,t,i){var n=e.length;for(var r=0;r<n;r++){var s=e[r];var o=this.screenElements[t+r];if(i){if(!o||o.ebcdicChar!=s&&o.ebcdicChar!=(s|64)){tecoreLogger.debug("Could not find text2");return false}}else{if(!o||o.ebcdicChar!=s){tecoreLogger.debug("Could not find text");return false}}}tecoreLogger.debug("found text");return true};VirtualBlockScreen.prototype.SBIndexToUnicodeIndex=function(e,t){j=t;for(var i=0;i<t;i++){if(this.dbcsAttributes[e*this.width+i]==DBCS_FIRST_HALF){j++;t++}}return j};VirtualBlockScreen.prototype.UnicodeIndexToSBIndex=function(e,t){j=t;for(var i=0;i<t;i++){if(this.dbcsAttributes[e*this.width+i]==DBCS_FIRST_HALF){j--}}return j};VirtualBlockScreen.prototype.selectWords=function(e){let n=e.rows;let r=e.columns;if(n>this.height){eventLogger.info("clicking out of bound "+e);return}let s=e.rows*this.width+e.columns;if(this.dbcsAttributes[s]){var o=r;var l=r;i=0;let e=this.screenElements[s+i];let t=64;if(e)t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==64)return;while(this.dbcsAttributes[s+i]){e=this.screenElements[s+i];t=64;if(e)t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==64)break;i--}o+=i;if(o<0){if(this.dbcsAttributes[n*this.width]==DBCS_FIRST_HALF)o=-1;else o=0}i=0;while(this.dbcsAttributes[s+i]){e=this.screenElements[s+i];t=64;if(e)t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==64)break;i++}l+=i;if(r+i>this.width){if(this.dbcsAttributes[n*this.width+this.width-1]==DBCS_FIRST_HALF)l=this.width+1;else l=this.width}}else{let e=this.getScreenContents(0,this.width,n,n+1,false,true,false);r=this.UnicodeIndexToSBIndex(n,r);var t=e.charAt(r);var o=r;var l=r;if(t==" "){return}else if(t.match(SPECIAL_CHAR_REX)!=null){while(e.charAt(o--).match(SPECIAL_CHAR_REX)!=null){}while(e.charAt(l++).match(SPECIAL_CHAR_REX)!=null){}}else if(t.match(WORD_CHAR_REX)!=null){while(e.charAt(o--).match(WORD_CHAR_REX)!=null){}while(e.charAt(l++).match(WORD_CHAR_REX)!=null){}}else{return}o++;l--;o=this.SBIndexToUnicodeIndex(n,o);l=this.SBIndexToUnicodeIndex(n,l)}this.selectionStartRow=n;this.selectionEndRow=n+1;this.selectionStartColumn=o+1;this.selectionEndColumn=l;if(this.renderer){this.renderer.paintUpperCanvas()}};VirtualBlockScreen.prototype.wordWrapString=function(e){let t=[];const i=Math.floor(this.cursorPos%this.width);const n=Math.floor(this.cursorPos/this.width);if(i!==this.width-1||e===64)return[];if(n===this.height-1)return[];let r=0;let s=n*this.width;const o=this.getFieldData(this.cursorPos,true);if(o&&o.isMultiLine(this.width,this.height)&&i===this.width-1&&e!==64){if(this.cursorPos>=o.position){s=Math.max(o.position+1,n*this.width)}}let l=this.cursorPos;while(l>=s){let t=this.getScreenElementByPosition(l);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(!t.fieldData&&!this.nonNullSpaceAttributes.includes(e)){r++}else{break}}else{break}l--}if(r){let e=this.size-1;if(o){const h=o.endPostion(this.size);if(h>=this.cursorPos){e=h}else{e=this.size-1}}let t=0;let i=-1;for(var a=e;a>this.cursorPos;a--){const d=a;var c=this.screenElements[d];if(c){var u=c.isModified?c.inputEbcdicChar:c.ebcdicChar;if(u===0||u===64&&i===-1){t++}else{if(i===-1)i=d}}else{t++}}if(r>t)return[]}else{t.push(64);return t}if(l+1<=this.cursorPos){for(let e=l+1;e<=this.cursorPos;e++){var c=this.screenElements[e];if(c){var u=c.isModified?c.inputEbcdicChar:c.ebcdicChar;t.push(u)}}}return t};VirtualBlockScreen.prototype.wordWrap=function(e){let t=this.wordWrapString(e);if(t&&Array.isArray(t)&&t.length>0){if(t[0]===64){t=[]}for(var i=0;i<t.length;i++){if(i!==0&&this.cursorPos!==0){this.modifyCursorPos(-1)}this.actionDestructiveBackspace()}this.setCursorPos((this.cursorPos+t.length)%this.size,null,true);t.push(64);const n=this.insertMode;this.insertMode=true;for(var i=0;i<t.length;i++){this.enterCharacterAtCursor(t[i],true,true)}this.insertMode=n;this.modifyCursorPos(-2);return true}return false};VirtualBlockScreen.prototype.handleMouseDrag=function(e){let t=this.renderer.getRowColumn(e.offsetX,e.offsetY);if(t.rows<=0)t.rows=0;if(t.rows>=this.height)t.rows=this.height-1;if(t.columns<=0)t.columns=0;if(t.columns>=this.width)t.columns=this.width-1;let i=t.rows*this.width+t.columns;this.setCursorPos(i);this.renderer.paintUpperCanvas()};VirtualBlockScreen.prototype.handleMouseDrop=function(e){const t=e.dataTransfer.getData("text");let i=this.renderer.getRowColumn(e.offsetX,e.offsetY);if(i.rows<=0)i.rows=0;if(i.rows>=this.height)i.rows=this.height-1;if(i.columns<=0)i.columns=0;if(i.columns>=this.width)i.columns=this.width-1;let n=i.rows*this.width+i.columns;let r=this.getFieldData(n,true);if(r&&r.isEditable()){this.setCursorPos(n);if(this.recorder){var s=this.getScriptRowColumnFromPosition(this.cursorPos);if(this.oiaProgramMessage===X_HOST_PROCESSING||this.lockedByScripting){let e={};e.type="RECORD_SETCURSOR";e.rowCol=s;this.typeAheadQueue.push(e)}else{this.recorder.setCursor(s.row,s.column)}}this.paste(t)}};VirtualBlockScreen.prototype.firstMatchOnLine=function(e,t,i,n,r){var s=e.length;var o;var l=i==-1?this.width-s:i;var a=this.width*n;for(o=t;o<=l;o++){if(this.matchText(e,(a+o)%this.size,r)){tecoreLogger.debug("context matchPos="+(a+o));return a+o}}return-1};VirtualBlockScreen.prototype.mfaEnabled=function(){return this.mfaConfig.serverURL&&this.mfaConfig.policyName&&this.isValidMfaHost()};VirtualBlockScreen.prototype.isEditablePosition=function(e){const t=this.getFieldData(e==null?this.cursorPos:e,true);if(t==null){return false}return t.isEditable()||false};VirtualBlockScreen.prototype.isValidMfaHost=function(){if(this.mfaConfig.host==="*")return true;if(!Array.isArray(this.mfaConfig.host))return false;return this.mfaConfig.host.indexOf(this.hostInfo.host)>-1};VirtualBlockScreen.prototype.setMfaPolicyName=function(){const e=this.mfaConfig.userPolicyName||"";MFA.userPolicyNameIndex=-1;if(this.mfaConfig.policyName.length===0){MFA.selectedPolicyName=null;MFA.userPolicyName=e}else if(this.mfaConfig.policyName.length===1){MFA.selectedPolicyName=this.mfaConfig.policyName;MFA.userPolicyName=this.mfaConfig.policyName[0]||""}else{MFA.selectedPolicyName=this.mfaConfig.policyName;if(!e){MFA.userPolicyName=""}else{const t=this.mfaConfig.policyName.map(e=>e.toLowerCase());MFA.userPolicyNameIndex=t.indexOf(e.toLowerCase());MFA.userPolicyName=MFA.userPolicyNameIndex>-1?e:""}}};VirtualBlockScreen.prototype.setMfaConfig=function(){MFA.serverURL=this.mfaConfig.serverURL;MFA.Options.autoEnterKey=this.mfaConfig.autoEnterKey||false;MFA.Options.alwaysShowPolicyNameUI=this.mfaConfig.alwaysShowPolicyNameUI||false;this.setMfaPolicyName();MFA.updatePolicyNameCallback=e=>{this.mfaConfig.userPolicyName=e||"";if(this.callbacks&&this.callbacks.mfaPolicyNameCallback){this.callbacks.mfaPolicyNameCallback(e)}};MFA.Options.bzhao=this.getAutomationObject();MFA.Options.setCookie=this.setMfaCookie.bind(this);MFA.passPos=this.mfaPasswordPos;MFA.passLen=this.mfaPasswordLen;MFA.userPos=this.mfaUserPos;MFA.userId=this.mfaUserId||"";MFA.userProtected=this.mfaUserProtected;MFA.authToken=null;MFA.invisibleInput=this.invisibleInput};VirtualBlockScreen.prototype.getMfaCookieName=function(){return"te-"+(this.mfaType||"").toLowerCase()};VirtualBlockScreen.prototype.getMfaCookieItemKey=function(){return this.hostInfo.host+"$$"+this.mfaCookie.userName};VirtualBlockScreen.prototype.setMfaCookie=async function(){if(!this.mfaUserId)return;if(this.callbacks&&this.callbacks.mfaEncryptCtcCallback){const e=btoa(MFA.authToken);const t=await this.encrptCtc(e);if(t&&t.data){if(!this.mfaCookie.mfa)this.mfaCookie.mfa={};this.mfaCookie.mfa[MFA.userId]={authToken:t.data};if(!this.mfaCookie.host)this.mfaCookie.host={};const i=this.hostInfo.host;if(!this.mfaCookie.host[i])this.mfaCookie.host[i]={};this.mfaCookie.host[i][this.mfaUserId]={mfa_user:MFA.userId};COMMON.setCookie(this.getMfaCookieName(),this.mfaCookie)}}};VirtualBlockScreen.prototype.updateMfaConfigFromCookie=async function(){if(!this.mfaUserId)return;if(this.callbacks&&this.callbacks.mfaDecryptCtcCallback){const e=COMMON.getCookie(this.getMfaCookieName());if(e){this.mfaCookie=JSON.parse(e);const t=this.mfaCookie.host&&this.mfaCookie.host[this.hostInfo.host];if(t&&this.mfaUserId&&t[this.mfaUserId]){const i=t[this.mfaUserId];MFA.userId=i["mfa_user"];if(MFA.userId&&this.mfaCookie.mfa&&this.mfaCookie.mfa[MFA.userId]){const n=this.mfaCookie.mfa[MFA.userId].authToken;const r=await this.decrptCtc(n);if(r&&r.data){const s=atob(r.data);MFA.authToken=s}}}}}};VirtualBlockScreen.prototype.needUpdateMfaCookie=function(){return this.isLoginPage&&MFA.authToken};VirtualBlockScreen.prototype.encrptCtc=function(e){return new Promise(t=>{this.callbacks.mfaEncryptCtcCallback(e,e=>t(e))})};VirtualBlockScreen.prototype.decrptCtc=function(e){return new Promise(t=>{this.callbacks.mfaDecryptCtcCallback(e,e=>t(e))})};VirtualBlockScreen.prototype.highLightField=function(){this.isShowFieldBorder=true;this.isLightChoosedField=true;this.showFieldBorder()};VirtualBlockScreen.prototype.unhighLightField=function(){this.isShowFieldBorder=false;this.isLightChoosedField=false;this.hideFieldBorder()};VirtualBlockScreen.prototype.showFieldBorder=function(){if(this.renderer){if(!this.isFormatted){return null}const t=Object.keys(this.fields);if(t.length==0){return null}for(let e=0;e<t.length;e++){const i=this.fields[t[e]];if(i.isEditable()){const n=i.position;const r=i.length;const s=(n+r)%this.size;const o=n%this.width+1;const l=Math.trunc(n/this.width);const a=s%this.width;const c=Math.trunc(s/this.width)+1;if(this.renderer){this.renderer.drawBorder(o,l,a,c)}}}}};VirtualBlockScreen.prototype.hideFieldBorder=function(){if(this.renderer){this.isShowFieldBorder=false;this.renderer.paintUpperCanvas()}};VirtualBlockScreen.prototype.lightChoosedField=function(e){if(e&&this.renderer){const t=e.position;const i=e.length;const n=(t+i)%this.size;const r=t%this.width+1;const s=Math.trunc(t/this.width);const o=n%this.width;const l=Math.trunc(n/this.width)+1;this.renderer.lightField(r,s,o,l)}};VirtualBlockScreen.prototype.handleMouseMoveNext=function(t){if(this.isLightChoosedField){let e=this.renderer.getRowColumn(t.offsetX,t.offsetY);if(e.rows<=0)e.rows=0;if(e.rows>=this.height)e.rows=this.height-1;if(e.columns<=0)e.columns=0;if(e.columns>=this.width)e.columns=this.width-1;const i=e.rows*this.width+e.columns;const n=this.getFieldData(i,true);this.lightChoosedField(n)}};VirtualBlockScreen.prototype.getFormatedPosition=function(e){const t=e.position+1;let i=e.position+e.length;if(this.sessionType!=="3270"){i=e.position+1+e.length}if(i>this.size){i=i-this.size}let n=Math.floor(t/this.width)+1;n=n>this.height?n-this.height:n;let r=Math.floor(t%this.width)+1;r=r>this.width?r-this.width:r;let s=Math.floor(i/this.width)+1;s=s>this.height?s-this.height:s;let o=Math.floor(i%this.width);o=o>this.width?o-this.width:o;return{startRow:n,startColumn:r,endRow:s,endColumn:o}};VirtualBlockScreen.prototype.getInputFields=function(){if(this.renderer){if(!this.isFormatted){return null}const i=Object.keys(this.fields);if(i.length==0){return null}let t=[];for(let e=0;e<i.length;e++){const n=this.fields[i[e]];const r=this.getFormatedPosition(n);r.length=n.length;r.editable=n.isEditable();t.push(r)}return t}};VirtualBlockScreen.prototype.getAidKeyList=function(){superAlert("handleFunction");return false};VirtualBlockScreen.prototype.getFormatedFields=function(){const i={};Object.entries(this.fields).forEach(([e,t])=>{i[e]=this.getFormatedField(t)});if(this.displayFields){Object.entries(this.displayFields).forEach(([e,t])=>{if(t.length===0)return;i[e]=this.getFormatedField(t)})}return i};VirtualBlockScreen.prototype.getScreenshot=function(){const e={sessionType:this.sessionType||this.termTypeString,size:this.size,width:this.width,height:this.height,alternateWidth:this.alternateWidth,alternateHeight:this.alternateHeight,cursorPos:this.cursorPos,deviceType:this.deviceType,isFormatted:this.isFormatted,isLoginPage:this.isLoginPage,defaultColor:{foreground:this.renderer.getExtendedColorsAsHotspot?this.renderer.getExtendedColorsAsHotspot(this.renderer.foreground):this.renderer.foreground,background:this.renderer.background},partitions:this.partitions,fields:this.getFormatedFields()};if(this.getOverrideElements){e.overrideElements=this.getOverrideElements()}return e};VirtualBlockScreen.prototype.getScreenFieldContents=function(e,t,i,n,r,s,o,l,a){let c="";let u=[];let h=navigator.userAgent.indexOf("Windows")!==-1?true:false;if(Number(t)<0)t=this.width;const d=i*this.width+e;const p=(n-1)*this.width+t;if(p<d){u=[{startC:e,endC:this.width,startR:i,endR:this.height},{startC:0,endC:t,startR:0,endR:n}]}else{u=[{startC:e,endC:t,startR:i,endR:n}]}u.forEach(e=>{let t=[];c+=this.getScreenContents(e.startC,e.endC,e.startR,e.endR,r,s,o,l,a);if(r==false){if(h){t.push(13)}t.push(10)}else{if(h){t.push(ebcdicD)}t.push(ebcdicA)}c+=String.fromCharCode.apply(null,h?t.slice(0,t.length-2):t.slice(0,t.length-1))});return c};VirtualBlockScreen.prototype.isDBCSOverstrike=function(){if(this.charsetInfo.dbcsMapper!=null){let e,t;let i=this.screenElements[this.cursorPos];if(i)e=i.isModified?i.inputEbcdicChar:i.ebcdicChar;else e=0;let n=this.screenElements[this.cursorPos+1];if(n)t=n.isModified?n.inputEbcdicChar:n.ebcdicChar;else t=0;let r=Math.floor(this.cursorPos/this.width)+1;let s=this.cursorPos%this.width+1;let o=this.charsetInfo.dbcsMapper;if(this.dbcsAttributes[this.cursorPos]){message="Pos="+this.cursorPos+", "+r+"/"+s+"\r\nEbcdic="+hex(e)+hex(t);if(this.dbcsAttributes[this.cursorPos]==DBCS_FIRST_HALF){var l;if(e==null||t==null){l=32}else{if(this.charsetInfo.dbcsEuroPosition!=null&&this.charsetInfo.dbcsEuroPosition[0]==e&&this.charsetInfo.dbcsEuroPosition[1]==t){l=8364}else{if(this.dbcsAttributes[this.cursorPos+1]!=DBCS_SECOND_HALF){l=32}else if(o[e]==null||o[e][t]==null){l=32}else{l=o[e][t]}}}message+="\r\nUnicode="+hex(l)}else if(dbcsAttributes[screenPos]==DBCS_SECOND_HALF){}}else{message="Pos="+this.cursorPos+", "+r+"/"+s+"\r\nEbcdic="+hex(e)+"\r\nUnicode="+hex(this.renderer.unicodeConversionTable[e])}alert(message);return true}return false};VirtualBlockScreen.prototype.flushTypeAhead=function(){clearTimeout(this.typeAheadTimer);this.typeAheadQueue=[]};VirtualBlockScreen.prototype.emptyTypeAhead=function(){this.lastKeyMapping=null;while(this.typeAheadQueue.length>0){let e=false;if(this.typeAheadQueue[0].type=="SCRIPT")e=this.typeAheadQueue[0].triggeredLock;if(this.lockedByScripting&&!e||this.currentScriptExecutionContext&&!this.currentScriptExecutionContext.done){clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},100);return}let t=this.typeAheadQueue.shift();if(t.type=="KEYDOWN"){tecoreLogger.debug("process key down in queue");this.handleKeyDownStart(t.keyEvent)}else if(t.type=="KEYUP"){tecoreLogger.debug("process key up in queue");this.handleKeyUp(t.keyEvent)}else if(t.type=="FUNC"){tecoreLogger.debug("process func in queue");this.handleFunction(t.function)}else if(t.type=="PASTE"){tecoreLogger.debug("process Paste in queue");this.paste(t.pasteData)}else if(t.type=="STRING"){tecoreLogger.debug("process string timed input in queue");this.handleStringInputTimed(t.value,t.timing,t.checkIntercept)}else if(t.type=="HOTSPOT"){tecoreLogger.debug("process hotspot event in queue");this.handleHotspotClick(t.mouseEvent,this.hotspotDefinitions)}else if(t.type=="SCRIPT"){tecoreLogger.debug("process script event in queue");if(this.recorder&&t.successCallback!=null&&t.errorCallback!=null){this.recorder.setActions(t.actions);this.recorder.play(t.yieldDelayMS,t.successCallback,t.errorCallback)}else{var i=new ScriptManager;var n=i.create("js","s1",t.actions,null);n.compile();var r=new ScriptExecutionContext([this],n);r.runTillWaitOrComplete();this.invisibleInput.focus();this.renderer.hasFocus=true}}else if(t.type=="RECORD_SETCURSOR"){this.recorder.setCursor(t.rowCol.row,t.rowCol.column)}else if(t.type=="IME"){tecoreLogger.debug("process IME event in queue");this.autoType(t.compositionString)}if(this.lastKeyMapping){if(this.lastKeyMapping.type==KEYMAP_TYPE_SCRIPT){this.lastKeyMapping=null;clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},100);return}}if(this.lockedByError){tecoreLogger.debug("keyboard is locked again");break}}};VirtualBlockScreen.prototype.find2Masking=function(){this.loadToMask();var e=this.height;for(var t=0;t<e;t++){var i=t*this.width;var n="";for(var r=i;r<i+this.width;r++){var s=this.screenElements[r];if(s&&s.maskChar!=null){delete s.maskChar}if(s!=null){if(s.ebcdicChar===null||s.ebcdicChar<64||s.isGraphicEscape){if(s.isModified){if(s.field?.fieldData?.isNoDisplay()){n=n+" "}else{n=n+String.fromCharCode(this.renderer.unicodeConversionTable[s.inputEbcdicChar])}}else{n=n+" "}}else{if(s.isModified){n=n+String.fromCharCode(this.renderer.unicodeConversionTable[s.inputEbcdicChar])}else{n=n+String.fromCharCode(this.renderer.unicodeConversionTable[s.ebcdicChar])}}}else{n=n+" "}}this.matchRules(n,this.screenElements,i)}};VirtualBlockScreen.prototype.loadToMask=function(){var e=this.toMatchScreen(this.rendererSettings.dataSecurity.panOption.screens);var t=new Array;var i=this.rendererSettings.dataSecurity.cusOption.rules.length;for(var n=0;n<i;n++){var r=this.toMatchScreen(this.rendererSettings.dataSecurity.cusOption.rules[n].screens);if(r){var s=this.rendererSettings.dataSecurity.cusOption.rules[n].ruleName;t.push(s)}}this.allowMaskCurrentScreen={pan:e,cust:t}};VirtualBlockScreen.prototype.toMatchScreen=function(ids){var screens=this.rendererSettings.dataSecurity.screens||[];ids=this.cleanScreenId(ids,screens);if(ids==undefined||Array.isArray(ids)&&ids.length<=0||this.isVt){return true}var allowedScreen=screens.filter(function(e){return ids.includes(e.uuid)});for(let i=0;i<allowedScreen.length;i++){var screen=allowedScreen[i];var conditions=screen.conditions;var expressions=screen.expressions;if(expressions&&Array.isArray(expressions)>0&&expressions.length){var matchedResult=new Array;for(let j=0;j<expressions.length;j++){var operator="";if(expressions[j].operator=="and"){operator="&&"}else if(expressions[j].operator=="or"){operator="||"}if(expressions.length>j){var condition=conditions[expressions[j].conditionName];const val=this.getScreenContents(condition.startColumn-1,condition.endColumn,condition.startRow-1,condition.endRow,false,true,false,false,false,false,true);let isMatch=false;if(condition){switch(condition.operator){case"equal":isMatch=this.isStringEqual(val,condition.expectedContents);break;case"notequal":isMatch=this.isStringNotequal(val,condition.expectedContents);break;case"has":isMatch=this.isStringHas(val,condition.expectedContents);break;case"nothas":isMatch=this.isStringNotHas(val,condition.expectedContents);break}matchedResult.push(operator+isMatch)}else{break}}}if(eval(matchedResult.join(""))){return true}}else{return false}}return false};VirtualBlockScreen.prototype.isStringEqual=function(e,t){return e===t};VirtualBlockScreen.prototype.isStringNotequal=function(e,t){return e!==t};VirtualBlockScreen.prototype.isStringHas=function(e,t){return e.indexOf(t,0)!==-1};VirtualBlockScreen.prototype.isStringNotHas=function(e,t){return e.indexOf(t,0)===-1};VirtualBlockScreen.prototype.cleanScreenId=function(e,t){isNotEmptyScreen=e=>{return e&&Array.isArray(e)&&e.length>0};const i=t.map(e=>{return e.uuid});if(isNotEmptyScreen(e)&&isNotEmptyScreen(t)){return e.filter(e=>{if(i.includes(e))return e})}else{return[]}};VirtualBlockScreen.prototype.replaceOutOfRangChar=function(e){if(!this.charsetInfo.isDBCS&&e.length>0){e=e.replace(/\u2018|\u2019/g,"'").replace(/\u201c|\u201d/g,'"').replace(/\u2026/g,".")}return e};SpoolFile=function(e){this.spoolFileObj={content:[]};this.spoolFileContent=this.spoolFileObj.content;this.lineIndex=0;this.pageIndex=0;if(!e.printOptions.printMethod)this.spoolFileContent.push({text:[],preserveLeadingSpaces:true});this.hasSpoolData=false};SpoolFile.prototype.setLayout=function(e){this.spoolFileObj.defaultStyle=e.style||{};this.spoolFileObj.pageSize=e.pageSize;this.spoolFileObj.pageOrientation=e.pageOrientation;this.spoolFileObj.pageMargins=e.pageMargins};SpoolFile.prototype.insertLineContent=function(e,t){let i=this.spoolFileContent[2*this.pageIndex].text;let n={};n.text=[];let r={text:e};if(t){r=Object.assign(r,t)}n.text.push(r);i.push(n);if(e.indexOf("\r")!=-1)this.lineIndex++};SpoolFile.prototype.addNewPage=function(){if(this.hasSpoolData){this.spoolFileContent.push({text:"",pageBreak:"before"});this.spoolFileContent.push({text:[],preserveLeadingSpaces:true});this.pageIndex++;this.lineIndex=0}};SpoolFile.prototype.appendLineContent=function(t,i){let e=this.spoolFileContent[2*this.pageIndex].text;let n=this.lineIndex;let r=e[n];if(r){let e={text:t};if(i){e=Object.assign(e,i)}r.text.push(e);if(t.indexOf("\r")!=-1)this.lineIndex++}else{this.insertLineContent(t,i)}if(t.length)this.hasSpoolData=true};SpoolFile.prototype.appendByteContent=function(e){for(var t=0;t<e.length;t++){this.spoolFileObj.content.push(e[t])}if(e.length)this.hasSpoolData=true};SpoolFile.prototype.formatContent=function(){let e=JSON.stringify(this.spoolFileObj);e=e.replace(/},{/g,"},\r\n\t{");e=e.replace(/\[{/g,"[\r\n\t{");e=e.replace(/\}]/g,"}\r\n]");return e};SpoolFile.prototype.print=function(e){if(e){e(this.spoolFileObj)}};const CHARACTER_SET=15728640;const CS_DEFAULT=0;const CS_APL=1048576;const CS_PSA=2097152;const CS_PSB=3145728;const CS_PSC=4194304;const CS_PSD=5242880;const CS_PSE=6291456;const CS_PSF=7340032;const CS_DBCS=8388608;const CS_DBCS2=9437184;SCSParser=function(e){this.parser=e;this.screen=e.screen;this.scsData=[];this.scsDataPos=0;this.hTabs=[];this.vTabs=[];this.vChans=[];this.tm=1;if(this.screen.printOptions.printMethod)this.lpp=1;else this.lpp=this.screen.printLayout.linesPerPage;this.mpl=this.lpp;this.bm=this.mpl;this.line=null;this.lm=1;this.rm=NCOLS;this.mpp=this.rm;this.column=1;this.inhib=0;this.gea=0;this.gech="-";this.vc=0;this.ds=0;this.lineSpacing=2;this.exceptionActions=[];this.underscoreWhiteSpace=0;this.overstrikeWhiteSpace=0;this.overstrikeChar="-";this.pageWidth=0;this.pageDepth=0;this.leftMargin=0;this.rightMargin=0;this.topMargin=0;this.bottomMargin=0;this.lineDistance=0;this.horizontalTabs=[];this.passthrough=this.screen.printOptions.printMethod;this.formfeed=true;this.bIgnoreFF=this.screen.printOptions.ignoreFormFeeds;this.bProcessHorzTab=this.screen.printOptions.processHorzTabs;this.override=this.screen.printOverride;this.lineText="";this.decoration=0;this.orientation="";this.style={font:"",fontSize:0};if(this.screen.charsetInfo.name.indexOf("Russia")!=-1)this.euroAsciiChar=136;else this.euroAsciiChar=128;this.printBuf=[];this.backSpaceCnt=0;this.backDecor=0};SCSParser.prototype.applySettingChange=function(){this.passthrough=this.screen.printOptions.printMethod;this.bIgnoreFF=this.screen.printOptions.ignoreFormFeeds;this.bProcessHorzTab=this.screen.printOptions.processHorzTabs;this.override=this.screen.printOverride;this.line=1;this.column=1;this.gech="-";this.inhib=0;this.ds=0;this.lineSpacing=2;this.lineDistance=240;this.chara=0;if(this.passthrough)this.lpp=1;else if(this.override)this.lpp=this.screen.printLayout.linesPerPage;else this.lpp=this.lastHostLPP!=undefined?this.lastHostLPP:this.screen.printLayout.linesPerPage;if(this.passthrough)this.mpl=1;else if(this.override)this.mpl=this.screen.printLayout.linesPerPage;else this.mpl=this.lastHostLPP!=undefined?this.lastHostLPP:this.screen.printLayout.linesPerPage;if(this.passthrough)this.bm=1;else if(this.override)this.bm=this.screen.printLayout.linesPerPage;else{if(this.lastHostBM!=undefined){this.bm=this.lastHostBM>this.mpl?this.mpl:this.lastHostBM}else{this.bm=this.screen.printLayout.linesPerPage}}if(this.screen.charsetInfo.name.indexOf("Russia")!=-1)this.euroAsciiChar=136;else this.euroAsciiChar=128};SCSParser.prototype.Gnc=function(){let e;if(this.scsDataPos<this.scsData.length){e=this.scsData[this.scsDataPos++]&255;return e}return-1};SCSParser.prototype.EbcdicAscii=function(e){if(this.screen.charsetInfo.sbcsEuroPosition>0&&e==this.screen.charsetInfo.sbcsEuroPosition){if(this.passthrough)e=String.fromCharCode(this.euroAsciiChar);else e=String.fromCharCode(8364)}else e=String.fromCharCode(this.screen.charsetInfo.sbcsMapper[e]);return e};SCSParser.prototype.AddSpoolData=function(){if(!this.screen.spoolFile){this.screen.spoolFile=new SpoolFile(this.screen);if(this.screen.callbacks&&this.screen.callbacks.printJobStartCallback){this.screen.callbacks.printJobStartCallback(this.screen.luType,0);this.screen.updateScreenStatus({printStatus:3})}this.parser.startEndBracketTimer()}if(this.passthrough){this.screen.spoolFile.appendByteContent(this.printBuf);this.printBuf=[]}else{switch(this.decoration){case 0:this.screen.spoolFile.appendLineContent(this.lineText,{});break;case 1:this.screen.spoolFile.appendLineContent(this.lineText,{bold:true});break;case 2:this.screen.spoolFile.appendLineContent(this.lineText,{decoration:"underline"});break;case 3:this.screen.spoolFile.appendLineContent(this.lineText,{decoration:"lineThrough"});break;default:break}this.lineText=""}};SCSParser.prototype.overwriteStringAt=function(e,t,i){return e.substr(0,t)+i+e.substr(t+i.length)};SCSParser.prototype.addLineTextToPos=function(e){let t=this.lineText;this.lineText=t.substr(0,e);this.AddSpoolData();this.lineText=t.substr(e)};SCSParser.prototype.Txch=function(i){if(this.passthrough){if(typeof i==="string")this.printBuf.push(i.charCodeAt(0));else this.printBuf.push(i)}else{switch(i){case BS:if(!this.backSpaceCnt)this.backDecor=this.decoration;this.backSpaceCnt++;break;case CR:if(!this.backSpaceCnt)this.backDecor=this.decoration;this.backSpaceCnt=this.lineText.length;break;case LF:this.lineText+="\r";this.AddSpoolData();this.backSpaceCnt=0;this.backDecor=0;if(this.screen.luType=="LU4")this.decoration=0;break;case FF:this.AddSpoolData();this.backSpaceCnt=0;this.backDecor=0;this.screen.spoolFile.addNewPage();break;default:if(this.backSpaceCnt){let e=this.lineText.length-this.backSpaceCnt;if(e<0)e=0;let t=this.lineText.substr(e,1);if(i!=" "){if(this.screen.luType=="LU4"){if(i===t){if(i===t&&this.decoration!=1){if(i===t){this.decoration=1}}}else{if(t==" "){this.lineText=this.overwriteStringAt(this.lineText,e,i);if(this.decoration!=this.backDecor){this.addLineTextToPos(e);this.decoration=this.backDecor}}}}else{if(i===t||i==="_"||i==="-"){if(i===t&&this.decoration!=1||i==="_"&&this.decoration!=2||i==="-"&&this.decoration!=3){this.addLineTextToPos(e);if(i===t)this.decoration=1;else if(i==="_")this.decoration=2;else if(i==="-")this.decoration=3}}else{if(t==" "){this.lineText=this.overwriteStringAt(this.lineText,e,i);if(this.decoration!=this.backDecor){this.addLineTextToPos(e);this.decoration=this.backDecor}}}}}else{if(t&&t!=" "&&this.decoration!=this.backDecor){this.addLineTextToPos(e);this.decoration=this.backDecor}}this.backSpaceCnt--;if(this.screen.luType!="LU4"){if(!this.backSpaceCnt){this.AddSpoolData();this.decoration=this.backDecor}}}else{this.lineText+=i}break}}return 0};SCSParser.prototype.IHPS=function(){this.mpp=NCOLS;this.lm=1;this.rm=NCOLS;this.hTabs=[]};SCSParser.prototype.IVPS=function(){if(this.passthrough)this.mpl=1;else this.mpl=this.screen.printLayout.linesPerPage;this.tm=1;if(this.passthrough)this.bm=1;else this.bm=this.screen.printLayout.linesPerPage;this.vTabs=[];this.vChans=[]};SCSParser.prototype.ISCS=function(){this.line=1;this.column=1;this.IHPS();this.IVPS();this.gech="-";this.inhib=0;this.ds=0;this.lineSpacing=2;this.lineDistance=240;this.chara=0};SCSParser.prototype.Nuform=function(){let e;let t=0;if(this.passthrough){if(this.mpl==1)t=1}else{if(this.formfeed)t=1}if(t){this.Txch(FF)}else{e=this.mpl-this.line+1;while(e--)this.Txch(LF)}this.line=1;while(this.line!=this.tm){this.Txch(LF);this.line++}return 0};SCSParser.prototype.Pbel=function(){return 0};SCSParser.prototype.SetHt=function(e){if(!e)return;e--;if(e>=this.mpp)return;this.hTabs[e]=255};SCSParser.prototype.ClearHt=function(e){if(!e)return;e--;if(e>=this.mpp)return;this.hTabs[e]=0};SCSParser.prototype.Pshf=function(){let e;let t;this.IHPS();if((e=this.Gnc())==-1)return E1005;e--;t=e;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;if(!e)e=1;if(e>NCOLS)e=NCOLS;if(this.passthrough){this.mpp=e}else{this.mpp=e}t--;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;if(!e)e=1;if(e>this.mpp)e=this.mpp;this.lm=e;this.SetHt(e);t--;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;if(!e)e=this.mpp;if(e>this.mpp)e=this.mpp;if(e<this.lm)e=this.mpp;this.rm=e;t--;if(!t)return 0;while(t--){if((e=this.Gnc())==-1)return E1005;this.SetHt(e)}return 0};SCSParser.prototype.SetVt=function(e){if(e&&e<this.mpl)this.vTabs[e-1]=255;else e=0;if(this.vc>=VCSLEN)return;this.vChans[this.vc++]=e};SCSParser.prototype.Psvf=function(){let e;let t;this.IVPS();if((e=this.Gnc())==-1)return E1005;e--;t=e;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;if(!e)e=1;if(e>NROWS)e=NROWS;this.lastHostLPP=e;if(this.passthrough){this.mpl=e}else{if(!this.override){this.mpl=e}}this.bm=this.mpl;t--;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;if(!e)e=1;if(e>this.mpl)e=this.mpl;this.tm=e;this.vc=0;this.SetVt(e);t--;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;if(!e){e=this.mpl}else{this.lastHostBM=e}if(e>this.mpl)e=this.mpl;if(this.passthrough){this.bm=e}else if(!this.override){this.bm=e}t--;if(!t)return 0;while(t--){if((e=this.Gnc())==-1)return E1005;this.SetVt(e)}return 0};SCSParser.prototype.Psof=function(){let e;if((e=this.Gnc())==-1)return E1005;return 0};SCSParser.prototype.Psld=function(){let e;let t=0;if((e=this.Gnc())==-1)return E1005;e--;switch(e){case 0:t=12;break;case 1:if((e=this.Gnc())==-1)return E1005;if(!e)t=12;else t=e;break;default:return E1005}if(t)this.style.fontSize=t;return 0};SCSParser.prototype.Psgea=function(){let e;let t;this.gea=1;this.gech="-";if((e=this.Gnc())==-1)return E1005;if(!e||e>=4)return E1005;t=e-1;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;e=this.EbcdicAscii(e);if(e<" ")e="-";this.gech=e;t--;if(!t)return 0;if((e=this.Gnc())==-1)return E1005;switch(e){case 0:case 1:case 2:this.gea=1;break;case 3:case 4:this.gea=3;break;default:return E1005}t--;if(t)return E1005;return 0};SCSParser.prototype.Pscg=function(e){let t;let i;if(e==4){if((i=this.Gnc())==-1)return E1005;if((i=this.Gnc())==-1)return E1005;if((i=this.Gnc())==-1)return E1005;t=i*256;if((i=this.Gnc())==-1)return E1005;t+=i}return 0};SCSParser.prototype.Psfg=function(e){let t,i;let n;if(e==5){if((n=this.Gnc())==-1)return E1005;i=n*256;if((n=this.Gnc())==-1)return E1005;i+=n;if((n=this.Gnc())==-1)return E1005;t=n*256;if((n=this.Gnc())==-1)return E1005;t+=n}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pscgl=function(e){let t=0;if(e==1){if((t=this.Gnc())==-1)return E1005}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Psffc=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Pbes=function(e){let t;let i=1;if(e==1){if((t=this.Gnc())==-1)return E1005;this.AddSpoolData();this.decoration=1}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pbac=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Pees=function(e){let t=0;this.AddSpoolData();this.decoration=0;return this.ParamIgnore(e)};SCSParser.prototype.Pstab=function(e){let t,i;let n,r;if(e>=3){if((i=this.Gnc())==-1)return E1005;if(i==0){}else if(i==1){}e--;r=0;while(e){if((t=this.Gnc())==-1)return E1005;if((t=this.Gnc())==-1)return E1005;n=t*256;if((t=this.Gnc())==-1)return E1005;n+=t;this.horizontalTabs[r]=n;if(i==0)this.SetHt(t);r++;e-=3}}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pjtf=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Psil=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Psls=function(e){let t;if(e==1){if((t=this.Gnc())==-1)return E1005;this.lineSpacing=t}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Prlm=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Psjm=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Pshm=function(e){let t;let i,n;if(e>=2){if((t=this.Gnc())==-1)return E1005;i=t*256;if((t=this.Gnc())==-1)return E1005;i+=t;if(i){this.leftMargin=i}if(e==4){if((t=this.Gnc())==-1)return E1005;n=t*256;if((t=this.Gnc())==-1)return E1005;n+=t;if(n){this.rightMargin=n}}else return this.ParamIgnore(e-2)}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pssld=function(e){let t;let i;if(e==2){if((t=this.Gnc())==-1)return E1005;i=t*256;if((t=this.Gnc())==-1)return E1005;i+=t;this.lineDistance=i}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pspps=function(e){let t;let i,n;if(e>=2){if((t=this.Gnc())==-1)return E1005;i=t*256;if((t=this.Gnc())==-1)return E1005;i+=t;if(i){this.pageWidth=i}if(e==4){if((t=this.Gnc())==-1)return E1005;n=t*256;if((t=this.Gnc())==-1)return E1005;n+=t;if(n){this.pageDepth=n}}else return this.ParamIgnore(e-2)}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Psic=function(e){let t;if(e==1){if((t=this.Gnc())==-1)return E1005}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pppm=function(e){let t;let i;let n;let r;let s;let o;let l;if(e>=3){if((t=this.Gnc())==-1)return E1005;if((t=this.Gnc())==-1)return E1005;if((i=this.Gnc())==-1)return E1005;if(e>=4){if((n=this.Gnc())==-1)return E1005;if(e>=5){if((r=this.Gnc())==-1)return E1005;if(e>=6){if((s=this.Gnc())==-1)return E1005;if(e>=7){if((o=this.Gnc())==-1)return E1005;if(e>=8){if((l=this.Gnc())==-1)return E1005}}}}}}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Psvm=function(e){let t;let i,n;if(e>=2){if((t=this.Gnc())==-1)return E1005;i=t*256;if((t=this.Gnc())==-1)return E1005;i+=t;this.topMargin=i;if(e==4){if((t=this.Gnc())==-1)return E1005;n=t*256;if((t=this.Gnc())==-1)return E1005;n+=t;this.bottomMargin=n}else return this.ParamIgnore(e-2)}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pspsu=function(e){return this.ParamIgnore(e)};SCSParser.prototype.Psea=function(e){let t,i;let n;while(e){if((t=this.Gnc())==-1)return E1005;if((i=this.Gnc())==-1)return E1005;if(t<100){this.exceptionActions[t]=i}e-=2}return 0};SCSParser.prototype.Psto=function(e){let t;let i;let n=2;if(e==4){if((i=this.Gnc())==-1)return E1005;if((i=this.Gnc())==-1)return E1005;if((i=this.Gnc())==-1)return E1005;t=i*256;if((i=this.Gnc())==-1)return E1005;t+=i;switch(t){case 0:n=0;break;case 11520:n=1;break;case 23040:n=0;break;case 34560:n=1;break;case 65534:break;case 65535:n=2;break;default:break}if(n==0)this.orientation="portrait";else if(n==1)this.orientation="landscape";else this.orientation=""}else return this.ParamIgnore(e);return 0};SCSParser.prototype.Pbus=function(e){let t;let i=1;if(e>=1){if((t=this.Gnc())==-1)return E1005;this.underscoreWhiteSpace=1;if(e>=2){if((t=this.Gnc())==-1)return E1005;if(t<2){this.underscoreWhiteSpace=1}else if(t==128){this.underscoreWhiteSpace=0}}this.AddSpoolData();this.decoration=2}return 0};SCSParser.prototype.Peus=function(e){this.AddSpoolData();this.decoration=0;return this.ParamIgnore(e)};SCSParser.prototype.Pbos=function(e){let t;if(e>=1){if((t=this.Gnc())==-1)return E1005;this.overstrikeChar=t;this.overstrikeWhiteSpace=1;if(e>=2){if((t=this.Gnc())==-1)return E1005;if(t<2){this.overstrikeWhiteSpace=1}else if(t==128){this.overstrikeWhiteSpace=0}return this.ParamIgnore(e-2)}this.AddSpoolData();this.decoration=3}return 0};SCSParser.prototype.Peos=function(e){this.AddSpoolData();this.decoration=0;return this.ParamIgnore(e)};SCSParser.prototype.GetParamIgnore=function(){let e;if((e=this.Gnc())==-1)return E1005;e--;return this.ParamIgnore(e)};SCSParser.prototype.ParamIgnore=function(e){let t;while(e--){if((t=this.Gnc())==-1)return E1005}return 0};SCSParser.prototype.Pscd=function(e){let t;let i=10;switch(e){case 0:i=10;break;case 1:return E1005;case 2:if((t=this.Gnc())==-1)return E1005;i=t*256;if((t=this.Gnc())==-1)return E1005;i+=t;if(!i||i==255)i=10;break;default:return E1005}if(i)this.style.fontSize=120/i;return 0};SCSParser.prototype.Plac=function(){return this.GetParamIgnore()};SCSParser.prototype.Pir=function(){return this.Prnl()};SCSParser.prototype.Pit=function(){return this.Pht()};SCSParser.prototype.Pahm=function(){let e;let t;if((e=this.Gnc())==-1)return E1005;if(!e)return 0;if(e>this.mpp)return E1005;if(e==this.column)return 0;if(e<this.column){t=this.column-e;this.column=e;e=BS}else{t=e-this.column;this.column=e;e=" "}while(t--)this.Txch(e);return 0};SCSParser.prototype.Pavm=function(){let e;let t;if((e=this.Gnc())==-1)return E1005;if(!e)return 0;if(e>this.mpl&&!(this.screen.is5250&&this.screen.isPrinter))return E1005;if(e==this.line)return 0;if(e<this.line){this.Pff();t=e}else{t=e-this.line}if(this.screen.is5250&&this.screen.isPrinter&&(!this.screen.spoolFile||this.screen.spoolFile.lineIndex==0)){return 0}while(t--)this.Plf();return 0};SCSParser.prototype.Prhm=function(){let e;let t;if((e=this.Gnc())==-1)return E1005;if(!e)return 0;t=e;if(e+this.column>this.mpp)return E1005;this.column+=e;while(t--)this.Txch(" ");return 0};SCSParser.prototype.Prvm=function(){let e;let t;if((e=this.Gnc())==-1)return E1005;if(!e)return 0;t=e;if(e+this.line>this.mpl)return E1005;this.line+=e;while(t--)this.Txch(LF);return 0};SCSParser.prototype.Ppp=function(){let e;if((e=this.Gnc())==-1)return E1005;switch(e){case 74:return this.Prhm();case 76:case 77:case 78:return this.Prvm();case 192:case 193:case 194:return this.Pahm();case 195:return E1003;case 196:case 197:case 198:return this.Pavm();case 199:return E1003;case 200:case 201:return this.Prhm();default:return E1003}};SCSParser.prototype.Ptrn=function(e){let t;let i,n;if((t=this.Gnc())==-1)return E1005;if(!t)return 0;i=t;if(0){}else{if(!e){while(i--){if((t=this.Gnc())==-1)return E1005;n=this.Pgraph(t);if(n)return n}}else{while(i--){if((t=this.Gnc())==-1){if(this.screen.is5250&&this.screen.isPrinter){return 0}else{return E1005}}this.Txch(t)}}}return 0};SCSParser.prototype.Pebs=function(){return 0};SCSParser.prototype.Psbs=function(){return this.Pbs()};SCSParser.prototype.Prff=function(){return this.Pff()};SCSParser.prototype.Pcu3=function(){return 0};SCSParser.prototype.Pdc4=function(){return 0};SCSParser.prototype.Psub=function(){return this.Pgraph(64)};SCSParser.prototype.Pothers=function(t){let e;let i;let n;if(this.screen.charsetInfo.isDBCS&&(this.chara&CHARACTER_SET)==CS_DBCS){if(this.column>this.mpp)this.Pnl();if((i=this.Gnc())==-1)return E1005;if(t==64&&i==64){this.Txch(String.fromCharCode(12288));this.column+=2}else if(t>=65&&i>=64){let e;if(this.screen.charsetInfo.dbcsMapper[t]==null||this.screen.charsetInfo.dbcsMapper[t][i]==null){e=12288}else{e=this.screen.charsetInfo.dbcsMapper[t][i]}this.Txch(String.fromCharCode(e));this.column+=2}else{this.Txch(String.fromCharCode(12288));this.column+=2}return 0}if(this.addToPrintBuff4TrasformOn(t)){e=0}else{switch(t){default:e=this.Pgraph(t);break}}return e};SCSParser.prototype.Prsp=function(){return this.Pgraph(64)};SCSParser.prototype.Pesp=function(){return this.Pgraph(64)};SCSParser.prototype.Pshy=function(){return this.Pgraph(96)};SCSParser.prototype.Pgraph=function(e){if(this.column>this.mpp)this.Pnl();if(e<64){e=this.gech}else{e=this.EbcdicAscii(e);if(e==255)e=this.gech}this.Txch(e);this.column++;return 0};SCSParser.prototype.Psel=function(){let e;if((e=this.Gnc())==-1)return E1005;switch(e){case 80:case 193:case 194:case 96:case 97:case 98:case 99:return 0}e--;if(e<VCSLEN){if(this.line>=this.vChans[e])this.Nuform();if(this.vChans[e]){if(this.vChans[e]>=this.line){do{this.line++;this.Txch(LF)}while(this.vChans[e]!=this.line)}}}return 0};SCSParser.prototype.Pht=function(){let e;if(!this.passthrough||this.bProcessHorzTab){if(this.column>=this.mpp){this.Pnl();this.Txch(" ")}else{e=this.column;while(e<=NCOLS){if(typeof this.hTabs[e-1]!="undefined"&&this.hTabs[e-1]==255){if(this.column!=e){do{this.column++;this.Txch(" ")}while(this.column!=e);return 0}}e++}this.column++;this.Txch(" ")}}else{this.Txch(9)}return 0};SCSParser.prototype.Prnl=function(){return this.Pnl()};SCSParser.prototype.Pge=function(){let e;if((e=this.Gnc())==-1)return E1005;if(e>=64){e-=64}else{return E1005}return 0};SCSParser.prototype.Prpt=function(){return 0};SCSParser.prototype.Pvt=function(){let e;this.Plf();e=this.line;while(e<=NROWS){if(typeof this.vTabs[e-1]!="undefined"&&this.vTabs[e-1]==255){if(this.line!=e){do{this.line++;this.Txch(LF)}while(this.line!=e);return 0}}e++}this.line++;this.Txch(LF);return 0};SCSParser.prototype.Pff=function(){this.Nuform();return this.Pcr()};SCSParser.prototype.Pcr=function(){{this.column=1;this.Txch(CR);while(this.column!=this.lm){this.column++;this.Txch(" ")}}return 0};SCSParser.prototype.Pnl=function(){this.Pcr();return this.Plf()};SCSParser.prototype.Fnl=function(){this.column=255;return this.Pnl()};SCSParser.prototype.Pbs=function(){if(this.column!=1){this.column--;this.Txch(BS)}return 0};SCSParser.prototype.Plf=function(){let e=this.ds+1;if(this.mpl!=1){if(this.bm<=this.line)return this.Nuform();else this.line+=e}else{if(this.screen.is5250&&this.screen.isPrinter&&!this.passthrough){return this.Nuform()}}this.Txch(LF);if(this.ds)this.Txch(LF);return 0};SCSParser.prototype.Psa=function(){let e,t;let i;let n;if((e=this.Gnc())==-1)return E1005;if((t=this.Gnc())==-1)return E1005;if(e==67){if(t==0||t==240){i=CS_DEFAULT;n=0;this.style.font=""}else if(t==241){i=CS_APL;this.style.font=""}else if(t==248){i=CS_DBCS;n=1;this.style.font="chinese_font"}else return E1005;this.chara&=~CHARACTER_SET;this.chara|=i}return 0};SCSParser.prototype.Pcsp=function(){let e;let t,i;if((e=this.Gnc())==-1)return E1005;switch(e){case 193:t=this.Pshf();break;case 194:t=this.Psvf();break;case 195:t=this.Psof();break;case 196:case 197:return E1003;case 198:t=this.Psld();break;case 199:return E1003;case 200:t=this.Psgea();break;case 209:if((e=this.Gnc())==-1)return E1005;i=e-2;if((e=this.Gnc())==-1)return E1005;switch(e){case 1:t=this.Pscg(i);break;case 5:t=this.Psfg(i);break;case 129:t=this.Pscgl(i);break;case 135:t=this.Psffc(i);break;case 138:t=this.Pbes(i);break;case 139:t=this.Pbac(i);break;case 142:t=this.Pees(i);break;default:return this.ParamIgnore(i)}break;case 210:if((e=this.Gnc())==-1)return E1005;i=e-2;if((e=this.Gnc())==-1)return E1005;switch(e){case 1:t=this.Pstab(i);break;case 3:t=this.Pjtf(i);break;case 7:t=this.Psil(i);break;case 9:t=this.Psls(i);break;case 11:t=this.Prlm(i);break;case 13:t=this.Psjm(i);break;case 17:t=this.Pshm(i);break;case 21:t=this.Pssld(i);break;case 41:t=this.Pscd(i);break;case 64:t=this.Pspps(i);break;case 69:t=this.Psic(i);break;case 72:t=this.Pppm(i);break;case 73:t=this.Psvm(i);break;case 76:t=this.Pspsu(i);break;case 133:t=this.Psea(i);break;default:return this.ParamIgnore(i)}break;case 211:if((e=this.Gnc())==-1)return E1005;i=e-2;if((e=this.Gnc())==-1)return E1005;switch(e){case 246:t=this.Psto(i);break;default:return this.ParamIgnore(i)}break;case 212:if((e=this.Gnc())==-1)return E1005;i=e-2;if((e=this.Gnc())==-1)return E1005;switch(e){case 10:t=this.Pbus(i);break;case 14:t=this.Peus(i);break;case 114:t=this.Pbos(i);break;case 118:t=this.Peos(i);break;default:return this.ParamIgnore(i)}break;case 253:t=this.GetParamIgnore();break;case 254:t=this.Plac();break;case 48:if(this.addToPrintBuff4TrasformOn(e)){t=0;break}default:return E1003}return t};SCSParser.prototype.Invalid=function(){this.Txch(this.gech);this.column++;return 0};SCSParser.prototype.ScsCommand=function(e){let t=0;let i;if(e>=64){t=this.Pothers(e)}else{switch(e){case 0:t=0;break;case 1:case 2:break;case 3:t=this.Ptrn(true);break;case 4:t=this.Psel();break;case 5:t=this.Pht();break;case 6:t=this.Prnl();break;case 7:break;case 8:t=this.Pge();break;case 9:break;case 10:t=this.Prpt();break;case 11:t=this.Pvt();break;case 12:if(!this.bIgnoreFF)t=this.Pff();break;case 13:t=this.Pcr();break;case 14:if(this.screen.charsetInfo.isDBCS){this.chara&=~CHARACTER_SET;this.chara|=CS_DBCS;i=1}else if(this.passhrough){this.Txch(this.EbcdicAscii(14))}break;case 15:if(this.screen.charsetInfo.isDBCS){this.chara&=~CHARACTER_SET;this.chara|=CS_DEFAULT;i=0}else if(this.passhrough){this.Txch(this.EbcdicAscii(15))}break;case 16:case 17:case 18:case 19:break;case 20:this.inhib=0;break;case 21:t=this.Pnl();break;case 22:t=this.Pbs();break;case 23:if((e=this.Gnc())==-1)return E1005;if((e=this.Gnc())==-1)return E1005;break;case 24:case 25:case 26:break;case 27:this.addToPrintBuff4TrasformOn(e);break;case 28:t=this.Pnl();break;case 29:t=this.Pnl();break;case 30:t=this.Pnl();break;case 31:t=this.Pgraph(64);break;case 32:case 33:case 34:case 35:this.addToPrintBuff4TrasformOn(e);break;case 36:this.inhib=1;break;case 37:t=this.Plf();break;case 38:this.addToPrintBuff4TrasformOn(e);break;case 39:this.Txch(ESC);break;case 40:t=this.Psa();break;case 41:break;case 42:break;case 43:this.addToPrintBuff4TrasformOn(e);t=this.Pcsp();break;case 44:case 45:case 46:this.addToPrintBuff4TrasformOn(e);break;case 47:this.addToPrintBuff4TrasformOn(e);break;case 48:case 49:case 50:this.addToPrintBuff4TrasformOn(e);break;case 51:if(this.addToPrintBuff4TrasformOn(e)){t=0}else{t=this.Pir()}break;case 52:if(this.addToPrintBuff4TrasformOn(e)){t=0}else{t=this.Ppp()}break;case 53:if(this.addToPrintBuff4TrasformOn(e)){t=0}else{t=this.Ptrn(this.passthrough)}break;case 54:if(this.addToPrintBuff4TrasformOn(e)){t=0}else{t=this.Ptrn(true)}break;case 55:this.addToPrintBuff4TrasformOn(e);break;case 56:if(this.addToPrintBuff4TrasformOn(e)){t=0}else{t=this.Psbs()}break;case 57:if(this.addToPrintBuff4TrasformOn(e)){t=0}else{t=this.Pit()}break;case 58:if(!this.bIgnoreFF)t=this.Prff();break;case 59:t=this.Pcu3();break;case 60:t=this.Pdc4();break;case 61:case 62:this.addToPrintBuff4TrasformOn(e);break;case 63:t=this.Psub();break;default:t=this.Invalid();break}}return t};SCSParser.prototype.addToPrintBuff4TrasformOn=function(e){var t=false;if(this.screen.is5250&&this.screen.isPrinter&&this.passthrough&&this.screen.printer?.IBMTRANSFORM){t=true}if(t){this.Txch(e)}return t};SCSParser.prototype.ScsEntry=function(e){let t;let i=0;this.scsData=e;this.scsDataPos=0;if(this.passthrough>2){while((t=this.Gnc())!=-1){this.Txch(t)}}else{while((t=this.Gnc())!=-1){if(i=this.ScsCommand(t))break}}if(!i){if(this.screen.luType=="LU4"){if(this.printBuf.length)this.AddSpoolData()}else{if(this.lineText.length||this.printBuf.length)this.AddSpoolData()}}if(this.screen.luType!="LU4"){this.decoration=0;this.lineText="";this.backSpaceCnt=0;this.backDecor=0}this.printBuf=[];return i};var _global=typeof window==="object"&&window.window===window?window:typeof self==="object"&&self.self===self?self:typeof global==="object"&&global.global===global?global:this;function bom(e,t){if(typeof t==="undefined")t={autoBom:false};else if(typeof t!=="object"){console.warn("Deprecated: Expected third argument to be a object");t={autoBom:!t}}if(t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e}function download(e,t,i){var n=new XMLHttpRequest;n.open("GET",e);n.responseType="blob";n.onload=function(){saveAs(n.response,t,i)};n.onerror=function(){console.error("could not download file")};n.send()}function corsEnabled(e){var t=new XMLHttpRequest;t.open("HEAD",e,false);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function click(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",true,true,window,0,0,0,80,20,false,false,false,false,0,null);t.dispatchEvent(i)}}var isMacOSWebView=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent);var saveAs=_global.saveAs||(typeof window!=="object"||window!==_global?function e(){}:"download"in HTMLAnchorElement.prototype&&!isMacOSWebView?function e(t,i,n){var r=_global.URL||_global.webkitURL;var s=document.createElement("a");i=i||t.name||"download";s.download=i;s.rel="noopener";if(typeof t==="string"){s.href=t;if(s.origin!==location.origin){corsEnabled(s.href)?download(t,i,n):click(s,s.target="_blank")}else{click(s)}}else{s.href=r.createObjectURL(t);setTimeout(function(){r.revokeObjectURL(s.href)},4e4);setTimeout(function(){click(s)},0)}}:"msSaveOrOpenBlob"in navigator?function e(t,i,n){i=i||t.name||"download";if(typeof t==="string"){if(corsEnabled(t)){download(t,i,n)}else{var r=document.createElement("a");r.href=t;r.target="_blank";setTimeout(function(){click(r)})}}else{navigator.msSaveOrOpenBlob(bom(t,n),i)}}:function e(t,i,n,r){r=r||open("","_blank");if(r){r.document.title=r.document.body.innerText="downloading..."}if(typeof t==="string")return download(t,i,n);var s=t.type==="application/octet-stream";var o=/constructor/i.test(_global.HTMLElement)||_global.safari;var l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o||isMacOSWebView)&&typeof FileReader!=="undefined"){var a=new FileReader;a.onloadend=function(){var e=a.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;");if(r)r.location.href=e;else location=e;r=null};a.readAsDataURL(t)}else{var c=_global.URL||_global.webkitURL;var u=c.createObjectURL(t);if(r)r.location=u;else location.href=u;r=null;setTimeout(function(){c.revokeObjectURL(u)},4e4)}});_global.saveAs=saveAs.saveAs=saveAs;if(typeof module!=="undefined"){module.exports=saveAs}var fileSaver={};fileSaver.saveAs=_global.saveAs;window.fileSaver=fileSaver;makeSubclass(Virtual3270Screen,VirtualBlockScreen,[Virtual3270Screen.showScreen,Virtual3270Screen.autoType,Virtual3270Screen.handleClick,Virtual3270Screen.handleContextMenu,Virtual3270Screen.handleDoubleClick,Virtual3270Screen.handleResizeComplete,Virtual3270Screen.connect,Virtual3270Screen.handleFunction]);makeSubclass(TN3270Parser,TelnetParser);var IMPLICIT_PARTITION=-1;function GOCAHandlerContext(){this.pendingControlChunks=[];this.pendingPictureChunks=[];this.pendingDataChunks=[]}makeSubclass(FieldData3270,FieldData);function FieldData3270(e,t){this.attributes=e;this.precedingSBA=null;this.position=t;this.length=null}FieldData3270.prototype.setUnmodified=function(){this.attributes.standardAttribute&=254};FieldData3270.prototype.setModified=function(){this.attributes.standardAttribute|=1};FieldData3270.prototype.isModified=function(){var e=this.attributes.standardAttribute&1;protocolLogger.debug("FieldData: pos="+this.position+" modified="+e);return e};FieldData3270.prototype.isAutoSkip=function(){let e=TN3270E_FIELD_ATTRIBUTE_PROTECTED|TN3270E_FIELD_ATTRIBUTE_NUMERIC;return(this.attributes.standardAttribute&e)===e};FieldData3270.prototype.isNoDisplay=function(){return(this.attributes.standardAttribute&TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK)==TN3270E_FIELD_ATTRIBUTE_NO_DISPLAY_NOT_DETECTABLE};FieldData3270.prototype.isNoDetectable=function(){return(this.attributes.standardAttribute&TN3270E_FIELD_ATTRIBUTE_DISPLAY_MASK)==TN3270E_FIELD_ATTRIBUTE_DISPLAY_NOT_DETECTABLE};FieldData3270.prototype.isEditable=function(){return(this.attributes.standardAttribute&TN3270E_FIELD_ATTRIBUTE_PROTECTED)==0};FieldData3270.prototype.isMultiLine=function(e,t){if(this.length){if(this.length>e){return true}else{const i=Math.floor(this.position/e);const n=this.endPostion(e*t);const r=Math.floor(n/e);if(i!==r&&(i+1)*e!==n){return true}else{return false}}}return false};FieldData3270.prototype.isCrossScreenField=function(e,t){if(this.length){const i=(this.position+this.length)%e*t;return i<=this.position}return false};FieldData3270.prototype.endPostion=function(e){if(this.length){return Math.floor((this.position+this.length)%e)}return this.position};FieldData3270.prototype.toString=function(){return"<FieldData3270:  position="+this.position+" color=0x"+hex(this.attributes.color)+" attr=0x"+hex(this.attributes.standardAttribute)+(this.attributes.inputControl!=0?" SO/SI allowed":"")+(this.attributes.characterSet!=0?" charset=0x"+hex(this.attributes.characterSet):"")+">"};const BUFFER_ADDR_SIX_TO_EIGHT=[64,193,194,195,196,197,198,199,200,201,74,75,76,77,78,79,80,209,210,211,212,213,214,215,216,217,90,91,92,93,94,95,96,97,226,227,228,229,230,231,232,233,106,107,108,109,110,111,240,241,242,243,244,245,246,247,248,249,122,123,124,125,126,127];const PARTITION_STATE_IMPLICIT=0;const PARTITION_STATE_EXPLICIT=1;const EnumEmulMode={LULU:1,SSCPLU:2,NVT:3};function Virtual3270Screen(e,t,i,n,r){this.is3270=true;this.connectState=CONNECT_STATE_DISCONNECTED;this.canvas=e||null;this.selectionCanvas=t||null;this.oiaEnabled=1;this.width=i||DEFAULT_SCREEN_WIDTH;this.height=n||DEFAULT_SCREEN_HEIGHT;this.oiaType=OIA_TYPE_ENUM.PCOMM;this.oiaArray=new OIAArray(this,this.width);this.previewCharCode=new Array(this.height*this.width);this.renderer=null;this.defaultWidth=this.width;this.defaultHeight=this.height;this.firstErase=true;this.outgoingMessages=[];this.webSocket=null;this.parentDiv=r||null;this.div=null;this.modifierKeyState=0;this.selectionStartRow=null;this.selectionStartColumn=null;this.selectionEndRow=null;this.selectionEndColumn=null;this.selectionMouseIsDown=false;this.selectionMouseIsDrag=false;this.selectionColor="rgb(255,255,255)";this.rendererSettings=null;this.hotspotDefinitions=null;this.hotspotPreferences=null;this.hotspots=new Array;this.hotspotsDiv=null;this.username="";this.password="";this.size=this.height*this.width;this.screenElements=new Array(this.size);this.isFormatted=false;this.fields={};this.clear();this.cursorPos=0;this.bufferPos=0;this.gocaWidth=0;this.gocaHeight=0;this.gocaElements=new Array(0);this.defaultCharsetInfo=VirtualBlockScreen.defaultCharsetInfo;this.charsetInfo=VirtualBlockScreen.defaultCharsetInfo;tecoreLogger.debug("charsetInfo = "+this.charsetInfo);this.fieldInfoUpToDate=false;this.renderTimes=0;this.dynamicAlternateWidth=this.modelAlternateWidth=DEFAULT_SCREEN_WIDTH;this.dynamicAlternateHeight=this.modelAlternateHeight=DEFAULT_SCREEN_HEIGHT;this.contextCallback=null;this.gocaHandlerContext=new GOCAHandlerContext;this.currentScriptExecutionContext=null;this.setID();this.sessionType="3270";this.sessionDeviceName="";this.keyMapping=keyNameMap;this.undefinedFallbackState=undefinedBlockFallbackState;this.deviceType=TN3270E_DEVICE_TYPE_3278_2;this.enableTN3270E=true;this.enableTN3270EExtensions=true;this.tn3270eConnectionFunctions=null;this.usingTN3270E=false;this.usingOldJSON=false;this.insertMode=false;this.replyMode=TN3270_REPLY_MODE_FIELD;this.emulMode=EnumEmulMode.NVT;this.isSystemRequesting=false;this.partitionNumber=0;this.partitionState=PARTITION_STATE_IMPLICIT;this.partitions={0:{amode:false,size:this.size}};this.partition={aid:96,wcc:2,replyMode:0,replyModeMask:"",characterAttributeMask:"",keyboardLocked:0};this.useAlternateSize=false;this.lockedByScripting=false;this.lockedByError=false;this.isKeyboardReady=false;this.wheelLeftover=0;this.pblock={inReceiveState:0,tlock:0,dirtyBuffer:false};this.keepAliveTimer=null;this.requestFlag={sendDataIndicator:0,kbRstroreIndicator:0};this.negativeResponseCode=-1;this.errorAttributeList=new Map;this.ignoreProgError=true;this.inputProhibitExclusion=["Reset","Attn","Sys Req"];this.m_nBound=false;this.isSmallerScreenSize=false;this.nvtDataStartPostion=0;this.firewall={passwordPrompt:"password"},this.autoResetOptions={isAutoReset:false,isAutoTab:false,isImmediate:false,isPressNextKey:false};this.rapidLeftRight=true;this.autoSkipBackspace=false;this.destructiveBackspace=false;this.dbClick2Selected=false;this.autoCopy=false;this.isPrinter=false;this.bindTimer=null;this.ppos=0;this.maxcol=0;this.column=0;this.spaces=0;this.sol=0;this.NL132=false;this.endBracketTimer=null;this.lastSpoolTime=0;this.enableContinuePaste=false;this.mfaUserId="";this.mfaUserPos=0;this.mfaToken="";this.mfaPasswordPos=0;this.isLoginPage=false;this.mfaType="zMFA";this.mfaCookie={};this.mfaConfig=DEFAULT_MFA_CONFIG;this.recordReday=true;this.indfile=new Indfile(this);this.dbcsAdjustPos=false;this.hostBell={enable:true,frequency:650,duration:100};this.fieldValidation3270=true;this.typeAheadTimer=0;this.typeAheadQueue=[];this.isPrintScreen=false;this.insertShiftOut=false;this.retryConnect=JSON.parse(JSON.stringify(DEFAULT_CONFIG.retryConnect));this.negotiationSuccess=false;this.backUpList=[];this.useBackUpIndex=0;this.activeBackUpIndex=0;this.nonNullSpaceAttributes=[0,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,DBCS_SHIFT_OUT,DBCS_SHIFT_IN]}Virtual3270Screen.prototype.getProtocolType=function(){return TERMINAL_PROTOCOL_TN3270};Virtual3270Screen.prototype.getAlternateWidth=function(){if(this.deviceType){if(this.deviceType===TN3270E_DEVICE_TYPE_DYNAMIC||this.deviceType===TN3270E_DEVICE_TYPE_DYNAMIC_3279){return this.dynamicAlternateWidth}return this.deviceType.width}else{return DEFAULT_SCREEN_WIDTH}};Virtual3270Screen.prototype.getAlternateHeight=function(){if(this.deviceType){if(this.deviceType===TN3270E_DEVICE_TYPE_DYNAMIC||this.deviceType===TN3270E_DEVICE_TYPE_DYNAMIC_3279){return this.dynamicAlternateHeight}return this.deviceType.height}else{return DEFAULT_SCREEN_HEIGHT}};var TN3270EFunctions=function(e,t,i,n,r,s,o){this.bindImage=e;this.responses=t;this.sysReq=i;this.snaSense=n;this.scsCtl=r;this.streamCtl=s;this.contentionResolution=o};Virtual3270Screen.prototype.handleTripleClick=function(e,t,i,n){eventLogger.debug("triple click in 3270 is not implemented")};Virtual3270Screen.prototype.setDeviceType=function(e){if(e){if(e.type>0&&e.type<=9){this.deviceType=e}else{protocolLogger.warn("Could not set device type, "+e.type+" not a valid number")}}};Virtual3270Screen.prototype.getDeviceType=function(){return this.deviceType};Virtual3270Screen.prototype.getProperties=function(){var e={shortName:this.sessionShortName,longName:this.sessionLongName,sessionType:this.sessionType,eabSupport:true,pssSupport:false,rows:this.height,columns:this.width,codePage:this.charsetInfo.name};return e};Virtual3270Screen.prototype.clickMove=function(e,t){this.dbcsAdjustPos=false;eventLogger.debug("Element at pos="+t+" is="+this.screenElements[t]);var i=this.getInputContext(t);eventLogger.debug("context is "+JSON.stringify(i));if(e.rows>=this.height||e.columns>=this.width){return}if(this.emulMode!==EnumEmulMode.NVT){this.setCursorPos(t)}if(this.recorder){var n=this.getScriptRowColumnFromPosition(this.cursorPos);if(this.oiaProgramMessage===X_HOST_PROCESSING||this.lockedByScripting){let e={};e.type="RECORD_SETCURSOR";e.rowCol=n;this.typeAheadQueue.push(e)}else{this.recorder.setCursor(n.row,n.column)}}if(this.lockedByError||!this.isKeyboardReady){this.autoReleaseLock(false)}this.renderer.paintUpperCanvas()};Virtual3270Screen.prototype.handleClick=function(e,t,i,n){this.clickMove(i,n)};Virtual3270Screen.prototype.autoType=function(t,e){let r=this.dbcsAttributes;let s=false;let o=[];if(this.renderer){var l;if(this.charsetInfo.dbcsMapper!=null){var i=this.getLastShiftOutPosition();var a=i==this.cursorPos;l=this.getDBCSEbcdicArrayForUnicodeString(t,a,o,false)}else{l=[];for(var c=0;c<t.length;c++){ebcdicChar=this.getEbcdicForUnicode(t.charCodeAt(c));l.push(ebcdicChar)}}var c;var u=l.length;if(e){if(e<l.length){u=e}}if(this.charsetInfo.dbcsMapper!=null&&this.insertMode){u=this.checkDbcsInsertFit(l)}let n=false;for(c=0;c<u;c++){let i=this.getFieldData(this.cursorPos,true);if(i){if(this.charsetInfo.isDBCS){if(l[c]==DBCS_SHIFT_OUT&&!i.attributes.characterSet&&!i.attributes.inputControl){this.displayOIAOpStatus(X_TOO_MUCH);this.renderer.fullPaint();return true}}let e=this.numAvailablePos(i);let t=this.dbcsFitTest(l,c,i,r);if(t>i.position+i.length-this.cursorPos||this.charsetInfo.dbcsMapper!=null&&this.insertMode&&t>e){if(this.insertMode&&(e<t||!e)){if(e<t){if(n)this.finishDBCSInsert(r)}this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}if(t==4){this.displayOIAOpStatus(X_TOO_MUCH);break}if(t==3){l.splice(c,0,DBCS_SHIFT_IN);t=0}s=true}if(t==1&&i.attributes.characterSet==CHARACTER_SET_DBCS){this.displayOIAOpStatus(X_TOO_MUCH);this.renderer.fullPaint();return true}}if(this.insertMode){this.adjustdbcsAttributes(r,i)}let e=this.handleCharCodeInput(l[c],true,false,true);n=true;if(e&&this.recorder){if(i&&i.isNoDisplay()){if(i.position!=this.lastNondisplayFieldPos){this.lastNondisplayFieldPos=i.position;this.recorder.promptPassword()}}else{if(!this.charsetInfo.dbcsMapper){this.recorder.bufferChar(t[c])}else{if(o[c]>=0){this.recorder.bufferChar(t[o[c]])}}}}else if(!e&&this.charsetInfo.isDBCS&&!this.isHexEntry&&c<l.length-1){this.cursorPos++}if(s){this.modifyCursorPos(1);this.displayOIAOpStatus(X_TOO_MUCH);break}}if(this.charsetInfo.dbcsMapper!=null&&n){if(!this.insertMode){this.finishDBCSInput(r)}else{this.finishDBCSInsert(r)}}this.renderer.fullPaint();return true}return false};Virtual3270Screen.prototype.pasteColumnAligned=function(n){const l=this.cursorPos%this.width;let a=this.cursorPos;let c=false;let u=this.dbcsAttributes;let h=[];for(let i=0;i<n.length;i++){let r=n[i];let e=r.replace(/\r/g,"");r=e;this.cursorPos=a+this.width*i;let t=[];if(this.charsetInfo.dbcsMapper!=null){var d=this.getLastShiftOutPosition();var p=d==this.cursorPos;t=this.getDBCSEbcdicArrayForUnicodeString(r,p,h,true)}else{t=[];for(var f=0;f<r.length;f++){let e=this.getEbcdicForUnicode(r.charCodeAt(f));t.push(e)}}r=t;if(this.charsetInfo.dbcsMapper!=null&&this.insertMode){end=this.checkDbcsInsertFit(r)}let s=n.length===1?r.length:Math.min(this.width-l,r.length);let o=false;for(let n=0;n<s;n++){const E=this.getFieldData(this.cursorPos,true);const T=E.attributes;if(r[n]===5){this.actionTab();continue}if((E.position===this.cursorPos||T.isProtected())&&!this.insertMode){this.cursorPos++;continue}if(this.charsetInfo.isDBCS){if(r[n]==DBCS_SHIFT_OUT&&!E.attributes.characterSet&&!E.attributes.inputControl){this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}}let e=this.numAvailablePos(E);let t=this.dbcsFitTest(r,n,E,u);if(t>E.position+E.length-this.cursorPos||this.charsetInfo.dbcsMapper!=null&&this.insertMode&&t>e){if(this.insertMode&&(e<t||!e)){if(e<t){if(o)this.finishDBCSInsert(u)}this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}if(t==4){if(o){if(this.charsetInfo.dbcsMapper!=null&&!this.insertMode){this.finishDBCSInput(u)}}this.actionTab();o=false;if(this.cursorPos<=l){if(this.renderer){this.renderer.fullPaint()}return false}}if(t==3){r.splice(n,0,DBCS_SHIFT_IN,DBCS_SHIFT_OUT);t=1;s+=2;c=true}}if(t==1&&E.attributes.characterSet==CHARACTER_SET_DBCS){this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}const _=this.cursorPos,g=Math.floor(_/this.width);if(this.insertMode){this.adjustdbcsAttributes(u,E)}let i=this.enterCharacterAtCursor(r[n],true,false,true);if(i){if(r[n+1]===5){continue}else{this.cursorPos++}}o=true;if(!i&&(this.charsetInfo.isDBCS&&n<r.length)){this.cursorPos++}if(c){element=this.screenElements[this.cursorPos+1];elementChar=element.isModified?element.inputEbcdicChar:element.ebcdicChar;if(elementChar==DBCS_SHIFT_IN){element.inputEbcdicChar=64;element.isModified=true}c=false;bSavePos=this.cursorPos;this.actionTab();o=false}if(g===Math.floor(this.cursorPos/this.width)&&this.cursorPos-_>0){n+=this.cursorPos-_-1}}if(this.charsetInfo.dbcsMapper!=null&&o){if(!this.insertMode){this.finishDBCSInput(u)}else{this.finishDBCSInsert(u)}}}if(this.renderer){this.renderer.fullPaint()}return true};Virtual3270Screen.prototype.pasteScreenUnformat=function(i){let n=this.cursorPos%this.width;const r=n===0;const s=n===this.width-1;const o=[];let l=false;for(let t=0;t<i.length;t++){const u=t===i.length-1;let e=i[t].replace(/\r?\n|\r/g,"");if(e.length===0){if(u&&l){o.push("")}l=true}else{l=false;o.push(e);if(u&&s){o.push("")}}}const a=o.length>1;let c=0;for(let i=0;i<o.length;i++){const u=i===o.length-1;let e=false;let t=o[i];if(a&&!r&&t.length+n>this.width){e=u;t=t.slice(0,this.width-n)}if(t.length>0){for(let e=0;e<t.length;e++){if(!this.enableContinuePaste&&c>this.cursorPos){if(this.renderer){this.renderer.fullPaint()}return true}c=this.cursorPos;const h=this.getEbcdicForUnicode(t.charCodeAt(e));switch(h){case 5:{this.actionTab();break}default:this.actionEnterCharacter(h,false,true)}}}if(a&&!u){if(r){this.actionNewLine()}else{this.actionArrowKey((this.width-this.cursorPos%this.width+n)%this.width)}}if(e&&!s||s&&u&&t.length>0){this.actionArrowKey(n)}}if(this.renderer){this.renderer.fullPaint()}return true};Virtual3270Screen.prototype.paste=function(t){if(this.oiaProgramMessage===X_HOST_PROCESSING){tecoreLogger.debug("Put Paste in Type Ahead queue");let e={};e.type="PASTE";e.pasteData=t;this.typeAheadQueue.push(e);return}if(this.recorder){this.recorder.bufferChar(t)}t=this.replaceOutOfRangChar(t);if(this.pasteOption?.tabReplace){const i=Number(this.pasteOption?.treatAsSpaceCount)||4;const e=(()=>{let e="";for(var t=0;t<i;t++){e+=" "}return e})();t=t.replaceAll("\t",e)}let n=t.split("\n");if(n[n.length-1]===""){n.splice(-1,1)}let o=this.cursorPos%this.width;let l=false;let a=0;let c=this.dbcsAttributes;let u=[];if(!this.isFormatted){return this.pasteScreenUnformat(n)}if(!this.pasteOption||!this.pasteOption.skipSpace||this.pasteOption.pasteMethod==="columnsAligned"){return this.pasteColumnAligned(n)}let h;let d=this.cursorPos;eventLogger.debug("Pasting text starting at "+this.cursorPos+", length="+t.length+", lines="+n.length);for(let i=0;i<n.length;i++){let r=n[i];let e=r.replace(/\r/g,"");r=e;let t=[];if(this.charsetInfo.dbcsMapper!=null){var p=this.getLastShiftOutPosition();var f=p==this.cursorPos;t=this.getDBCSEbcdicArrayForUnicodeString(r,f,u,true)}else{t=[];for(var E=0;E<r.length;E++){let e=this.getEbcdicForUnicode(r.charCodeAt(E));t.push(e)}}r=t;if(this.charsetInfo.dbcsMapper!=null&&this.insertMode){end=this.checkDbcsInsertFit(r)}let s=false;for(let n=0;n<r.length;n++){h=this.getFieldData(this.cursorPos,true);if(r[n]===5){this.actionTab();continue}else{if(!h||!h.isEditable()||this.cursorPos==h.position){this.actionTab();h=this.getFieldData(this.cursorPos,true)}}if((i||n)&&this.cursorPos<=d){eventLogger.warn("Stopped pasting content at line="+(i+1)+" because the cursor wrapped around to top of screen");if(a){this.setCursorPos(a,true)}if(this.renderer){this.renderer.fullPaint()}return false}if(h&&this.cursorPos==h.position+1){while(n<r.length&&r[n]==32)n++}if(n<r.length&&r[n]!=13){if(this.charsetInfo.isDBCS){if(r[n]==DBCS_SHIFT_OUT&&!h.attributes.characterSet&&!h.attributes.inputControl){this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}}let e=this.numAvailablePos(h);let t=this.dbcsFitTest(r,n,h,c);if(t>h.position+h.length-this.cursorPos||this.charsetInfo.dbcsMapper!=null&&this.insertMode&&t>e){if(this.insertMode&&(e<t||!e)){if(e<t){if(s)this.finishDBCSInsert(c)}this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}if(t==4){if(s){if(this.charsetInfo.dbcsMapper!=null&&!this.insertMode){this.finishDBCSInput(c)}}this.actionTab();s=false;n--;continue}if(t==3){r.splice(n,0,DBCS_SHIFT_IN,DBCS_SHIFT_OUT);t=1;l=true}}if(t==1&&h.attributes.characterSet==CHARACTER_SET_DBCS){this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.fullPaint()}return true}if(this.insertMode){this.adjustdbcsAttributes(c,h)}let i=this.enterCharacterAtCursor(r[n],true,false);if(i){this.cursorPos++}s=true;if(!i&&(this.charsetInfo.isDBCS&&n<r.length&&!l)){this.cursorPos++}if(l){element=this.screenElements[this.cursorPos+1];elementChar=element.isModified?element.inputEbcdicChar:element.ebcdicChar;if(elementChar==DBCS_SHIFT_IN){element.inputEbcdicChar=64;element.isModified=true}l=false;a=this.cursorPos;this.actionTab();s=false}}}if(this.charsetInfo.dbcsMapper!=null&&s){if(!this.insertMode){this.finishDBCSInput(c)}else{this.finishDBCSInsert(c)}}if(i+1<n.length&&this.cursorPos%this.width!=o||!r.length){let e=this.cursorPos;if(e%this.width<=o&&r.length){while(e%this.width!=o)e++}else{while(e%this.width)e++;e+=o}if(e>=this.size){this.setCursorPos(0);this.actionNextInputField()}else{this.setCursorPos(e);h=this.getFieldData(this.cursorPos,true);if(!h||!h.isEditable()||this.cursorPos==h.position){this.actionNextInputField()}}}}h=this.getFieldData(this.cursorPos,true);if(!h||!h.isEditable()||this.cursorPos==h.position){this.actionNextInputField()}if(this.renderer){this.renderer.fullPaint()}return true};Virtual3270Screen.prototype.formatElement=function(e){let t=this.previewCharCode[e.position];if(!t){t=e.isModified?e.inputEbcdicChar:e.ebcdicChar}if(t<64){if(!this.renderer.showNullCharacter||this.renderer.showNullCharacter&&t!=0){let e=[TN3270E_FORMAT_CONTROL_ORDERS_DUP,TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK];if(this.renderer.showSISO){e.push(DBCS_SHIFT_OUT);e.push(DBCS_SHIFT_IN)}if(e.indexOf(t)<0){t=64}}}let i=0;if(e.isGraphicEscape){i|=TEXT_RENDER_GRAPHIC;e.displayChar=geToUnicode[t]}else{if(t===this.charsetInfo.sbcsEuroPosition){e.displayChar=8364}else if(t===TN3270E_FORMAT_CONTROL_ORDERS_DUP||t===TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK){e.displayChar=displayCharTable.find(e=>{return e.ebcdicChar===t}).unicodeChar;if(this.renderer.dualCaseMode){i|=TEXT_RENDER_TOPSCORE;e.isTopscore=true}}else if(t===DBCS_SHIFT_OUT&&this.renderer.showSISO){e.displayChar=123}else if(t===DBCS_SHIFT_IN&&this.renderer.showSISO){e.displayChar=125}else if(this.renderer.showNullCharacter&&(t===0||t===64)){e.displayChar=displayCharTable.find(e=>{return e.ebcdicChar===t}).unicodeChar}else{e.displayChar=this.renderer.unicodeConversionTable[t]}}const n=e.field;const r=n!==null?n.fieldData:null;if(r&&(r.isEditable()&&e.position===r.position)){i=0;e.isNoDisplay=true;return}const s=e.characterAttributes;const o=r!==null?r.attributes:null;let l=TN3270E_EXTENDED_ATTRIBUTES_NO_HIGHLIGHTING;if(s!==null){if(s.extendedHighlighting==TN3270E_EXTENDED_ATTRIBUTES_NO_HIGHLIGHTING){l=o!==null?o.extendedHighlighting:TN3270E_EXTENDED_ATTRIBUTES_NO_HIGHLIGHTING}else if(s.extendedHighlighting==0){l=o!==null?o.extendedHighlighting:TN3270E_EXTENDED_ATTRIBUTES_NO_HIGHLIGHTING}else{l=s.extendedHighlighting}}else if(o!==null){l=o.extendedHighlighting}switch(l){case 241:i|=TEXT_RENDER_BLINK;e.isBlink=true;break;case 242:i|=TEXT_RENDER_REVERSE;e.isReverse=true;break;case 244:i|=TEXT_RENDER_UNDERSCORE;e.isUnderscore=true;break}e.renderingAttributes=i};Virtual3270Screen.prototype.getFieldColor=function(e){var t=e!=null?e.attributes:null;if(t!=null){return this.renderer.get3270Color(t)}else{if(e&&e.isNoDisplay()){return noColor}colorLogger.debug("No field attributes, setting color to low unprotected");return this.renderer.lowUnprotected}};Virtual3270Screen.prototype.getOverrideElements=function(){const e=this.screenElements.filter(e=>{return e&&e.characterAttributes!==null}).map(e=>{return{position:e.position,displayChar:e.displayChar,isGraphicEscape:e.isGraphicEscape,isBlink:e.isBlink,isReverse:e.isReverse,isUnderscore:e.isUnderscore,isNoDisplay:e.isNoDisplay,color:{background:this.renderer.background,foreground:this.renderer.getColor(e,e.field)}}});return e};Virtual3270Screen.prototype.getFormatedField=function(e){const t={length:e.length,position:e.position,isEditable:e.isEditable(),isModified:e.isModified(),isNoDisplay:e.isNoDisplay(),hasOutLine:e.attributes&&e.attributes.outlining!==0};if(!t.isNoDisplay){const r=this.getFieldColor(e);t.color={backgound:this.renderer.background,foreground:r===noColor?"invisible":r}}const i=[];let n=t.position+1;for(let e=0;e<t.length;e++){if(e+n>=this.size){n=0-e}i.push(this.screenElements[e+n].displayChar)}t.text=String.fromCharCode.apply(null,i);t.isNumeric=(e.attributes.standardAttribute&TN3270E_FIELD_ATTRIBUTE_NUMERIC)>0;return t};Virtual3270Screen.prototype.getScreenContents=function(e,t,i,n,r,s,o,l,a,c,u){var h=[];var d=this.dbcsAttributes;let p=navigator.userAgent.indexOf("Windows")!==-1?true:false;let f=this.renderer.getEbcdicForUnicode(13);let E=this.renderer.getEbcdicForUnicode(10);n=this.adjustEndSelectRow(i,n);t=this.adjustEndSelectColumn(e,t);if(Number(t)<0)t=this.width;const T=i*this.width+e;const _=(n-1)*this.width+t;if(_<T&&!a){n=this.height;t=this.width}for(var g=i;g<n;g++){var S=t;var C=e;if(l&&g!=n-1){S=this.width}if(l&&g!=i){C=0}for(var R=C;R<S;R++){var m=this.getScreenElement(g,R);var N;if(this.isFormatted){N=this.getFieldData(this.getPositionFromRowColumn(g,R),true)}var A;var y=null;if(s===true){y=64}if(a&&this.charsetInfo.isDBCS){let e=this.getPositionFromRowColumn(g,R);if(d[e]==DBCS_FIRST_HALF&&R+1>=S||d[e]==DBCS_SECOND_HALF&&R==C){continue}}A=y;if(m){if(N&&N.isNoDisplay()&&!c){A=64;if(a&&N.isEditable()){m.inputEbcdicChar=0;m.isModified=true;N.setModified()}}else{let e=false;A=m.isModified?m.inputEbcdicChar:m.ebcdicChar;if(a&&this.charsetInfo.isDBCS&&[DBCS_SHIFT_OUT,DBCS_SHIFT_IN].includes(A)){e=true}if(A<64&&![TN3270E_FORMAT_CONTROL_ORDERS_DUP,TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK].includes(A)){A=y}if(a){if(!e&&(N&&N.isEditable())){m.inputEbcdicChar=0;m.isModified=true;N.setModified()}else{A=y}}}if(r==false){var I=this.getPositionFromRowColumn(g,R);if(d[I]==DBCS_FIRST_HALF){var O=this.screenElements[I+1];var b=O.isModified?O.inputEbcdicChar:O.ebcdicChar;if(this.charsetInfo.dbcsEuroPosition!=null&&this.charsetInfo.dbcsEuroPosition[0]==A&&this.charsetInfo.dbcsEuroPosition[1]==b){A=8364}else{if(b<64){A=32}else if(this.charsetInfo.dbcsMapper[A]==null||this.charsetInfo.dbcsMapper[A][b]==null){A=12288}else{A=this.charsetInfo.dbcsMapper[A][b]}if(A==65533){A=12288}}if(a){if(N&&N.isEditable()){m.inputEbcdicChar=64;O.inputEbcdicChar=64;O.isModified=true;N.setModified()}}R++}else if(d[I]==DBCS_SECOND_HALF){var P=this.screenElements[I-1];var D=P.isModified?P.inputEbcdicChar:P.ebcdicChar;if(this.charsetInfo.dbcsEuroPosition!=null&&this.charsetInfo.dbcsEuroPosition[0]==D&&this.charsetInfo.dbcsEuroPosition[1]==A){A=8364}else{if(this.charsetInfo.dbcsMapper[D]==null||this.charsetInfo.dbcsMapper[D][A]==null){A=12288}else{A=this.charsetInfo.dbcsMapper[D][A]}if(A==65533){A=32}}}else if(m.isGraphicEscape){if(!o){A=32}else{A=geToUnicode[A];switch(A){case 61569:A=8214;break;case 61570:A=9552;break;case 61571:A=9144;break;case 61572:A=931;break;default:}}}else{if(A===this.renderer.sbcsEuroPosition){A=8364}else if(A===TN3270E_FORMAT_CONTROL_ORDERS_DUP){A=42}else if(A===TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK){A=59}else{A=this.renderer.unicodeConversionTable[A];if(this.rendererSettings?.dataSecurity?.globalApply&&!u){if(apiAgent&&apiAgent.isFromApi){if(this.rendererSettings.dataSecurity.maskOption.apiControl&&m.maskChar!=null){A=this.renderer.unicodeConversionTable[m.maskChar]}}else{if(this.isPrintScreen){if(m.maskChar!=null){A=this.renderer.unicodeConversionTable[m.maskChar]}}else if(this.recorder&&this.recorder.playing){if(this.rendererSettings.dataSecurity.maskOption.apiControl&&m.maskChar!=null){A=this.renderer.unicodeConversionTable[m.maskChar]}}else if(this.rendererSettings.dataSecurity.maskOption.copyControl){if(m.maskChar!=null){A=this.renderer.unicodeConversionTable[m.maskChar];if(a){m.maskChar=null}}}}}}}}else if(m.isGraphicEscape){h.push(240)}}else if(!r&&s){A=32}if(A>65535){A-=65536;h.push(55296+(A>>10));h.push(56320+(A&1023))}else{h.push(A)}}if(r==false){if(p){h.push(13)}h.push(10)}else{if(p){h.push(f)}h.push(E)}}this.isPrintScreen=false;return String.fromCharCode.apply(null,p?h.slice(0,h.length-2):h.slice(0,h.length-1))};Virtual3270Screen.prototype.getStatusBarContents=function(e,t,i,n){if(!t){return""}let r=[];const s=this.getOIAArray();const o=Math.max(0,e-1);const l=Math.max(e,Math.min(t,s.length));for(let e=o;e<l;e++){r.push(s[e]||50)}return String.fromCharCode.apply(null,r)};Virtual3270Screen.prototype.copy=function(e,t){if(this.selectionStartColumn!=null&&this.selectionEndColumn!=null){this.selectionStartRow=this.selectionStartRow>this.selectionEndRow?this.selectionStartRow+1:this.selectionStartRow;this.selectionStartColumn=this.selectionStartColumn>this.selectionEndColumn?this.selectionStartColumn+1:this.selectionStartColumn;var i=Math.min(this.selectionStartColumn,this.selectionEndColumn);var n=Math.max(this.selectionStartColumn,this.selectionEndColumn);var r=Math.min(this.selectionStartRow,this.selectionEndRow);var s=Math.max(this.selectionStartRow,this.selectionEndRow);return this.getScreenContents(i,n,r,s,e,t)}else{return null}};Virtual3270Screen.prototype.cut=function(t,i){if(this.selectionStartColumn!=null&&this.selectionEndColumn!=null){this.selectionStartRow=this.selectionStartRow>this.selectionEndRow?this.selectionStartRow+1:this.selectionStartRow;this.selectionStartColumn=this.selectionStartColumn>this.selectionEndColumn?this.selectionStartColumn+1:this.selectionStartColumn;var n=Math.min(this.selectionStartColumn,this.selectionEndColumn);var r=Math.max(this.selectionStartColumn,this.selectionEndColumn);var s=Math.min(this.selectionStartRow,this.selectionEndRow);var o=Math.max(this.selectionStartRow,this.selectionEndRow);let e=this.getScreenContents(n,r,s,o,t,i,false,false,true);if(this.renderer)this.renderer.fullPaint();return e}else{return null}};Virtual3270Screen.prototype.keyboardRestore=function(){let e=false;if(this.oiaProgramMessage!==X_PROG_ERROR){this.isKeyboardReady=true;this.oiaProgramMessage=null;this.lockedByScripting=false;this.lockedByError=false;this.partition.keyboardLocked=0;e=true;this.pblock.inReceiveState=0;this.renderer.paintUpperCanvas()}this.partition.aid=96;if(this.recorder&&this.recorder.recording===true&&this.kbRestoreTimes>-1){this.kbRestoreTimes++}this.handlePendingScriptExecution("screenLoaded");if(e){clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},10)}};Virtual3270Screen.prototype.lockScreen=function(){if(!this.lockedByError||this.isKeyboardReady){this.lockedByError=true;this.isKeyboardReady=false}};Virtual3270Screen.prototype.unlockScreen=function(){if(this.lockedByError||!this.isKeyboardReady){this.lockedByError=false;this.isKeyboardReady=true}};Virtual3270Screen.prototype.clearOIAOpStatus=function(){if(this.oiaEnabled&&this.oiaArray){this.oiaProgramMessage=null;this.unlockScreen();this.renderer.paintUpperCanvas()}};Virtual3270Screen.prototype.displayOIAOpStatus=function(e,t){if(this.oiaEnabled&&this.oiaArray){this.lockScreen();if(e){this.oiaProgramMessage=e}else{this.oiaProgramMessage=OIA_MESSAGE_X}if(t){this.oiaProgramMessageCode=t}if(this.oiaProgramMessage!==X_HOST_PROCESSING){this.autoReleaseLock(true)}if(this.renderer)this.renderer.paintUpperCanvas()}};Virtual3270Screen.prototype.getOIAArray=function(){var n=this.oiaArray.intArray;n.fill(32);var e=0;if(this.oiaType==OIA_TYPE_ENUM.PCOMM){n[e++]=OIA_CU_TELNET;n[e]=OIA_CONNECTION_PROTOCOL_TCPIP}else if(this.oiaType==OIA_TYPE_ENUM.PASSPORT){n[e++]=OIA_PASSPORT_TE[0];n[e++]=OIA_PASSPORT_TE[1]}if(this.oiaType==OIA_TYPE_ENUM.PCOMM){if(this.hostInfo.security==TN3270_SECURITY_TLS){n[3]=OIA_SECURITY_ON}if(this.insertMode){n[51]=OIA_INSERT_MODE}var r=OIA_ROW_COLUMN+2;if(this.sessionShortName){n[6]=this.sessionShortName.charCodeAt(0)}if(this.oiaProgramMessage){r=OIA_MESSAGE_COLUMN;switch(this.oiaProgramMessage){case X_TOO_MUCH:n[r-1]=7;for(var i=0;i<OIA_MESSAGE_X_TOO_MUCH.length;i++){n[r++]=OIA_MESSAGE_X_TOO_MUCH[i]}break;case X_HOST_PROCESSING:for(var i=0;i<OIA_MESSAGE_TERM_PROCESSING.length;i++){n[r++]=OIA_MESSAGE_TERM_PROCESSING[i]}break;case X_INVALID_FUNCTION:for(var i=0;i<OIA_MESSAGE_INVALID_FUNCTION.length;i++){n[r++]=OIA_MESSAGE_INVALID_FUNCTION[i]}break;case X_PROG_ERROR:n[r-1]=7;let e=this.oiaProgramMessageCode&&this.oiaProgramMessageCode.length!==0?OIA_MESSAGE_PROG_ERROR.concat(this.oiaProgramMessageCode):OIA_MESSAGE_PROG_ERROR;for(var i=0;i<e.length;i++){n[r++]=e[i]}break;case OIA_MESSAGE_X:n[r++]=OIA_MESSAGE_X;default:}}if(this.renderer.cursorGuideStyle>0){r=OIA_GRAPHICS_CURSOR_COLUMN;n[r++]=OIA_GRAPHICS_CURSOR[0];n[r++]=OIA_GRAPHICS_CURSOR[1];n[r]=OIA_GRAPHICS_CURSOR[2]}if(this.parser&&this.parser.terminalName){r=OIA_ROW_COLUMN+2;let i=this.parser.terminalName;for(let t=17;t>-1;t--){if(i.length<t){n[r--]=32}else{let e;if(i&&typeof i==="string"){e=i.charAt(t);if(e){n[r--]=e.charCodeAt(0)}}if(i&&typeof i==="object"){e=i[t];if(e){n[r--]=e}}}}}var t=this.getScriptRowColumnFromPosition(this.cursorPos);var s=String(t.row).length===1?`0${t.row.toString()}`:t.row.toString();var o;if(String(t.column).length===1){o=`00${t.column.toString()}`}else if(String(t.column).length===2){o=`0${t.column.toString()}`}else if(String(t.column).length===3){o=`${t.column.toString()}`}var l;r=OIA_ROW_COLUMN+2;n[r--]=OIA_POS_SEPERATOR;for(var i=2;i>-1;i--){if(s.length<i){n[r--]=48}else{l=s.charAt(i);if(l){n[r--]=l.charCodeAt(0)}}}r=OIA_ROW_COLUMN+5;for(var i=2;i>-1;i--){if(o.length<i+1){n[r--]=48}else{l=o.charAt(i);if(l){n[r--]=l.charCodeAt(0)}}}if(this.charsetInfo.isDBCS){let e=[];let t=this.getFieldData(this.cursorPos,true);if(t){if(t.attributes.characterSet==CHARACTER_SET_DBCS){if(this.charsetInfo.dbcsMapper==ebcdic300){e="全角"}else if(this.charsetInfo.dbcsMapper==ebcdic837){e="汉字"}else if(this.charsetInfo.dbcsMapper==ebcdic835){e="漢字"}else if(this.charsetInfo.dbcsMapper==ebcdic834){e="전체넓이"}}else if(t.attributes.inputControl){if(this.charsetInfo.dbcsMapper==ebcdic300){e="混在"}else if(this.charsetInfo.dbcsMapper==ebcdic837){e="混合"}else if(this.charsetInfo.dbcsMapper==ebcdic835){e="混合"}else if(this.charsetInfo.dbcsMapper==ebcdic834){e="혼합"}}else{if(this.charsetInfo.dbcsMapper==ebcdic300){e="英数"}else if(this.charsetInfo.dbcsMapper==ebcdic837){e="字母数字"}else if(this.charsetInfo.dbcsMapper==ebcdic835){e="字母數字"}else if(this.charsetInfo.dbcsMapper==ebcdic834){e="알파벳"}}r=OIA_DBCS_COLUMN;for(var i=0;i<e.length;i++){n[r++]=e[i].charCodeAt(0)}}}}else if(virtualScreen.oiaType==OIA_TYPE_ENUM.PASSPORT){}return n};Virtual3270Screen.prototype.clear=function(){this.screenElements=new Array(this.size);this.dbcsAttributes=new Uint8Array(this.size);if(this.screenElements.fill){this.screenElements.fill(null)}this.fieldInfoUpToDate=false;this.isFormatted=false;this.fields={};this.lastNondisplayFieldPos=-1;this.gocaElements=new Array;if(this.renderer){this.renderer.clear()}if(document.getElementById("Cut_Copy_Button")){document.getElementById("Cut_Copy_Button").remove()}};Virtual3270Screen.prototype.isKeyDownLocked=function(e){if(this.lockedByError||this.lockedByScripting){if((this.oiaProgramMessage!=X_HOST_PROCESSING||!this.tn3270eConnectionFunctions||!this.tn3270eConnectionFunctions.contentionResolution)&&this.autoResetOptions&&this.autoResetOptions.isAutoReset&&this.autoResetOptions.isPressNextKey){this.handleReset();if(this.autoResetOptions.isAutoTab){this.actionTab()}return false}else{if(this.inputProhibitExclusion&&this.inputProhibitExclusion.includes(e)){return false}else{if(e!="Control"&&e!="Alt"&&e!="Shift")this.beep();return true}}}return false};Virtual3270Screen.prototype.enterCharacterAtCursorInternal=function(e,t,i=true){var n=this.size;var r=this.getFieldData(this.cursorPos,true);var s=this.screenElements[this.cursorPos];if(s==null){s=new ScreenElement(this.cursorPos,0,null);this.screenElements[this.cursorPos]=s;if(this.isFormatted){var o;for(o=1;o<n;o++){var l=(this.cursorPos-o)%n;var a=this.screenElements[l];var c=a?a.field:null;if(c){s.field=c;break}}}}else{}s.inputEbcdicChar=e;s.isModified=true;s.characterAttributes=null;if(!this.parser.bEchoing){s.isNoDisplay=true}if(s&&s.maskChar!=null&&!this.isPaste){delete s.maskChar}this.pblock.dirtyBuffer=true;if(r){r.setModified()}if(e==DBCS_SHIFT_IN)return false;if(i){this.moveCursor(t)}return true};Virtual3270Screen.prototype.moveCursor=function(e){const t=this.getScreenElementByPosition(this.cursorPos);const i=this.getFieldData(this.cursorPos,true);this.setCursorPos((this.cursorPos+1)%this.size,true);let n=this.getFieldData(this.cursorPos,true);while(n){if(n.position===this.cursorPos){if(n.isAutoSkip()&&!e){if(this.mandatoryFillCheck(i,t)){this.triggerCheck(i);this.gotoNextInputField(true);break}}else{this.setCursorPos((this.cursorPos+1)%this.size,null,true);n=this.getFieldData(this.cursorPos,true)}}else break}};Virtual3270Screen.prototype.isEditablePosition=function(e){if(!this.isFormatted){return true}const t=e==null?this.cursorPos:e;const i=this.getFieldData(t,true);if(i==null){return false}return i.position===t?false:i.isEditable()||false};Virtual3270Screen.prototype.enterCharacterAtCursor=function(e,t,i,n){this.ensureFieldInfo();let r=this.enterOrInsertCharacter(e,t,false);if(r&&!n&&!this.charsetInfo.isDBCS&&this.rendererSettings?.forceAutoWrap){this.wordWrap(e)}if(r&&i){this.moveCursor(t)}return r};Virtual3270Screen.prototype.enterOrInsertCharacter=function(e,t,i){var n=this;var r=this.getFieldData(this.cursorPos,true);var s=this.size;if(!this.isFormatted){if(!this.insertMode){return this.enterCharacterAtCursorInternal(e,false,i)}else{var o=this.actionInsert(this.cursorPos,this.cursorPos-1,e,i);if(!o){this.displayOIAOpStatus(X_TOO_MUCH)}return o}}else if(r==null){protocolLogger.warn("Cannot add character, fieldData not found when fields = "+this.fields);return false}var l=r.attributes;if(l.isProtected()||r.position===this.cursorPos){this.displayOIAOpStatus(X_TOO_MUCH);return false}else if(!this.insertMode){return this.enterCharacterAtCursorInternal(e,t,i)}else{var o=this.actionInsert(this.cursorPos,this.findNextField(this.cursorPos,false,false,false),e,i);if(e==DBCS_SHIFT_IN)return false;if(!o){this.displayOIAOpStatus(X_TOO_MUCH)}return o}};Virtual3270Screen.prototype.autoReleaseLock=function(e){if(e)this.beep();if(this.autoResetOptions&&this.autoResetOptions.isAutoReset&&this.autoResetOptions.isImmediate){setTimeout(()=>{this.handleReset();if(this.autoResetOptions.isAutoTab){this.actionTab()}},800)}};Virtual3270Screen.prototype.invalidateFieldInfo=function(){var e;for(e=0;e<this.size;e++){if(this.screenElements[e]){this.screenElements[e].field=null}}this.fieldInfoUpToDate=false;this.screenContextUpToDate=false};Virtual3270Screen.prototype.ensureFieldInfo=function(){if(this.fieldInfoUpToDate){return this.isFormatted}if(!this.fields){this.isFormatted=false;this.fieldInfoUpToDate=true;return this.isFormatted}var e=this.size;var t;var i=-1;var n=null;for(t=0;t<e;t++){var r=this.screenElements[t];var s=(t+1)%e;if(r!=null){if(r.fieldData!=null){if(i==-1){i=t}var s=(t+1)%e;n=new Field(r.fieldData,s,s);r.field=n}else if(i!=-1){r.field=n;if(n)n.end=s}}else if(n){n.end=s}}if(i!=-1){for(t=0;t<i;t++){var r=this.screenElements[t];var s=(t+1)%e;if(r!=null){r.field=n;n.end=s}}}var o=Object.keys(this.fields);if(o.length==0){return this.fieldInfoUpToDate}if(o.length==1){this.fields[o[0]].length=this.size}else{for(var t=0;t<o.length;t++){var l=this.fields[o[t]];var a;if(t===o.length-1){a=this.fields[o[0]]}else{a=this.fields[o[t+1]]}var c=a.position-l.position;if(c<0){c=this.size-l.position+a.position}l.length=c}}this.fieldInfoUpToDate=true;return this.isFormatted};Virtual3270Screen.prototype.ensureFieldInfo2=function(){if(this.fieldInfoUpToDate){return this.isFormatted}var e=Object.keys(this.fields);for(var t=0;t<e.length;t++){var i=this.fields[e[t]];var n;if(e.length===0){i.length=this.size}else{if(t===e.length-1){n=this.fields[e[0]]}else{n=this.fields[e[t+1]]}var r=n.position-i.position;if(r<0){r=this.size-i.position+n.position}i.length=r}var s=new Field(i,i.position,i.position+i.length);for(var o=0;o<i.length;o++){var l=i.position+o;var a=this.getScreenElementByPosition(l);if(a){if(o==0){a.fieldData=i}a.field=s}else{a=new ScreenElement(l,null,null);a.field=s;this.setScreenElement(l,a)}}}this.fieldInfoUpToDate=true;return this.isFormatted};Virtual3270Screen.prototype.setCharacterAttributes=function(e,t){if(t.isNonTrivial()){var i=this.screenElements[e];if(i!=null){i.characterAttributes=t.copy()}}};Virtual3270Screen.prototype.handleErase=function(e,t){this.clear();this.bufferPos=0;this.setCursorPos(0);if(!e){var i=t?this.getAlternateWidth():this.defaultWidth;var n=t?this.getAlternateHeight():this.defaultHeight;if(this.firstErase&&!t){i=DEFAULT_SCREEN_WIDTH;n=DEFAULT_SCREEN_HEIGHT}this.firstErase=false;if(i!=this.width||n!=this.height){protocolLogger.debug("Handle erase. new w,h= "+i+","+n);var r=this.partitions[this.partitionNumber];if(r){r.size=n*i}this.resize(i,n)}}};Virtual3270Screen.prototype.isValidPartition=function(e){if(e!=IMPLICIT_PARTITION&&e!=0){protocolLogger.warn("Only IMPLICIT_PARTITION and pid==0 handled currently, pidSeen="+e);return false}else{return true}};Virtual3270Screen.prototype.handleWrite=function(e,t=true){if(e){protocolLogger.debug("-- partitionID="+e.partitionID);protocolLogger.debug("-- eraseBeforeWriting="+e.eraseBeforeWriting);protocolLogger.debug("-- resizeProhibited="+e.resizeProhibited);protocolLogger.debug("-- useAlternateSize="+e.useAlternateSize);protocolLogger.debug("-- WCC=0x"+hex(e.wcc));if(e.partitionID!=IMPLICIT_PARTITION&&e.partitionID!=0){protocolLogger.warn("Only IMPLICIT_PARTITION and pid==0 handled currently, pidSeen="+e.partitionID+" fullCommand="+JSON.stringify(e));return}if(e.wcc&1){var i=Object.keys(this.fields);for(var n=0;n<i.length;n++){var r=this.fields[i[n]];r.setUnmodified()}}if(e.eraseBeforeWriting){protocolLogger.debug("Erase before writing");if(e.wcc&64){if(e.partitionID==IMPLICIT_PARTITION){this.replyMode=TN3270_REPLY_MODE_FIELD}}this.handleErase(e.resizeProhibited,e.useAlternateSize)}else{protocolLogger.debug("writing without erasing")}this.handleWriteOrders(e.orders);this.invalidateFieldInfo();if(!this.isPrinter){if(!this.indfile.bXferActive||!this.indfile.IndfTotal)this.showScreen();if(e.wcc&4){this.beep()}if(this.tn3270eConnectionFunctions&&this.tn3270eConnectionFunctions.contentionResolution&&(this.requestFlag.kbRstroreIndicator||this.requestFlag.sendDataIndicator)||(!this.tn3270eConnectionFunctions||!this.tn3270eConnectionFunctions.contentionResolution)&&e.wcc&2){if(t){this.keyboardRestore()}if(this.mfaEnabled()){this.CheckForSignOnScreen()}}}}};Virtual3270Screen.prototype.handleSscpData=function(e){var t=new CharacterAttributes3270(null,this.ignoreProgError);var i=this.size;var n=0;var r=e.length;protocolLogger.debug("Handling SscpData, dataLength="+r);var s=this.cursorPos%i;for(var o=0;o<r;o++){var l=e[o];if(l==21){var a=Math.floor(s/this.width);s=(a+1)*this.width;continue}else if(l==22){s=s-1;continue}var c=new ScreenElement(s,l,null);c.isGraphicEscape=false;this.setScreenElement(s,c);this.setCharacterAttributes(s,t);s++}this.bufferPos=s%i;this.setCursorPos(s);this.isKeyboardReady=true;if(this.renderer){this.renderer.paintUpperCanvas();this.renderer.fullPaint()}};Virtual3270Screen.prototype.parseNVTMessageData=function(e){let n=new CharacterAttributes3270(null,this.ignoreProgError);let t=this.size;if(!!!this.cursorPos){this.cursorPos=0;e=[13,10].concat(e)}let r=this.cursorPos%t;let i=e.length;const s=String.fromCharCode(...e);if(!!this.firewall.passwordPrompt&&s.indexOf(this.firewall.passwordPrompt)>=0){this.parser.bEchoing=false}let o="";protocolLogger.debug("Handling NVT data, dataLength="+i);for(var l=0;l<i;l++){let i=e[l];switch(i){case 8:r=r-1;break;case 9:break;case 10:case 11:var a=Math.floor(r/this.width);r=(a+1)*this.width;if(r>=this.size){r-=this.width}break;case 12:break;case 13:r=r/this.width*this.width;break;default:if(!this.isPrinter){let e=this.renderer.getEbcdicForUnicode(i);let t=new ScreenElement(r,e,null);t.isGraphicEscape=false;this.setScreenElement(r,t);this.setCharacterAttributes(r,n);r++}else{o+=String.fromCharCode(i)}}}this.bufferPos=r%t;this.setCursorPos(r);this.nvtDataStartPostion=r++;this.isKeyboardReady=true;if(this.renderer){this.renderer.paintUpperCanvas();this.renderer.fullPaint()}else{protocolLogger.info("NVT mode with no renderer, the characters are "+o)}};Virtual3270Screen.prototype.alertNVTMessageData=function(t){let e=t.length;let i=[];protocolLogger.debug("Handling NVT data, dataLength="+e);for(var n=0;n<e;n++){let e=t[n];if(e<32){e=32}i.push(e)}this.isKeyboardReady=true;alert(String.fromCharCode(...i))};Virtual3270Screen.prototype.sendNVTMessageData=function(){let e=this.nvtDataStartPostion;let i=[];if(e>this.screenElements.length){e=e-this.screenElements.length}for(var n=e;n<this.screenElements.length;n++){let t=this.screenElements[n];if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(e===-1||e===0){break}if(e<64){if(e===21){i.push(13,37)}else{i.push(64)}}else{i.push(e)}}else{break}}i.push(13,37);if(this.parser.bUsingGa){i.push(TELNET_IAC,TELNET_GO_AHEAD)}this.sendVTMessage(i);this.parser.bEchoing=true};Virtual3270Screen.prototype.advanceBufferPosition=function(e,t,i,n){let r=i%n;let s=e.length;let o=e[(t+s-1)%s];let l;let a;let c=0;let u;this.fieldInfoUpToDate=false;this.ensureFieldInfo();let h=Object.keys(this.fields);a=i;if(!this.isFormatted){for(let t=r;t<n;t++){let e=this.getScreenElementByPosition(t);if(e){if(!e.field){e.inputEbcdicChar=64;e.isModified=true;e.characterAttributes=null;this.pblock.dirtyBuffer=true}else{break}}}}l=this.getFieldData(a,true);if(l){c=l.position;if(!l.length){u=this.handleFieldLen(h,c)}else{u=l.length}let e=c+u;if(e%this.size<c){e=this.size}if(a!==c){if(o.t==="O_D"||o.key===TN3270E_DATA_RUN_PSEUDO_ORDER){for(let t=a;t<e;t++){let e=t%this.size;element=this.getScreenElementByPosition(e);if(element){element.inputEbcdicChar=0;element.isModified=true;element.characterAttributes=null;this.pblock.dirtyBuffer=true}}}}else{if(l.isEditable()){this.bufferPos=(l.position+1)%n;return}}const d=this.findNextInputField(a,false);if(d!=null){if(d>=a){this.bufferPos=(d+1)%this.size}else{this.bufferPos=0}}else{this.bufferPos=0}protocolLogger.debug("---- currentFieldData.position="+l.position);protocolLogger.debug("---- currentFieldData.length="+l.length);protocolLogger.debug("---- fieldData="+l);protocolLogger.debug("---- isProtected="+l.attributes.isProtected())}else{this.bufferPos=0}};Virtual3270Screen.prototype.handleFieldLen=function(i,n){let r;let s=i.indexOf(String(n));if(s>-1){if(i.length==1){r=this.size}else{let e;if(s===i.length-1){e=this.fields[i[0]]}else{e=this.fields[i[s+1]]}let t=e.position-n;if(t<0){t=this.size-n+e.position}r=t}}else{r=0}return r};Virtual3270Screen.prototype.handleWriteOrders=function(t){var i=new CharacterAttributes3270(null,this.ignoreProgError);var n;var r=null;var s=this.size;var o=0;var e=t.length;var l;var a=false;this.bufferPos=this.cursorPos;const c=function(t){if(t==0||t==64){i.characterSet&=~CHARACTER_SET_DEFAULT}else{if(t<64){this.processErrorAttributeList(this.errorAttributeList,{code:"753",type:"invalid_apl",status:false,snaCode:"1003"});this.handleErrorMessage();protocolLogger.debug("order: "+JSON.stringify(u));return false}let e=function(e){return AplVec[e>>3]&1<<7-(e&7)};if(!e(t-64)){i.characterSet&=~CHARACTER_SET_DEFAULT;t=96}}return t};protocolLogger.debug("Handling write orders. Order count="+e);for(o=0;o<e;o++){var u=t[o];let e=o;var h=this.bufferPos;if(!u.data){protocolLogger.debug("-- Order="+JSON.stringify(u))}else{protocolLogger.debug("-- Order(data)=");hexDump(u.data,protocolLogger)}protocolLogger.debug("---- Order buffer pos="+h);if(u.t==="O_D"||u.key===TN3270E_DATA_RUN_PSEUDO_ORDER){protocolLogger.debug("---- Type=DATA_RUN");var d=u.t==="O_D"?base64ToUint8Array(u.B64):u.data;var p=0;var f=0;var E=(f+h)%s;while(p<d.length){if(a){a=false;p++;continue}var T=false;var _=d[p++];if(_==TN3270E_ORDER_GRAPHIC_ESCAPE){T=true;_=d[p++]}if((i.characterSet&~CHARACTER_SET_DEFAULT)==CHARACTER_SET_APL){T=true;_=c(_)}var g=(f+h)%s;var S=new ScreenElement(g,_,null);S.isGraphicEscape=T;this.setScreenElement(g,S);this.setCharacterAttributes(g,i);f++}var k=(f-1+h)%s;protocolLogger.debug("Set char attributes for positions="+E+"-"+k+" to "+i);this.bufferPos=(h+f)%s}else if(u.t==="O_SF"||u.t==="O_SFE"||u.key===TN3270E_ORDER_START_FIELD||u.key===TN3270E_ORDER_START_FIELD_EXTENDED){var g=h%s;var C=new CharacterAttributes3270(u.stdAttr,this.ignoreProgError);var R=new FieldData3270(C,g);R.precedingSBA=r;var S=new ScreenElement(g,64,R);if(u.t==="O_SFE"||u.key===TN3270E_ORDER_START_FIELD_EXTENDED){let e=C.updateFromOrder("O_SFE",u);n=R;protocolLogger.debug("---- Type=START_FIELD_EXTENDED");if(e){e.forEach(e=>{if(!e.status){this.processErrorAttributeList(this.errorAttributeList,e);this.handleErrorMessage();protocolLogger.debug("order: "+JSON.stringify(u))}});return false}}else{protocolLogger.debug("---- Type=START_FIELD")}protocolLogger.debug("startField at "+g+" field="+R);this.setScreenElement(g,S);this.bufferPos=(h+1)%s}else if(u.t==="O_MF"||u.key===TN3270E_ORDER_MODIFY_FIELD){protocolLogger.debug("---- Type=MODIFY_FIELD");let e=h%s;let i=this.getFieldData(e,false);if(i&&i.attributes){let e=i.attributes;let t=e.updateFromOrder("O_MF",u);this.bufferPos=(h+1)%s;protocolLogger.debug("currentFieldData: "+JSON.stringify(i));if(t){t.forEach(e=>{if(!e.status){this.processErrorAttributeList(this.errorAttributeList,e);this.handleErrorMessage();protocolLogger.debug("order: "+JSON.stringify(u))}});return false}}else{protocolLogger.warn("Buffer address does not contain a field attribute")}}else if(u.key===TN3270E_ORDER_ERASE_UNPROTECTED_TO_ADDRESS){protocolLogger.debug("---- Type=ERASE_UNPROTECTED_TO_ADDRESS");if(!this.isFormatted){continue}let t=buildBufferAddress(u.a1,u.a2);if(t>=this.size){protocolLogger.warn("Given ERASE_UNPROTECTED_TO_ADDRESS with address above maximum, discarding.")}else{this.ensureFieldInfo();const F=this.getFieldData(this.bufferPos,false);if(!F){return}const N=F.position+1;let e=t<N?this.size-N+t:t-N;e=e===0?this.size:e;let n=0;for(let i=0;i<e;i++){n=(N+i)%this.size;let e=this.getFieldData(n,true);if(e&&!e.isEditable()){continue}let t=this.getScreenElementByPosition(n);if(!t){t=new ScreenElement(n,0,e);this.setScreenElement(n,t)}else{t.ebcdicChar=0;t.isModified=false}}}}else if(u.t==="O_IC"||u.key===TN3270E_ORDER_INSERT_CURSOR){this.setCursorPos(h,undefined,true,"O_IC");protocolLogger.debug("---- Type=INSERT_CURSOR");this.bufferPos=h+0}else if(u.t==="O_SBA"||u.key===TN3270E_ORDER_SET_BUFFER_ADDRESS){r=u;this.bufferPos=buildBufferAddress(u.a1,u.a2)%s;protocolLogger.debug("---- Type=SET_BUFFER_ADDRESS");protocolLogger.debug("---- Pos1="+u.a1);protocolLogger.debug("---- Pos2="+u.a2);protocolLogger.debug("---- New Pos="+this.bufferPos);if(l){if(l.t==="O_SFE"||l.key===TN3270E_ORDER_START_FIELD_EXTENDED){var m;if(this.bufferPos<n.position){m=this.size-n.position+this.bufferPos}else{m=this.bufferPos-n.position}n.length=m;var N=n.position;var A=this.getScreenElementByPosition(g);if(!A){A=new ScreenElement(g,64,n);this.setScreenElement(g,A)}for(var y=1;y<n.length;y++){g=N+y;A=this.getScreenElementByPosition(g);if(!A){A=new ScreenElement(g,0,null);this.setScreenElement(g,A)}}n=null}}}else if(u.t==="O_RTA"||u.t==="O_RN"||u.t==="O_RB"||u.key===TN3270E_ORDER_REPEAT_TO_ADDRESS){var I=h;var O=buildBufferAddress(u.b1,u.b2);var b,P=0;var D=false;if(this.charsetInfo.dbcsMapper!=null){let e=function(t){for(var i=I;i!=0;i--){let e=t.screenElements[i];if(e){var n=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(n==DBCS_SHIFT_IN){return DBCS_SHIFT_IN}else if(n==DBCS_SHIFT_OUT){return DBCS_SHIFT_OUT}}}return 0};if(i.characterSet==CHARACTER_SET_DBCS||e(this)==DBCS_SHIFT_OUT){D=true}}if(u.t){b=u.t==="O_RN"?0:u.t==="O_RB"?64:u.b3}else{b=u.subType==="O_RN"?0:u.subType==="O_RB"?64:u.b3}if(D&&u.b4){P=u.b4;a=true}var T=false;if(u.isGraphic&&u.isGraphic===true){T=true}if((i.characterSet&~CHARACTER_SET_DEFAULT)==CHARACTER_SET_APL){T=true;b=c(b)}protocolLogger.debug("---- Type=REPEAT_TO_ADDRESS");protocolLogger.debug("---- Stop Pos="+O);protocolLogger.debug("---- Char="+b);if(P)protocolLogger.debug("---- Char2="+b);protocolLogger.debug("---- Graphic="+T);if(O>=s){protocolLogger.warn("Ignoring RepeatTo with end out of range start="+I+" end at "+O+", size="+s)}else{do{var S=new ScreenElement(I,b&255,null);S.isGraphicEscape=T;this.setScreenElement(I,S);this.setCharacterAttributes(I,i);I++;if(I==s){I=0}if(P){S=new ScreenElement(I,P&255,null);S.isGraphicEscape=T;this.setScreenElement(I,S);this.setCharacterAttributes(I,i);I++;if(I==s){I=0}}}while(I!=O)}this.bufferPos=O%s}else if(u.t==="O_SA"||u.key===TN3270E_ORDER_SET_ATTRIBUTE){let e=i.updateFromOrder("O_SA",u);protocolLogger.debug("---- Type=SET_ATTRIBUTE");protocolLogger.debug("---- Attr="+i);this.bufferPos=h+0;if(e){e.forEach(e=>{if(!e.status){this.processErrorAttributeList(this.errorAttributeList,e);this.handleErrorMessage();protocolLogger.debug("order: "+JSON.stringify(u))}});return false}}else if(u.t==="O_PT"||u.key===TN3270E_ORDER_PROGRAM_TAB){protocolLogger.debug("---- Type=PROGRAM_TAB");this.advanceBufferPosition(t,e,h,s)}else{protocolLogger.warn("**** Unhandled order");protocolLogger.warn("**** "+JSON.stringify(u))}if(!(u.t==="O_D"||u.key===TN3270E_DATA_RUN_PSEUDO_ORDER)){l=u}}protocolLogger.debug("Out of handle write loop");if(!this.isPrinter)this.showScreen();this.ensureFieldInfo();var L=Object.keys(this.fields);for(var o=0;o<L.length;o++){var R=this.fields[L[o]];var v=R.length;var N=R.position;var A=this.getScreenElementByPosition(N);if(!A){A=new ScreenElement(N,64,R);this.setScreenElement(N,A)}if(v>0){for(var M=1;M<v;M++){var w=(N+M)%this.size;A=this.getScreenElementByPosition(w);if(!A){A=new ScreenElement(w,0,null);this.setScreenElement(w,A)}}}}};Virtual3270Screen.prototype.processErrorAttributeList=function(e,t){let i,n;if(t){i=t.code;n={type:t.type,stauts:t.status,snaCode:t.snaCode}}if(e.size!==0){if(!e.get(i)){e.set(i,n)}}else{e.set(i,n)}};Virtual3270Screen.prototype.handleErrorMessage=function(){if(!this.ignoreProgError&&this.errorAttributeList&&this.errorAttributeList.size!==0){let e=this.errorAttributeList;e.forEach((e,t)=>{if(OIA_MESSAGE_PROG_ERROR_LIST.includes(t)){this.negativeResponseCode=t}else{this.negativeResponseCode=-1}})}else{this.negativeResponseCode=-1}};Virtual3270Screen.prototype.alertMessage=function(){if(!this.ignoreProgError&&this.errorAttributeList&&this.errorAttributeList.size!==0){setTimeout(()=>{this.errorAttributeList.forEach((e,t)=>{alert(TN3270_MESSAGE_NON_ATTRIBUTE[e.type])});this.errorAttributeList.clear()},0)}};function BinaryBuffer(e){this.capacity=e;this.fill=0;this.data=new Uint8Array(e)}BinaryBuffer.prototype.writeByte=function(e){if(this.fill>=this.capacity){tecoreLogger.severe("binary buffer at capacity = "+this.capacity)}this.data[this.fill++]=e};BinaryBuffer.prototype.writeQueryReply=function(e,t){var i=2+1+1+t.length;this.writeByte(i>>8&255);this.writeByte(i&255);this.writeByte(TN3270E_STRUCTURED_FIELD_QUERY_REPLY);this.writeByte(e);var n;for(n=0;n<t.length;n++){this.writeByte(t[n])}};BinaryBuffer.prototype.toBase64=function(){tecoreLogger.debug("binaryBuffer fill was "+this.fill);var e=new Array;for(var t=0;t<this.data.length;t++){if(t===this.fill){break}else{e.push(this.data[t])}}return window.btoa(String.fromCharCode.apply(null,e))};Virtual3270Screen.prototype.makeImplicitPartitionReply=function(e,t){var i=new Uint8Array(13);i[0]=0;i[1]=0;i[2]=11;i[3]=1;i[4]=0;i[5]=0;i[6]=this.defaultWidth&255;i[7]=0;i[8]=this.defaultHeight&255;i[9]=e>>8&255;i[10]=e&255;i[11]=t>>8&255;i[12]=t&255;return i};Virtual3270Screen.prototype.makeUsableAreaReply=function(e,t){var i=new Uint8Array(19);i[0]=3;i[1]=0;i[2]=e>>8&255;i[3]=e&255;i[4]=t>>8&255;i[5]=t&255;i[6]=1;var n=window.screen.height;var r=window.screen.width;var s,o;if(!this.isPrinter){s=this.canvas.height*((t-2)/t);o=this.canvas.width}else{s=n*((t-2)/t);o=r}i[7]=2;i[8]=56;i[9]=r>>8&255;i[10]=r&255;i[11]=1;i[12]=62;i[13]=n>>8&255;i[14]=n&255;i[15]=Math.round(o/e);i[16]=Math.round(s/t);i[17]=0;i[18]=0;return i};Virtual3270Screen.prototype.makeCharsetReply=function(e,t){var i;if(this.charsetInfo.isDBCS)i=BZ_QUERY_REPLY_CHARACTER_SETS_WITH_DBCS.length;else i=BZ_QUERY_REPLY_CHARACTER_SETS.length;var n=new Uint8Array(i);var r;for(r=0;r<i;r++){if(this.charsetInfo.isDBCS)n[r]=BZ_QUERY_REPLY_CHARACTER_SETS_WITH_DBCS[r];else n[r]=BZ_QUERY_REPLY_CHARACTER_SETS[r]}if(this.charsetInfo.isDBCS){n[16]=this.charsetInfo.sbCharacterSet>>8;n[17]=this.charsetInfo.sbCharacterSet&255;n[18]=this.charsetInfo.sbCodePage>>8;n[19]=this.charsetInfo.sbCodePage&255;n[38]=this.charsetInfo.dbCharacterSet>>8;n[39]=this.charsetInfo.dbCharacterSet&255;n[40]=this.charsetInfo.dbCodePage>>8;n[41]=this.charsetInfo.dbCodePage&255}else{n[12]=this.charsetInfo.sbCharacterSet>>8;n[13]=this.charsetInfo.sbCharacterSet&255;n[14]=this.charsetInfo.sbCodePage>>8;n[15]=this.charsetInfo.sbCodePage&255}var s=window.screen.height;var o=window.screen.width;var l,a;if(!this.isPrinter){l=this.canvas.height*((t-2)/t);a=this.canvas.width}else{l=s*((t-2)/t);a=o}n[2]=Math.round(a/e);n[3]=Math.round(l/t);protocolLogger.debug("replying to charsets, reply len=0x"+hex(i));return n};Virtual3270Screen.prototype.makeDDMReply=function(){var e=new Uint8Array(8);e[0]=0;e[1]=0;e[2]=(this.indfile.SfPacketSize&65280)>>8;e[3]=this.indfile.SfPacketSize&255;e[4]=(this.indfile.SfPacketSize&65280)>>8;e[5]=this.indfile.SfPacketSize&255;e[6]=1;e[7]=1;return e};Virtual3270Screen.prototype.getQueryReplyRPQIP=function(){var t="3278";var i=[];var e=this.clientIP?this.clientIP:"127.0.0.1";var n=e.indexOf(".")==-1?"6":"4";if(this.deviceType.type>10)t="3279";if(n==4){if(e.indexOf(":")!=-1){e=e.substr(e.lastIndexOf(":")+1);this.clientIP=e}var r=e.split(".");for(let e=0;e<r.length;e++){var s=Number(r[e]);if(s==255){i.push(255)}i.push(s)}}else if(n==6){let t=e.split(":");var o=t.length==8?0:9-t.length;var l=[];for(let e=0;e<t.length;e++){if(t[e].length==0){for(let e=0;e<o;e++){l.push("0")}}else{l.push(t[e])}}var a;for(let e=0;e<l.length;e++){a=l[e];if(a){let e=parseInt(a,16);var c=(e&65280)>>8;var u=e&255;i.push(c);if(c==255){i.push(255)}i.push(u);if(u==255){i.push(255)}}}}var h=i.length+2;var d=[];for(let e=0;e<4;e++){d.push(this.getEbcdicForUnicode(t.charCodeAt(e)))}for(let e=0;e<4;e++){d.push(0)}d.push(h);d.push(n);for(let e=0;e<i.length;e++){d.push(i[e])}return d};Virtual3270Screen.prototype.getQueryReplySummary=function(e,t){var i=[TN3270E_REPLY_QCODE_USABLE_AREA,TN3270E_REPLY_QCODE_IMPLICIT_PARTITION,TN3270E_REPLY_QCODE_COLOR,TN3270E_REPLY_QCODE_HIGHLIGHTING,TN3270E_REPLY_QCODE_REPLY_MODES,TN3270E_REPLY_QCODE_CHARACTER_SETS,TN3270E_REPLY_QCODE_DISTRIBUTED_DATA_MANAGEMENT,TN3270E_REPLY_QCODE_ALPHANUMERIC_PARTITIONS,TN3270E_REPLY_QCODE_SUMMARY];if(this.fieldValidation3270){i.push(TN3270E_REPLY_QCODE_FIELD_VALIDATION)}if(e){i.push(TN3270E_REPLY_QCODE_DBCS_ASIA)}if(t){i.push(TN3270E_REPLY_QCODE_RPQ_NAMES)}return i};Virtual3270Screen.prototype.respondToQueryForTerminalCapabilities=function(e){var t=true;var i=new BinaryBuffer(4096);if(!this.usingOldJSON){if(this.usingTN3270E){i.writeByte(TN3270E_MSG_3270_DATA);i.writeByte(0);i.writeByte(0);var n=this.parser.highestMessageID++;var r=(n&65280)>>8;var s=n&255;i.writeByte(r);i.writeByte(s)}i.writeByte(TN3270E_AID_STRUCTURED_FIELD)}if(e==null){var o=this.getAlternateHeight();var l=this.getAlternateWidth();var a=this.renderer?this.renderer.characterWidth:9;var c=this.renderer?this.renderer.characterHeight:12;var u=this.makeUsableAreaReply(l,o);this.gocaWidth=l*a;this.gocaHeight=o*c;i.writeQueryReply(TN3270E_REPLY_QCODE_USABLE_AREA,u);var h=this.makeImplicitPartitionReply(l,o);i.writeQueryReply(TN3270E_REPLY_QCODE_IMPLICIT_PARTITION,h);i.writeQueryReply(TN3270E_REPLY_QCODE_COLOR,BZ_COLOR_REPLY);i.writeQueryReply(TN3270E_REPLY_QCODE_HIGHLIGHTING,BZ_HIGHLIGHTING_REPLY);i.writeQueryReply(TN3270E_REPLY_QCODE_REPLY_MODES,BZ_QUERY_REPLY_MODES_REPLY);protocolLogger.debug("queryReply charset="+this.charsetInfo.name+" font "+this.charsetInfo.fontName);var d=this.makeCharsetReply(l,o);i.writeQueryReply(TN3270E_REPLY_QCODE_CHARACTER_SETS,d);if(this.charsetInfo.isDBCS){i.writeQueryReply(TN3270E_REPLY_QCODE_DBCS_ASIA,BZ_QUERY_REPLY_DBCS_ASIA)}var p=this.makeDDMReply();i.writeQueryReply(TN3270E_REPLY_QCODE_DISTRIBUTED_DATA_MANAGEMENT,p);if(this.fieldValidation3270)i.writeQueryReply(TN3270E_REPLY_QCODE_FIELD_VALIDATION,BZ_QUERY_REPLY_FIELD_VALIDATION);i.writeQueryReply(TN3270E_REPLY_QCODE_ALPHANUMERIC_PARTITIONS,BZ_QUERY_REPLY_ALPHANUMERIC_PARTITIONS);var f=this.getQueryReplySummary(this.charsetInfo.isDBCS,t);i.writeQueryReply(TN3270E_REPLY_QCODE_SUMMARY,f);if(t){var E=this.getQueryReplyRPQIP();i.writeQueryReply(TN3270E_REPLY_QCODE_RPQ_NAMES,E)}if(false){protocolLogger.debug("Writing advanced GOCA reply");i.writeQueryReply(TN3270E_REPLY_QCODE_OEM_AUXILIARY_DEVICE,ADVANCED_GOCA_OEM_AUXILIARY_REPLY)}}else{var o=this.getAlternateHeight();var l=this.getAlternateWidth();var u=this.makeUsableAreaReply(l,o);var h=this.makeImplicitPartitionReply(l,o);var T,_=0;for(T=0;T<e.length;T++){var g=e[T];protocolLogger.debug("Handling reply to query code=0x"+hex(g));switch(g){case TN3270E_REPLY_QCODE_SUMMARY:let e=this.getQueryReplySummary(this.charsetInfo.isDBCS,t);i.writeQueryReply(TN3270E_REPLY_QCODE_SUMMARY,e);_++;break;case TN3270E_REPLY_QCODE_USABLE_AREA:i.writeQueryReply(TN3270E_REPLY_QCODE_USABLE_AREA,u);_++;break;case TN3270E_REPLY_QCODE_IMAGE:protocolLogger.warn("implement me TN3270E_REPLY_QCODE_IMAGE "+hex(g));break;case TN3270E_REPLY_QCODE_TEXT_PARTITIIONS:protocolLogger.warn("implement me TN3270E_REPLY_QCODE_TEXT_PARTITIIONS "+hex(g));break;case TN3270E_REPLY_QCODE_ALPHANUMERIC_PARTITIONS:i.writeQueryReply(TN3270E_REPLY_QCODE_ALPHANUMERIC_PARTITIONS,BZ_QUERY_REPLY_ALPHANUMERIC_PARTITIONS);_++;break;case TN3270E_REPLY_QCODE_CHARACTER_SETS:var d=this.makeCharsetReply(l,o);i.writeQueryReply(TN3270E_REPLY_QCODE_CHARACTER_SETS,d);if(this.charsetInfo.isDBCS){i.writeQueryReply(TN3270E_REPLY_QCODE_DBCS_ASIA,BZ_QUERY_REPLY_DBCS_ASIA)}break;case TN3270E_REPLY_QCODE_COLOR:i.writeQueryReply(TN3270E_REPLY_QCODE_COLOR,BZ_COLOR_REPLY);_++;break;case TN3270E_REPLY_QCODE_HIGHLIGHTING:i.writeQueryReply(TN3270E_REPLY_QCODE_HIGHLIGHTING,BZ_HIGHLIGHTING_REPLY);_++;break;case TN3270E_REPLY_QCODE_REPLY_MODES:i.writeQueryReply(TN3270E_REPLY_QCODE_REPLY_MODES,BZ_QUERY_REPLY_MODES_REPLY);_++;break;case TN3270E_REPLY_QCODE_FIELD_VALIDATION:if(this.fieldValidation3270){i.writeQueryReply(TN3270E_REPLY_QCODE_FIELD_VALIDATION,BZ_QUERY_REPLY_FIELD_VALIDATION);_++}break;case TN3270E_REPLY_QCODE_MSR_CONTROL:protocolLogger.warn("implement me TN3270E_REPLY_QCODE_MSR_CONTROL "+hex(g));break;case TN3270E_REPLY_QCODE_FIELD_OUTLINING:if(this.charsetInfo.isDBCS){i.writeQueryReply(TN3270E_REPLY_QCODE_FIELD_OUTLINING,BZ_REPLY_QCODE_FIELD_OUTLINING);_++}break;case TN3270E_REPLY_QCODE_PARTITION_CHARACTERISTICS:case TN3270E_REPLY_QCODE_OEM_AUXILIARY_DEVICE:case TN3270E_REPLY_QCODE_FORMAT_PRESENTATION:case TN3270E_REPLY_QCODE_DBCS_ASIA:case TN3270E_REPLY_QCODE_SAVE_RESTORE_FORMAT:case TN3270E_REPLY_QCODE_FORMAT_STORAGE_AUX_DEVICE:protocolLogger.warn("implement me TN3270E_REPLY_QCODE "+hex(g));break;case TN3270E_REPLY_QCODE_DISTRIBUTED_DATA_MANAGEMENT:i.writeQueryReply(TN3270E_REPLY_QCODE_DISTRIBUTED_DATA_MANAGEMENT,BZ_QUERY_REPLY_DISTRIBUTED_DATA_MANAGEMENT);_++;break;case TN3270E_REPLY_QCODE_STORAGE_POOLS:break;case TN3270E_REPLY_QCODE_DOCUMENT_INTERCHANGE_ARCHITECTURE:case TN3270E_REPLY_QCODE_DATA_CHAINING:protocolLogger.warn("implement me TN3270E_REPLY_QCODE "+hex(g));break;case TN3270E_REPLY_QCODE_AUXILIARY_DEVICE:break;case TN3270E_REPLY_QCODE_3270_IPDS:case TN3270E_REPLY_QCODE_PRODUCT_DEFINED_DATA_STREAM:case TN3270E_REPLY_QCODE_ANOMALY_IMPLEMENTATION:case TN3270E_REPLY_QCODE_IBM_AUXILIARY_DEVICE:case TN3270E_REPLY_QCODE_BEGIN_END_OF_FILE:case TN3270E_REPLY_QCODE_DEVICE_CHARACTERISTICS:protocolLogger.warn("implement me TN3270E_REPLY_QCODE"+hex(g));break;case TN3270E_REPLY_QCODE_RPQ_NAMES:if(t){let e=this.getQueryReplyRPQIP();i.writeQueryReply(TN3270E_REPLY_QCODE_RPQ_NAMES,e);_++}protocolLogger.warn("Ignoring query reply for RPQ names as sending IP is disabled");break;case TN3270E_REPLY_QCODE_DATA_STREAMS:protocolLogger.warn("implement me TN3270E_REPLY_QCODE"+hex(g));break;case TN3270E_REPLY_QCODE_IMPLICIT_PARTITION:i.writeQueryReply(TN3270E_REPLY_QCODE_IMPLICIT_PARTITION,h);_++;break;case TN3270E_REPLY_QCODE_PAPER_FEED_TECHNIQUES:protocolLogger.warn("implement me TN3270E_REPLY_QCODE"+hex(g));break;case TN3270E_REPLY_QCODE_TRANSPARENCY:break;case TN3270E_REPLY_QCODE_SETTABLE_PRINTER_CHARACTERISTICS:case TN3270E_REPLY_QCODE_IOCA_AUXILIARY_DEVICE:case TN3270E_REPLY_QCODE_COOPERATIVE_PROCESSING_REQUESTOR:protocolLogger.warn("implement me TN3270E_REPLY_QCODE"+hex(g));break;case TN3270E_REPLY_QCODE_SEGMENT:break;case TN3270E_REPLY_QCODE_PROCEDURE:break;case TN3270E_REPLY_QCODE_LINE_TYPES:break;case TN3270E_REPLY_QCODE_PORT:break;case TN3270E_REPLY_QCODE_GRAPHIC_COLOR:break;case TN3270E_REPLY_QCODE_EXTENDED_DRAWING_ROUTINE:protocolLogger.warn("implement me TN3270E_REPLY_QCODE"+hex(g));break;case TN3270E_REPLY_QCODE_GRAPHIC_SYMBOL_SETS:BZ_QUERY_REPLY_GRAPHIC_SYMBOL_SETS[6]=l;BZ_QUERY_REPLY_GRAPHIC_SYMBOL_SETS[7]=o;BZ_QUERY_REPLY_GRAPHIC_SYMBOL_SETS[20]=l;BZ_QUERY_REPLY_GRAPHIC_SYMBOL_SETS[21]=o;break;case TN3270E_REPLY_QCODE_NULL:break;default:protocolLogger.warn("Could not respond to unrecognized query reply code="+hex(g))}}if(!_){i.writeQueryReply(TN3270E_REPLY_QCODE_NULL,BZ_QUERY_REPLY_NULL)}}if(this.webSocket){messageLogger.debug("Sending message with data:");hexDump(i.data,messageLogger);if(this.usingOldJSON){var S={t:"COMMAND_STRUCTURED_AID_FIELDS",data:i.toBase64()};var C={t:"MESSAGE_3270_DATA",command:S};this.sendMessage(C)}else{i.writeByte(TELNET_IAC);i.writeByte(TN3270E_TELNET_MESSAGE_END);this.sendMessage2(i.data.slice(0,i.fill))}this.displayOIAOpStatus(X_HOST_PROCESSING)}protocolLogger.debug("Query reply generated and sent")};Virtual3270Screen.prototype.handleStructuredField=function(e){var t=e.fields;var i;protocolLogger.debug("Handling structured field. Fields length="+t.length);for(i=0;i<t.length;i++){var n=t[i];protocolLogger.debug("-- Structured Field="+JSON.stringify(n));if(n.t==="FIELD_READ_PARTITION"){if(n.key===TN3270E_STRUCTURED_FIELD_READ_P_QUERY||n.key===TN3270E_STRUCTURED_FIELD_READ_P_QUERY_LIST){var r=n.replyType;var s=n.queryCodes;protocolLogger.debug("---- Type=READ_PARTITION");this.respondToQueryForTerminalCapabilities(r=="specific"?s:null);this.firstErase=false;this.pblock.inReceiveState=1}else{if(this.isValidPartition(n.pid)){let e=97;this.partitionNumber=n.pid;switch(n.key){case TN3270E_CMD_READ_BUFFER:protocolLogger.debug("---- Type=READ_PARTITION; CMD=ReadBuffer");this.handleReadBuffer(e);break;case TN3270E_CMD_READ_MODIFIED:protocolLogger.debug("---- Type=READ_PARTITION; CMD=Read Modified Fileds");this.sendModifiedFields(e);break;case TN3270E_CMD_READ_MODIFIED_ALL:protocolLogger.debug("---- Type=READ_PARTITION; CMD=Read Modified Fileds All");this.sendModifiedAllFields(e);break}}}}else if(n.t==="FIELD_OUTBOUND_3270DS"||n.key===TN3270E_STRUCTURED_FIELD_OUTBOUND_3270DS){protocolLogger.debug("---- Type=OUTBOUND_DATASTREAM");var o=n.tn3270Data;const h=t[i+1];const d=h&&h.t==="FIELD_READ_PARTITION";this.handleWrite(o,!d)}else if(n.key===TN3270E_STRUCTURED_FIELD_SET_REPLY_MODE){if(n.pid>0){protocolLogger.warn("Partitions above 0 (implicit) not yet implemented")}else{if(n.mode<0||n.mode>2){protocolLogger.warn("Cannot set field mode to type="+n.mode)}else{this.replyMode=n.mode;protocolLogger.debug("---- reply mode is "+n.mode)}}}else if(n.t===TN3270E_STRUCTURED_FIELD_RESET_PARTITION){if(this.isValidPartition(n.pid)){this.replyMode=TN3270_REPLY_MODE_FIELD;this.partitionNumber=n.pid;this.partition.replyMode=TN3270_REPLY_MODE_FIELD;this.partition.replyModeMask=0;this.partition.characterAttributeMask=0;protocolLogger.debug("---- reply mode is "+TN3270_REPLY_MODE_FIELD)}}else if(n.t==="FIELD_OBJECT"||n.key===TN3270E_STRUCTURED_FIELD_OBJECT_DATA||n.key===TN3270E_STRUCTURED_FIELD_OBJECT_CONTROL||n.key===TN3270E_STRUCTURED_FIELD_OBJECT_PICTURE){var l=n.flags;protocolLogger.debug("---- Type=FIELD_OBJECT");if((l&GOCA_SPAN_MASK)==GOCA_SPAN_ONLY){protocolLogger.debug("Starting GOCA message handling");var a;if(n.B64){a=base64ToUint8Array(n.B64)}else{a=n.data}var c=n.fieldType?n.fieldType:n.key;protocolLogger.debug("---- GOCA bytes="+a);protocolLogger.debug("---- Field type="+c);var u=parseGOCAMessage(a,0,a.length,c,n.expectedCommand);if(u){this.gocaElements.push(u)}}else{handleGOCAChunk(gocaContext,a,0,0,l&GOCA_SPAN_MASK,c,n.expectedCommand)}}else if(n.t===TN3270E_STRUCTURED_FIELD_INDFILE){if(this.indfile){let e,t;e=n.data.length+3>>8;this.indfile.PutSFByte(e);e=n.data.length+3&255;this.indfile.PutSFByte(e);e=208;this.indfile.PutSFByte(e);for(t=0;t<n.data.length;t++){e=n.data[t];this.indfile.PutSFByte(e)}this.indfile.SfBufDir=0}}else{if(n.key===TN3270E_STRUCTURED_FIELD_CREATE_PARTITION){if(this.partitionState==PARTITION_STATE_IMPLICIT){if(this.partitions[0]){delete this.partitions[0]}this.partitionState=PARTITION_STATE_EXPLICIT;this.partitionNumber=n.pid}else if(this.partitions[n.pid]){delete this.partitions[n.pid]}protocolLogger.debug("---- Type=CREATE_PARTITION");protocolLogger.debug("---- ID="+n.pid);protocolLogger.debug("New partition count="+Object.keys(this.partitions).length);this.partitions[n.pid]=n}else if(e.key&1){this.isKeyboardReady=true}protocolLogger.warn("Unimplemented Structured field type t="+n.t+", key="+n.key)}}};Virtual3270Screen.prototype.sendTelnetSub=function(e,t){var i=[TELNET_IAC,TELNET_SUB,e];for(var n=0;n<t.length;n++){i.push(t[n])}i.push(TELNET_IAC);i.push(TELNET_SUBEND);var r=utf8ArrayToB64(i);var s={t:"3270_CLIENT_MESSAGE",data:r};telnetLogger.debug("sending telnet suboptions, dump follows");hexDump(i,telnetLogger);tracer.logSentData(i,this);if(this.webSocket!=null){this.webSocket.send(JSON.stringify(s));this.heartbeat("send",this?.callbacks?.heartbeatCallback)}};function TN3270Parser(e,t){this.jsonResponseType=t;this.screen=e;this.state=TELNET_NO_STATE;this.telnetVerb=null;this.subBytes=[];this.dataBuffer=[];this.dataBufferPos=0;this.telnetResponse=[];this.headerNeeded=false;this.dataRun=[];this.terminalName=[];this.highestMessageID=0;if(e.isPrinter)this.tn3270DefaultSupportedFunctions=TN3270E_FUNCTION_SUPPORT_PRINTER;else this.tn3270DefaultSupportedFunctions=e.enableTN3270EExtensions?TN3270E_FUNCTION_SUPPORT_EXTENDED:TN3270E_FUNCTION_SUPPORT_STANDARD;this.tail=false;this.bEchoing=true;this.bUsingGa=false;this.negTerminalType=false;this.bBinaryOpt=0;this.bEorOpt=0}TN3270Parser.prototype.setConnectionFunctions=function(e){var t=this.screen;var i;var n=false;var r=false;var s=false;var o=false;var l=false;var a=false;var c=false;var u=0;if(e.length>0){while(u<e.length){i=e[u++];if(i===TN3270E_FUNCTION_BIND_IMAGE){n=true}else if(i===TN3270E_FUNCTION_RESPONSES){r=true}else if(i===TN3270E_FUNCTION_SYSREQ){s=true}else if(i===TN3270E_FUNCTION_DATA_STREAM_CTL){a=true}else if(i===TN3270E_FUNCTION_SCS_CTL_CODES){l=true}else if(i===TN3270E_FUNCTION_EXTENDED_CONTENTION_RESOLUTION){c=true}else if(i===TN3270E_FUNCTION_EXTENDED_SNA_SENSE){o=true}else{telnetLogger.warn("Unknown function type 0x"+hex(i)+" during tn3270 FUNCTION negotiation")}}}t.tn3270eConnectionFunctions=new TN3270EFunctions(n,r,s,o,l,a,c)};TN3270Parser.prototype.appendTelnetOptionResponse=function(e,t){this.telnetResponse.push(255);this.telnetResponse.push(e);if(Number(t)>=0){this.telnetResponse.push(t)}};const TN3270E_SUB_SWITCH_NO_STATE=0;const TN3270E_SUB_SWITCH_SEND=1;const TN3270E_SUB_SWITCH_DEVICE_TYPE=2;const TN3270E_SUB_SWITCH_FUNCTIONS=3;const TN3270E_SUB_SWITCH_ASSOCIATE=4;const TN3270E_SUB_SWITCH_CONNECT=5;TN3270Parser.prototype.handleTelnetSub=function(){var i=this.screen;var e=this.subBytes.length;var t=0;if(i.deviceType){t=i.deviceType.string.length}var n=0;var r=this.subBytes[n++];if(r===TELNET_OPTION_TN3270E){var s=TN3270E_SUB_SWITCH_NO_STATE;var o;while(n<e){r=this.subBytes[n++];switch(s){case TN3270E_SUB_SWITCH_NO_STATE:if(r===TN3270E_TELNET_SUB_SEND){nextState=TN3270E_SUB_SWITCH_SEND}else if(r===TN3270E_TELNET_SUB_DEVICE_TYPE){nextState=TN3270E_SUB_SWITCH_DEVICE_TYPE}else if(r===TN3270E_TELNET_SUB_FUNCTIONS){nextState=TN3270E_SUB_SWITCH_FUNCTIONS}else if(r===TN3270E_TELNET_SUB_CONNECT||r===TN3270E_TELNET_SUB_ASSOCIATE){nextState=TN3270E_SUB_SWITCH_CONNECT}else{telnetLogger.warn("tn3270 telnet sub type 0x"+hex(r)+" found, unknown and unhandled")}break;case TN3270E_SUB_SWITCH_SEND:if(r===TN3270E_TELNET_SUB_DEVICE_TYPE){if(this.screen.deviceType){var l=[TN3270E_TELNET_SUB_DEVICE_TYPE,TN3270E_TELNET_SUB_REQUEST];var a=i.deviceType.string;for(var c=0;c<a.length;c++){l.push(a.charCodeAt(c))}if(this.screen.sessionDeviceName&&this.screen.sessionDeviceName.length){l.push(TN3270E_TELNET_SUB_CONNECT);for(var c=0;c<this.screen.sessionDeviceName.length;c++){if(Array.isArray(this.screen.sessionDeviceName)){l.push(this.screen.sessionDeviceName[c])}else{l.push(this.screen.sessionDeviceName.charCodeAt(c))}}}else if(this.screen.sessionAssociateLuName&&this.screen.sessionAssociateLuName.length){l.push(TN3270E_TELNET_SUB_ASSOCIATE);for(var c=0;c<this.screen.sessionAssociateLuName.length;c++){l.push(this.screen.sessionAssociateLuName.charCodeAt(c))}}i.sendTelnetSub(TELNET_OPTION_TN3270E,l)}else{telnetLogger.severe("No device type defined, cannot respond to telnet sub")}}else{telnetLogger.warn("Requested to send 0x"+hex(r)+" but unknown type")}nextState=TN3270E_SUB_SWITCH_NO_STATE;break;case TN3270E_SUB_SWITCH_DEVICE_TYPE:if(r===TN3270E_TELNET_SUB_IS){if(e-n<t+1){telnetLogger.warn("Device type length is shorter than what was given")}else{for(var c=0;c<t;c++){n++}}}else if(r===TN3270E_TELNET_SUB_REJECT){var u=this.subBytes[n++];if(u===TN3270E_TELNET_SUB_REASON){let e=this.subBytes[n++];this.screen.connectState=CONNECT_STATE_DISCONNECTED;this.screen.updateScreenStatus();this.processSubRejectCode(e);telnetLogger.severe("tn3270 sub rejected with reason=0x"+hex(e))}return}else{telnetLogger.warn("Unknown b 0x"+hex(r)+" seen under tn3270 sub DEVICE_TYPE")}nextState=TN3270E_SUB_SWITCH_NO_STATE;break;case TN3270E_SUB_SWITCH_CONNECT:if(!o){o=[]}o.push(r);if(o.length===8){nextState=TN3270E_SUB_SWITCH_NO_STATE;i.sessionDeviceName=o;this.terminalName=o;i.sendTelnetSub(TELNET_OPTION_TN3270E,this.tn3270DefaultSupportedFunctions)}break;case TN3270E_TELNET_SUB_FUNCTIONS:if(r===TN3270E_TELNET_SUB_IS){if(n===e-1){this.setConnectionFunctions([])}else{this.setConnectionFunctions(this.subBytes.slice(n+1))}n=e}else if(r===TN3270E_TELNET_SUB_REQUEST){var h;var d=0;var p=[];if(n!==e-1){while(n<e){h=this.subBytes[n++];if(h>=0&&h<=7){if(h===TN3270E_FUNCTION_EXTENDED_SNA_SENSE||h===TN3270E_FUNCTION_EXTENDED_CONTENTION_RESOLUTION){if(i.enableTN3270EExtensions===true){p.push(h)}}else if(h!==TN3270E_FUNCTION_DATA_STREAM_CTL&&h!==TN3270E_FUNCTION_SCS_CTL_CODES){p.push(h)}}else{telnetLogger.warn("Saw unknown function type 0x"+hex(h)+" during tn3270 FUNCTION negotiation")}d++}}if(p.length===d){var l=[TN3270E_TELNET_SUB_FUNCTIONS,TN3270E_TELNET_SUB_IS];this.setConnectionFunctions(p)}else{var l=[TN3270E_TELNET_SUB_FUNCTIONS,TN3270E_TELNET_SUB_REQUEST]}for(var c=0;c<p.length;c++){l.push(p[c])}i.sendTelnetSub(TELNET_OPTION_TN3270E,l)}else{telnetLogger.warn("Unexpected byte 0x"+hex(r)+" seen after FUNCTIONS tn3270 sub")}nextState=TN3270E_SUB_SWITCH_NO_STATE;break;default:telnetLogger.warn("Unhandled 3270e telnet sub type=0x"+hex(r))}s=nextState}if(s===TN3270E_SUB_SWITCH_CONNECT){i.sessionDeviceName=o;this.terminalName=o;i.sendTelnetSub(TELNET_OPTION_TN3270E,this.tn3270DefaultSupportedFunctions)}}else if(r===TELNET_OPTION_TERMINAL_TYPE){if(this.screen.deviceType){let e=[0];let t=this.screen.deviceType.string;for(var c=0;c<t.length;c++){e.push(t.charCodeAt(c))}i.sendTelnetSub(r,e)}else{telnetLogger.severe("No device type defined, cannot respond to telnet sub")}}else{telnetLogger.severe("Request for telnet sub of type 0x"+hex(r)+" but it is not handled")}this.screen.updateScreenStatus()};TN3270Parser.prototype.processSubRejectCode=function(e){let t;switch(e){case TN3270_TELNET_REASON_CODES_CONN_PARTNER:t="CONN-PARTNER";break;case TN3270_TELNET_REASON_CODES_DEVICE_IN_USE:t="DEVICE-IN-USE";break;case TN3270_TELNET_REASON_CODES_INV_ASSOCIATE:t="INV-ASSOCIATE";break;case TN3270_TELNET_REASON_CODES_INV_NAME:t="INV-NAME";break;case TN3270_TELNET_REASON_CODES_INV_DEVICE_TYPE:t="INV-DEVICE-TYPE";break;case TN3270_TELNET_REASON_CODES_TYPE_NAME_ERROR:t="TYPE-NAME-ERROR";break;case TN3270_TELNET_REASON_CODES_UNKNOWN_ERROR:t="UNKNOWN-ERROR";break;case TN3270_TELNET_REASON_CODES_UNSUPPORTED_REQ:t="UNSUPPORTED-REQ";break;default:t="UNKNOWN";break}const i=TN370_REASON_CODE_EXPLANATION[t];const n=`Connection to host is rejected.\nHost: ${this.screen.hostInfo.host}\nPort: ${this.screen.hostInfo.port}\nReason Name: ${t}\nReason: ${i}`;alert(n)};TN3270Parser.stateNames=["TELNET_NO_STATE","PARSER_TELNET_OPTION","PARSER_TELNET_SUB","PARSER_TELNET_VERB"];TN3270Parser.prototype.handleTelnetOption=function(e){telnetLogger.debug("Handling telnet option");telnetLogger.debug("-- b=0x"+hex(e));switch(this.telnetVerb){case TELNET_DO:telnetLogger.debug("-- Verb=DO");switch(e){case TELNET_OPTION_TN3270E:if(this.screen.enableTN3270E){this.appendTelnetOptionResponse(TELNET_WILL,e);this.screen.emulMode=EnumEmulMode.LULU;this.screen.usingTN3270E=true;this.headerNeeded=true}else{this.appendTelnetOptionResponse(TELNET_WONT,e)}break;case TELNET_OPTION_TERMINAL_TYPE:this.negTerminalType=true;this.appendTelnetOptionResponse(TELNET_WILL,e);break;case TELNET_OPTION_END_OF_RECORD:this.bEorOpt|=TELNET_RX_DO;if((this.bEorOpt&TELNET_TX_WILL)==0){this.bEorOpt|=TELNET_TX_WILL}this.appendTelnetOptionResponse(TELNET_WILL,e);break;case TELNET_OPTION_BINARY:this.bBinaryOpt|=TELNET_RX_DO;if((this.bBinaryOpt&TELNET_TX_WILL)==0){this.bBinaryOpt|=TELNET_TX_WILL}this.appendTelnetOptionResponse(TELNET_WILL,e);break;case TELNET_OPTION_ECHO:if(this.negTerminalType){this.bEchoing=false;this.appendTelnetOptionResponse(TELNET_WONT,e)}else{this.bEchoing=true;this.appendTelnetOptionResponse(TELNET_WILL,e)}break;case TELNET_OPTION_SUPPRESS_GO_AHEAD:this.bUsingGa=false;this.appendTelnetOptionResponse(TELNET_WILL,e);break;case TELNET_OPTION_STATUS:case TELNET_OPTION_WINDOW_SIZE:case TELNET_OPTION_TERMINAL_SPEED:case TELNET_OPTION_NEW_ENVIRONMENT:default:telnetLogger.warn("Defaulted on DO, sending WONT for b=0x"+hex(e));this.appendTelnetOptionResponse(TELNET_WONT,e)}break;case TELNET_DONT:telnetLogger.debug("-- Verb=DONT");switch(e){case TELNET_OPTION_TN3270E:this.screen.usingTN3270E=false;this.headerNeeded=false;case TELNET_OPTION_ECHO:if(e===TELNET_OPTION_ECHO){this.bEchoing=false}case TELNET_OPTION_END_OF_RECORD:if(e===TELNET_OPTION_END_OF_RECORD){this.bEorOpt=0}case TELNET_OPTION_BINARY:if(e===TELNET_OPTION_BINARY){this.bBinaryOpt=0}case TELNET_OPTION_SUPPRESS_GO_AHEAD:case TELNET_OPTION_WINDOW_SIZE:default:this.appendTelnetOptionResponse(TELNET_WONT,e);telnetLogger.warn("WONT for b=0x"+hex(e))}break;case TELNET_WONT:telnetLogger.debug("-- Verb=WONT");switch(e){case TELNET_OPTION_TN3270E:telnetLogger.warn("Server responded to TN3270 option with WONT, closing connection");this.screen.closeConnection();break;case TELNET_OPTION_TIMING_MARK:break;case TELNET_OPTION_ECHO:break;case TELNET_OPTION_END_OF_RECORD:if(e===TELNET_OPTION_END_OF_RECORD){this.bEorOpt=0}case TELNET_OPTION_BINARY:if(e===TELNET_OPTION_BINARY){this.bBinaryOpt=0}case TELNET_OPTION_SUPPRESS_GO_AHEAD:default:this.appendTelnetOptionResponse(TELNET_DONT,e);telnetLogger.warn("DONT for b=0x"+hex(e))}break;case TELNET_WILL:telnetLogger.debug("-- Verb=WILL");switch(e){case TELNET_OPTION_BINARY:this.bBinaryOpt|=TELNET_RX_WILL;if((this.bBinaryOpt&TELNET_TX_DO)==0){this.bBinaryOpt|=TELNET_TX_DO}this.appendTelnetOptionResponse(TELNET_DO,e);break;case TELNET_OPTION_END_OF_RECORD:this.bEorOpt|=TELNET_RX_WILL;if((this.bEorOpt&TELNET_TX_DO)==0){this.bEorOpt|=TELNET_TX_DO}this.appendTelnetOptionResponse(TELNET_DO,e);break;case TELNET_OPTION_ECHO:if(this.negTerminalType){this.bEchoing=false;this.appendTelnetOptionResponse(TELNET_DONT,e)}else{this.bEchoing=true;this.appendTelnetOptionResponse(TELNET_DO,e)}break;case TELNET_OPTION_SUPPRESS_GO_AHEAD:this.bUsingGa=false;this.appendTelnetOptionResponse(TELNET_DO,e);break;case TELNET_OPTION_TN3270E:if(this.enableTN3270E){this.screen.emulMode=EnumEmulMode.LULU;this.screen.usingTN3270E=true;this.headerNeeded=true;this.appendTelnetOptionResponse(TELNET_DO,e)}else{this.appendTelnetOptionResponse(TELNET_DONT,e)}break;case TELNET_OPTION_3270_REGIME:case TELNET_OPTION_STATUS:case TELNET_OPTION_ENCRYPTION:default:this.appendTelnetOptionResponse(TELNET_DONT,e);telnetLogger.warn("DONT for b=0x"+hex(e))}break}this.screen.updateScreenStatus()};TN3270Parser.prototype.process=function(e){parseLogger.debug("Parser Loop Top: b=0x"+hex(e)+" state="+TN3270Parser.stateNames[this.state]);var t=TELNET_NO_STATE;switch(this.state){case TELNET_NO_STATE:if(e===TELNET_IAC){t=PARSER_TELNET_VERB}else{this.dataBuffer.push(e);if(this.tail){if(this.headerNeeded){this.messageHeader=this.readMessageHeader(this.dataBuffer)}if(this.messageHeader&&this.messageHeader.dataType===TN3270E_MSG_NVT_DATA||this.screen.emulMode===EnumEmulMode.NVT){parseLogger.debug("About to parse NVT message:");hexDump(this.dataBuffer,parseLogger);this.parseMessage(this.dataBuffer)}}}break;case PARSER_TELNET_VERB:if(e===TELNET_IAC){this.dataBuffer.push(e);break}else{if(this.dataBuffer.length>0){if(this.headerNeeded){this.messageHeader=this.readMessageHeader(this.dataBuffer)}parseLogger.debug("About to parse tn3270 message:");hexDump(this.dataBuffer,parseLogger);this.parseMessage(this.dataBuffer)}}this.telnetVerb=e;if(e===TN3270E_TELNET_MESSAGE_END){t=TELNET_NO_STATE}else if(e===TELNET_SUB){t=PARSER_TELNET_SUB}else if(e===TELNET_SUBEND||e===TELNET_NOP){t=TELNET_NO_STATE}else{t=PARSER_TELNET_OPTION}break;case PARSER_TELNET_OPTION:var i=e;this.handleTelnetOption(e);t=TELNET_NO_STATE;break;case PARSER_TELNET_SUB:if(e===TELNET_IAC){this.handleTelnetSub();this.subBytes=[];t=PARSER_TELNET_VERB;break}else{this.subBytes.push(e);t=PARSER_TELNET_SUB}break}this.state=t};TN3270Parser.prototype.readMessageHeader=function(e){var t={};this.dataBufferPos=0;this.screen.requestFlag={sendDataIndicator:0,kbRstroreIndicator:0};t.dataType=e[this.dataBufferPos++];t.requestFlag=e[this.dataBufferPos++];t.responseFlag=e[this.dataBufferPos++];t.sequenceNumber=readU16(e,this.dataBufferPos);this.dataBufferPos+=2;if(this.screen.usingTN3270E){if(t.dataType===TN3270E_MSG_3270_DATA||t.dataType===TN3270E_MSG_SCS_DATA){if(this.screen.tn3270eConnectionFunctions&&this.screen.tn3270eConnectionFunctions.contentionResolution){if(t.requestFlag&TN3270_MESSAGE_REQUEST_SEND_DATA_MASK){this.screen.requestFlag.sendDataIndicator=1}if(t.requestFlag&TN3270_MESSAGE_REQUEST_KB_RESTORE_MASK){this.screen.requestFlag.kbRstroreIndicator=1}}}}return t};TN3270Parser.prototype.parseMessage=function(e){if(this.headerNeeded){protocolLogger.debug("Reading TN3270E header before message parse");this.parseMessageInner(this.messageHeader,e.slice(this.dataBufferPos))}else{if(this.screen.emulMode===EnumEmulMode.NVT){if(!this.screen.isHandshakeDone){this.screen.isHandshakeDone=true;this.screen.onAfterHandshake()}this.screen.parseNVTMessageData(e)}else{this.messageHeader=null;this.parseMessageInner(null,e.slice(this.dataBufferPos))}}this.dataBufferPos=0;this.dataBuffer=[]};TN3270Parser.prototype.parseTN3270MessageData=function(t){var i=t.length;if(i===0)return;if(!this.screen.isHandshakeDone){this.screen.isHandshakeDone=true;this.screen.onAfterHandshake()}var e=t;var n=e[0]&255;var r;this.screen.negativeResponseCode=-1;protocolLogger.debug("Parsing TN3270 message data. Length="+i+", Command b=0x"+hex(n));switch(n){case TN3270E_CMD_WRITE:case TN3270E_CMD_WRITE_LOCAL:case TN3270E_CMD_WRITE_ASCII:protocolLogger.debug("-- Type=WRITE");r=this.parseWrite(t,0,i,IMPLICIT_PARTITION,false,false,false);break;case TN3270E_CMD_ERASE_WRITE:case TN3270E_CMD_ERASE_WRITE_LOCAL:case TN3270E_CMD_ERASE_WRITE_ASCII:protocolLogger.debug("-- Type=ERASE_WRITE");r=this.parseWrite(t,0,i,IMPLICIT_PARTITION,true,false,false);break;case TN3270E_CMD_ERASE_WRITE_ALTERNATE:case TN3270E_CMD_ERASE_WRITE_ALTERNATE_LOCAL:case TN3270E_CMD_ERASE_WRITE_ALTERNATE_ASCII:protocolLogger.debug("-- Type=WRITE_ALTERNATE");r=this.parseWrite(t,0,i,IMPLICIT_PARTITION,true,false,true);break;case TN3270E_CMD_ERASE_ALL_UNPROTECTED:case TN3270E_CMD_ERASE_ALL_UNPROTECTED_LOCAL:case TN3270E_CMD_ERASE_ALL_UNPROTECTED_ASCII:protocolLogger.debug("-- Type=ERASE_ALL_UNPROTECTED");r=this.parseWrite(t,0,i,IMPLICIT_PARTITION,false,false,false);break;case TN3270E_CMD_WRITE_STRUCTURED_FIELD_LOCAL:case TN3270E_CMD_WRITE_STRUCTURED_FIELD:var s=true;protocolLogger.debug("-- Type=WRITE_STRUCTURED_FIELD");if(s){r=this.parseStructuredField(t,0,i,true)}else{}break;case TN3270E_AID_ENTER_KEY:protocolLogger.debug("-- Type=AID_ENTER_KEY");protocolLogger.warn("Unhandled: Enter AID seen in 3270 message data");hexDump(t,protocolLogger);break;case TN3270E_AID_STRUCTURED_FIELD:protocolLogger.debug("-- Type=AID_STRUCTURED_FIELD");hexDump(t,protocolLogger);break;case TN3270E_CMD_READ_BUFFER:case TN3270E_CMD_READ_BUFFER_LOCAL:case TN3270E_CMD_READ_BUFFER_ASCII:case TN3270E_CMD_READ_MODIFIED:case TN3270E_CMD_READ_MODIFIED_LOCAL:case TN3270E_CMD_READ_MODIFIED_ASCII:case TN3270E_CMD_READ_MODIFIED_ALL:case TN3270E_CMD_READ_MODIFIED_ALL_LOCAL:case TN3270E_CMD_READ_MODIFIED_ALL_ASCII:r={key:n};break;default:protocolLogger.warn("Unsupported TN3270 command 0x"+hex(n));let e={type:"O_COM",code:"750",status:false,snaCode:"1003"};this.screen.processErrorAttributeList(this.screen.errorAttributeList,e);this.screen.handleErrorMessage();return null}return r};TN3270Parser.prototype.startEndBracketTimer=function(){if(this.screen.printOptions.endBracketTime){protocolLogger.debug("Starting End Bracket Timeout of "+this.screen.printOptions.endBracketTime+" seconds.");this.screen.endBracketTimer=setInterval(()=>{let e=new Date;if(e.getTime()-this.screen.lastSpoolTime>=this.screen.printOptions.endBracketTime*1e3){this.endPrintSpooling();protocolLogger.debug(" End Bracket Timeout")}},1e3)}};TN3270Parser.prototype.InitPrint=function(e){let t=new Date;protocolLogger.debug(" InitPrint: Last Spool Time");this.screen.lastSpoolTime=t.getTime();this.screen.luType=e;if(!this.screen.scsParser){this.screen.scsParser=new SCSParser(this);this.screen.scsParser.ISCS()}};TN3270Parser.prototype.parseSCSMessageData=function(e){let t=0;this.screen.negativeResponseCode=-1;this.InitPrint("LU1");protocolLogger.debug("Parsing TN3270 scs data. Length="+e.length);t=this.screen.scsParser.ScsEntry(e);if(this.screen.spoolFile&&this.screen.callbacks&&this.screen.callbacks.printJobUpdateCallback){if(!this.screen.scsParser.passthrough){this.screen.callbacks.printJobUpdateCallback(JSON.stringify(this.screen.spoolFile.spoolFileObj,null,2).length)}else{this.screen.callbacks.printJobUpdateCallback(this.screen.spoolFile.spoolFileContent.length)}}if(t){let e={type:"O_COM",code:"750",status:false,snaCode:"1003"};this.screen.processErrorAttributeList(this.screen.errorAttributeList,e);this.screen.handleErrorMessage();return}};TN3270Parser.prototype.endPrintSpooling=function(){if(this.screen.endBracketTimer){clearInterval(this.screen.endBracketTimer);this.screen.endBracketTimer=null}if(this.screen.spoolFile&&this.screen.callbacks.printJobEndCallback){let e=this.screen.scsParser;let t={};if(e.pageWidth&&e.pageDepth){t.pageSize=[e.pageWidth,e.pageDepth]}if(e.leftMargin||e.rightMargin||e.topMargin||e.bottomMargin){t.pageMargins=[e.leftMargin,e.topMargin,e.rightMargin,e.bottomMargin]}if(e.orientation.length)t.pageOrientation=e.orientation;if(e.style.fontSize)t.style=e.style;this.screen.spoolFile.setLayout(t);if(this.screen.spoolFile.pageIndex&&!this.screen.spoolFile.lineIndex){this.screen.spoolFile.spoolFileContent.pop();this.screen.spoolFile.spoolFileContent.pop()}this.screen.spoolFile.print(this.screen.callbacks.printJobEndCallback);this.screen.updateScreenStatus({printStatus:2});this.screen.spoolFile=null}};TN3270Parser.prototype.getModelNumber=function(e){let t=e.substr(9,1);if(t=="I")return 6;else return Number(t)};TN3270Parser.prototype.Scrncheck=function(e){let t,i;t=e[24]&255;t&=127;if(!t){this.mdl=this.getModelNumber(this.screen.deviceType.string);return 2}if(t==3){this.mdl=this.getModelNumber(this.screen.deviceType.string);return 2}this.mdl=t;if(t==1){if(1)return 0}if(t==2){if(0){}else return 1}t&=126;if(t!=126)return 0;this.mdl=this.getModelNumber(this.screen.deviceType.string);i=e[20]*e[21];if(!i)return 0;if(e[24]!=127)return 3;i=e[22]*e[23];if(!i)return 0;return 4};TN3270Parser.prototype.Scrnchk=function(e){let t=0;switch(this.Scrncheck(e)){case 0:protocolLogger.debug("An invalid screen size was specified in byte 24 of the Bind: "+hex(e[24]));break;case 1:this.screen.defaultHeight=this.screen.modelDefaultHeight;this.screen.defaultWidth=this.screen.modelDefaultWidth;this.screen.dynamicAlternateWidth=this.screen.defaultWidth;this.screen.dynamicalternateHeight=this.screen.defaultHeight;break;case 2:this.screen.defaultHeight=this.screen.modelDefaultHeight;this.screen.defaultWidth=this.screen.modelDefaultWidth;this.screen.dynamicalternateHeight=this.screen.modelAlternateHeight;this.screen.dynamicAlternateWidth=this.screen.modelAlternateWidth;break;case 3:this.screen.defaultHeight=e[20];this.screen.defaultWidth=e[21];this.screen.dynamicalternateHeight=this.screen.modelAlternateHeight;this.screen.dynamicAlternateWidth=this.screen.modelAlternateWidth;break;case 4:this.screen.defaultHeight=e[20];this.screen.defaultWidth=e[21];this.screen.dynamicAlternateHeight=e[22];this.screen.dynamicAlternateWidth=e[23];break;default:break}return t};TN3270Parser.prototype.parseMessageInner=function(n,e){var t=0;var i=e.length;var r;if(!n||!this.screen.usingTN3270E){r=this.parseTN3270MessageData(e)}else{protocolLogger.debug("TN3270E Message header="+JSON.stringify(n));this.screen.emulMode=EnumEmulMode.LULU;switch(n.dataType){case TN3270E_MSG_SSCP_LU_DATA:this.screen.emulMode=EnumEmulMode.SSCPLU;this.screen.handleSscpData(e);this.screen.requestFlag.kbRstroreIndicator=1;break;case TN3270E_MSG_BIND_IMAGE:this.screen.firstErase=true;this.screen.m_nBound=true;var s=e[26];var o=27;protocolLogger.debug("-- Type=BIND_IMAGE");protocolLogger.debug("---- PS usage=0x"+hex(e[14]));protocolLogger.debug("----LU level=0x"+hex(e[15]));protocolLogger.debug("----Encrypt Data=0x"+hex(s));protocolLogger.debug(`Bind status=${this.screen.m_nBound}`);if(s!=0){var l=e[27];throw new RuntimeException("encrypted VTAM stuff not supported")}if(!this.screen.isPrinter||this.screen.luType=="LU3")var a=this.Scrnchk(e);var c=e[o];var u=e.slice(o+1,o+1+c);protocolLogger.debug("----Primary LU Name: Starts at 0x"+hex(o)+", len="+c);if(this.screen.scsParser)this.screen.scsParser.ISCS();this.screen.bindTimer={};this.screen.bindTimer.startTime=(new Date).getTime();this.screen.updateScreenStatus({bindTimer:this.screen.bindTimer,printStatus:2});break;case TN3270E_MSG_UNBIND:protocolLogger.debug("-- Type=UNBIND");this.screen.m_nBound=false;if(!this.screen.isPrinter){this.screen.clear();this.screen.clearOIAOpStatus();this.screen.setCursorPos(0);var h=0;this.screen.bufferPos=(h+1)%this.screen.size}else{this.screen.prtEOJ=true}this.screen.bindTimer.endTime=(new Date).getTime();this.screen.updateScreenStatus({bindTimer:this.screen.bindTimer,printStatus:0});protocolLogger.debug(`Unbind status=${this.screen.m_nBound}`);break;case TN3270E_MSG_NVT_DATA:protocolLogger.debug("-- Type=NVT");this.screen.alertNVTMessageData(e);break;case TN3270E_MSG_RESPONSE:protocolLogger.debug("-- Type=RESPONSE");break;case TN3270E_MSG_BID:protocolLogger.debug("-- Type=BID b=0x09");break;case TN3270E_MSG_3270_DATA:protocolLogger.debug("-- Type=3270_DATA");this.screen.emulMode=EnumEmulMode.LULU;r=this.parseTN3270MessageData(e);break;case TN3270E_MSG_SCS_DATA:protocolLogger.debug("-- Type=SCS_DATA");this.screen.emulMode=EnumEmulMode.LULU;this.parseSCSMessageData(e);break;case TN3270E_MSG_PRINT_EOJ:protocolLogger.debug("-- Type=PRINT_EOJ");if(!this.screen.printOptions.unbindAsEOJ)this.screen.prtEOJ=true;break;default:protocolLogger.debug("-- Type=UNKNOWN");protocolLogger.warn("Unknown message header dataType=0x"+hex(n.dataType));return false}}if(r){this.screen.processMessage2(r);if(this.screen.isPrinter){this.InitPrint("LU3");this.screen.RestoreLu3(r.wcc);if(this.screen.spoolFile&&this.screen.callbacks&&this.screen.callbacks.printJobUpdateCallback)this.screen.callbacks.printJobUpdateCallback(JSON.stringify(this.screen.spoolFile.spoolFileObj,null,2).length);r.wcc&=~8;if(this.screen.requestFlag.sendDataIndicator)this.screen.prtEOJ=true}}else if(!this.screen.isPrinter){if(this.screen.requestFlag&&(this.screen.requestFlag.kbRstroreIndicator||this.screen.requestFlag.sendDataIndicator)){this.screen.keyboardRestore();this.screen.showScreen()}protocolLogger.debug("No action taken on 3270 message, no commandJSON generated")}if(this.screen.prtEOJ){this.screen.prtEOJ=false;this.endPrintSpooling()}let d=false;let p=false;let f=true;let E=this.screen.negativeResponseCode;let T=false;if(n){if(this.screen.tn3270eConnectionFunctions&&this.screen.tn3270eConnectionFunctions.contentionResolution&&n.dataType===TN3270E_MSG_BID){protocolLogger.debug("-- BID response");d=true;n.responseFlag=TN3270_MESSAGE_RESPONSE_IS_REQUIRED;if(n.requestFlag!==TN3270_MESSAGE_REQUEST_SIGNAL_MASK){if(this.screen.pblock.inReceiveState){E="0813";f=false}else if(this.screen.pblock.dirtyBuffer){E="081B";f=false}else{E=-1;this.screen.pblock.inReceiveState=1;protocolLogger.debug("--BID Change direction");this.screen.displayOIAOpStatus(X_HOST_PROCESSING)}}else{E=-1;this.screen.pblock.inReceiveState=1;protocolLogger.debug("--BID Signal Change direction");this.screen.displayOIAOpStatus(X_HOST_PROCESSING);T=true}}else if(n.responseFlag!==TN3270_MESSAGE_RESPONSE_NO_RESPONSE){d=true}}if(d){let e=[];let t,i;t=(n.sequenceNumber&65280)>>8;i=n.sequenceNumber&255;if(n.responseFlag===TN3270_MESSAGE_RESPONSE_IS_REQUIRED){protocolLogger.debug("-- Response Type:ALWAYS-RESPONSE ");if(E!==-1){if(f){this.showProgOIA(E)}protocolLogger.debug("-- Negative Response; Error Type: "+E);e=this.negativeResponse(E,t,i)}else{protocolLogger.debug("-- Positive Response");e=[TN3270E_MSG_RESPONSE,TN3270_MESSAGE_REQUEST_NULL,TN3270E_MESSAGE_RESPONSE_POSITIVE];pushTelnetByte(e,t);pushTelnetByte(e,i);e.push(TN3270_MESSAGE_RESPONSE_TRAILING_NULL)}}else if(n.responseFlag===TN3270_MESSAGE_RESPONSE_IF_ERROR){if(E===-1){p=true}else{if(f){this.showProgOIA(E)}protocolLogger.debug("-- Response type: IF ERROR");protocolLogger.debug("-- Negative Response; Error Type: "+E);e=this.negativeResponse(E,t,i)}}if(!p){protocolLogger.debug("Sending TN3270 message response. Seq Num="+n.sequenceNumber);messageLogger.debug("Sending TN3270E message response, dump follows");this.screen.send3270Message(e);if(T){let e=[TN3270E_MSG_3270_DATA,0,0];let t=this.highestMessageID++;let i=(t&65280)>>8;let n=t&255;pushTelnetByte(e,i);pushTelnetByte(e,n);this.screen.send3270Message(e)}}}else{if(E!==-1){this.showProgOIA(E)}}if(r&&!this.screen.isPrinter&&this.screen.isKeyboardReady&&this.screen.mfaEnabled()){if(!this.screen.isLoginPage){if(this.screen.recorder&&this.screen.recorder.paused){this.screen.recorder.resumeRecord()}else if(this.screen.currentScriptExecutionContext&&this.screen.currentScriptExecutionContext.paused){this.screen.currentScriptExecutionContext.resume()}}}if(this.screen.indfile){this.screen.indfile.Trail()}};TN3270Parser.prototype.negativeResponse=function(i,n,r){let s;s=[TN3270E_MSG_RESPONSE,TN3270_MESSAGE_REQUEST_NULL];if(this.screen.tn3270eConnectionFunctions&&!this.screen.tn3270eConnectionFunctions.snaSense){s.push(1);pushTelnetByte(s,n);pushTelnetByte(s,r);s.push(TN3270_MESSAGE_RESPONSE_TRAILING_NULL)}else{s.push(2);pushTelnetByte(s,n);pushTelnetByte(s,r);let e=this.screen.errorAttributeList.get(i);let t;if(e){t=this.processNegativeResponse(e.snaCode)}else{t=this.processNegativeResponse(i)}s=s.concat(t)}return s};TN3270Parser.prototype.showProgOIA=function(e){let t=null;if(e==="753"){t=OIA_MESSAGE_PROG_ERROR_753}else if(e==="752"){t=OIA_MESSAGE_PROG_ERROR_752}else if(e==="750"){t=OIA_MESSAGE_PROG_ERROR_750}else if(e==="763"){t=OIA_MESSAGE_PROG_ERROR_763}this.screen.negativeResponseCode=-1;this.screen.displayOIAOpStatus(X_PROG_ERROR,t)};TN3270Parser.prototype.processNegativeResponse=function(e){let t=[];switch(e){case"1003":t.push(16,3,0,0);break;case"0820":t.push(8,2,0,0);break;case"1005":t.push(16,5,0,0);break;case"0831":t.push(8,49,0,0);break;case"0813":t.push(8,19,0,0);break;case"081B":t.push(8,27,0,0);break;default:messageLogger.debug("Unknow negative response error code");break}return t};var subRead=function(e,t,i){if(t>=i){return-1}else{return e[t]}};TN3270Parser.matchSDPID=function(e,t,i,n,r,s){var o=n-s;if(n>=s){var l=0;while(l<o){var a=true;for(var c=0;c<s;c++){if(e[t+i+l+c]!=r[c]){a=false;break}}if(a){return t+i+l}else{l++}}return-1}else{return-1}};TN3270Parser.prototype.parseObjectStructuredField=function(e,t,i,n,r){var s=e[t+4]&255;var o=e[t+5]&255;var l=e[t+6]&255;var a=0;switch(n){case TN3270E_STRUCTURED_FIELD_OBJECT_CONTROL:a=GOCA_BEGIN_PROCEDURE_COMMAND;break;case TN3270E_STRUCTURED_FIELD_OBJECT_DATA:a=GOCA_BEGIN_DATA_UNIT_COMMAND;if(r){tecoreLogger.info("*** WARNING *** skipping OBJECT DATA")}else{tecoreLogger.info("*** TODO *** parse OBJECT DATA going back to mainframe")}return 8;case TN3270E_STRUCTURED_FIELD_OBJECT_PICTURE:a=GOCA_BEGIN_SEGMENT_COMMAND;break;default:protocolLogger.severe("Only three GOCA WSF fields known, what is 0x"+hex(n)+" ***");return null}var c=e.slice(t+7,i-7);var u={key:n,partitionID:s,flags:o,objectType:l,expectedCommand:a,data:c};return u};TN3270Parser.prototype.parseIndfileStructuredField=function(e,t,i,n,r){var s=e.slice(t+3,t+i);var o={key:TN3270E_CMD_WRITE_STRUCTURED_FIELD,t:n,data:s};return o};TN3270Parser.prototype.parseStructuredField=function(s,o,e,l){var a=o+1;var n=s[o];var t=e;protocolLogger.debug("HSF.recordLength=0x"+hex(t)+" startPos=0x"+hex(o)+", endPos=0x"+hex(e));hexDump(s,protocolLogger,o,e);var c=0;var u=0;var r=0;var h={key:TN3270E_CMD_WRITE_STRUCTURED_FIELD,fields:[]};var d=null;while(a<t){if(a+2>=t){protocolLogger.warn("Mal-formed structured field, no Length-and-type");break}var p=readU16(s,a);protocolLogger.debug("structuredFieldLength=0x"+hex(p));if(p==0){protocolLogger.info("Taking rest of data for structured field length 0000");p=t-a}var f=s[o+a+2]&255;if(f==TN3270E_STRUCTURED_FIELD_EXTENSION_F||f==TN3270E_STRUCTURED_FIELD_EXTENSION_10){var i=s[o+a+3]&255;f=f<<8|i}protocolLogger.debug("HandleStructuredField type=0x"+hex(f));switch(f){case TN3270E_STRUCTURED_FIELD_QUERY_REPLY:if(l){protocolLogger.warn("Query reply seen in host's outbound 3270 data stream")}else{protocolLogger.warn("Need to handle a query reply")}break;case TN3270E_STRUCTURED_FIELD_ERASE_RESET:{var E=s[o+a+3]&255;protocolLogger.debug("StructuredField: ERASE/RESET - (new implicit partitiion default characteristics and size) flags=0x"+hex(E));protocolLogger.debug("  -- high bit in flags implies alternate size active");this.useAlternateSize=(E&128)!=0;this.partitionNumber=0;this.partitionState=PARTITION_STATE_IMPLICIT;this.partitions={0:{amode:false,size:this.size}};this.screen.handleErase(false,this.useAlternateSize);protocolLogger.debug(`StructuredField: ERASE/RESET current partition ID=${this.partitionNumber}`);protocolLogger.debug(`StructuredField: ERASE/RESET current partition state=${this.partitionState}`);protocolLogger.debug(`StructuredField: ERASE/RESET current partition amode=${this.partitions[this.partitionNumber].amode}`);protocolLogger.debug(`StructuredField: ERASE/RESET current partition size=${this.partitions[this.partitionNumber].size}`)}break;case TN3270E_STRUCTURED_FIELD_CREATE_PARTITION:c=s[o+a+3]&255;var T=s[o+a+4]&255;var _=(T&240)>>4;var g=T&15;u=s[o+a+5]&255;var S=readU16(s,a+6);var C=readU16(s,a+8);var R=readU16(s,a+10);var m=readU16(s,a+12);var N=readU16(s,a+14);var A=readU16(s,a+16);var y=readU16(s,a+18);var I=readU16(s,a+20);var U=readU16(s,a+22);var x=readU16(s,a+26);var K=readU16(s,a+28);var O=TN3270Parser.matchSDPID(s,o,30,p-30,presentationSpaceTypeSDPIDKey,PRESENTATION_SPACE_SDPID_KEY_LENGTH);let e=this.screen.getAlternateWidth();let t=this.screen.getAlternateHeight();if(e<C||t<S){let e={type:"create_partition_was_ra",code:"763",status:false,snaCode:"1005"};this.screen.processErrorAttributeList(this.screen.errorAttributeList,e);this.screen.handleErrorMessage();return null}else{if(this.useAlternateSize){let e=this.partitions[this.partitionNumber];if(e){e.size=S*C}this.screen.resize(C,S)}}protocolLogger.debug("StructuredField: CREATE_PARTITION pid="+c+" uom=0x"+hex(_)+" aMode=0x"+hex(g)+" flags=0x"+hex(u));protocolLogger.debug("  -- if implicit partition state, destroy it and make new partition with new PID");protocolLogger.debug("  -- if explicit partition state, clobber PID with same value and rebuild");protocolLogger.debug("  presSpace width ="+C+" height="+S);protocolLogger.debug("  viewport  column="+m+"    row="+R);protocolLogger.debug("  viewport  width ="+A+" height="+N);protocolLogger.debug("  origin    column="+I+"    row="+y);protocolLogger.debug("  presentationSpaceType       ="+(O!=-1?s[o+O]:999999));break;case TN3270E_STRUCTURED_FIELD_OBJECT_DATA:case TN3270E_STRUCTURED_FIELD_OBJECT_CONTROL:case TN3270E_STRUCTURED_FIELD_OBJECT_PICTURE:d=this.parseObjectStructuredField(s,a,p,f,l);h.fields.push(d);break;case TN3270E_STRUCTURED_FIELD_INDFILE:d=this.parseIndfileStructuredField(s,a,p,f,l);h.fields.push(d);break;case TN3270E_STRUCTURED_FIELD_READ_PARTITION:var d={t:"FIELD_READ_PARTITION"};c=s[o+a+3]&255;var b=s[o+a+4]&255;protocolLogger.debug("READ PARTITION seen at record position=0x"+hex(a));hexDump(s,protocolLogger,o,a+p);if(c==255&&b===2){protocolLogger.debug("StructuredField: READ PARTITION - request for all terminal capabilities");d.replyType="all";d.key=TN3270E_STRUCTURED_FIELD_READ_P_QUERY}else if(c==255&&b===3){d.key=TN3270E_STRUCTURED_FIELD_READ_P_QUERY_LIST;var P=s[o+a+5]&255;if(P>>6==2){d.replyType="all"}else{var D=a+6;var L=p-6;protocolLogger.debug("StructuredField: READ PARTITION - request for selected terminal capabilities");hexDump(s,protocolLogger,o+D,L);d.replyType="specific";d.queryCodes=[];for(var v=0;v<L;v++){var M=s[o+D+v];d.queryCodes.push(M)}}}else{d.key=b;d.pid=c;protocolLogger.debug("StructuredField: READ PARTITION structured field, length=0x"+hex(p)+" pid=0x"+hex(c)+", "+"command=0x"+hex(w))}h.fields.push(d);break;case TN3270E_STRUCTURED_FIELD_SET_REPLY_MODE:c=s[o+a+3]&255;let i=s[o+a+4]&255;let n=[];let r=5;while(r<p){n.push(s[o+a+r]&255);r++}h.fields.push({key:TN3270E_STRUCTURED_FIELD_SET_REPLY_MODE,pid:c,mode:i,attrList:n});break;case TN3270E_STRUCTURED_FIELD_RESET_PARTITION:c=s[o+a+3]&255;h.fields.push({t:TN3270E_STRUCTURED_FIELD_RESET_PARTITION,pid:c});protocolLogger.debug("StructuredField: RESET PARTITION structured field, length=0x"+hex(p)+" pid=0x"+hex(c));break;case TN3270E_STRUCTURED_FIELD_OUTBOUND_3270DS:c=s[o+a+3]&255;var w=s[o+a+4]&255;var V=s[o+a+5]&255;var Y=readU16(s,a+6);protocolLogger.debug("StructuredField: 0utbound 3270DS structured field, length=0x"+hex(p)+" pid=0x"+hex(c)+", "+"command=0x"+hex(w)+" wcc=0x"+hex(V)+" weirdDataThing=0x"+hex(Y));var F=a+4;var k=p-4;var H=w==TN3270E_CMD_ERASE_WRITE||w==TN3270E_CMD_ERASE_WRITE_ALTERNATE;var d={key:TN3270E_STRUCTURED_FIELD_OUTBOUND_3270DS};protocolLogger.debug("Sub.handleWrite at embeddedStart=0x"+hex(F)+" len=0x"+hex(k));hexDump(s,protocolLogger,F,k);var B=this.parseWrite(s,F,F+k,c,H,true,false);if(B){d.tn3270Data=B}h.fields.push(d);break;case TN3270E_STRUCTURED_FIELD_INBOUND_3270DS:protocolLogger.warn("Unhandled inbound 3270DS structured field");break;default:d={key:f};h.fields.push(d);protocolLogger.warn("unhandled "+(l?"outbound":"inbound")+" structured field seen 0x"+hex(f)+", len="+p)}a+=p}return h};TN3270Parser.flushDataRun=function(e,t){if(e.dataRun.length>0){tempObj={key:TN3270E_DATA_RUN_PSEUDO_ORDER,data:e.dataRun.slice()};e.dataRun=[];t.push(tempObj)}return t};TN3270Parser.enqueueToDataRun=function(e,t,i){if(i){e.dataRun.push(TN3270E_ORDER_GRAPHIC_ESCAPE)}e.dataRun.push(t)};TN3270Parser.prototype.formatCommand=function(e,t,i){var n=t;var r=subRead(e,n++,i);var s=false;var o=[];while(!s){var l=subRead(e,n++,i);switch(l){case TN3270E_ORDER_SET_BUFFER_ADDRESS:o=TN3270Parser.flushDataRun(this,o);var a={key:TN3270E_ORDER_SET_BUFFER_ADDRESS,a1:subRead(e,n++,i),a2:subRead(e,n++,i)};o.push(a);break;case TN3270E_ORDER_START_FIELD:o=TN3270Parser.flushDataRun(this,o);var a={key:TN3270E_ORDER_START_FIELD,stdAttr:subRead(e,n++,i)};o.push(a);break;case TN3270E_ORDER_START_FIELD_EXTENDED:case TN3270E_ORDER_MODIFY_FIELD:o=TN3270Parser.flushDataRun(this,o);var c=subRead(e,n++,i);var a={key:l};for(var u=0;u<c;u++){var h=subRead(e,n++,i);var d=subRead(e,n++,i);a["0x"+hex(h)]=d}o.push(a);break;case TN3270E_ORDER_SET_ATTRIBUTE:o=TN3270Parser.flushDataRun(this,o);var a={key:TN3270E_ORDER_SET_ATTRIBUTE};var h=subRead(e,n++,i);var d=subRead(e,n++,i);a["0x"+hex(h)]=d;o.push(a);break;case TN3270E_ORDER_INSERT_CURSOR:o=TN3270Parser.flushDataRun(this,o);var a={key:TN3270E_ORDER_INSERT_CURSOR};o.push(a);break;case TN3270E_ORDER_PROGRAM_TAB:o=TN3270Parser.flushDataRun(this,o);var a={key:TN3270E_ORDER_PROGRAM_TAB};o.push(a);break;case TN3270E_ORDER_REPEAT_TO_ADDRESS:o=TN3270Parser.flushDataRun(this,o);var p=subRead(e,n++,i);var f=subRead(e,n++,i);var E=subRead(e,n++,i);var T=false;var _=false;var g=subRead(e,n,i);if(E==TN3270E_ORDER_GRAPHIC_ESCAPE){protocolLogger.debug("GraphicEscape repeatTo");T=true;E=subRead(e,n++,i)}else{if(!(E|g)||E==64&&g==64||E>=65&&g>=65){_=true}}var S="O_RTA";var C=true;if(E==0){S="O_RN";C=false}else if(E==64){S="O_RB";C=false}var a={key:TN3270E_ORDER_REPEAT_TO_ADDRESS,subType:S,b1:p,b2:f};if(C){a.b3=E}if(_){a.b4=g}if(T){a.isGraphic=T}o.push(a);break;case TN3270E_ORDER_GRAPHIC_ESCAPE:{var R=subRead(e,n++,i);if(R<64){var m=subRead(e,n++,i),N=subRead(e,n++,i),A=subRead(e,n++,i);var y=subRead(e,n++,i),I=subRead(e,n++,i),O=subRead(e,n++,i);protocolLogger.debug("GraphicEscape preceding non-printing chars char=0x"+hex(R)+", next chars 0x"+hex(m)+" 0x"+hex(N)+" 0x"+hex(A)+" 0x"+hex(y)+" 0x"+hex(I)+" 0x"+hex(O));return false}TN3270Parser.enqueueToDataRun(this,R,true)}break;case TN3270E_ORDER_ERASE_UNPROTECTED_TO_ADDRESS:o=TN3270Parser.flushDataRun(this,o);var b=subRead(e,n++,i);var P=subRead(e,n++,i);var a={key:TN3270E_ORDER_ERASE_UNPROTECTED_TO_ADDRESS,a1:b,a2:P};o.push(a);break;case-1:s=true;break;default:TN3270Parser.enqueueToDataRun(this,l,false);break}}o=TN3270Parser.flushDataRun(this,o);var D={orders:o,wcc:r};return D};TN3270Parser.prototype.parseWrite=function(e,t,i,n,r,s,o){var l=t;var a;while((a=subRead(e,l++,i))===0){protocolLogger.debug("junk byte 0x00 in TN3270EMessage")}var c;switch(a){case TN3270E_CMD_WRITE:case TN3270E_CMD_WRITE_LOCAL:case TN3270E_CMD_WRITE_ASCII:case TN3270E_CMD_ERASE_WRITE:case TN3270E_CMD_ERASE_WRITE_LOCAL:case TN3270E_CMD_ERASE_WRITE_ASCII:case TN3270E_CMD_ERASE_WRITE_ALTERNATE:case TN3270E_CMD_ERASE_WRITE_ALTERNATE_LOCAL:case TN3270E_CMD_ERASE_WRITE_ALTERNATE_ASCII:var u=this.formatCommand(e,l,i);u.key=a;u.partitionID=n;u.eraseBeforeWriting=r;u.resizeProhibited=s;u.useAlternateSize=o;return u;case TN3270E_CMD_ERASE_ALL_UNPROTECTED:case TN3270E_CMD_ERASE_ALL_UNPROTECTED_LOCAL:case TN3270E_CMD_ERASE_ALL_UNPROTECTED_ASCII:this.screen.eraseAllUnprotected();break;case TN3270E_CMD_WRITE_STRUCTURED_FIELD:case TN3270E_CMD_WRITE_STRUCTURED_FIELD_LOCAL:case TN3270E_CMD_WRITE_STRUCTURED_FIELD_ASCII:default:throw new RuntimeException("**** unexpected command byte 0x"+hex(a)+" *****")}};Virtual3270Screen.prototype.eraseAllUnprotected=function(){this.ensureFieldInfo();this.partition.aid=96;this.isKeyboardReady=true;this.partition.wcc=32;let t;let i=0;let n=0;let e;let r=0;let s=this.partitions[this.partitionNumber];let o=Virtual3270Screen.getSBAPositionBytes(s,this.cursorPos);if(!this.isFormatted){e=this.size-1;this.fillCharacter(i,e,0,true,true)}else{var l=Object.keys(this.fields);for(let e=0;e<l.length;e++){t=this.fields[l[e]];if(t&&!t.attributes.isProtected()){i=t.position;r++;if(r===1){n=i+1}var a=t.length;let e=i+a;this.fillCharacter(i,e,0,true,true);if(t){t.setUnmodified()}}}}this.setCursorPos(n);if(this.renderer){this.renderer.fullPaint()}};Virtual3270Screen.prototype.getFieldPosition=function(e){const t=e.position+e.length>this.size;let i,n,r;if(!t){i=e.position+1;n=i+e.length-1;return{startPos:i,endPos:n}}const s=e.position+1;const o=[s,this.size];const l=[0,(e.length-1-(this.size-s))%this.size];if(this.cursorPos>=o[0]&&this.cursorPos<=o[1]){return{startPos:o[0],endPos:o[1]}}return{startPos:l[0],endPos:l[1]}};Virtual3270Screen.prototype.processMessage2=function(e){protocolLogger.debug("Processing parsed TN3270 command.");if(e!=null){if(e.orders){protocolLogger.debug("-- Order count="+e.orders.length)}switch(e.key){case TN3270E_CMD_WRITE:case TN3270E_CMD_WRITE_LOCAL:case TN3270E_CMD_WRITE_ASCII:case TN3270E_CMD_ERASE_WRITE:case TN3270E_CMD_ERASE_WRITE_LOCAL:case TN3270E_CMD_ERASE_WRITE_ASCII:case TN3270E_CMD_ERASE_WRITE_ALTERNATE:case TN3270E_CMD_ERASE_WRITE_ALTERNATE_LOCAL:case TN3270E_CMD_ERASE_WRITE_ALTERNATE_ASCII:protocolLogger.debug("-- Type=WRITE");this.handleWrite(e);break;case TN3270E_CMD_READ_BUFFER:case TN3270E_CMD_READ_BUFFER_LOCAL:case TN3270E_CMD_READ_BUFFER_ASCII:protocolLogger.debug("-- Type=READ BUFFER");this.pblock.inReceiveState=1;this.handleReadBuffer(this.partition.aid);break;case TN3270E_CMD_READ_MODIFIED:case TN3270E_CMD_READ_MODIFIED_LOCAL:case TN3270E_CMD_READ_MODIFIED_ASCII:protocolLogger.debug("-- Type=READ_MODIFIED");this.pblock.inReceiveState=1;this.sendModifiedFields(this.partition.aid);break;case TN3270E_CMD_READ_MODIFIED_ALL:case TN3270E_CMD_READ_MODIFIED_ALL_LOCAL:case TN3270E_CMD_READ_MODIFIED_ALL_ASCII:protocolLogger.debug("-- Type=READ_MODIFIED_ALL");this.pblock.inReceiveState=1;this.sendModifiedAllFields(this.partition.aid);break;case TN3270E_CMD_WRITE_STRUCTURED_FIELD:protocolLogger.debug("-- Type=WRITE_STRUCTURED_FIELD");this.handleStructuredField(e);break;default:protocolLogger.warn("Ignored TN3270 Command. Type=0x"+hex(e.key))}}else{protocolLogger.warn("NO TN3270 command in message")}};Virtual3270Screen.prototype.processMessage=function(e){messageLogger.debug("Processing websocket message. Type="+e.t);this.heartbeat("onmessage",this?.callbacks?.heartbeatCallback);let i=this;switch(e.t){case"IP_RES":i.clientIP=e.data;this.negotiationSuccess=false;break;case"CONNECTED":i.handleSData(e);if(!i.connectSeen){i.lockedByScripting=true;handleInvalid(i.renderer);return}break;case"CERT_PROMPT":if(i.callbacks&&i.callbacks.certificateCheck){i.callbacks.certificateCheck(i.hostInfo.host,e.fp,(e,t)=>{i.webSocket.send(JSON.stringify({t:"CERT_RES",a:e}));if(!e){tecoreLogger.info("Rejecting TLS certificate and closing connection. Reason="+t)}})}else{i.webSocket.send(JSON.stringify({t:"CERT_RES",a:true}))}break;case"3270_HOST_MESSAGE":if(!i.connectSeen){i.lockedByScripting=true;handleInvalid(i.renderer);return}this.negotiationSuccess=true;i.usingOldJSON=false;this.pblock.inReceiveState=0;var t=base64ToUint8Array(e.B64);messageLogger.debug("3270_HOST_MESSAGE raw data=");hexDump(t,messageLogger);if(tracer)tracer.logReceivedData(t,this);if(!i.parser){i.parser=new TN3270Parser(i,"3270_CLIENT_MESSAGE")}var n=i.parser;var r=0;n.tail=false;if(!this.usingTN3270E){if(n.bBinaryOpt===TELNET_RX_TX_ALL&&n.bEorOpt===TELNET_RX_TX_ALL){n.headerNeeded=false;this.usingTN3270E=false;this.emulMode=EnumEmulMode.LULU}else{this.emulMode=EnumEmulMode.NVT}}while(r<t.length){if(r===t.length-1){n.tail=true}var s=t[r];n.process(s);r++}n.sendTelnetResponse();break;case"MESSAGE_BIND_IMAGE":i.usingOldJSON=true;protocolLogger.debug("-- luName="+e.luName);break;case"MESSAGE_UNBIND_IMAGE":i.usingOldJSON=true;break;case"CERT_REJECT":i.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message");break;case"RECONNECT":this.reconnect();break;case"ERR":i.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message");i.lockedByScripting=true;handleInvalid(i.renderer);default:messageLogger.warn("Unhandled websocket message. Type="+e.t)}protocolLogger.debug("Websocket message processing complete. respFlag=0x"+hex(e.responseFlag)+" seqNo=0x"+e.sequenceNumber);if(e.responseFlag==2&&e.t!="3270_HOST_MESSAGE"){protocolLogger.debug("Sending response for TN3270E message. SeqNum="+e.sequenceNumber);i.confirmResponseRequest(e.sequenceNumber)}this.updateScrollBar(this)};Virtual3270Screen.prototype.confirmResponseRequest=function(e){var t={t:"MESSAGE_REQUEST_RESPONSE",sequenceNumber:e};this.sendMessage(t)};Virtual3270Screen.prototype.RestoreLu3=function(e){let t;if(e&8){switch(e&48){case 0:t=132;break;case 16:t=40;break;case 32:t=64;break;case 48:default:t=80;break}this.Print(t);if(this.scsParser.lineText.length||this.scsParser.printBuf.length)this.scsParser.AddSpoolData()}};Virtual3270Screen.prototype.PrSpaces=function(){while(this.spaces){this.scsParser.Txch(" ");this.spaces--}};Virtual3270Screen.prototype.CheckApl=function(e){if(e&&e.characterSet){if((e.characterSet&~CHARACTER_SET_DEFAULT)==CHARACTER_SET_APL){this.PrSpaces();this.scsParser.Txch("-");this.Pput90();return 1}}return 0};Virtual3270Screen.prototype.CheckDbcs=function(e,t,i){let n,r,s;if(t&&t.characterSet&&(t.characterSet&~CHARACTER_SET_DEFAULT)==CHARACTER_SET_DBCS&&i&&i[this.ppos]==DBCS_FIRST_HALF){if(++this.ppos==this.size)return 0;n=this.screenElements[this.ppos];r=n.ebcdicChar;if(e==64&&r==64){this.PrSpaces();s=this.charsetInfo.dbcsMapper[64][64];this.scsParser.Txch(s);this.column++;this.Pput90()}else if(r>=64){this.PrSpaces();s=this.charsetInfo.dbcsMapper[e][r];this.scsParser.Txch(s);this.column++;this.Pput90()}else if(!e){if(this.maxcol==132){switch(r){case BNL:this.Cocrlf();break;case BEM:return 1;break;case BFF:if(!this.scsParser.bIgnoreFF){this.PrOutput(12)}else if(this.column-this.spaces||this.sol)this.Cocrlf();this.spaces=0;this.column=0;this.sol=0;break;case BCR:this.scsParser.Txch(13);break;case 28:case 30:case 0:this.sol=1;this.spaces+=2;break}}else{this.sol=1;this.spaces+=2}}else{this.PrSpaces();this.scsParser.Txch("-");this.scsParser.Txch("-");this.column+=2;this.Pput90()}return 1}return 0};Virtual3270Screen.prototype.Pput40=function(e){switch(e){case BEM:return 1;case BNL:this.Cocrlf();break;case BLF:this.scsParser.Txch(10);break;case BCR:this.scsParser.Txch(13);break;default:if(!e||e==14||e==15){this.spaces++}else{e=this.scsParser.EbcdicAscii(e);if(e==" "){this.sol=1;this.spaces++}else{this.PrOutput(e)}}return this.Pput90()}this.spaces=0;this.column=0;this.sol=0;return 0};Virtual3270Screen.prototype.Pput90=function(){this.column++;if(this.column>=this.maxcol){if(!this.NL132){if(this.maxcol==132)return 0}if(this.column-this.spaces||this.sol)this.Cocrlf();this.spaces=0;this.column=0;this.sol=0}return 0};Virtual3270Screen.prototype.Pput=function(e,t){let i,n,r;if(!e){return this.Pput40(0)}i=e.attributes;n=e.ebcdicChar;r=this.getFieldData(this.ppos,true);if(r&&r.pos==this.ppos){return this.Pput40(0)}if(this.isFormatted){if(r&&r.isNoDisplay()||e.isNoDisplay){return this.Pput40(0)}}if(this.CheckApl(i))return 0;if(this.CheckDbcs(n,i,t))return 0;if(n==BFF){if(!this.scsParser.bIgnoreFF){this.PrOutput(12)}else if(this.column-this.spaces||this.sol)this.Cocrlf();this.spaces=0;this.column=0;this.sol=0;return 0}else{if(this.maxcol!=132){if(n==BEM||n==BNL||n==BCR){n=0}}return this.Pput40(n)}};Virtual3270Screen.prototype.PrOutput=function(e){this.PrSpaces();this.scsParser.Txch(e)};Virtual3270Screen.prototype.dbcsCellType=function(e){let t=this.screenElements[e];if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(e==DBCS_SHIFT_IN)return 1}return this.dbcsAttributes[e]};Virtual3270Screen.prototype.Print=function(e){let t,i;this.ppos=0;this.maxcol=e;this.column=0;this.spaces=0;this.sol=0;this.ensureFieldInfo();i=computeDBCSInfo(this);do{t=this.screenElements[this.ppos];if(this.Pput(t,i)){break}}while(++this.ppos<this.size);if((this.column-this.spaces||this.sol)&&!this.scsParser.passthrough)this.Cocrlf()};Virtual3270Screen.prototype.Cocrlf=function(){this.scsParser.Txch(13);this.scsParser.Txch(10)};var getCharCode=function(e){var t=e.keyCode;tecoreLogger.info("key = "+t);if(t>=65&&t<=90){return e.shiftKey?t:t+32}else{return 0}};Virtual3270Screen.prototype.send3270Message=function(e){e.push(TELNET_IAC);e.push(TN3270E_TELNET_MESSAGE_END);this.sendMessage2(e);this.pblock.dirtyBuffer=false};Virtual3270Screen.prototype.sendVTMessage=function(e){let t=[];for(var i=0;i<e.length;i++){t.push(this.renderer.getAsciiFromEbcdic(e[i]))}messageLogger.debug("sending client message array "+t);this.sendMessage2(t)};Virtual3270Screen.prototype.sendMessage2=function(e){var t=utf8ArrayToB64(e);var i={t:"3270_CLIENT_MESSAGE",data:t};messageLogger.debug("sending client message "+JSON.stringify(i));tracer.logSentData(e,this);hexDump(e,messageLogger);if(this.webSocket!=null){this.webSocket.send(JSON.stringify(i))}};var pushTelnetByte=function(e,t){if(t===255){e.push(255);e.push(255)}else{e.push(t)}return e};Virtual3270Screen.getSBAPositionBytes=function(e,i){var n;var r;if(e.size>16383){protocolLogger.warn("partition size above 14 bits. could be an issue with 16 bit SBA.")}if(e.amode===true||e.size>4095){r=i>>8;n=i&255}else{let e=i&192;e>>=6;let t=i>>8;t<<=2;e|=t;e&=63;r=BUFFER_ADDR_SIX_TO_EIGHT[e];i&=63;n=BUFFER_ADDR_SIX_TO_EIGHT[i]}return{highByte:r,lowByte:n}};Virtual3270Screen.prototype.getAIDKey=function(e){this.partition.aid=TN3270_AID_KEY_MAP[e];return this.partition.aid};Virtual3270Screen.prototype.handleCharCodeInput=function(t,i,n=true,r=true){if(this.connectState!=CONNECT_STATE_CONNECTED||!this.isKeyboardReady)return false;keyboardLogger.debug("keypress, charCode="+t);if(t==160&&!i){t=32}var s;if(this.isHexEntry){if(i)t=this.charsetInfo.sbcsMapper[t];const e=this.checkHexEntryCodeStatus(t);if(e.status==="invalid"){keyboardLogger.warn("Invalid hex entry code");this.displayOIAOpStatus(X_TOO_MUCH);return false}else if(e.status==="middle"){return false}else if(e.status==="ready"){t=e.newCharCode;s=this.renderer.getEbcdicForUnicode(t);if(s<=64){s=64}}}else if(this.isOS){const o=this.checkOSStatus(t);if(!o){return false}t=o;if(i)s=t;else s=this.renderer.getEbcdicForUnicode(t)}else{if(i)s=t;else s=this.renderer.getEbcdicForUnicode(t)}if(this.isFormatted){let t=this.getFieldData(this.cursorPos,true);if(t){let e=t.attributes;if(e){if(e.isProtected()||t.position===this.cursorPos){this.displayOIAOpStatus(X_TOO_MUCH);return false}}}}this.insertShiftOut=false;if(i||s>=64&&s<=255){let e;keyboardLogger.debug("normal press code=0x"+hex(t)+" ebcdic=0x"+hex(s));if(this.charsetInfo.isDBCS&&!i){e=this.dbcsAttributes;if(!this.insertMode)this.handleCharCodeInputOverDbcs();else{this.insertShiftOut=this.handleCharCodeInsertDbcs(this);if(this.insertShiftOut===false){this.displayOIAOpStatus(X_TOO_MUCH);return false}}}if(this.enterCharacterAtCursor(s,false,r)){if(n){this.renderer.fullPaint()}return true}else{this.beep()}}else{keyboardLogger.warn("Unhandled key press 0x"+hex(t));this.beep()}return false};Virtual3270Screen.prototype.handleFunction=async function(t){var e=this.getAIDKey(t);var i;if(this.oiaProgramMessage===X_HOST_PROCESSING&&!this.inputProhibitExclusion.includes(t)){tecoreLogger.debug("Put Function in Type Ahead queue");let e={};e.type="FUNC";e.function=t;this.typeAheadQueue.push(e);return false}if(e&&this.isKeyboardReady===true&&!this.pblock.inReceiveState){if(e===126){e=this.actionCursorSelect();if(!e)return}if(TN3270_MANDATORY_ENTRY_AID_KEY_MAP.indexOf(e)>-1){let e=this.mandatoryEntryCheck();if(!e)return}this.sendModifiedData(e);if(e===109){this.clear();this.setCursorPos(0);var n=0;this.bufferPos=(n+1)%this.size}if(e===125&&this.needUpdateMfaCookie()){this.mfaUserId=this.getMfaUserId();await this.setMfaCookie()}var r=document.getElementById("bzwINDFILE");if(this.recorder&&!r){this.recorder.handleYieldFunction(t);if(this.emulMode===EnumEmulMode.NVT){this.currentScriptExecutionContext.runTillWaitOrComplete()}}return true}else if(e){if(this.recorder){this.currentScriptExecutionContext.runTillWaitOrComplete()}this.displayOIAOpStatus(X_INVALID_FUNCTION);return false}else{if(CURSOR_KEY_ARRAY.indexOf(t)>=0){const u=this.getFieldData(this.cursorPos,true);const h=this.getScreenElementByPosition(this.cursorPos);if(t=="Cursor Up"){this.actionArrowKey(-this.width)}else if(t=="Cursor Right"){this.actionArrowKey(1)}else if(t=="Rapid Right"){if(this.rapidLeftRight){this.actionRapidRightAsWord()}else{this.actionArrowKey(1);this.actionArrowKey(1)}}else if(t=="Cursor Down"){this.actionArrowKey(this.width)}else if(t=="Cursor Left"){this.actionArrowKey(-1)}else if(t=="Rapid Left"){if(this.rapidLeftRight){this.actionRapidLeftAsWord()}else{this.actionArrowKey(-1);this.actionArrowKey(-1)}}else if(t=="Backspace"){this.actionBackspace();this.steadyCursorRedraw()}else if(t=="Home"){this.actionHomeKey()}else if(t=="End"){this.actionEnd();return}else if(t=="New Line"){this.actionNewLine()}else if(t=="Back Tab"){this.actionBacktab()}else if(t=="Tab"){this.actionTab()}if(u){if(this.mandatoryFillCheck(u,h)){this.triggerCheck(u)}}}else{if(t=="Attn"){this.handleAttn()}else if(t==="Print"){var s=Math.min(this.selectionStartColumn,this.selectionEndColumn);var o=Math.max(this.selectionStartColumn,this.selectionEndColumn);var l=Math.min(this.selectionStartRow,this.selectionEndRow);var a=Math.max(this.selectionStartRow,this.selectionEndRow);if(this.selectionStartColumn==null||this.selectionStartRow==null){s=0;l=0;o=this.width;a=this.height}if(this.callbacks.printCallback){this.isPrintScreen=true;var c=this.getScreenContents(s,o,l,a,false,true,false);if(this.charsetInfo.dbcsMapper!=null){c='<font face="'+this.charsetInfo.fontName+'">'+c+"</font>"}this.callbacks.printCallback(c)}return true}else if(t==="Sys Req"){this.isSystemRequesting=true;this.handleSystemRequest()}else if(t==="Reset"){this.handleReset()}else if(t=="Erase EOF"){this.actionEraseEOF()}else if(t=="Erase Field"){this.actionEraseField()}else if(t=="Erase Input"){this.actionEraseInput()}else if(t=="Erase Word"){this.actionEraseWord()}else if(t=="Delete"){this.actionDelete()}else if(t=="Insert"){this.insertMode=!this.insertMode;if(this.renderer){this.renderer.paintUpperCanvas()}}else if(t=="Null"){const d=0;this.actionEnterCharacter(d,false,true)}else if(t=="Dup"){this.actionEnterCharacter(TN3270E_FORMAT_CONTROL_ORDERS_DUP)}else if(t=="Field Mark"){this.actionEnterCharacter(TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK)}else if(t=="Hex Entry"){if(!this.preCheckInput())return false;this.hexEntryValue=[];this.isHexEntry=true}else if(t=="Overstrike Sequence"){if(this.isDBCSOverstrike())return false;if(!this.preCheckInput())return false;this.isOS=true;this.osValue=[]}else if((i=DOCUMENT_EXEC_COMMANDS[t])!=null&&i&EXEC_ALLOWED_3270){this.issueDocumentCommand(t)}else if(t=="Copy and Append"){this.copyAppend()}else if(t=="Select All"){this.keepSelection=true;this.selectAll()}else if(t=="Select Cancel"){this.keepSelection=false;this.selectCancel()}else if(t=="Select Down"){this.keepSelection=true;this.selectDown()}else if(t=="Select Left"){this.keepSelection=true;this.selectLeft()}else if(t=="Select Right"){this.keepSelection=true;this.selectRight()}else if(t=="Select Up"){this.keepSelection=true;this.selectUp()}else if(t=="Select Word"){this.keepSelection=true;const p=this.getCursor();this.selectWords(p)}else{keyboardLogger.warn("Unhandled 3270 function="+t);return false}}if(this.recorder){this.recorder.handleNoYieldFunction(t)}return true}};Virtual3270Screen.prototype.isNvtMode=function(){return this.emulMode===EnumEmulMode.NVT};Virtual3270Screen.prototype.preCheckInput=function(){const e=this.screenElements[this.cursorPos]&&this.screenElements[this.cursorPos].field;if(!e||!e.fieldData.isEditable()||this.cursorPos<e.start){keyboardLogger.warn("Attempted to write in uneditable field");this.displayOIAOpStatus(X_TOO_MUCH);this.beep();return false}return true};Virtual3270Screen.prototype.handleAttn=function(){if(this.usingTN3270E){this.sendMessage2([TELNET_IAC,TELNET_IP])}else{this.sendMessage2([TELNET_IAC,TELNET_BRK])}};Virtual3270Screen.prototype.mandatoryEntryCheck=function(){if(this.isFormatted){this.ensureFieldInfo();let t=Object.keys(this.fields);for(let e=0;e<t.length;e++){let i=this.fields[t[e]];if(i){let e=i.attributes;let t=i.position;if(!e.isProtected()&&e.isMandatoryEntry()&&!i.isModified()){let e=(t+1)%this.size;this.displayOIAOpStatus(X_INVALID_FUNCTION);this.setCursorPos(e);return false}}}}return true};Virtual3270Screen.prototype.handleSystemRequest=function(){if(this.usingTN3270E){this.emulMode=EnumEmulMode.SSCPLU;this.clear();this.setCursorPos(0);var e=0;this.bufferPos=(e+1)%this.size;this.isFormatted=false;this.handleReset()}else{this.displayOIAOpStatus(X_INVALID_FUNCTION)}};Virtual3270Screen.prototype.handleReset=function(){if(this.oiaProgramMessage!=X_HOST_PROCESSING||(!this.tn3270eConnectionFunctions||!this.tn3270eConnectionFunctions.contentionResolution)){this.clearOIAOpStatus()}this.insertMode=false;this.isHexEntry=false;this.hexEntryValue=[];this.isOS=false;this.osValue=[];this.pblock.inReceiveState=0;this.recordReday=true;this.flushTypeAhead()};Virtual3270Screen.prototype.actionEraseField=function(){this.ensureFieldInfo();var e;var t;var i;if(!this.isFormatted){t=this.cursorPos;e=this.size-1}else{i=this.getFieldData(this.cursorPos,true);if(i&&!i.attributes.isProtected()){var n=this.getFieldStartPosition(this.cursorPos);var r=this.getFieldLength(n);e=n+r;t=n+1}else{this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.paintUpperCanvas()}return}}this.fillCharacter(t,e,0,true,true);if(i){i.setModified()}if(this.renderer){this.renderer.fullPaint()}};Virtual3270Screen.prototype.mandatoryFillCheck=function(s,o){let l=true;let a=0;if(s&&o){if(this.isFormatted){let e=this.getFieldData(this.cursorPos,true);let t=e.position;let i=s.position;let n=s.length;a=o.position;let r=i+n;if(!s.attributes.isProtected()&&s.isModified()&&s.attributes.isMandatoryFill()){if(t!==i||this.cursorPos===i){for(let n=i+1;n<r;n++){let e=n%this.size;let t=this.getScreenElementByPosition(e);let i=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(i===TN3270E_FORMAT_CONTROL_ORDERS_DUP){l=true;break}else if(i===0){l=false}}}}}if(l){return true}else{this.setCursorPos(a);this.displayOIAOpStatus(X_INVALID_FUNCTION);return false}}};Virtual3270Screen.prototype.actionEraseEOF=function(){this.ensureFieldInfo();let i;let e;if(!this.isFormatted){i=this.size-1}else{e=this.getFieldData(this.cursorPos,true);if(e&&!e.attributes.isProtected()&&e.position!==this.cursorPos){let e=this.getFieldStartPosition(this.cursorPos);let t=this.getFieldLength(e);i=e+t}else{this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.paintUpperCanvas()}return}}let n=0;if(this.charsetInfo.dbcsMapper!=null){let e=this.screenElements[this.cursorPos];let t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==DBCS_SHIFT_IN){n=1}else if(this.dbcsAttributes[this.cursorPos]!=DBCS_UNINTERESTING){e.inputEbcdicChar=DBCS_SHIFT_IN;e.isModified=true;n=1}}this.fillCharacter(this.cursorPos+n,i,0,true,true);if(e){e.setModified()}if(this.renderer){this.renderer.fullPaint()}};Virtual3270Screen.prototype.actionEraseInput=function(){this.ensureFieldInfo();let t;let i=0;let n=0;let r=0;let e;if(!this.isFormatted){e=this.size-1;this.fillCharacter(i,e,0,true,true);r=0}else{var s=Object.keys(this.fields);for(let e=0;e<s.length;e++){t=this.fields[s[e]];if(t&&!t.attributes.isProtected()){i=t.position;n++;if(n===1){r=i+1}var o=t.length;let e=i+o;this.fillCharacter(i,e,0,true,true);if(t){t.setUnmodified()}}}}this.setCursorPos(r);if(this.renderer){this.renderer.fullPaint()}};Virtual3270Screen.prototype.fillCharacter=function(t,e,i,n,r){let s=e<t?e+this.size-t:e-t;let o;for(let e=0;e<=s;e++){o=(t+e)%this.size;var l=this.screenElements[o];if(l){l.inputEbcdicChar=i;l.isModified=!!n;if(r){l.characterAttributes=null}}}};Virtual3270Screen.prototype.actionEraseWord=function(){this.ensureFieldInfo();let t,i,n,r;let e=this.getScreenElementByPosition(this.cursorPos);let s=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(!this.isFormatted){n=this.cursorPos;r=this.size}else{let e=this.getFieldData(this.cursorPos,true);let t=e.position;let i=e.length;if(this.cursorPos!==t&&!e.attributes.isProtected()){n=s!==64&&s!==0?this.cursorPos:this.cursorPos+1;r=t+i}else{this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.paintUpperCanvas()}return}}for(let e=n;e<r;e++){t=this.getScreenElementByPosition(e);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;i=t.position;if(t&&!t.fieldData&&e!==64&&e!==0){i++}else{break}}}if(e&&(s!==64&&s!==0)){i++}for(let e=this.cursorPos;e<i;e++){this.actionDelete()}};Virtual3270Screen.prototype.actionInsert=function(e,t,i,n){this.ensureFieldInfo();var r;if(i==DBCS_SHIFT_IN){let t=this.screenElements[this.cursorPos];if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(e==DBCS_SHIFT_IN)return false}}if(t<e){r=this.size+t}else{r=t}var s;var o=-1;for(var l=e;l<r;l++){s=l%this.size;var a=this.screenElements[s];if(a){var c=a.isModified?a.inputEbcdicChar:a.ebcdicChar;if(c==0){o=s;break}}else{o=s;break}}if(o==-1){let e=r==0?this.size-1:(r-1)%this.size;let t=this.screenElements[e];var c=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(c==64){o=e}}if(o==-1){return false}else{for(let n=o;n!=e;n--){s=n%this.size;let e=this.screenElements[s];let t=s==0?this.screenElements[this.size-1]:this.screenElements[s-1];let i=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(e){e.inputEbcdicChar=i;e.isModified=true;this.pblock.dirtyBuffer=true}else{e=new ScreenElement(s,i,null);e.field=t.field}}return this.enterCharacterAtCursorInternal(i,false,n)}};Virtual3270Screen.prototype.actionDelete=function(){this.ensureFieldInfo();let r;let s;let o=Math.floor(this.cursorPos/this.width)*this.width;let l=o+this.width-1;if(!this.isFormatted){r=l;protocolLogger.debug("screenElements: "+JSON.stringify(this.screenElements))}else{s=this.getFieldData(this.cursorPos,true);if(s&&s.isEditable()&&!(this.cursorPos==s.position)){let e=this.cursorPos;let t=s.position;let i=this.getFieldLength(t)?this.getFieldLength(t):s.length;let n=this.getFieldLength(t)?(t+i-1)%this.size:(t+i)%this.size;if(t!==n&&n>o&&n<=l){r=n}else{r=l}if(this.charsetInfo.dbcsMapper!=null){r=n}}else{this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.paintUpperCanvas()}}}if(!r)return;let a=1;if(this.charsetInfo.dbcsMapper!=null){let e=this.screenElements[this.cursorPos];let t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;let i=this.screenElements[this.cursorPos+1];let n=i.isModified?i.inputEbcdicChar:i.ebcdicChar;if(t==DBCS_SHIFT_IN&&n!=DBCS_SHIFT_OUT||t==DBCS_SHIFT_OUT&&n!=DBCS_SHIFT_IN){this.displayOIAOpStatus(X_TOO_MUCH);if(this.renderer){this.renderer.paintUpperCanvas()}return}else if(t==DBCS_SHIFT_IN||t==DBCS_SHIFT_OUT||this.dbcsAttributes[this.cursorPos]==DBCS_FIRST_HALF){a=2}}for(let e=0;e<a;e++){for(let i=this.cursorPos;i<r;i++){let t=this.screenElements[i];if(t){let e=this.screenElements[i+1];if(e){t.inputEbcdicChar=e.isModified?e.inputEbcdicChar:e.ebcdicChar;t.characterAttributes=e.characterAttributes;if(t.inputEbcdicChar!==t.ebcdicChar){t.isModified=true;this.pblock.dirtyBuffer=true}}else{t.isModified=true;this.pblock.dirtyBuffer=true;t.inputEbcdicChar=0;t.characterAttributes=null}}}let e=this.screenElements[r];if(e){e.isModified=true;e.inputEbcdicChar=0;e.characterAttributes=null;this.pblock.dirtyBuffer=true}}if(s&&s.isEditable()&&!(this.cursorPos==s.position)){s.setModified()}if(this.rendererSettings&&this.rendererSettings.dataSecurity){if(this.rendererSettings.dataSecurity.globalApply){this.find2Masking()}}if(this.renderer){this.renderer.fullPaint()}};Virtual3270Screen.prototype.actionEnterCharacter=function(n,e=true,t=false){let i=this.screenElements[this.cursorPos];let r=!i?null:i.isModified?i.inputEbcdicChar:i.ebcdicChar;let s=n;let o=false;if(this.charsetInfo.isDBCS&&!this.insertMode){dbcsAttributes2=this.dbcsAttributes;if(dbcsAttributes2[this.cursorPos]==DBCS_FIRST_HALF&&r!=DBCS_SHIFT_IN&&r!=DBCS_SHIFT_OUT&&[TN3270E_FORMAT_CONTROL_ORDERS_DUP,TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK].includes(s)){let i=[{name:TN3270E_FORMAT_CONTROL_ORDERS_DUP,value:65290},{name:TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK,value:65307}];for(let t=0;t<i.length;t++){if(i[t].name==s){let e=this.getEbcdicForUnicode(i[t].value);o=true;this.enterCharacterAtCursor((e&65280)>>8);n=e&255;break}}}else{this.handleCharCodeInputOverDbcs()}}const l=this.enterCharacterAtCursor(n,false,t);if(l){if(this.charsetInfo.isDBCS&&!this.insertMode){if(!o){this.finishDBCSInput(dbcsAttributes2)}}if(!o&&s===TN3270E_FORMAT_CONTROL_ORDERS_DUP){this.actionTab()}if(this.renderer&&e){this.renderer.fullPaint()}}};Virtual3270Screen.prototype.actionRapidLeftAsWord=function(){this.ensureFieldInfo();this.rapidLeftAsWord()};Virtual3270Screen.prototype.actionRapidRightAsWord=function(){this.ensureFieldInfo();this.rapidRightAsWord()};Virtual3270Screen.prototype.actionArrowKey=function(e){this.modifyCursorPos(e);if(this.oiaProgramMessage===X_TOO_MUCH){this.oiaProgramMessage=null}this.renderer.paintUpperCanvas()};Virtual3270Screen.prototype.actionCursorSelect=function(){this.ensureFieldInfo();if(!this.isFormatted){return 0}else{let a=this.getFieldData(this.cursorPos,true);if(a){if(a.isNoDisplay()||a.isNoDetectable()){return 0}let e=a.position;let t=a.length;if(t===1)return 0;let i=(e+1)%this.size;let n=this.getScreenElementByPosition(i);let r=n.isModified?n.inputEbcdicChar:n.ebcdicChar;let s=this.getScreenElementByPosition(this.cursorPos);let o=s.isModified?s.inputEbcdicChar:s.ebcdicChar;if(i!==this.cursorPos&&o===0){return 0}let l=126;if(r!=110&&r!=111){if(r===80){l=125}else{if(r&~64)return 0}a.setModified();if(this.insertMode){this.insertMode=false}return l}r^=1;n.inputEbcdicChar=r;n.isModified=true;this.pblock.dirtyBuffer=true;if(r&1){a.setUnmodified()}else{a.setModified()}if(this.renderer){this.renderer.fullPaint()}return 0}}};Virtual3270Screen.prototype.actionNewLine=function(){this.ensureFieldInfo();var e=Math.floor(this.cursorPos/this.width);if(!this.isFormatted){this.setCursorPos((e+1)*this.width);if(this.renderer){this.renderer.paintUpperCanvas()}return}var t=(e+1)*this.width%this.size;var i=this.getFieldData(t,true);if(i&&i.isEditable()){if(i.position==t){this.setCursorPos(t+1)}else{this.setCursorPos(t)}}else{var n=this.findNextInputField(t,false);if(n){this.setCursorPos(n+1)}}if(this.renderer){this.renderer.paintUpperCanvas()}};Virtual3270Screen.prototype.gotoNextInputField=function(e){this.actionNextInputField();if(e){this.setCursorPos(this.cursorPos,null,true)}};Virtual3270Screen.prototype.actionNextInputField=function(){var e=this.findNextInputField(this.cursorPos,false);if(e!=null){protocolLogger.debug("Got editable field at "+e);this.setCursorPos(e+1);if(this.renderer){this.renderer.paintUpperCanvas()}}else{this.setCursorPos(this.getFieldData(this.cursorPos,true).position+1);if(this.renderer){this.renderer.paintUpperCanvas()}}};Virtual3270Screen.prototype.actionTab=function(){this.ensureFieldInfo();if(!this.isFormatted){this.setCursorPos(0)}else{const e=this.getFieldData(this.cursorPos,true);const t=e.position;if(t===this.cursorPos){if(e.isEditable()){let e=(t+1)%this.size;this.setCursorPos(e);if(this.renderer){this.renderer.paintUpperCanvas()}return}}const i=this.findNextInputField(this.cursorPos,false);if(i!=null){protocolLogger.debug("Got editable field at "+i);this.setCursorPos(i+1)}else{if(e.isEditable()){this.setCursorPos(e.position+1)}}}if(this.renderer){this.renderer.paintUpperCanvas()}};Virtual3270Screen.prototype.actionDestructiveBackspace=function(){const e=this.screenElements[this.cursorPos]&&this.screenElements[this.cursorPos].field;const t=e&&e.fieldData.isEditable()&&this.cursorPos!==e.fieldData.position;if(!this.isFormatted||t){this.actionDelete()}};Virtual3270Screen.prototype.actionDefaultBackspace=function(){if(this.cursorPos!=0){this.modifyCursorPos(-1)}if(this.destructiveBackspace){this.actionDestructiveBackspace()}};Virtual3270Screen.prototype.actionAutoSkipBackspace=function(){const e=this.screenElements[this.cursorPos]&&this.screenElements[this.cursorPos].field;const t=!e||!e.fieldData.isEditable()||this.cursorPos===e.fieldData.position+1;if(this.isFormatted&&t){let e=this.findNextInputField(this.cursorPos,true);if(e){const i=this.screenElements[e].field;if(i){e+=i.fieldData.length-1;protocolLogger.debug("Got editable field at "+e);this.setCursorPos(e);if(this.destructiveBackspace){this.actionDelete()}}}}else{this.actionDefaultBackspace()}};Virtual3270Screen.prototype.actionBackspace=function(){if(!this.autoSkipBackspace){this.actionDefaultBackspace()}else{this.actionAutoSkipBackspace()}};Virtual3270Screen.prototype.actionHomeKey=function(){this.ensureFieldInfo();if(!this.isFormatted){this.setCursorPos(0);if(this.renderer){this.renderer.paintUpperCanvas()}return}var e=this.findNextInputField(this.size-2,false);if(e!=null){this.setCursorPos(e+1);if(this.renderer){this.renderer.paintUpperCanvas()}}};Virtual3270Screen.prototype.actionBacktab=function(){this.ensureFieldInfo();if(!this.isFormatted){this.setCursorPos(0);if(this.renderer){this.renderer.paintUpperCanvas()}return}var e=this.screenElements[this.cursorPos];if(e.field&&e.field.fieldData.isEditable()){var t=this.getFieldStartPosition(this.cursorPos)+1;if(this.cursorPos!=t&&this.cursorPos+1!=t){this.setCursorPos(t);if(this.renderer){this.renderer.paintUpperCanvas()}return}}var i=this.findNextInputField(this.cursorPos,true);if(i!=null&&i!=this.size-1){this.setCursorPos(i+1);if(this.renderer){this.renderer.paintUpperCanvas()}}};Virtual3270Screen.prototype.actionEnd=function(){this.ensureFieldInfo();if(!this.isFormatted){this.setCursorPos(this.size-1);if(this.renderer){this.renderer.paintUpperCanvas()}return}var e=this.cursorPos;var t=this.getFieldData(this.cursorPos,true);var i;if(!t||!t.isEditable()){e=this.findNextInputField(this.cursorPos,false);if(e==null){return}t=this.getFieldData(e,true)}if(t){var n=(t.position+t.length)%this.size;var r;for(var s=1;s<t.length;s++){r=n-s<0?this.size+(n-s):n-s;i=this.screenElements[r];if(i){var o=i.isModified?i.inputEbcdicChar:i.ebcdicChar;if(o>64){this.setCursorPos(s==1?r:r+1);if(this.renderer){this.renderer.paintUpperCanvas()}return}}}this.setCursorPos(t.position+1);if(this.renderer){this.renderer.paintUpperCanvas()}}};Virtual3270Screen.prototype.triggerCheck=function(e){const t=e.attributes.validation&TN3270E_EXTENDED_ATTRIBUTES_TRIGGER;const i=e.isModified();if(i&&t){const n=this.getFieldData(this.cursorPos,true);if(n.position!=e.position||this.cursorPos===e.position){this.handleFunction("Trigger")}}return true};Virtual3270Screen.prototype.updatePreview=function(){if(this.renderer){if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}this.inComposition=false;this.renderer.fullPaint();this.inComposition=true;let a=this.compositionString;if(a){this.renderer.canvas=this.canvas;let e=this.renderer.canvas.getContext("2d");e.save();let t=this.renderer.font;let i=this.charsetInfo.fontName;e.font=t.substring(0,t.indexOf("px ")+3)+i;let n=this.getRowColumnFromPosition(this.cursorPos);let r=n.column*this.renderer.characterWidth;let s=n.row*this.renderer.characterHeight;let o=e.measureText(a).width;let l=this.renderer.characterHeight+1;e.fillStyle="#fff";e.fillRect(r,s,o,l);e.fillStyle="#000";e.fillText(a,r,s);e.restore()}}};Virtual3270Screen.prototype.sendModifiedData=function(e){if(this.emulMode===EnumEmulMode.NVT){this.sendNVTMessageData();this.parseNVTMessageData([13,10])}else{this.isKeyboardReady=false;this.insertMode=false;this.pblock.inReceiveState=1;this.sendModifiedFields(e)}};Virtual3270Screen.prototype.sendMessage=function(e,t){if(t){messageLogger.debug("Sending message with data to b64:");tracer.logSentData(t.data,this);hexDump(t.data,messageLogger);e.command.data=t.toBase64()}messageLogger.debug("Sending message:"+JSON.stringify(e));if(this.webSocket!=null){this.webSocket.send(JSON.stringify(e));this.heartbeat("send",this?.callbacks?.heartbeatCallback)}};Virtual3270Screen.prototype.sendModifiedFields=function(e){if(!e||e===136){e=96}if(this.sfrd){tecoreLogger.debug("LuRead3270() A");this.sfrd=0;let e;let t=136;let i=this.setReadMessageHeader();i.push(t);while((e=this.indfile.GetSFByte())!=null){pushTelnetByte(i,e)}this.indfile.ScrnBufRetry=this.indfile.ScrnBufPut;this.indfile.InitSFPtrs();if(this.webSocket!=null){this.send3270Message(i);this.displayOIAOpStatus(X_HOST_PROCESSING)}return true}if(this.usingOldJSON){return this.sendModifiedFieldsOld(e)}else{return this.sendModifiedFieldsNew(TN3270E_CMD_READ_MODIFIED,e)}};Virtual3270Screen.prototype.sendModifiedAllFields=function(e){if(!e||e===136){e=96}this.sendModifiedFieldsNew(TN3270E_CMD_READ_MODIFIED_ALL,e)};Virtual3270Screen.prototype.sendUnformattedScreen=function(e,t,i){if(e){var n;var r;for(var s=0;s<this.size;s++){n=this.screenElements[s];if(n){if(i){r=n.inputEbcdicChar;if(r&&n.isModified){e.push(r);n.isModified=false;n.ebcdicChar=r}}else{r=n.isModified?n.inputEbcdicChar:n.ebcdicChar;if(r){if(r<64){r=64}e.push(r)}}}else if(!t){e.push(0)}}if(this.webSocket!=null){this.send3270Message(e);this.displayOIAOpStatus(X_HOST_PROCESSING)}}};Virtual3270Screen.prototype.handleClearUnformated=function(e){if(e){for(var t=0;t<this.size;t++){e.push(0)}if(this.webSocket!=null){this.send3270Message(e);this.displayOIAOpStatus(X_HOST_PROCESSING)}}};Virtual3270Screen.prototype.handleReadBuffer=function(e){if(!e||e===136){e=96}var t=this.partitions[this.partitionNumber];let r=this.setReadMessageHeader();let s=new CharacterAttributes3270(0,this.ignoreProgError);r.push(e);if(e===109){this.cursorPos=0}var i=Virtual3270Screen.getSBAPositionBytes(t,this.cursorPos);pushTelnetByte(r,i.highByte);pushTelnetByte(r,i.lowByte);if(!this.isFormatted){if(e===109){return this.handleClearUnformated(r)}else{return this.sendUnformattedScreen(r,false)}}for(var o=0;o<this.size;o++){if(e===109){r.push(0)}else{let e=this.fields[o];if(e){if(this.replyMode===TN3270_REPLY_MODE_FIELD){r.push(29);r.push(e.attributes.standardAttribute)}else{r.push(41);var n=e.attributes.getAttrAsExtendedField();r.push(n.length/2);for(let e=0;e<n.length;e++){r.push(n[e])}}}else{let n=this.screenElements[o];if(n){if(this.replyMode===TN3270_REPLY_MODE_CHARACTER){let i=s.getDifference(n.characterAttributes);if(i!=null){s=n.characterAttributes;r.push(40);let t=Object.keys(i);for(let e=0;e<t.length;e++){r.push(Number(t[e]));r.push(i[t[e]])}}}let e=n.isModified?n.inputEbcdicChar:n.ebcdicChar;if(e){if(e<64&&e!==TN3270E_FORMAT_CONTROL_ORDERS_DUP&&e!==TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK&&(this.charsetInfo.dbcsMapper!=null&&e!==DBCS_SHIFT_OUT)&&(this.charsetInfo.dbcsMapper!=null&&e!==DBCS_SHIFT_IN)){e=64}if(n.isGraphicEscape){r.push(8)}r.push(e)}else{r.push(0)}}}}}if(this.webSocket!=null){protocolLogger.debug("aid="+hex(e));protocolLogger.debug("Sending read response with bytes="+r);this.send3270Message(r);this.displayOIAOpStatus(X_HOST_PROCESSING)}};Virtual3270Screen.prototype.setReadMessageHeader=function(){let t;if(this.emulMode===EnumEmulMode.SSCPLU){if(this.isSystemRequesting){t=[TELNET_IAC,TELNET_ABORT,TN3270E_MSG_SSCP_LU_DATA,0,0,0,0];this.isSystemRequesting=false}else{t=[TN3270E_MSG_SSCP_LU_DATA,0,0,0,0]}}else if(this.usingTN3270E){t=[TN3270E_MSG_3270_DATA,0,0];var i=this.parser.highestMessageID++;var n=(i&65280)>>8;var r=i&255;pushTelnetByte(t,n);pushTelnetByte(t,r);let e=this.setInBoundReadMessage();t.push(...e)}else{t=[]}return t};Virtual3270Screen.prototype.setInBoundReadMessage=function(){let e;if(this.partitionNumber){e=[136,0,0,128,this.partitionNumber]}else{e=[]}return e};Virtual3270Screen.prototype.sendAidOnlyForShortRead=function(e,t){pushTelnetByte(e,t);if(this.webSocket!=null){this.send3270Message(e);this.displayOIAOpStatus(X_HOST_PROCESSING)}};Virtual3270Screen.prototype.existDirtyBuffer=function(){let t=false;this.ensureFieldInfo();if(!this.isFormatted){let e;for(var i=0;i<this.size;i++){e=this.screenElements[i];if(e){if(e.isModified){t=true;break}}}}else{var e=Object.keys(this.fields);for(var i=0;i<e.length;i++){var n=this.fields[e[i]];if(n.isModified()){t=true;break}}}return t};Virtual3270Screen.prototype.sendModifiedFieldsNew=function(e,t){this.ensureFieldInfo();var i=[];var r=this.partitions[this.partitionNumber];protocolLogger.debug("--- read command: "+hex(e));let s=this.setReadMessageHeader();if(s){if(this.emulMode===EnumEmulMode.SSCPLU){return this.sendUnformattedScreen(s,true,true)}if(e===246&&(t===108||t===110||t===107||t===109||t===106)){protocolLogger.debug("--- short read AID: "+hex(t));return this.sendAidOnlyForShortRead(s,t)}if(e===110&&t===109){this.cursorPos=0}pushTelnetByte(s,t);var n=Virtual3270Screen.getSBAPositionBytes(r,this.cursorPos);pushTelnetByte(s,n.highByte);pushTelnetByte(s,n.lowByte);if(e===110&&t===109){if(this.webSocket!=null){this.send3270Message(s);this.displayOIAOpStatus(X_HOST_PROCESSING)}return}}if(!this.isFormatted){return this.sendUnformattedScreen(s,true)}if(e===110||t!==126){var o=this.size;var l=Object.keys(this.fields);var a=this.getScriptRowColumnFromPosition(this.cursorPos);for(var c=0;c<l.length;c++){var u=this.fields[l[c]];var h=(u.position+1)%this.size;if(u.isModified()){protocolLogger.debug("modified field found "+u+" with first pos "+h+" nonNullCount="+g);var d=[];if(this.fields[h]){protocolLogger.debug("skipping check on 0-length field at "+h)}else{var p=h;var f=new Array(u.length-1);var E;var T;var _;var g=0;for(var S=0;S<u.length-1;S++){E=(p+S)%this.size;T=this.screenElements[E];if(T){_=T.isModified?T.inputEbcdicChar:T.ebcdicChar;if(_){if(_<64&&_!==TN3270E_FORMAT_CONTROL_ORDERS_DUP&&_!==TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK&&(this.charsetInfo.dbcsMapper!=null&&_!==DBCS_SHIFT_OUT)&&(this.charsetInfo.dbcsMapper!=null&&_!==DBCS_SHIFT_IN)){_=64}f[g++]={char:_,isGraphicEscape:T.isGraphicEscape}}}}for(var S=0;S<g;S++){if(f[S].isGraphicEscape==true){protocolLogger.debug("Pushed graphics escape for char="+f[S].char);d.push(TN3270E_ORDER_GRAPHIC_ESCAPE)}d.push(f[S].char)}protocolLogger.debug("Modified data is length="+d.length)}var C=Virtual3270Screen.getSBAPositionBytes(r,h);pushTelnetByte(s,17);pushTelnetByte(s,C.highByte);pushTelnetByte(s,C.lowByte);if(d.length>0){for(var S=0;S<d.length;S++){pushTelnetByte(s,d[S])}protocolLogger.debug("Sending modified field at "+h+" with bytes"+d)}}}}else if(t===126){let n=Object.keys(this.fields);for(let i=0;i<n.length;i++){let e=this.fields[n[i]];let t=(e.position+1)%this.size;if(e.isModified()){let e=Virtual3270Screen.getSBAPositionBytes(r,t);pushTelnetByte(s,17);pushTelnetByte(s,e.highByte);pushTelnetByte(s,e.lowByte)}}}if(this.webSocket!=null){this.send3270Message(s);this.displayOIAOpStatus(X_HOST_PROCESSING)}};Virtual3270Screen.prototype.sendModifiedFieldsOld=function(e){this.ensureFieldInfo();var t=[];var i={t:"MESSAGE_MODIFIED_FIELDS",aid:e,cursorPos:this.cursorPos,fields:t};var n=this.size;var r=Object.keys(this.fields);var s=this.getScriptRowColumnFromPosition(this.cursorPos);for(var o=0;o<r.length;o++){var l=this.fields[r[o]];var a=(l.position+1)%this.size;if(l.isModified()){protocolLogger.debug("modified field found "+l+" with first pos "+a);var c={t:"MODIFIED_FIELD"};var u=[];if(this.fields[a]){protocolLogger.debug("skipping check on 0-length field at "+a)}else{var h=l.length;var d=new Array(h-1);var p=a;var f=-1;var E;var T;var _;var g=[];for(var S=0;S<l.length-1;S++){E=p+S;T=this.screenElements[E];if(T){g.push(T.isGraphicEscape);_=T.isModified?T.inputEbcdicChar:T.ebcdicChar;if(_){f=S}else{_=64}if(_<64&&_!==TN3270E_FORMAT_CONTROL_ORDERS_DUP&&_!==TN3270E_FORMAT_CONTROL_ORDERS_FIELDMARK&&(this.charsetInfo.dbcsMapper!=null&&_!==DBCS_SHIFT_OUT)&&(this.charsetInfo.dbcsMapper!=null&&_!==DBCS_SHIFT_IN)){_=64}d[S]=_}else{g.push(false);d[S]=64}}for(var S=0;S<f+1;S++){if(g[S]==true){u.push(8)}u.push(d[S])}protocolLogger.debug("Modified data is length="+u.length)}c.bufferPosition=a;if(l.precedingSBA!=null){var C=l.precedingSBA;c.previousSBAHighByte=C.a1}if(u.length>0){c.data=window.btoa(String.fromCharCode.apply(null,u));protocolLogger.debug("Pushing modifiedFieldsMessage, dump follows");hexDump(u,protocolLogger)}t.push(c)}}if(this.webSocket!=null){this.sendMessage(i);this.displayOIAOpStatus(X_HOST_PROCESSING)}};const fileAsEbcdic=[198,137,147,133];const commandAsEbcdic=[195,150,148,148,129,149,132];const mxiAsEbcdic=[212,231,201];Virtual3270Screen.prototype.getEbcdicAsString=function(e,t,i){var n=this.width*e;var r=[];var s;for(s=0;s<i;s++){var o=this.screenElements[n+t+s];r.push(o?cp1047ToUnicode[o.ebcdicChar]:32)}return String.fromCharCode.apply(null,r).trim()};Virtual3270Screen.prototype.getTextInBox=function(e,t,i,n){var r="";var s;for(s=e;s<=t;s++){var o=n-i+1;tecoreLogger.debug("colWidth="+o);r+=this.getEbcdicAsString(s,i,o);r+=" "}return r.trim()};Virtual3270Screen.prototype.wildcardMatch=function(e,t,i,n,r,s,o,l){var a=0;for(a=e;t?a>=0:a<this.height;t?a--:a++){var c=this.getScreenElement(a,n);var u=this.getScreenElement(a,s);if(c&&u){if(!c.match(r,true)||!u.match(o,true)){continue}var h=true;for(var d=n+1;d<s;d++){var p=this.getScreenElement(a,d);if(!p||!p.matchAny(l,true)){h=false;break}}if(!h){continue}else{return a}}else{continue}}return-1};Virtual3270Screen.prototype.getFieldText=function(e,t){var i=this.getFieldStartPosition(e);var n=this.getFieldLength(i)+i;var r=[];for(var s=i;s<n;s++){var o=this.getScreenElementByPosition(i);var l=o.isModified?o.inputEbcdicChar:o.ebcdicChar;if(l<64){l=64}if(t){r.push(this.renderer.unicodeConversionTable[l])}else{r.push(l)}}return String.fromCharCode.apply(null,r)};Virtual3270Screen.prototype.getFieldStartPosition=function(e){var t=this.screenElements[e];if(t){if(t.field){var i=t.field.fieldData.position;return i}}return null};Virtual3270Screen.prototype.getFieldLength=function(e){var t=this.findNextField(e,false,false,false);if(t!=null){var i;if(t<e){i=this.size-e}else{i=t-e}return i}return null};Virtual3270Screen.prototype.getFieldText=function(e,t){var i=this.getFieldStartPosition(e);var n=this.getFieldLength(e);return this.getFieldTextFromPosition(i,n,t)};Virtual3270Screen.prototype.getFieldTextFromPosition=function(e,t,i){var n=this.getFieldStartPosition(e);var r=this.getFieldLength(e);var s=r-(e-n);var o=t>s?n+r:e+t;var l=[];for(var a=e;a<o;a++){let e=this.getScreenElementByPosition(a);var c=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(i){l.push(c)}else{l.push(this.renderer.unicodeConversionTable[c])}}return String.fromCharCode.apply(null,l)};Virtual3270Screen.prototype.findPreviousInputField=function(e){return this.findPreviousField(e,true,false)};Virtual3270Screen.prototype.findPreviousField=function(e,t,i){return this.findNextField(e,true,t,i)};Virtual3270Screen.prototype.findNextField=function(e,t,i,n){this.ensureFieldInfo();if(!this.isFormatted){return null}var r;var s=-1;var o=this.getFieldData(e,true);if(o){s=o.position;protocolLogger.debug("original element field data="+o.toString())}var l=Object.keys(this.fields);var a=0;for(r=0;r<l.length;r++){if(l[r]==s){a=r;break}}var c=t==true?-1:1;var u=a+c;while(true){u=u<0?l.length+u:u%l.length;if(u==r){return null}var h=l[u];if(this.fieldMatches(s,this.screenElements[h],i)==false&&(!i||this.fields[h].isEditable())){var d=Number(h);var p=(d+1)%this.size;var f=this.fields[p];if(!n||!f){return d}}u+=c}return null};Virtual3270Screen.prototype.findNextInputField=function(e,t){return this.findNextField(e,t,true,true)};Virtual3270Screen.prototype.fieldMatches=function(e,t,i){if(t.field){var n=t.field;if(!i||n.fieldData.isEditable()){if(n.fieldData.position!=e){return false}return true}}return false};Virtual3270Screen.prototype.findFields=function(e){this.ensureFieldInfo();var t=0;for(t=0;t<this.size;t++){var i=this.screenElements[t];if(i){if(i.field){var n=i.field;if(!e||n.fieldData.isEditable()){fieldArray.push(n)}}}}return fieldArray};Virtual3270Screen.prototype.findLastField=function(e){this.ensureFieldInfo();var t=0;for(t=this.size-2;t>=0;t--){var i=this.screenElements[t];if(i){if(i.field){var n=i.field;if(!e||n.fieldData.isEditable()){return n}}}}return null};Virtual3270Screen.prototype.findLargestField=function(e){this.ensureFieldInfo();var t=null;var i=0;var n=0;for(n=this.size-1;n>=0;n--){var r=this.screenElements[n];if(r){if(r.field){var s=r.field;if(!e||s.fieldData.isEditable()){var o=s.getSize(this.size);if(o>i){t=s;i=o}}}}}return t};Virtual3270Screen.prototype.findBoxTop=function(e,t,i){var n=[162];return this.wildcardMatch(e,true,true,t,197,i,213,n)};Virtual3270Screen.prototype.findBoxBottom=function(e,t,i){var n=[162,199];return this.wildcardMatch(e,false,true,t,196,i,212,n)};Virtual3270Screen.prototype.findBoxDivider=function(e,t,i){var n=[162,199,204,211,215];tecoreLogger.debug("find box divider from "+e);return this.wildcardMatch(e,false,true,t,198,i,214,n)};Virtual3270Screen.prototype.getScreenContext=function(e){if(this.fieldInfoUpToDate==false||this.screenContextUpToDate==false){this.ensureFieldInfo();var t={application:"unknown"};this.screenContext=t;if(this.firstMatchOnLine(fileAsEbcdic,16,20,0)!=-1&&this.firstMatchOnLine(commandAsEbcdic,1,1,2)!=-1){t.application="e3270";t.screenID=this.getEbcdicAsString(3,1,8)}else if(this.firstMatchOnLine(fileAsEbcdic,3,3,0)!=-1&&this.firstMatchOnLine(mxiAsEbcdic,1,1,2)!=-1){t.application="MXI";tecoreLogger.debug("likely MXI, further investigation coming");var i=this.firstMatchOnLine("-",6,20,2);if(i!=-1){t.screenID=this.getEbcdicAsString(2,6,i-6)}}else{t.screenID=this.getEbcdicAsString(2,1,8)}this.screenContextUpToDate=true}return this.screenContext};Virtual3270Screen.prototype.addE3270Context=function(e,t,i,n){var r=this.findBoxTop(i,1,this.width-2);tecoreLogger.debug("box top = "+r);if(r!=-1){var s=this.findBoxBottom(i,1,this.width-2);tecoreLogger.debug("boxBottom = "+s);if(s!=-1){tecoreLogger.debug("should identify e3270 table and column");var o=this.getEbcdicAsString(r+1,5,120).trim();e.tableName=o;var l=this.findBoxDivider(r+1,1,this.width-2);var a=l==-1?-1:this.findBoxDivider(l+1,1,this.width-2);var c=a==-1?-1:this.findBoxDivider(a+1,1,this.width-2);tecoreLogger.debug("titleDivider="+l+" colTitleTop="+a+" colBottom="+c);var u=[];e.columnInfos=u;if(c!=-1){var h;var d=1;var p=-1;for(h=2;h<=this.width-1;h++){var f=this.width*a;var E=this.screenElements[f+h];if(E.ebcdicChar!=162){tecoreLogger.debug("col sep at "+h+" char=0x"+hex(E.ebcdicChar));var T={index:u.length};T.name=this.getTextInBox(a+1,c-1,d+1,h-1);if(n>d&&n<h){tecoreLogger.debug("setting ccIx = "+u.length+" for column = "+n+" pos="+t);e.currentColumnIndex=u.length}u.push(T);if(p==-1){p=h}d=h}}var _=0;e.rowIds=[];for(h=c+1;h<s;h++){var f=this.width*h+3;var E=this.screenElements[f];if(E&&E.isGraphicEscape&&E.ebcdicChar==162){continue}var g=p-2;e.rowIds.push(this.getEbcdicAsString(h,2,g));if(i==h){e.currentRowIndex=_}_++}e.rowCount=_}}}};Virtual3270Screen.prototype.addMXIContext=function(e,t,i,n){var r=[];e.columnInfos=r;var s;var o=0;var l=5;var a=this.width*6;var c=this.getEbcdicAsString(2,6,15);var u=c.indexOf("-");if(u!=-1){c=c.substring(0,u)}e.tableName=c;for(s=1;s<this.width;s++){var h=this.screenElements[a+s];if(h&&h.fieldData){var d={index:r.length};var p=s-o-1;d.name=this.getEbcdicAsString(l,o+1,p);if(n>o&&n<s){e.currentColumnIndex=r.length}r.push(d);o=s}}if(i>l&&i<this.height-2){e.currentRowIndex=i-l}};Virtual3270Screen.prototype.getInputContext=function(e){var t=Math.floor(e/this.width);var i=Math.floor(e%this.width);tecoreLogger.debug("before getScreenContext()");var n=this.getScreenContext();if(n){if(n.application=="e3270"){this.addE3270Context(n,e,t,i)}else if(n.application=="MXI"){this.addMXIContext(n,e,t,i)}}return n};Virtual3270Screen.prototype.handlePendingScriptExecution=function(e){if(this.currentScriptExecutionContext){var t=this.currentScriptExecutionContext;if(e=="screenLoaded"){if(this.kbRestoreTimeout){clearTimeout(this.kbRestoreTimeout);this.kbRestoreTimeout=null}if(this.kbRestoreTimes>1&&!(this.recorder&&this.recorder.recording)){this.kbRestoreTimes--;scriptLogger.warn("Waiting for key board restore to continue script running. Wait times left: "+this.kbRestoreTimes);const i=this.kbRestoreWaitMs!==undefined&&typeof(this.kbRestoreWaitMs==="number")?this.kbRestoreWaitMs:2e3;this.kbRestoreTimeout=setTimeout(()=>{this.kbRestoreTimes=Math.min(3,this.kbRestoreTimes);this.kbRestoreTimes--;scriptLogger.warn("Waiting for key board restore timed out. The wait times might be higher than the host expected. Adjusted wait times to : "+this.kbRestoreTimes);this.handlePendingScriptExecution("screenLoaded")},i);return}if(!this.renderer.isRenderComplete){this.isWaitingRendererAfterScreenLoaded=true;return}tecoreLogger.info("handleScreenLoaded waitState="+t.currentWaitState+" done?="+t.done);if(!t.done&&t.hasWaitState("messageReadWait")){tecoreLogger.info("Script wait state scheduled for TN3270 server response");t.runTillWaitOrComplete()}}else{tecoreLogger.warn("unknown script update type "+e)}}};Virtual3270Screen.prototype.applyRendererProperties=function(e,t){if(e!==null&&e!==undefined){if(!this.isPrinter){if(this.rendererSettings.keyboardMappingVS!==null&&this.rendererSettings.keyboardMappingVS!==undefined){this.setKeyMapping(this.rendererSettings.keyboardMappingVS)}if(e.keyboardOptions){const i=e.keyboardOptions;this.autoResetOptions=i.autoResetOptions;this.rapidLeftRight=i.rapidLeftRight;this.autoSkipBackspace=i.autoSkipBackspace===undefined?true:i.autoSkipBackspace;this.destructiveBackspace=i.destructiveBackspace===undefined?false:i.destructiveBackspace;this.dbClick2Selected=i.dbClick2Selected===undefined?false:i.dbClick2Selected;this.autoCopy=i.autoCopy===undefined?false:i.autoCopy;this.pasteOption=i.paste==undefined?{}:i.paste}this.renderer.setBasicColorProperties(this.rendererSettings.colorProperties);this.renderer.setExtendedColorProperties(this.rendererSettings.extendedColorProperties);this.renderer.setCursorGuideProperties(this.rendererSettings.cursorGuideStyle);this.renderer.setCursorProperties(this.rendererSettings.underlineCursor,this.rendererSettings.steadyCursor);this.renderer.setFontProperties(this.rendererSettings.fontProperties);this.setCharsetInfo(this.rendererSettings.language);if(t&&e.sessionProperties["ind$FileTransfer"]){this.indfile.tempindf=Object.assign(this.indfile.tempindf,e.sessionProperties["ind$FileTransfer"]);if(this.indfile.tempindf.bHostSys!=1){this.indfile.tempindf.bPacketIndex=2}else{this.indfile.tempindf.bPacketIndex=4}this.indfile.SfPacketSize=this.indfile.PacketSizes[this.indfile.tempindf.bPacketIndex]}}else{this.printOptions=e.sessionProperties.options;this.printLayout=e.sessionProperties.layout;this.printPage=e.sessionProperties.page;this.printOverride=e.sessionProperties.override;this.setCharsetInfo(this.rendererSettings.language);if(this.scsParser&&t){this.scsParser.applySettingChange()}}}};var getMVDSafely=function(){if(typeof MVD==="function"){return new MVD}else{tecoreLogger.warn("MVD constructor was not found");return null}};var start3270=function(u,h,d,e){const t=()=>{if(h.deviceType!=7){var s=u.parentDiv.id;var o=s+"Canvas";var l=makeCanvas(o,u.parentDiv,u.width,u.height,1);var a=s+"SelectionCanvas";var c=makeCanvas(a,u.parentDiv,u.width,u.height,2);let e=VirtualScreen.createHotspotDiv(u.parentDiv,u.width,u.height);let t=VirtualScreen.createInvisibleInputDiv(s);u.parentDiv.appendChild(e);e.appendChild(t);c.innerHTMLMessageLength=c.innerHTML.length;let i=80;let n=24;if(typeof h.deviceType=="number"&&(h.deviceType===5||h.deviceType===6||h.deviceType===12)){i=h.defaultWidth||DEFAULT_SCREEN_WIDTH;n=h.defaultHeight||DEFAULT_SCREEN_HEIGHT}let r=new Virtual3270Screen(l,c,i,n,u.parentDiv);r.setupDefaultCallbacks();r.invisibleInput=t;r.hotspotsDiv=e;r.parentDiv=u.parentDiv;r.isPrinter=false;if(d&&d.sessionProperties&&d.sessionProperties["ind$FileTransfer"]){r.indfile.tempindf=Object.assign(r.indfile.tempindf,d.sessionProperties["ind$FileTransfer"])}if(r.indfile.tempindf.bHostSys!=1){r.indfile.tempindf.bPacketIndex=2}else{r.indfile.tempindf.bPacketIndex=4}r.indfile.SfPacketSize=r.indfile.PacketSizes[r.indfile.tempindf.bPacketIndex];return r}else{let e=new Virtual3270Screen(null,null,null,null,u.parentDiv);e.isPrinter=true;e.prtEOJ=false;e.printerStatus={};if(d){e.printOptions=d.sessionProperties.options;e.printLayout=d.sessionProperties.layout;e.printPage=d.sessionProperties.page;e.printOverride=d.sessionProperties.override;e.setCharsetInfo(d.language)}return e}};var i=TN3270_SECURITY_NONE;var n=SECURITY_BAD_CERTIFICATE_ALLOW;let r=t();r.callbacks=e;r.connectionSettings=h;r.enableTN3270E=true;if(d!==null&&d!==undefined){r.rendererSettings=d;r.keyMapping=d.keyboardMappingVS;r.contextRightClick=d.contextRightClick;if(d.keyboardOptions){const o=d.keyboardOptions;r.autoResetOptions=o.autoResetOptions;r.rapidLeftRight=o.rapidLeftRight;r.autoSkipBackspace=o.autoSkipBackspace===undefined?false:o.autoSkipBackspace;r.destructiveBackspace=o.destructiveBackspace===undefined?false:o.destructiveBackspace;r.dbClick2Selected=o.dbClick2Selected===undefined?false:o.dbClick2Selected;r.autoCopy=o.autoCopy===undefined?false:o.autoCopy;r.pasteOption=o.paste==undefined?{}:o.paste}}r.enableTN3270EExtensions=h&&h.extensions3270!==undefined?h.extensions3270:false;r.fieldValidation3270=h&&h.fieldValidation3270!==undefined?h.fieldValidation3270:false;r.hostBell.enable=h&&h.hostBell!==undefined?h.hostBell:false;if(r.hostBell.enable){r.hostBell.ctx=new AudioContext;r.hostBell.started=false}if(h){if(h.deviceType&&typeof h.deviceType=="number"){switch(h.deviceType){case 1:r.deviceType=TN3270E_DEVICE_TYPE_3278_2_E;break;case 2:r.deviceType=TN3270E_DEVICE_TYPE_3278_3_E;break;case 3:r.deviceType=TN3270E_DEVICE_TYPE_3278_4_E;break;case 4:r.deviceType=TN3270E_DEVICE_TYPE_3278_5_E;break;case 5:case 6:r.deviceType=TN3270E_DEVICE_TYPE_DYNAMIC;break;case 7:r.deviceType=TN3270E_DEVICE_TYPE_3287_1;break;case 8:r.deviceType=TN3270E_DEVICE_TYPE_3279_2_E;break;case 9:r.deviceType=TN3270E_DEVICE_TYPE_3279_3_E;break;case 10:r.deviceType=TN3270E_DEVICE_TYPE_3279_4_E;break;case 11:r.deviceType=TN3270E_DEVICE_TYPE_3279_5_E;break;case 12:r.deviceType=TN3270E_DEVICE_TYPE_DYNAMIC_3279;break;default:}}r.modelDefaultHeight=r.defaultHeight;r.modelDefaultWidth=r.defaultWidth;if(r.deviceType===TN3270E_DEVICE_TYPE_DYNAMIC||r.deviceType===TN3270E_DEVICE_TYPE_DYNAMIC_3279){if(h.alternateWidth&&typeof h.alternateWidth=="number"){r.dynamicAlternateWidth=r.modelAlternateWidth=h.alternateWidth}if(h.alternateHeight&&typeof h.alternateHeight=="number"){r.dynamicAlternateHeight=r.modelAlternateHeight=h.alternateHeight}}else if(r.deviceType){r.modelAlternateHeight=r.deviceType.height;r.modelAlternateWidth=r.deviceType.width}if(h.sessionDeviceName&&typeof h.sessionDeviceName=="string"){r.sessionDeviceName=h.sessionDeviceName}if(h.sessionAssociateLuName&&typeof h.sessionAssociateLuName=="string"){r.sessionAssociateLuName=h.sessionAssociateLuName}if(h.oiaEnabled!==undefined&&typeof h.oiaEnabled=="boolean"){r.oiaEnabled=h.oiaEnabled?1:0}if(h.security&&typeof h.security=="object"){if(h.security.type&&typeof h.security.type=="number"){i=h.security.type}if(h.security.badCert&&typeof h.security.badCert=="number"){n=h.security.badCert}}if(h.mfaConfig){r.mfaConfig=Object.assign(r.mfaConfig,h.mfaConfig)}if(h?.keepAlive?.retryConnect){r.retryConnect=JSON.parse(JSON.stringify(h.keepAlive.retryConnect))}r.retryConnect.counter=1;if(h?.keepAlive?.backUpEnabled&&h?.keepAlive?.backUpList){const l=JSON.parse(JSON.stringify(h.keepAlive.backUpList));if(Array.isArray(l)&&l.length>0){r.backUpList=l;r.backUpList.unshift({host:h.host,port:h.port})}r.useBackUpIndex=0}else{r.backUpList=[]}}r.hostInfo={host:h.host,port:Number(h.port),security:i,certificateAction:n,tlsMinVersion:h.tlsMinVersion,tlsMaxVersion:h.tlsMaxVersion,cipherList:h.security&&h.security.cipherList||[],useCipher:h.security&&h.security.useCipher};r.contextCallback=function(e,t){tecoreLogger.info("hello from context callback");var i=getMVDSafely();if(i){tecoreLogger.info("mvd is "+i);tecoreLogger.info("screenContext="+JSON.stringify(t));if(t.rowIds){tecoreLogger.info("active group="+t.rowIds[t.currentRowIndex])}else{tecoreLogger.info("no rowIds found")}if(t.screenID==="KS3UDGSP"){tecoreLogger.info("User DASD panel found");if("rowIds"in t){var n={group:t.rowIds[t.currentRowIndex]};i.runApp("Volumes",n);tecoreLogger.info("after runApp")}}else if(t.screenID==="KS3SSGS"){}else{i.runApp("Volumes")}}};var s=null;if(!r.isPrinter){r.initScreen()}tecoreLogger.debug("connect = "+h.connect);if(h.connect){r.connect(h.url,r.hostInfo,h.security.principle,h.connData)}else{r.lockedByScripting=true}if(r.canvas){r.setupEventHandling();r.canvas.focus()}if(r.callbacks&&typeof r.callbacks.onInit=="function"){r.callbacks.onInit()}if(apiAgent){apiAgent.addScreen(r)}return r};Virtual3270Screen.prototype.handleContextMenu=function(e){e.preventDefault();var t=e.offsetX;var i=e.offsetY;tecoreLogger.debug("contextMenu handler x="+t+", y="+i);if(this.renderer){var n=this.renderer.getRowColumn(t,i);tecoreLogger.debug("row,col = "+JSON.stringify(n));if(n!=null){var r=n.rows*this.width+n.columns;tecoreLogger.debug("screenElt at "+r+" = "+this.screenElements[r]);var s=this.getInputContext(r);tecoreLogger.debug("contextMenu screenContext="+JSON.stringify(s));if(this.contextCallback){this.contextCallback(e,s)}}}};Virtual3270Screen.prototype.handleDoubleClick=function(e,t,i,n){if(!this.dbClick2Selected){this.clickMove(i,n);this.handleFunction("Enter");eventLogger.debug("dblclick, x="+e+", y="+t)}else{this.selectWords(i);if(this.autoCopy){setTimeout(()=>{this.handleFunction("Copy")},100)}}};Virtual3270Screen.prototype.handleResizeComplete=function(){eventLogger.debug("Resize completed")};Virtual3270Screen.prototype.connect=function(e,t,i,n){if(this.connectState===CONNECT_STATE_DISCONNECTED){this.connectState=CONNECT_STATE_CONNECTING;this.updateScreenStatus();let i=this;var r=new WebSocket(e);i.webSocket=r;var s=function(){const e=i.getConnectObj(i.connectionSettings,t);if(e){eventLogger.info("connect host "+e.host+":"+e.port);e.autoReconnect=i.allowReConnect(e.keepAlive,true);r.send(JSON.stringify(e));i.heartbeat("send",i?.callbacks?.heartbeatCallback);messageLogger.debug("Sent "+JSON.stringify(e))}else{i.connectState=CONNECT_STATE_DISCONNECTED;i.updateScreenStatus()}};i.firstMessageSeen=false;var o=function(e){var t=JSON.parse(e.data);messageLogger.log(messageLogger.FINER,"ws.onMessage "+JSON.stringify(t));i.processMessage(t);if(!i.firstMessageSeen){i.firstMessageSeen=true;i.connectState=CONNECT_STATE_CONNECTED;i.updateScreenStatus();i.keepAlive();if(!i.currentScriptExecutionContext||i.currentScriptExecutionContext.done){i.lockedByScripting=false}if(i.callbacks&&i.callbacks.readyCallback){i.callbacks.readyCallback.apply(this,null)}r.send(JSON.stringify({t:"IP_REQ"}))}if(i.negotiationSuccess){i.useBackUpIndex=i.activeBackUpIndex;i.retryConnect.counter=1}};r.onopen=s;r.onerror=function(e){i.handleWebsocketError(e);i.connectState=CONNECT_STATE_DISCONNECTED;i.updateScreenStatus();if(i.keepAliveTimer){clearInterval(i.keepAliveTimer)}r=null};r.onclose=function(e){i.handleWebsocketClose(e);i.connectState=CONNECT_STATE_DISCONNECTED;i.updateScreenStatus();i.m_nBound=false;protocolLogger.debug(`Unbind status=${i.m_nBound}`);if(i.keepAliveTimer){clearInterval(i.keepAliveTimer)}r=null};r.onmessage=o}};Virtual3270Screen.prototype.reconnect=function(){this.renderTimes=1;this.firstErase=true;this.firstMessageSeen=false;this.connectState=CONNECT_STATE_CONNECTING;this.sessionDeviceName=this.connectionSettings.sessionDeviceName;if(this.allowBackUp(this.connectionSettings.keepAlive)){const e=this.getBackupHost(this.connectionSettings.keepAlive);if(e){this.hostInfo.host=e.host;this.hostInfo.port=e.port;this.activeBackUpIndex=this.useBackUpIndex}}let t=this.getConnectObj(this.connectionSettings,this.hostInfo);if(this.useBackUpIndex===0&&!this.negotiationSuccess){eventLogger.info("Reconnect session,maximum:"+this.retryConnect.maximum+",times:"+this.retryConnect.counter)}eventLogger.info("connect host "+this.hostInfo.host+":"+this.hostInfo.port);t.autoReconnect=this.allowReConnect(t.keepAlive);if(t){const i=this.retryConnect.counter;let e=this.retryConnect.interval*1e3;if(i===1){e=0}const n=setTimeout(()=>{this.webSocket.send(JSON.stringify(t));this.heartbeat("send",this?.callbacks?.heartbeatCallback);messageLogger.debug("Sent "+JSON.stringify(t))},e);if(this.isPrinter){this.printerStatus.luName="";if(this.parser&&this.parser.terminalName){this.parser.terminalName=""}}}else{this.connectState=CONNECT_STATE_DISCONNECTED;this.updateScreenStatus()}};Virtual3270Screen.prototype.getConnectObj=function(t,i){if(i.host&&i.port){let e={t:"CONFIG",host:i.host,port:Number(i.port),s:genPT(i,this)};if(i.security===TN3270_SECURITY_TLS){e.security={t:"tls",badCert:i.certificateAction,tlsMinVersion:i.tlsMinVersion,tlsMaxVersion:i.tlsMaxVersion,servername:t.security.principle,cipherList:i.cipherList,useCipher:i.useCipher}}else if(i.security!=VT_SECURITY_NONE){messageLogger.warn("Unknown security type requested!");this.connectState=CONNECT_STATE_DISCONNECTED;this.updateScreenStatus();this.websocket.close()}e.connData=Object.assign({},t.connData);e.keepAlive=t.keepAlive||{};return e}return null};const passwordAsEbcdic=[151,129,162,162,166,150,153,132];const userAsEbcdic=[164,162,133,153];Virtual3270Screen.prototype.CheckForSignOnScreen=async function(){this.isLoginPage=false;this.ensureFieldInfo();for(let t=0;t<this.height;t++){var i=this.firstMatchOnLine(passwordAsEbcdic,0,this.width,t,true);if(i>=0){console.log("found Password string at: "+i);var n=this.findNextInputField(i,false);fieldData=this.getFieldData(n,true);if(!fieldData||Math.floor(i/this.width)!=Math.floor(n/this.width)||fieldData.length-1<8||!fieldData.isNoDisplay()){continue}var r=fieldData.length-1;console.log("found passPos at: "+n+"; length is: "+r);var s=-1;for(let e=t-1;e>=0;e--){i=this.firstMatchOnLine(userAsEbcdic,0,this.width,e,true);if(i>=0){console.log("found User string at: "+i);var o,l=i;while(Math.floor(i/this.width)==Math.floor(l/this.width)){o=this.findNextField(i,false,false,false);if(Math.floor(o/this.width)!=Math.floor(l/this.width)){fieldData=null;break}fieldData=this.getFieldData(o,true);if(!fieldData||fieldData.length-1>3)break;i=o}if(!fieldData)continue;if(Math.floor(o/this.width)==Math.floor(l/this.width)&&(fieldData.length-1>3&&fieldData.length-1<9)){s=o;console.log("nextFldPos: "+o);this.mfaPasswordPos=n+2;this.mfaPasswordLen=r;this.mfaUserPos=s+2;this.isLoginPage=true;this.mfaUserId=this.getMfaUserId();this.mfaUserProtected=fieldData.attributes.isProtected();console.log("protected: "+this.mfaUserProtected)}break}}if(s==-1)continue;let e=this.currentScriptExecutionContext;if(this.recorder){if(this.recorder.recording){this.recorder.pauseRecord()}else if(this.currentScriptExecutionContext){if(this.noYieldAidKey){this.noYieldAidKey=false}else{MFA.scriptExecutionContext=this.currentScriptExecutionContext;this.currentScriptExecutionContext.pause();this.lockedByScripting=false}}}this.setMfaConfig();await this.updateMfaConfigFromCookie();if(e)this.currentScriptExecutionContext=e;MFA.checkToken(MFA.userId);break}}};Virtual3270Screen.prototype.getMfaUserId=function(){if(this.mfaUserPos&&this.mfaUserPos-2>0){const e=this.mfaUserPos-2;let t=this.getFieldText(e,false);for(let e=t.length-1;e>=0;e--){if(t.charCodeAt(e)==0||t.charCodeAt(e)==32)t=t.slice(0,-1);else break}while(t.length&&(t.charCodeAt(0)==0||t.charCodeAt(0)==32)){t=t.substring(1)}console.log("text: "+t);return t}return this.mfaUserId};Virtual3270Screen.prototype.showScreen=function(){if(this.renderer==null){tecoreLogger.debug("showScreen");this.renderer=new Classic3270Renderer(this,this.charsetInfo.sbcsMapper);if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}}for(var e=OIA_MESSAGE_COLUMN;e<OIA_MESSAGE_COLUMN+9;e++){this.oiaArray.intArray[e]=32}try{if(this.rendererSettings&&this.rendererSettings.dataSecurity){if(this.rendererSettings.dataSecurity.globalApply){this.find2Masking()}}}catch(e){}if(this.hotspotPreferences!==null&&this.hotspotPreferences!==undefined){if(this.hotspotPreferences.enable){this.renderer.removeHotspots();this.findHotspots()}else{this.renderer.removeHotspots()}}this.renderer.fullPaint();this.renderTimes++;if(this.renderTimes===3){if(this.rendererSettings){this.runAuto(this.rendererSettings.autoScript)}}};Virtual3270Screen.prototype.keepAlive=function(){if(this.connectionSettings&&this.connectionSettings.keepAlive){if(this.connectionSettings.keepAlive.timerOptions&&this.connectionSettings.keepAlive.timerValue){const e=Number(this.connectionSettings.keepAlive.timerValue);const t=Number(this.connectionSettings.keepAlive.timerOptions);if(e){this.keepAliveTimer=setInterval(()=>{this.sendResponeToKeepAlive(t)},Number(e)*60*1e3)}}}};Virtual3270Screen.prototype.sendResponeToKeepAlive=function(e){let t=this;if(!t.parser){t.parser=new TN3270Parser(t,"3270_CLIENT_MESSAGE")}let i=t.parser;if(e===1){tecoreLogger.debug("sending telnet keep alive options "+TELNET_NOP);i.appendTelnetOptionResponse(TELNET_NOP)}else if(e===2){tecoreLogger.debug("sending telnet keep alive options "+TELNET_OPTION_TIMING_MARK);i.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_TIMING_MARK)}i.sendTelnetResponse(this.heartbeat,this.callbacks?.heartbeatCallback)};Virtual3270Screen.prototype.updateScreenStatus=function(e){const t=this.connectState;if(this.isPrinter&&this.printerStatus){if(e){this.printerStatus=Object.assign(this.printerStatus,e)}if(this.printerStatus.printStatus===undefined){this.printerStatus.printStatus=0}this.printerStatus.sessionID=this.sessionShortName;this.printerStatus.protocol=this.usingTN3270E?"TN3270E":"TN3270";if(!this.printerStatus.luName){if(this.parser&&this.parser.terminalName){let e="";for(var i=0;i<this.parser.terminalName.length;i++){e+=String.fromCharCode(this.parser.terminalName[i])}this.printerStatus.luName=e}else{this.printerStatus.luName=""}}if(t===CONNECT_STATE_CONNECTED){this.printerStatus.status=CONNECT_STATE_CONNECTED}else if(t===CONNECT_STATE_CONNECTING){this.printerStatus.status=CONNECT_STATE_CONNECTING}else{this.printerStatus.status=CONNECT_STATE_DISCONNECTED;if(this.printerStatus.bindTimer){this.printerStatus.bindTimer.endTime=(new Date).getTime()}this.printerStatus.printStatus=0}if(this.callbacks&&this.callbacks.printerstatusCallback){this.callbacks.printerstatusCallback(this.printerStatus)}}};Virtual3270Screen.prototype.findHotspots=function(){this.ensureFieldInfo();let e=/[\^$.|+()[{}]/;let i=new RegExp(HOTSPOT_WEBLINK_FORMAT,"ig");if(this.hotspotDefinitions!==null&&this.hotspotDefinitions!==undefined&&this.hotspotDefinitions.length>0){var t=Object.keys(this.fields);this.hotspots=new Array;for(var n=0;n<t.length;n++){var r=this.fields[t[n]];if(r&&r.attributes.isProtected()){var s=r.position;var o=r.length;if(s+1>=this.screenElements.length){s=0}var l=s+o;const N=Math.trunc(s/this.width);const A=Math.trunc(l/this.width);for(var a=N;a<=A;a++){var c="";lineElementStart=this.width*a>s?this.width*a:s+1;lineElementend=this.width*(a+1)<l?this.width*(a+1):l;for(var u=lineElementStart;u<lineElementend;u++){var h=this.screenElements[u];if(h!=null&&h!=undefined){if(h.ebcdicChar===null||h.ebcdicChar<64||h.isGraphicEscape){c=c+" "}else{if(h.maskChar!=null){c=c+String.fromCharCode(this.renderer.unicodeConversionTable[h.maskChar])}else{c=c+String.fromCharCode(this.renderer.unicodeConversionTable[h.ebcdicChar])}}}else{c=c+" "}}var d=false;for(var p=0;p<this.hotspotDefinitions.length;p++){var f=this.hotspotDefinitions[p].textToMatch;var E=f.length;var T=this.hotspotDefinitions[p].caseSensitive;var _=this.hotspotDefinitions[p].terminateWithSpace;var g=f;if(e.test(f)){if(g.indexOf("+")!==-1){g=g.split("+").join("\\+")}if(g.indexOf("^")!==-1){g=g.split("^").join("\\^")}if(g.indexOf("$")!==-1){g=g.split("$").join("\\$")}if(g.indexOf(".")!==-1){g=g.split(".").join("\\.")}if(g.indexOf("|")!==-1){g=g.split("|").join("\\|")}if(g.indexOf("(")!==-1){g=g.split("(").join("\\(")}if(g.indexOf(")")!==-1){g=g.split(")").join("\\)")}if(g.indexOf("[")!==-1){g=g.split("[").join("\\[")}if(g.indexOf("{")!==-1){g=g.split("{").join("\\{")}if(g.indexOf("]")!==-1){g=g.split("]").join("\\]")}if(g.indexOf("}")!==-1){g=g.split("}").join("\\}")}}if(c.search(g)!==-1||c.search(new RegExp(g,"i"))!==-1){var S;if(T){S=new RegExp(g,"g")}else{S=new RegExp(g,"gi")}while(S.exec(c)){d=true;var C=lineElementStart+(S.lastIndex-E);var R={hotspotText:f,screenPosition:C,length:E,hotspotDefIndex:p};for(var m=0;m<this.hotspots.length;m++){if(this.hotspots[m].screenPosition===C){d=false;if(E>this.hotspots[m].length){this.hotspots.splice(m,1);this.hotspots.push(R);break}else{}}}if(d){this.hotspots.push(R)}}}}if(!!this.hotspotPreferences.turnOnURL){if(c){let t=true;while(t){let e=i.exec(c.trimRight());if(e){const y=e[0];const E=y.length;const C=lineElementStart+e.index;const R={hotspotText:y,screenPosition:C,length:E,hotspotType:"KEYMAP_TYPE_HTTPURL"};this.hotspots.push(R)}else{t=false}}}}}}}if(this.hotspots&&this.hotspots.length>0&&this.renderer){this.renderer.markHotspotElements()}}};Virtual3270Screen.prototype.getAidKeyList=function(){return TN3270_AID_KEY_MAP};Virtual3270Screen.prototype.turnPage=function(e){if(e===-1)return this.handleFunction("PF07");if(e===1)return this.handleFunction("PF08")};"use strict";makeSubclass(Virtual5250Screen,VirtualBlockScreen,[Virtual5250Screen.showScreen,Virtual5250Screen.getOIAArray,Virtual5250Screen.handleDoubleClick,Virtual5250Screen.handleResizeComplete,Virtual5250Screen.handleClick,Virtual5250Screen.connect,Virtual5250Screen.handleFunction]);makeSubclass(TN5250Parser,TelnetParser);makeSubclass(CharacterAttributes5250,CharacterAttributes,[]);makeSubclass(TN5250ProtocolElement,TerminalProtocolElement,[]);makeSubclass(TN5250FieldData,TN5250ProtocolElement,[]);makeSubclass(TN5250Command,TN5250ProtocolElement,[]);makeSubclass(TN5250ProtocolRecord,TN5250ProtocolElement,[]);makeSubclass(TN5250StructuredField,TN5250Command);makeSubclass(StartOfHeaderOrder,TN5250Order,[StartOfHeaderOrder.toString]);makeSubclass(DataRun5250,TN5250Order,[DataRun5250.toString]);function TerminalProtocolElement(){}function TN5250ProtocolElement(){}ScreenElement.prototype.toString=function(){return"<SE 0x"+hex(this.ebcdicChar)+"/0x"+hex(this.inputEbcdicChar)+", m="+this.isModified+">"};const MAX_5250_FIELDS=256;const DEFAULT_5250_WIDTH=80;const DEFAULT_5250_HEIGHT=24;const UNLOCK_DEFAULT_OR_IC_POS=0;const UNLOCK_NO_MOVE=1;function Virtual5250Screen(e,t,i,n){this.is5250=true;this.connectState=CONNECT_STATE_DISCONNECTED;this.canvas=e;this.selectionCanvas=t;this.oiaEnabled=1;this.alternateHeight=n;this.alternateWidth=i;this.width=i;this.height=n;this.oiaType=OIA_TYPE_ENUM.PCOMM;this.oiaArray=new OIAArray(this,this.width);this.size=this.height*this.width;this.previewCharCode=new Array(this.size);this.renderer=null;this.defaultWidth=DEFAULT_5250_WIDTH;this.defaultHeight=DEFAULT_5250_HEIGHT;this.outgoingMessages=[];this.webSocket=null;this.parentDiv=null;this.div=null;this.modifierKeyState=0;this.selectionStartRow=null;this.selectionStartColumn=null;this.selectionEndRow=null;this.selectionEndColumn=null;this.selectionMouseIsDown=false;this.selectionMouseIsDrag=false;this.selectionColor="rgb(255,255,255)";this.rendererSettings=null;this.keyMapping=defaultTn5250Map;this.recorder=null;this.hotspotDefinitions=null;this.hotspotPreferences=null;this.hotspots=new Array;this.hotspotsDiv=null;this.screenElements=new Array(this.size);this.isFormatted=true;this.fields={};this.clear();this.cursorPos=0;this.bufferPos=0;this.oldCursorPos=0;this.renderTimes=0;this.gocaWidth=0;this.gocaHeight=0;this.gocaElements=new Array(0);this.defaultCharsetInfo=VirtualBlockScreen.defaultCharsetInfo;this.charsetInfo=VirtualBlockScreen.defaultCharsetInfo;tecoreLogger.debug("charsetInfo = "+this.charsetInfo);this.isKeyboardReady=false;this.fieldInfoUpToDate=false;this.currentScriptExecutionContext=null;this.setID();this.sessionType="5250";this.workstationState=WORKSTATION_NORMAL_UNLOCKED;this.readPending=false;this.formatTable=new Array(MAX_5250_FIELDS);this.highestFormatTableIndex=0;this.homePosition=0;this.hasModifiedData=false;this.savedScreen=null;this.currentAttributes=new CharacterAttributes5250;this.termTypeString="IBM-3179-2";this.undefinedFallbackState=undefinedBlockFallbackState;this.deviceType=TN5250_DEVICE_TYPE_3179_2.devicetype;this.deviceModel=TN5250_DEVICE_TYPE_3179_2.devicemodel;this.messageWaiting=false;this.cursorUnlockBehavior=UNLOCK_DEFAULT_OR_IC_POS;this.errorLineArray=[];this.operrorCode=0;this.errorRowNumber=24;this.firstLogicalField=255;this.isSettingCursorICPosition=false;this.isSettingCursorMCPosition=false;this.insertMode=false;this.isSystemRequesting=false;this.sysReqField=null;this.pfkeyInhibitKeys=new Array;this.lockedByScripting=false;this.lockedByError=false;this.keepAliveTimer=null;this.wheelLeftover=0;this.inputProhibitExclusion=["Reset","Attn","Help","Sys Req"];this.isAutoReset=false;this.autoResetOptions={isAutoReset:false,isAutoTab:false,isImmediate:false,isPressNextKey:false};this.rapidLeftRight=true;this.awaitingFieldExit=false;this.dirty=false;this.helpState=-1;this.autoSkipBackspace=true;this.destructiveBackspace=false;this.dbClick2Selected=false;this.autoCopy=false;this.isPrinter=false;this.negativeResponseCode=-1;this.nonNullSpaceAttributes=[0,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,DBCS_SHIFT_OUT,DBCS_SHIFT_IN];this.mfaUserId="";this.mfaUserPos=0;this.mfaToken="";this.mfaPasswordPos=0;this.isLoginPage=false;this.mfaType="RMFA";this.mfaCookie={};this.mfaConfig=DEFAULT_MFA_CONFIG;this.dbcsAdjustPos=false;this.recordReday=true;this.hostBell={enable:true,frequency:650,duration:100};this.typeAheadTimer=0;this.typeAheadQueue=[];this.isPrintScreen=false;this.insertShiftOut=false;this.retryConnect=JSON.parse(JSON.stringify(DEFAULT_CONFIG.retryConnect));this.negotiationSuccess=false;this.backUpList=[];this.useBackUpIndex=0;this.activeBackUpIndex=0}Virtual5250Screen.prototype.handleContextMenu=function(e){e.preventDefault()};Virtual5250Screen.prototype.getProtocolType=function(){return TERMINAL_PROTOCOL_TN5250};Virtual5250Screen.prototype.getDeviceNameInfo=function(e,t){let i={originName:e||"",isCountType:(e||"").indexOf("%3")>-1,count:0};i.name=this.mapDeviceName(i,t);return i};Virtual5250Screen.prototype.mapDeviceName=function(e,t){if(!e)return"";const i=e.originName;const n=e.count;let r=i;if(i.indexOf("%1")>-1){}if(i.indexOf("%2")>-1){const s=(t||"").search(/3812|5553/)>-1?"P":"D";r=r.replace("%2",s)}if(e.isCountType){if(n<0||n>99)return i;const o=n>=0&&n<=9?`0${n}`:`${n}`;r=r.replace("%3",o)}return r};Virtual5250Screen.prototype.getOIAArray=function(){var i=this.oiaArray.intArray;i.fill(32);var e=0;if(this.oiaType==OIA_TYPE_ENUM.PCOMM){i[e++]=OIA_CU_TELNET;i[e]=OIA_CONNECTION_PROTOCOL_TCPIP}else if(this.oiaType==OIA_TYPE_ENUM.PASSPORT){i[e++]=OIA_PASSPORT_TE[0];i[e++]=OIA_PASSPORT_TE[1]}if(this.oiaType==OIA_TYPE_ENUM.PCOMM){if(this.hostInfo.security==TN3270_SECURITY_TLS){i[3]=OIA_SECURITY_ON}if(this.insertMode){i[51]=OIA_INSERT_MODE}var n=OIA_ROW_COLUMN+2;if(this.sessionShortName){i[6]=this.sessionShortName.charCodeAt(0)}if(this.messageWaiting===true){n=OIA_MESSAGE_WAITING_INDICATOR;i[n++]=77;i[n++]=87}if(this.oiaProgramMessage){n=OIA_MESSAGE_COLUMN;switch(this.oiaProgramMessage){case X_TOO_MUCH:for(var r=0;r<OIA_MESSAGE_X_TOO_MUCH.length;r++){i[n++]=OIA_MESSAGE_X_TOO_MUCH[r]}break;case X_HOST_PROCESSING:for(var r=0;r<OIA_MESSAGE_TERM_PROCESSING.length;r++){i[n++]=OIA_MESSAGE_TERM_PROCESSING[r]}break;case OIA_MESSAGE_5250_OP_ERROR:if(this.operrorCode){i[n-1]=7;for(var r=0;r<OIA_MESSAGE_5250_OP_ERROR.length;r++){i[n++]=OIA_MESSAGE_5250_OP_ERROR[r]}const a=this.operrorCode.toString();if(a.length<4){for(var r=0;r<4-a.length;r++){i[n++]=48}}for(var r=0;r<a.length;r++){i[n++]=a.charCodeAt(r)}}default:}}if(this.sessionDeviceName){n=OIA_DEVICENAME;const c=this.sessionDeviceName.length<11?this.sessionDeviceName.length:10;for(let e=0;e<c;e++){i[n++]=this.sessionDeviceName.charCodeAt(e)}}var t=this.getScriptRowColumnFromPosition(this.cursorPos);var s=t.row.toString();var o=t.column.toString();var l;n=OIA_ROW_COLUMN+2;i[n--]=OIA_POS_SEPERATOR;for(var r=2;r>-1;r--){if(s.length<r){i[n--]=32}else{l=s.charAt(r);if(l){i[n--]=l.charCodeAt(0)}}}n=OIA_ROW_COLUMN+5;for(var r=2;r>-1;r--){if(o.length<r+1){i[n--]=32}else{l=o.charAt(r);if(l){i[n--]=l.charCodeAt(0)}}}if(this.charsetInfo.isDBCS){let e=[];let t=this.getFieldData(this.cursorPos,true);if(t){if(t.characterSet==CHARACTER_SET_DBCS){if(this.charsetInfo.dbcsMapper==ebcdic300){e="全角"}else if(this.charsetInfo.dbcsMapper==ebcdic837){e="汉字"}else if(this.charsetInfo.dbcsMapper==ebcdic835){e="漢字"}else if(this.charsetInfo.dbcsMapper==ebcdic834){e="전체넓이"}}else if(t.inputControl){if(this.charsetInfo.dbcsMapper==ebcdic300){e="混在"}else if(this.charsetInfo.dbcsMapper==ebcdic837){e="混合"}else if(this.charsetInfo.dbcsMapper==ebcdic835){e="混合"}else if(this.charsetInfo.dbcsMapper==ebcdic834){e="혼합"}}else{if(this.charsetInfo.dbcsMapper==ebcdic300){e="英数"}else if(this.charsetInfo.dbcsMapper==ebcdic837){e="字母数字"}else if(this.charsetInfo.dbcsMapper==ebcdic835){e="字母數字"}else if(this.charsetInfo.dbcsMapper==ebcdic834){e="알파벳"}}n=OIA_DBCS_COLUMN;for(var r=0;r<e.length;r++){i[n++]=e[r].charCodeAt(0)}}}}else if(this.oiaType==OIA_TYPE_ENUM.PASSPORT){}return i};Virtual5250Screen.prototype.invalidateFieldInfo=function(){var e;for(e=0;e<this.size;e++){if(this.screenElements[e]){this.screenElements[e].field=null}}this.fieldInfoUpToDate=false};Virtual5250Screen.prototype.handleTripleClick=function(e,t,i,n){eventLogger.debug("triple click in 5250 is not implemented")};Virtual5250Screen.prototype.ensureFieldInfo=function(){if(this.fieldInfoUpToDate){return this.fieldInfoUpToDate}var e=Object.keys(this.fields);for(var t=0;t<e.length;t++){var i=this.fields[e[t]];this.fillFieldElement(i,false)}this.fieldInfoUpToDate=true;return this.fieldInfoUpToDate};Virtual5250Screen.prototype.fillFieldElement=function(e,t){var i=new Field(e,e.position+1,e.position+e.length+1);for(var n=0;n<e.length+1;n++){var r=e.position+n;var s=this.getScreenElementByPosition(r);if(s){if(n==0){s.fieldData=e}else if(t&&s.ebcdicChar>=32&&s.ebcdicChar<=63){s.ebcdicChar=0}s.field=i}else{s=new ScreenElement(r,0,null);s.field=i;this.setScreenElement(r,s);if(n==0)s.fieldData=e}}};Virtual5250Screen.prototype.connect=function(e,t,i,n){if(this.connectState===CONNECT_STATE_DISCONNECTED){this.connectState=CONNECT_STATE_CONNECTING;let r=this;this.updateScreenStatus();var s=new WebSocket(e);r.webSocket=s;s.onopen=function(){eventLogger.debug("WS.onOpen()");const e=r.getConnectObj(r.connectionSettings,t);if(e){eventLogger.info("connect host "+e.host+":"+e.port);e.autoReconnect=r.allowReConnect(e.keepAlive,true);s.send(JSON.stringify(e));r.heartbeat("send",r.callbacks?.heartbeatCallback);messageLogger.debug("Sent "+JSON.stringify(e))}else{r.connectState=CONNECT_STATE_DISCONNECTED;r.updateScreenStatus()}};r.firstMessageSeen=false;s.onmessage=function(e){var t=e.data;var i=JSON.parse(e.data);messageLogger.log(messageLogger.FINER,"ws.onMessage "+JSON.stringify(i));if(r.renderer!=null){var n=OIA_MESSAGE_COLUMN;r.oiaArray.intArray[n++]=OIA_MESSAGE_X;r.oiaArray.intArray[n++]=OIA_MESSAGE_TERM_PROCESSING[0];r.oiaArray.intArray[n++]=OIA_MESSAGE_TERM_PROCESSING[1];r.oiaArray.intArray[n++]=OIA_MESSAGE_TERM_PROCESSING[2];r.renderer.paintUpperCanvas()}r.processMessage(i);if(r.scriptingReady===true){r.handlePendingScriptExecution("screenLoaded")}else{r.handlePendingScriptExecution("screenNotLoaded")}if(!r.firstMessageSeen){r.firstMessageSeen=true;r.connectState=CONNECT_STATE_CONNECTED;r.updateScreenStatus();r.keepAlive();if(!r.currentScriptExecutionContext||r.currentScriptExecutionContext.done){r.lockedByScripting=false}if(r.callbacks&&r.callbacks.readyCallback){r.readyCallback.apply(this,null)}s.send(JSON.stringify({t:"IP_REQ"}))}if(r.negotiationSuccess){r.useBackUpIndex=r.activeBackUpIndex;r.retryConnect.counter=1}};s.onerror=function(e){r.handleWebsocketError(e);r.connectState=CONNECT_STATE_DISCONNECTED;r.updateScreenStatus();if(r.keepAliveTimer){clearInterval(r.keepAliveTimer)}s=null};s.onclose=function(e){if(r?.renderer?.hasBlinkingText)r.renderer.hasBlinkingText=false;r.handleWebsocketClose(e);r.connectState=CONNECT_STATE_DISCONNECTED;r.updateScreenStatus();if(r.keepAliveTimer){clearInterval(r.keepAliveTimer)}s=null};var o=function(){s.close()}}};Virtual5250Screen.prototype.reconnect=function(){this.renderTimes=1;this.firstMessageSeen=false;this.connectState=CONNECT_STATE_CONNECTING;this.updateScreenStatus();this.sessionDeviceName=this.connectionSettings.sessionDeviceName;if(this.allowBackUp(this.connectionSettings.keepAlive)){const e=this.getBackupHost(this.connectionSettings.keepAlive);if(e){this.hostInfo.host=e.host;this.hostInfo.port=e.port;this.activeBackUpIndex=this.useBackUpIndex}}let t=this.getConnectObj(this.connectionSettings,this.hostInfo);if(this.useBackUpIndex===0&&!this.negotiationSuccess){eventLogger.info("Reconnect session,maximum:"+this.retryConnect.maximum+",times:"+this.retryConnect.counter)}eventLogger.info("connect host "+this.hostInfo.host+":"+this.hostInfo.port);t.autoReconnect=this.allowReConnect(t.keepAlive);if(t){const i=this.retryConnect.counter;let e=this.retryConnect.interval*1e3;if(i===1){e=0}const n=setTimeout(()=>{this.webSocket.send(JSON.stringify(t));this.heartbeat("send",this.callbacks?.heartbeatCallback);messageLogger.debug("Sent "+JSON.stringify(t))},e)}else{this.connectState=CONNECT_STATE_DISCONNECTED;this.updateScreenStatus()}};Virtual5250Screen.prototype.getConnectObj=function(e,t){if(t.host&&t.port){var i={t:"CONFIG",host:t.host,port:Number(t.port),s:genPT(t,this)};if(t.security===TN5250_SECURITY_TLS){i.security={t:"tls",badCert:t.certificateAction,tlsMinVersion:t.tlsMinVersion,tlsMaxVersion:t.tlsMaxVersion,servername:e.security.principle,cipherList:t.cipherList,useCipher:t.useCipher}}else if(t.security!=TN5250_SECURITY_NONE){messageLogger.warn("Unknown security type requested!");this.connectState=CONNECT_STATE_DISCONNECTED;this.updateScreenStatus();this.websocket.close()}i.connData=Object.assign({},e.connData);i.keepAlive=e.keepAlive||{};return i}else{return null}};Virtual5250Screen.prototype.clearFormatTable=function(){this.oiaArray=new OIAArray(this,this.width);var e=Object.keys(this.fields);for(var t=0;t<e.length;t++){var i=this.fields[e[t]];for(var n=0;n<i.length+1;n++){var r=i.position+n;var s=this.getScreenElementByPosition(r);if(s){s.fieldData=null;s.field=null}}}this.fields={};this.lastNondisplayFieldPos=-1;this.fieldInfoUpToDate=false;this.formatTable=new Array(MAX_5250_FIELDS);this.highestFormatTableIndex=0;tecoreLogger.debug("REMEMBER to MAKE the field at top left of DISPLAY!!!");this.gocaElements=[];this.hasModifiedData=false;this.firstLogicalField=255;this.awaitingFieldExit=false;tecoreLogger.debug("Just cleared screen data")};Virtual5250Screen.prototype.clear=function(e,t){if(!t){if(e){this.width=this.alternateWidth;this.height=this.alternateHeight;this.errorRowNumber=this.height}else{this.width=this.defaultWidth;this.height=this.defaultHeight}}this.size=this.width*this.height;this.oiaArray=new OIAArray(this,this.width);this.screenElements=new Array(this.size);this.dbcsAttributes=new Uint8Array(this.size);this.fields={};this.lastNondisplayFieldPos=-1;this.fieldInfoUpToDate=false;this.formatTable=new Array(MAX_5250_FIELDS);this.highestFormatTableIndex=0;tecoreLogger.debug("REMEMBER to MAKE the field at top left of DISPLAY!!!");this.gocaElements=[];this.cursorPos=0;this.bufferPos=0;this.workstationState=WORKSTATION_NORMAL_LOCKED;this.hasModifiedData=false;this.helpState=-1;this.isSystemRequesting=false;this.isSettingCursorICPosition=false;this.isSettingCursorMCPosition=false;if(document.getElementById("Cut_Copy_Button")){document.getElementById("Cut_Copy_Button").remove()}tecoreLogger.debug("Just cleared screen data")};makeSubclass(FieldData5250,FieldData,[FieldData5250.isNoDisplay]);function FieldData5250(e,t){this.position=e;this.ffw=t.ffw;this.fcws=t.fcws;this.attribute=t.attribute;this.length=t.length;this.inputControl=t.inputControl;this.characterSet=t.characterSet}FieldData5250.prototype.toString=function(){protocolLogger.debug("<FieldData5250 pos="+this.position+" ffw=0x"+hex(this.ffw)+" attr=0x"+this.attribute+"len="+this.length+" fcwCount="+(this.fcws==null?0:this.fcws.length)+">")};FieldData5250.prototype.isMonocase=function(){return this.ffw&32};FieldData5250.prototype.isFieldExitRequired=function(){return this.ffw&64};FieldData5250.prototype.isBypass=function(){return this.ffw&8192};FieldData5250.prototype.isEditable=function(){if(this.ffw){return!this.isBypass()}else{return false}};FieldData5250.prototype.canDuplicate=function(){return this.ffw&4096};FieldData5250.prototype.isModified=function(){let e=this.ffw&2048;this.ffw=this.ffw||0;protocolLogger.debug("FieldData: pos="+this.position+" ffw=0x"+this.ffw.toString(16));return e};FieldData5250.prototype.setMDT=function(){this.ffw=this.ffw|2048};FieldData5250.prototype.unsetMDT=function(){this.ffw=this.ffw&~2048};FieldData5250.prototype.isNoDisplay=function(){return(this.attribute&39)==39};FieldData5250.prototype.getFieldShift=function(){return(this.ffw&1792)>>8};FieldData5250.prototype.getMandatoryFill=function(){return this.ffw&7};FieldData5250.prototype.isMandatoryFill=function(){return(this.ffw&7)===TN5250_FFW_MANDATORY_FILL};FieldData5250.prototype.isRightAdjust=function(){return(this.ffw&7)===TN5250_FFW_RIGHT_ADJUST_BLANK||(this.ffw&7)===TN5250_FFW_RIGHT_ADJUST_ZERO};FieldData5250.prototype.isRightAdjustBlack=function(){return(this.ffw&7)===TN5250_FFW_RIGHT_ADJUST_BLANK};FieldData5250.prototype.isRightAdjustZero=function(){return(this.ffw&7)===TN5250_FFW_RIGHT_ADJUST_ZERO};FieldData5250.prototype.isDigitsOnly=function(){return(this.ffw&1792)>>8===TN5250_FIELD_SHIFT_DIGITS_ONLY};FieldData5250.prototype.isNumericOnly=function(){return(this.ffw&1792)>>8===TN5250_FIELD_SHIFT_NUMERIC_ONLY};FieldData5250.prototype.isSignedNumeric=function(){return(this.ffw&1792)>>8===TN5250_FIELD_SHIFT_SIGNED_NUMERIC};FieldData5250.prototype.isIOInputField=function(){return(this.ffw&1792)>>8===TN5250_FIELD_SHIFT_IO};FieldData5250.prototype.isMandatoryEnter=function(){return this.ffw&8};FieldData5250.prototype.isAutoEnter=function(){return this.ffw&128};FieldData5250.prototype.isContinuedEntry=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY)!==null};FieldData5250.prototype.isFirstContinuedEntry=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY)===TN5250_FIELD_CONTINUED_ENTREY_FIRST};FieldData5250.prototype.isLastContinuedEntry=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY)===TN5250_FIELD_CONTINUED_ENTREY_LAST};FieldData5250.prototype.isMiddleContinuedEntry=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY)===TN5250_FIELD_CONTINUED_ENTREY_MIDDLE};FieldData5250.prototype.isResequencing=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_RESEQUENCING)!==null};FieldData5250.prototype.getResequencing=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_RESEQUENCING)};FieldData5250.prototype.isMSR_SLP=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_MSR_SLP)?true:false};FieldData5250.prototype.isSelfCheck=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_SELF_CHECK)?true:false};FieldData5250.prototype.isTransparency=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_TRANSPARENCY)?true:false};FieldData5250.prototype.isForwardeEdge=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_FORWARD_EDGE)?true:false};FieldData5250.prototype.isCursorProgression=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_CURSOR_PROGRESSION)?true:false};FieldData5250.prototype.getCursorProgression=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_CURSOR_PROGRESSION)};FieldData5250.prototype.isHighlightedEntry=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_HIGHLIGHTED_ENTRY)?true:false};FieldData5250.prototype.getHighlightedEntry=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_HIGHLIGHTED_ENTRY)};FieldData5250.prototype.isDBCSIdeographic=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_IDEOGRAPHIC)!==null};FieldData5250.prototype.getDBCSIdeographicType=function(){return this.getFcwByType(TN5250_FCW_TYPE.FCW_IDEOGRAPHIC)};FieldData5250.prototype.checkContinuedEntryFiled=function(e,t){let i=-1;if(this.fcws&&this.isContinuedEntry()){if(this.firstLogicalField&&this.firstLogicalField!==255){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}if((this.position+1)%e+this.length>e){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}if(!this.isFirstContinuedEntry()&&!this.isMiddleContinuedEntry()&&!this.isLastContinuedEntry()){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}else if(this.isResequencing()){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}else if(this.isFirstContinuedEntry()&&(this.isSignedNumeric()||this.isDigitsOnly()||this.isRightAdjust()||this.isMandatoryFill()||this.isIOInputField()||this.isMSR_SLP()||this.isSelfCheck())){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}}return i};FieldData5250.prototype.isCharacterAllowed=function(e,t){var i=this.getFieldShift();switch(i){case TN5250_FIELD_SHIFT_ALPHABETIC:case TN5250_FIELD_SHIFT_NUMERIC:case TN5250_FIELD_SHIFT_KATAKANA:break;case TN5250_FIELD_SHIFT_ALPHABETIC_ONLY:if((e<65||e>122||e>=48&&e<=57||e>=91&&e<=96)&&e!=32&&(e<44||e>46)){return new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0008")}break;case TN5250_FIELD_SHIFT_NUMERIC_ONLY:if((e<48||e>57)&&![32,43,44,45,46].includes(e)){return new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0009")}break;case TN5250_FIELD_SHIFT_DIGITS_ONLY:if(e<48||e>57){return new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0024")}break;case TN5250_FIELD_SHIFT_IO:return new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0004");case TN5250_FIELD_SHIFT_SIGNED_NUMERIC:if(t===this.position+this.length){return new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0011")}else{if(e<48||e>57){return new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0010")}}break}return e};FieldData5250.prototype.getFcwByType=function(e){let t=0;if(this.fcws){while(this.fcws[t]&32768){if(this.fcws[t]>>8===e){return this.fcws[t]&255}else if(this.fcws[t]===255){return 255}t++}}return null};Virtual5250Screen.prototype.storeField=function(e){var t=e.position;var i;var n=null;for(i=0;i<this.highestFormatTableIndex;i++){}this.fields[t]=e;if(e.isModified())this.hasModifiedData=true};Virtual5250Screen.prototype.toBufferPosition=function(e,t){return(e-1)*this.width+(t-1)};Virtual5250Screen.prototype.getField=function(e,t){var i=(e.position+1)%this.size;var n=(e.position+e.length+1)%this.size;return new Field(e,i,n)};Virtual5250Screen.prototype.getFieldData=function(e,t){if(!this.isFormatted){return null}if(this.isSystemRequesting){var i=this.sysReqField;var n=i.position+1;var r=(n+i.length)%this.size;if(r<n&&(e>=n||e<r)){return i}else if(e>=n&&e<r){return i}return null}var s=Object.keys(this.fields);if(s.length==0){return null}if(t){for(var o=0;o<s.length;o++){var l=this.fields[s[o]];var a=l.position+1;var c=l.length;var r=(a+c)%this.size;if(r<a&&(e>=a||e<r)){return l}else if(e>=a&&e<r){return l}}return null}var o=0;for(o=0;o<this.size;o++){var u=(e-o)%this.size;if(u<0){u=this.size+u}var h=this.screenElements[u];if(h&&h.fieldData!=null){return h.fieldData}}protocolLogger.warn("warning failed to get field data");return null};Virtual5250Screen.prototype.isKeyDownLocked=function(e){if(this.lockedByError||this.lockedByScripting){if(this.oiaProgramMessage!=X_HOST_PROCESSING&&this.autoResetOptions&&this.autoResetOptions.isAutoReset&&this.autoResetOptions.isPressNextKey){this.handleReset();if(this.autoResetOptions.isAutoTab){this.actionNextInputField()}return false}else{if(this.inputProhibitExclusion&&this.inputProhibitExclusion.includes(e)){if(e==="Help"&&(this.helpState==1||this.oiaProgramMessage==X_HOST_PROCESSING)){this.beep();return true}return false}else{if(e!="Control"&&e!="Alt"&&e!="Shift")this.beep();return true}}}return false};Virtual5250Screen.prototype.waitingforFieldExitCheck=function(){if(!this.awaitingFieldExit)return 0;else{var e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0018",false);this.displayErrorMessage(e,0);this.lockScreen();return true}};Virtual5250Screen.prototype.enterCharacterAtCursor=function(e,t=true){this.ensureFieldInfo();let i=this.size;let s=this.getFieldData(this.cursorPos,true);let o,l,a;let c=[];let u=0;if(!s)return false;if(s.isContinuedEntry()){c=this.getEntryFieldArray(s,false)}else{c.push(s)}if(c.length>1){let e=c[c.length-1];u=(e.position+e.length)%this.size}else{u=(s.position+s.length)%this.size}if(this.waitingforFieldExitCheck())return false;if(this.insertMode){let i,n,r;a=this.screenElements[u];if(e==DBCS_SHIFT_IN){o=this.screenElements[this.cursorPos];if(o){let e=o.isModified?o.inputEbcdicChar:o.ebcdicChar;if(e==DBCS_SHIFT_IN)return false}}else{if(this.cursorPos==u||a&&(a.isModified&&a.inputEbcdicChar!=0||!a.isModified&&a.ebcdicChar!=0)){if(this.isSystemRequesting){let e=this.size-this.width;for(var h=0;h<this.width;h++){this.screenElements[e+h]=new ScreenElement(0,0,null);this.cursorPos=e+1}}var d=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0012",false);this.displayErrorMessage(d,0);this.lockScreen();return false}}for(let t=c.length-1;t>-1;t--){s=c[t];u=(s.position+s.length)%this.size;if(t===0){i=u-this.cursorPos}else{i=s.length}for(let e=0;e<i;e++){r=u-e%this.size;n=u-e-1%this.size;if(e===i-1){let e=c[t-1];if(e){n=e.position+e.length%this.size}}l=new ScreenElement(r,0,null);o=this.screenElements[n];if(o!=null){l.field=this.screenElements[s.position].field;l.inputEbcdicChar=o.inputEbcdicChar;l.isModified=o.isModified;l.ebcdicChar=o.ebcdicChar}this.screenElements[r]=l}}}o=this.screenElements[this.cursorPos];if(o==null){o=new ScreenElement(this.cursorPos,0,null);o.field=this.screenElements[s.position].field;this.screenElements[this.cursorPos]=o}o.inputEbcdicChar=e;o.isModified=true;if(!this.parser.negTerminalType&&!this.parser.bEchoing){o.isNoDisplay=true}if(o&&o.maskChar!=null&&!this.isPaste){delete o.maskChar}this.setFiledMDT(s);this.hasModifiedData=true;const n=s.getMandatoryFill();const r=s.getFieldShift();if(r===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){u-=1}this.dirty=true;if(e==DBCS_SHIFT_IN)return false;if(t){this.moveCursor()}return true};Virtual5250Screen.prototype.getHeaderArray=function(e,t,i){var n;tecoreLogger.debug("WARNING, JUST A TEST, MSG ARRAY IS TYPE ARRAY INSTEAD OF TYPE UINT8ARRAY");if(t){n=new Array;n.push((65280&t)>>8);if((255&t)===255){n.push(...[255,255])}else{n.push(255&t)}}else{n=new Array;n.push(0);n.push(0)}n.push(18);n.push(160);n.push(0);n.push(0);n.push(4);if(i){n.push(i)}else{n.push(0)}n.push(0);n.push(e);return n};var begin5250ReadResponse=function(e,t){e.ensureFieldInfo();let i=TN5250_PUT_GET_OPERATION;if(t==TN5250_NO_AID)i=TN5250_READ_IMMEDIATE_OPERATION;var n=e.getHeaderArray(i);var r=e.getScriptRowColumnFromPosition(e.cursorPos);n.push(r.row);n.push(r.column);n.push(t);return n};Virtual5250Screen.prototype.sendInputFields=function(e){if(!(e>=TN5250_AID_CMD_01&&e<=TN5250_AID_CMD_12||e>=TN5250_AID_CMD_13&&e<=TN5250_AID_CMD_24||e==TN5250_AID_ENTER||e==TN5250_AID_ROLL_UP||e==TN5250_AID_ROLL_DOWN||e==TN5250_AID_ROLL_LEFT||e==TN5250_AID_ROLL_RIGHT||e==TN5250_AID_SLP_AUTO_ENTER||e==TN5250_AID_FORWARD_EGDE_AUTO_ENTER||e==TN5250_AID_PRINT||e==TN5250_NO_AID)){return false}var t=begin5250ReadResponse(this,e);var i=this.size;var n=Object.keys(this.fields);var r=false;for(var s=0;s<n.length;s++){var o=this.fields[n[s]];var l=(o.position+1)%this.size;if(this.fields[l]){protocolLogger.debug("skipping 0-length field at "+l);continue}if(o.isModified()){r=true;break}}let a=this.getFiledsSequence();for(var s=0;s<a.length;s++){var o=this.fields[n[a[s]]];var l=(o.position+1)%this.size;if(this.fields[l]){protocolLogger.debug("skipping 0-length field at "+l);continue}var c=this.getFieldChars(o,true);var u=o.getFieldShift();if(u===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){c=this.getSignedNumericData(c,o.length)}for(var h=0;h<c.length;h++){t.push(c[h])}}t=this.reviseLength(t);this.sendMessage(t,true);return true};Virtual5250Screen.prototype.getFiledsSequence=function(){let e=Object.keys(this.fields);let t=[];let i=this.firstLogicalField===255?0:this.firstLogicalField-1;let n=i;while(n<e.length){var r=this.fields[e[n]];if(!t.includes(n)){t.push(n)}else{break}if(this.firstLogicalField!=255){let e=r.getResequencing();if(e!==null){if(e!=255&&e>0){n=e-1}else{break}}else{n++}}else{n++}}return t};Virtual5250Screen.prototype.getSignedNumericData=function(e,t){let i=[];protocolLogger.info("Signed numeric field,handle sign location");Object.assign(i,e);let n=i[i.length-1];if(i.length===t){i.pop()}if(n===96){protocolLogger.info("Signed numeric field,handle neg sign");n=i[i.length-1];n&=15;n|=208;i[i.length-1]=n}return i};Virtual5250Screen.prototype.handleRollCommand=function(e,i,n,r){if(i<=0||n>=r||i>=this.height||r>this.height){return TN5250_ERROR_CODE.INVALID_PARAMETER_ROLL}console.log("rolling display towards 0 up, 1 down "+e+" by "+i+" lines "+"from line "+n+" to "+r);for(let t=n-1;t<r;t++){if(e){if(t+i<this.height&&t+i>0){for(let e=0;e<this.width;e++){this.screenElements[(t+i)*this.width+e]=this.screenElements[t*this.width+e]}}}else{if(t-i>=0&&t-i<this.height){for(let e=0;e<this.width;e++)this.screenElements[(t-i)*this.width+e]=this.screenElements[t*this.width+e]}}}return-1};Virtual5250Screen.prototype.handleReadScreen=function(){this.readTypeRequested=98;var e=this.getHeaderArray(TN5250_READ_SCREEN_OPERATION,10+this.size,TN5250_NO_FLAG);for(var t=0;t<this.size;t++){var i=this.getScreenElementByPosition(t);if(i){if(i.fieldData!=null)e.push(i.fieldData.attribute);else if(i.isModified)e.push(i.inputEbcdicChar);else e.push(i.ebcdicChar)}else{e.push(0)}}this.sendMessage(e,true)};Virtual5250Screen.prototype.sendModifiedFieldsAlternate=function(e){if(!(e>=TN5250_AID_CMD_01&&e<=TN5250_AID_CMD_12||e>=TN5250_AID_CMD_13&&e<=TN5250_AID_CMD_24||e==TN5250_AID_ENTER||e==TN5250_AID_ROLL_UP||e==TN5250_AID_ROLL_DOWN||e==TN5250_AID_PRINT||e==TN5250_NO_AID)){return false}var t=begin5250ReadResponse(this,e);var i=this.size;t=t.concat(this.getModifiedData(true));t=this.reviseLength(t);this.sendMessage(t,true);return true};Virtual5250Screen.prototype.sendSystemRequest=function(e){if(e!=241){var t=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0006",false);this.displayErrorMessage(t,0);this.lockScreen();return false}var i=this.sysReqField;var n=this.getHeaderArray(TN5250_NO_OPERATION,74,TN5250_SYSTEM_REQUEST_FLAG);if(i.isModified()){var r=this.getFieldChars(i,false);var s=i.getFieldShift();if(s===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){r=this.getSignedNumericData(r,i.length)}for(var o=0;o<r.length;o++){n.push(r[o])}}n=this.reviseLength(n);this.sendMessage(n,true);this.handleReset();this.sysReqField=null;this.fieldInfoUpToDate=false;return false};Virtual5250Screen.prototype.sendModifiedFields=function(e){protocolLogger.debug("---- sendModifiedFiled aid="+e);if(!(e>=TN5250_AID_CMD_01&&e<=TN5250_AID_CMD_12||e>=TN5250_AID_CMD_13&&e<=TN5250_AID_CMD_24||e==TN5250_AID_ENTER||e==TN5250_AID_ROLL_UP||e==TN5250_AID_ROLL_DOWN||e==TN5250_AID_PRINT)){return false}var t=begin5250ReadResponse(this,e);var i=this.size;var n=this.getModifiedData(false);t=t.concat(n);t=this.reviseLength(t);this.sendMessage(t,true);return true};Virtual5250Screen.prototype.getModifiedData=function(e){let t=[];let i=Object.keys(this.fields);let n=this.getFiledsSequence();let r=[];for(var s=0;s<n.length;s++){var o=this.fields[i[n[s]]];var l=(o.position+1)%this.size;if(this.fields[l]){protocolLogger.debug("skipping 0-length field at "+l);continue}if(o.isContinuedEntry()&&!o.isFirstContinuedEntry()){continue}if(o.isModified()){t.push(17);var a=this.getScriptRowColumnFromPosition(l);t.push(a.row);t.push(a.column);if(!o.isContinuedEntry()){r=this.getFieldChars(o,false,true)}else{r=this.getContinuedFieldChars(o,false,true)}var c=o.getFieldShift();if(c===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){r=this.getSignedNumericData(r,o.length)}var u=false;for(var h=0;h<r.length;h++){if(r[h]!=0){u=true;break}}if(u){for(var h=0;h<r.length;h++){if(!e){let e=[TN5250_FORMAT_CONTROL_ORDERS_DUP,TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK,TN5250_FORMAT_CONTROL_ORDERS_UNITSEP];if(this.charsetInfo.dbcsMapper!=null){e.push(DBCS_SHIFT_OUT);e.push(DBCS_SHIFT_IN)}if(r[h]<64&&!e.includes(r[h])){r[h]=64}}t.push(r[h])}}}}return t};Virtual5250Screen.prototype.makeHeader=function(e,t,i){var n=hex(e.length+12);if(n.length==1){n=[0,Number(n)]}else if(n.length!=2){throw new Exception("Unexpected body size")}var r=[n[0],n[1],18,160,0,0,4,t[0],t[1],i];return r};Virtual5250Screen.prototype.makeMessageData=function(e,t){var i=t;for(var n=0;n<e.length;n++){i.push(e[n])}i.push(255);i.push(239);return i};Virtual5250Screen.prototype.reviseLength=function(e){let t=e.length;let i=[];i.push((65280&t)>>8);if((255&t)===255){i.push(...[255,255])}else{i.push(255&t)}i.push(...e.slice(2));return i};Virtual5250Screen.prototype.sendMessage=function(e,t){if(t){e.push(255);e.push(239)}var i=utf8ArrayToB64(e);var n={t:"5250_CLIENT_MESSAGE",data:i};messageLogger.debug("sending message with data:");hexDump(e,messageLogger);tracer.logSentData(e,this);if(this.webSocket!=null){this.webSocket.send(JSON.stringify(n));this.heartbeat("send",this.callbacks?.heartbeatCallback)}};Virtual5250Screen.prototype.verifyFields=function(){protocolLogger.warn("TODO verify fields")};Virtual5250Screen.prototype.handleAidKey=function(e){this.ensureFieldInfo();this.isKeyboardReady=false;var t=false;if(this.rightadjustMandatoryFillField(this.cursorPos,e))return false;if(e==241){if(this.mandatoryEnterField())return false}if(this.rightadjustFieldCheck())return false;if(e==TN5250_AID_CLEAR||e==TN5250_AID_PA1||e==TN5250_AID_PA2||e==TN5250_AID_PA3){this.sendAidForShortRead(e);this.displayOIAOpStatus(X_HOST_PROCESSING);this.isKeyboardReady=true;return true}if(e==TN5250_AID_HELP){this.actionHelp();this.isKeyboardReady=true;return true}if(this.helpKey&&e===TN5250_AID_CMD_03){this.helpKey=false}if(this.readPending===true){if(this.pfkeyInhibitKeys.indexOf(e)!=-1){var i=begin5250ReadResponse(this,e);i=this.reviseLength(i);this.sendMessage(i,true);return true}switch(this.readTypeRequested){case 66:t=this.sendInputFields(e);break;case 82:if(!this.isSystemRequesting){t=this.sendModifiedFields(e)}else{t=this.sendSystemRequest(e)}break;case 130:t=this.sendModifiedFieldsAlternate(e);break;default:protocolLogger.warn("Should not have reached the default case for READ");this.isKeyboardReady=true}}else{if(this.isSystemRequesting){t=this.sendSystemRequest(e)}else{this.isKeyboardReady=true}}if(t){this.displayOIAOpStatus(X_HOST_PROCESSING)}return t};Virtual5250Screen.prototype.handleReadImmediate=function(e){this.readTypeRequested=114;this.readPending=true;if(e.controlCharacter){this.handleControlCharacter(e.controlCharacter)}};Virtual5250Screen.prototype.handleReadInputFields=function(e){this.readTypeRequested=66;this.readPending=true;if(e.controlCharacter){this.handleControlCharacter(e.controlCharacter)}};Virtual5250Screen.prototype.handleReadModifiedFields=function(e){this.readPending=true;this.readTypeRequested=82;if(e.controlCharacter){this.handleControlCharacter(e.controlCharacter)}};Virtual5250Screen.prototype.handleReadModifiedFieldsAlternate=function(e){this.readTypeRequested=130;this.readPending=true;if(e.controlCharacter){this.handleControlCharacter(e.controlCharacter)}};Virtual5250Screen.prototype.clearOIAOpError=function(){if(this.oiaEnabled&&this.oiaArray){this.oiaProgramMessage=null;this.renderer.paintUpperCanvas()}this.operrorCode=0};Virtual5250Screen.prototype.displayOIAOpError=function(e){if(this.oiaEnabled&&this.oiaArray){if(!e||e.type===TN5250_ERROR_CODE_OPERATOR){this.oiaProgramMessage=OIA_MESSAGE_5250_OP_ERROR}this.renderer.paintUpperCanvas()}};Virtual5250Screen.prototype.displayOIAOpStatus=function(e,t){if(this.oiaEnabled&&this.oiaArray){this.lockScreen();if(e){this.oiaProgramMessage=e}else{this.oiaProgramMessage=OIA_MESSAGE_X}if(t){this.oiaProgramMessageCode=t}if(this.oiaProgramMessage!==X_HOST_PROCESSING){this.autoReleaseLock(true)}this.renderer.paintUpperCanvas()}};Virtual5250Screen.prototype.handleErrorCode=function(t){this.oiaProgramMessage=OIA_MESSAGE_5250_OP_ERROR;this.helpState=0;this.saveErrorLine();if(t.orders){for(let e of t.orders){if(e.type==TN5250_INSERT_CURSOR_ORDER){this.setCursorPos(((e.row-1)*this.width+(e.column-1))%this.size)}this.cursorUnlockBehavior=UNLOCK_NO_MOVE;if(e.repeatChar){var i=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,e.repeatChar,true);this.displayErrorMessage(i,0);this.lockScreen()}}}this.insertMode=false};Virtual5250Screen.prototype.encodeScreenData=function(e,t){switch(e){case TN5250_SAVE_SCREEN:this.savedScreen=this.getSaveScreenData(t);break;default:throw new Exception("unimplemented ")}};Virtual5250Screen.prototype.getSaveScreenData=function(e,t){var i=new Array;i.push(TN5250_ESCAPE);if(t){i.push(TN5250_RESTORE_SCREEN_PARTIAL)}else{i.push(TN5250_RESTORE_SCREEN)}i.push(66);i.push(90);i.push(87);i.push(48);i.push(49);i.push(TN5250_ESCAPE);i.push(TN5250_BZW_RESTORESCREEN_ORDER);var n=false;var r=Object.keys(this.fields);for(var s=0;s<r.length;s++){i.push(TN5250_SET_BUFFER_ADDRESS_ORDER);var o=this.fields[r[s]];if(o.isModified()){n=true}var l=this.getScriptRowColumnFromPosition(o.position);i.push(l.row);i.push(l.column);i.push(TN5250_START_FIELD_ORDER);i.push(o.ffw>>8&255);i.push(o.ffw&255);i.push(o.fcws>>8&255);i.push(o.fcws&255);i.push(o.attribute&255);i.push(o.length>>8&255);i.push(o.length&255)}var a=new Array;for(var s=0;s<this.height;s++){var c=true;for(var u=0;u<this.width;u++){var h=s*this.width+u;var d=this.screenElements[h];if(d){if(c){i.push(TN5250_SET_BUFFER_ADDRESS_ORDER);var p=this.getScriptRowColumnFromPosition(h);i.push(p.row);i.push(p.column);c=false}if(d.isModified){i.push(d.inputEbcdicChar)}else{i.push(d.ebcdicChar)}}else{c=true}}}i.push(TN5250_ESCAPE);i.push(TN5250_RESTORE_OIA_ERROR);i.push(this.operrorCode>>8&255);i.push(this.operrorCode&255);if(this.helpState==-1){i.push(2)}else{i.push(this.helpState)}i.push(this.elbusy&255);i.push(this.insertMode&255);i.push(this.cursorPos>>8&255);i.push(this.cursorPos&255);i.push(this.oldCursorPos>>8&255);i.push(this.oldCursorPos&255);i.push(this.homePosition>>8&255);i.push(this.homePosition&255);i.push(this.hasModifiedData&255);i.push(this.dirty&255);i.push(this.readTypeRequested&255);i.push(this.isSettingCursorICPosition&255);i.push(this.isSettingCursorMCPosition&255);i.push(this.isSystemRequesting&255);i.push(this.width&255);for(var u=0;u<this.width;u++){var d=this.errorLineArray[u];if(!d){i.push(0)}else{i.push(d.ebcdicChar)}}var f=i.length+10;var E=this.getHeaderArray(TN5250_SAVE_SCREEN_OPERATION,f,e);return E.concat(i)};Virtual5250Screen.prototype.sendCancelInvitation=function(){var e=this.getHeaderArray(TN5250_CANCEL_INVITE_OPERATION,10,TN5250_NO_FLAG);this.sendMessage(e,true)};Virtual5250Screen.prototype.handleWriteToDisplay=function(t){if(t.controlCharacter&&t.type==TN5250_WRITE_TO_DISPLAY){var e=(t.controlCharacter&65280)>>8;this.handleFirstControlChar(e)}if(t.orders!=null){protocolLogger.debug("before order loop, command contains "+t.orders.length+" orders");for(var i=0;i<t.orders.length;i++){var n=t.orders[i];var r=this.bufferPos;this.bufferPos=n.advanceBufferPosition(this.bufferPos,this.width)%this.size;var s=Math.floor(r/this.width);var o=r%this.width;protocolLogger.debug("    "+n.toString()+" at ("+s+","+o+") posBefore="+r+" posAfter="+this.bufferPos);var l=0;var a,c,u,h;switch(n.type){case TN5250_START_OF_HEADER_ORDER:this.clearFormatTable();this.isSettingCursorICPosition=false;this.isSettingCursorMCPosition=false;this.errorRowNumber=n.errorRow==this.height+1?this.height:n.errorRow;this.firstLogicalField=n.firstFieldNumber?n.firstFieldNumber:255;this.pfkeyInhibitKeys.length=0;if(n.pfkeyInhibitBits){for(let e=1;e<25;e++){if(n.pfkeyInhibitBits&1){if(e<13){this.pfkeyInhibitKeys.push(e+48)}else{this.pfkeyInhibitKeys.push(e+176)}}n.pfkeyInhibitBits=n.pfkeyInhibitBits>>1}}break;case TN5250_REPEAT_TO_ADDRESS_ORDER:l=n.repeatChar;a=r;c=this.bufferPos;h=(this.errorRowNumber-1)*this.width;do{u=new ScreenElement(a,l&255,null);if((this.helpState==0||this.isSystemRequesting)&&(a>=h&&a<h+this.width)){this.errorLineArray[a-h]=u}else{u.characterAttributes=null;this.setScreenElement(a,u)}a++;if(a==this.size){a=0}}while(a!=c);break;case TN5250_ERASE_TO_ADDRESS_ORDER:const I=n.attrList;a=r;c=this.bufferPos;h=(this.errorRowNumber-1)*this.width;do{u=null;if((this.helpState==0||this.isSystemRequesting)&&(a>=h&&a<h+this.width)){u=this.errorLineArray[a-h]}else{u=this.screenElements[a]}if(u){if(I&&(I.includes(0)||I.includes(255))){u.ebcdicChar=0}u.characterAttributes=null}a++;if(a==this.size){a=0}}while(a!=c);break;case TN5250_SET_BUFFER_ADDRESS_ORDER:break;case TN5250_WRITE_EXTENDED_ATTRIBUTE_ORDER:protocolLogger.info("skip order WRITE EXTENDED ATTRIBUTE");break;case TN5250_INSERT_CURSOR_ORDER:{var d=n.screenPosition(this.width);this.homePosition=d;this.isSettingCursorICPosition=true;this.isSettingCursorMCPosition=false}break;case TN5250_MOVE_CURSOR_ORDER:{this.isSettingCursorICPosition=false;this.isSettingCursorMCPosition=true;var d=n.screenPosition(this.width);this.setCursorPos(d,undefined,true,"O_IC")}break;case TN5250_START_FIELD_ORDER:let e=new FieldData5250(r%this.size,n.fieldData);this.storeField(e);this.fillFieldElement(e,true);if(e.position+e.length+1<this.size)this.setScreenElement(e.position+e.length+1,new ScreenElement(e.position+e.length+1,32,null));if(e.characterSet==CHARACTER_SET_DBCS){this.setScreenElement(e.position+1,new ScreenElement(e.position+1,DBCS_SHIFT_OUT,null));this.setScreenElement(e.position+e.length,new ScreenElement(e.position+e.length,DBCS_SHIFT_IN,null))}break;case TN5250_WRITE_TO_DISPLAY_STRUCTURED_FIELD:throw new RuntimeException("implement me");case TN5250_DATA_RUN_PSEUDO_ORDER:{var p=n;for(var f=0;f<p.data.length;f++){var E=(f+r)%this.size;if(p.transparentData==true&&E<r){t.error=268763427;break}var T=0;if(p.data[f]>=32&&p.data[f]<=63)T=p.data[f]&255;var _=new ScreenElement(E,p.data[f],null);if(this.screenElements[E]){var g=this.screenElements[E].fieldData;if(g!=null){_.fieldData=g;if(T)_.fieldData.attribute=T}}if(T){if(this.fields[E]){this.fields[E].attribute=T}}h=(this.errorRowNumber-1)*this.width;if((this.helpState==0||this.isSystemRequesting)&&(E>=h&&E<h+this.width)){this.errorLineArray[E-h]=_}else{this.setScreenElement(E,_);u=this.screenElements[E]}}}break;case TN5250_RESTORE_OIA_ERROR:this.unlockScreen();this.elbusy=n.elbusy;this.insertMode=n.insertMode;this.cursorPos=n.cursorPos;this.oldCursorPos=n.oldCursorPos;this.isSystemRequesting=n.isSystemRequesting;this.homePosition=n.homePosition;this.hasModifiedData=n.hasModifiedData;this.dirty=n.dirty;this.readTypeRequested=n.readTypeRequested;this.isSettingCursorICPosition=n.isSettingCursorICPosition;this.isSettingCursorMCPosition=n.isSettingCursorMCPosition;for(let e=0;e<this.width;e++){u=this.errorLineArray[e];if(!u){if(n.ErrorArray[e]){var S=(this.errorRowNumber-1)*this.width;var C=this.screenElements[S+e];if(!C){var C=new ScreenElement(S+e,0,null)}this.errorLineArray[e]=C;this.errorLineArray[e].ebcdicChar=n.ErrorArray[e]}}else{u.ebcdicChar=n.ErrorArray[e]}}this.helpState=n.helpState;this.operrorCode=n.OprErr;if(n.OprErr>0){var R=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,("0000"+n.OprErr).slice(-4),false);if(this.renderer){this.renderer.fullPaint()}this.lockScreen()}break;default:throw new RuntimeException("unexpected order type 0x"+hex(n.type)+" in writeToDisplay")}if(t.error!=-1){break}}protocolLogger.debug("Out of order processing loop")}if(t.controlCharacter&&t.type==TN5250_WRITE_TO_DISPLAY){var m=t.controlCharacter&255;this.handleSecondControlChar(m)}if(t.error==-1){this.invalidateFieldInfo();t.error=this.validateAllFields()}if(t.error==-1&&t.type==TN5250_WRITE_TO_DISPLAY){if(this.cursorUnlockBehavior!=UNLOCK_NO_MOVE){if(!this.isSettingCursorICPosition){var N=Object.keys(this.fields);if(N.length>0){for(var A=0;A<N.length;A++){var y=this.fields[N[A]];if(y.isBypass()){continue}this.cursorPos=(this.fields[N[A]].position+1)%this.size;this.setCursorPos(this.cursorPos);break}if(A==N.length){this.homePosition=0;if(!this.isSettingCursorMCPosition){this.cursorPos=0;this.setCursorPos(this.cursorPos)}}}else{this.cursorPos=0;this.setCursorPos(this.cursorPos)}}else{this.setCursorPos(this.homePosition)}}}};Virtual5250Screen.prototype.setFieldChars=function(e,t,i){this.ensureFieldInfo();let n=this.fields[e]||this.getFieldData(this.cursorPos,false);if(!n){protocolLogger.warn("Cannot set field chars, pos="+e+" is not the start of a field");return}let r;r=n.position+1%this.size;for(var s=0;s<n.length;s++){if(s>=t.length){return}var o=r+s;let e=this.screenElements[o];if(i){e.ebcdicChar=t[s]}else{e.inputEbcdicChar=t[s];e.isModified=true;this.setFiledMDT(n);this.hasModifiedData=true;this.dirty=true}}};Virtual5250Screen.prototype.getFieldChars=function(e,t,i){var n=(e.position+1)%this.size;var r=new Array(e.length);var s=-1;var o;var l;var a;for(var c=0;c<e.length;c++){o=n+c;l=this.screenElements[o];if(!l)a=0;else a=l.isModified?l.inputEbcdicChar:l.ebcdicChar;if(a){s=c;if(a<64&&a!==TN5250_FORMAT_CONTROL_ORDERS_DUP&&a!==TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK&&a!==TN5250_FORMAT_CONTROL_ORDERS_UNITSEP&&(this.charsetInfo.dbcsMapper!=null&&a!==DBCS_SHIFT_OUT)&&(this.charsetInfo.dbcsMapper!=null&&a!==DBCS_SHIFT_IN)){a=64}}else if(i){a=0}else{a=64}r[c]=a}if(t){return r}else if(s===-1){return r}else{var u=new Array(s+1);for(var c=0;c<s+1;c++){u[c]=r[c]}return u}};Virtual5250Screen.prototype.getContinuedFieldChars=function(e,t,i){var n=[];let r=[];let s=[];if(e.isContinuedEntry()){n=this.getEntryFieldArray(e)}else{n.push(e)}while(n.length>0){var o=n.shift();s=this.getFieldChars(o,true,true);if(s.length>0){r=r.concat(s)}}if(t){return r}else{let e=-1;for(var l=r.length-1;l>=0;l--){if(r[l]){e=l;break}}if(e>-1){var a=new Array(e+1);for(var l=0;l<e+1;l++){a[l]=r[l]}return a}else{return r}}};Virtual5250Screen.prototype.setFiledMDT=function(t){if(!t.isContinuedEntry()){t.setMDT()}else{let e=this.getEntryFieldArray(t);while(e.length>0){t=e.shift();t.setMDT()}}};Virtual5250Screen.prototype.getCurrentFieldIndex=function(e){let t=Object.keys(this.fields);let i=-1;for(var n=0;n<t.length;n++){if(t[n]===e.position.toString()){i=n;break}}return i};Virtual5250Screen.prototype.getEntryFieldArray=function(n,r){var s=[];if(n.isContinuedEntry()){let e=Object.keys(this.fields);let t=-1;let i=this.getCurrentFieldIndex(n);if(i>-1){if(r!==undefined&&!r){t=i}else{if(n.isFirstContinuedEntry()){t=i}else{for(var o=i;o>-1;o--){var l=this.fields[e[o]];if(l.isContinuedEntry()){if(l.isFirstContinuedEntry()){t=o;break}}else{break}}}}}if(t>-1&&t<e.length){for(var o=t;o<e.length;o++){var l=this.fields[e[o]];if(l.isContinuedEntry()){s.push(l);if(l.isLastContinuedEntry()){break}}else{break}}}}return s};Virtual5250Screen.prototype.validateAllFields=function(){this.ensureFieldInfo();let e=0;let t=-1;let i=Object.keys(this.fields);let n=0,r=[];if(i.length>0){for(var s=0;s<i.length;s++){var o=this.fields[i[s]];if(o){if(o.attribute&&o.attribute<32||o.attribute>63){return TN5250_ERROR_CODE.INVALID_SF_ATTRIBUTE}if(o.isSignedNumeric()&&o.length<2){return TN5250_ERROR_CODE.INVALID_FIELD_LENGTH}if(o.isContinuedEntry()){t=o.checkContinuedEntryFiled(this.width,this.height);if(t!==-1){return t}if(o.isFirstContinuedEntry()){n=o.ffw;r=o.fcws;if(o.isHighlightedEntry()){const l=o.getHighlightedEntry();if(l<32||l>63){return TN5250_ERROR_CODE.INVALID_SF_ATTRIBUTE}}if(e!==0&&e!==3)return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD;e=0;e=e|2}else{if(o.fcws.length>1){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}if(e!==2){return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD}if(o.isLastContinuedEntry()){e=e|1}o.ffw=n;const a=o.getFcwByType(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY);const c=(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY<<8)+TN5250_FIELD_CONTINUED_ENTREY_FIRST;const u=(TN5250_FCW_TYPE.FCW_CONTINUED_ENTRY<<8)+a;o.fcws=r.concat().map(e=>{if(e===c){e=u}return e})}}else{if(e!==0&&e!==3)return TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD;e=0}}}}if(e!==0&&e!==3)t=TN5250_ERROR_CODE.INVALID_CONTINUED_ENTRY_FIELD;return t};Virtual5250Screen.prototype.handleStructuredField=function(t){for(let e of t.structuredFields){switch(e.type){case TN5250_DEFINE_AUDIT_WINDOW_TABLE:throw new RuntimeException("implement me");case TN5250_DEFINE_COMMAND_KEY_FUNCTION:throw new RuntimeException("implement me");case TN5250_READ_TEXT_SCREEN:throw new RuntimeException("implement me");case TN5250_DEFINE_PENDING_OPERATIONS:throw new RuntimeException("implement me");case TN5250_DEFINE_TEXT_SCREEN_FORMAT:throw new RuntimeException("implement me");case TN5250_DEFINE_SCALE_LINE:throw new RuntimeException("implement me");case TN5250_WRITE_TEXT_SCREEN:throw new RuntimeException("implement me");case TN5250_DEFINE_SPECIAL_CHARACTERS:throw new RuntimeException("implement me");case TN5250_PENDING_DATA:throw new RuntimeException("implement me");case TN5250_DEFINE_OPERATOR_ERROR_MESSAGES:throw new RuntimeException("implement me");case TN5250_DEFINE_PITCH_TABLE:throw new RuntimeException("implement me");case TN5250_DEFINE_FAKE_DP_CMD_KEY_FUNCTION:throw new RuntimeException("implement me");case TN5250_PASS_THROUGH:throw new RuntimeException("implement me");case TN5250_QUERY:protocolLogger.debug("Host is querying this terminal for capabilities");var i=this.getHeaderArray(TN5250_PUT_GET_OPERATION,74,TN5250_NO_FLAG);i.push(0);i.push(0);i.push(TN5250_AID_QUERY_REPLY);i.push(0);i.push(61);i.push(217);i.push(112);i.push(128);i.push(6);i.push(0);i.push(3);i.push(3);i.push(0);for(var n=0;n<16;n++){i.push(0)}i.push(1);for(var n=0;n<this.deviceType.length;n++){i.push(this.deviceType[n])}for(var n=0;n<this.deviceModel.length;n++){i.push(this.deviceModel[n])}i.push(2);i.push(0);i.push(0);for(var n=0;n<4;n++){i.push(0)}var r=(MAX_5250_FIELDS&65280)>>8;i.push(r);var s=MAX_5250_FIELDS&255;i.push(s);i.push(0);for(var n=0;n<2;n++){i.push(0)}i.push(63);if(this.alternateWidth==132)i.push(49);else i.push(17);i.push(0);if(this.charsetInfo.isDBCS)i.push(32);else i.push(0);for(var n=0;n<8;n++){i.push(0)}if(this.charsetInfo.isDBCS){i.push(1);i.push(1);i.push(0)}else{for(var n=0;n<3;n++){i.push(0)}}i=this.reviseLength(i);this.sendMessage(i,true);break;case TN5250_QUERY_STATION_STATE:throw new RuntimeException("implement me");default:throw new UnsupportedOperationException("unknown structured field type 0x"+hex(e.type))}}};const TN5250_ERROR_CODE_OPERATOR=1;function Tn5250ErrorCode(e,t,i){this.type=e;this.valueIsEbcdic=i;this.value=t;if(!i)this.errorCode=Number(t);else this.errorCode=9999}Virtual5250Screen.prototype.writeErrorCode=function(e){};Virtual5250Screen.prototype.process5250Message=function(e,t){if(e!=null){throw new UnsupportedOperationException("Do not handle TELNET headers on 5250 messages yet")}parseLogger.debug("before parse");var i;if(!this.isPrinter){i=this.parse5250(t)}else{i=this.parse5250Print(t);if(i.commands==="ENDJOB"){if(!this.spoolFile){this.spoolFile=new SpoolFile(this)}this.parser.endPrintSpooling()}else if(i.commands==="SPOOLING"){this.parser.parseSCSMessageData(i.data)}else if(i.commands==="STARTUP"){return}const o=[0,10,18,160,1,2,4,0,0,1];this.sendMessage(o,true);return}parseLogger.debug("after parse");this.negativeResponseCode=i.negativeResponseCode;var n=0;var r=false;for(let e of i.commands){n=e.type;switch(e.type){case TN5250_CANCEL_INVITE_OPERATION:this.sendCancelInvitation();break;case TN5250_SAVE_SCREEN:if(!this.savedScreen){this.encodeScreenData(TN5250_SAVE_SCREEN)}this.sendMessage(this.savedScreen,true);this.savedScreen=null;break;case TN5250_WRITE_TO_DISPLAY:case TN5250_BZW_RESTORESCREEN_ORDER:this.handleWriteToDisplay(e);r=true;break;case TN5250_RESTORE_SCREEN:break;case TN5250_RESTORE_SCREEN_PARTIAL:throw new RuntimeException("implement me");case TN5250_COPY_TO_PRINTER:throw new RuntimeException("implement me");case TN5250_CLEAR_UNIT_ALTERNATE:this.clear(true);break;case TN5250_WRITE_ERROR_CODE:this.handleErrorCode(e);break;case TN5250_WRITE_ERROR_CODE_TO_WINDOW:throw new RuntimeException("implement me");case TN5250_ROLL:e.error=this.handleRollCommand(e.direction,e.numberOfLines,e.startRow,e.endRow);break;case TN5250_CLEAR_UNIT:this.clear(false,e.restoreFlag?true:false);break;case TN5250_READ_INPUT_FIELDS:this.handleReadInputFields(e);break;case TN5250_CLEAR_FORMAT_TABLE:this.clearFormatTable();break;case TN5250_READ_MDT_FIELDS:this.handleReadModifiedFields(e);break;case TN5250_READ_SCREEN:this.handleReadScreen();break;case TN5250_READ_SCREEN_WITH_EXTENDED_ATTRIBUTES:throw new RuntimeException("implement me");case TN5250_READ_SCREEN_TO_PRINT:throw new RuntimeException("implement me");case TN5250_READ_SCREEN_TO_PRINT_WITH_EXTENDED_ATTRIBUTES:throw new RuntimeException("implement me");case TN5250_READ_IMMEDIATE:this.handleReadImmediate(e);break;case TN5250_READ_MDT_FIELDS_ALTERNATE:this.handleReadModifiedFieldsAlternate(e);break;case TN5250_READ_MDT_IMMEDIATE_ALTERNATE:this.sendModifiedFieldsAlternate(TN5250_NO_AID);break;case TN5250_WRITE_STRUCTURED_FIELD:this.handleStructuredField(e);break;case TN5250_TURN_ON_MESSAGE_LIGHT_OPERATION:this.messageWaiting=true;this.beep();break;case TN5250_TURN_OFF_MESSAGE_LIGHT_OPERATION:this.messageWaiting=false;break;default:throw new UnsupportedOperationException("unknown command type 0x"+hex(e.type))}if(e.error!=-1){this.negativeResponseCode=e.error;break}}if(this.negativeResponseCode!=-1){var s=this.getHeaderArray(3,13,TN5250_ERROR_FLAG);s.push((this.negativeResponseCode&4278190080)>>24);s.push((this.negativeResponseCode&16711680)>>16);s.push((this.negativeResponseCode&65280)>>8);s.push(this.negativeResponseCode&255);s=this.reviseLength(s);this.sendMessage(s,true);this.negativeResponseCode=-1}if(this.readTypeRequested===114){this.sendInputFields(TN5250_NO_AID)}if(!this.isPrinter)this.showScreen();if(this.negativeResponseCode==-1&&n==TN5250_READ_MDT_FIELDS&&this.isKeyboardReady){if(this.screenElements[0]&&this.screenElements[0].ebcdicChar==39&&(this.screenElements[2]&&this.screenElements[2].ebcdicChar==252)&&(this.screenElements[3]&&this.screenElements[3].ebcdicChar==215)&&(this.screenElements[4]&&this.screenElements[4].ebcdicChar==195)&&(this.screenElements[5]&&this.screenElements[5].ebcdicChar==214)&&(this.screenElements[6]&&this.screenElements[6].ebcdicChar==64)&&(this.screenElements[7]&&this.screenElements[7].ebcdicChar==131)&&(this.screenElements[8]&&this.screenElements[8].ebcdicChar==128)){this.handleFunction("Enter")}}if(this.negativeResponseCode==-1&&r&&this.isKeyboardReady&&this.mfaEnabled()){this.CheckForSignOnScreen();if(!this.isLoginPage){if(this.recorder&&this.recorder.paused){this.recorder.resumeRecord()}else if(this.currentScriptExecutionContext&&this.currentScriptExecutionContext.paused){this.currentScriptExecutionContext.resume()}}}return t.length};function CharacterAttributes5250(){}function TN5250FieldData(){this.ffw=0;this.fcws=null;this.attribute=0;this.length=0;this.inputControl=0;this.characterSet=0}TN5250FieldData.prototype.addFCW=function(e){if(this.fcws==null){this.fcws=[e]}else{if(!this.fcws.includes(e)){this.fcws.push(e)}}};TN5250FieldData.prototype.isInput=function(){return this.ffw!=0};function TN5250Order(e,t,i){this.type=e;this.row=t?t:0;this.column=i?i:0;this.repeatChar=null;this.fieldData=null}TN5250Order.prototype.screenPosition=function(e){return(this.row-1)*e+(this.column-1)};TN5250Order.prototype.advanceBufferPosition=function(e,t){switch(this.type){case TN5250_START_OF_HEADER_ORDER:return e;case TN5250_REPEAT_TO_ADDRESS_ORDER:case TN5250_ERASE_TO_ADDRESS_ORDER:return this.screenPosition(t)+1;case TN5250_SET_BUFFER_ADDRESS_ORDER:return this.screenPosition(t);case TN5250_WRITE_EXTENDED_ATTRIBUTE_ORDER:return e;case TN5250_INSERT_CURSOR_ORDER:case TN5250_MOVE_CURSOR_ORDER:return e;case TN5250_START_FIELD_ORDER:return e+1;case TN5250_WRITE_TO_DISPLAY_STRUCTURED_FIELD:throw new RuntimeException("unexected a WRITE_TO_DISPLAY_STRUCTURED_FIELD");case TN5250_INVALID_ORDER:return e;case TN5250_DATA_RUN_PSEUDO_ORDER:return e+this.data.length;case TN5250_RESTORE_OIA_ERROR:return e;default:throw new RuntimeException("unexected order type = 0x"+hex(this.type))}};TN5250Order.prototype.toString=function(){var e="unknown";switch(this.type){case TN5250_START_OF_HEADER_ORDER:e="START_HEADER";break;case TN5250_REPEAT_TO_ADDRESS_ORDER:e="REPEAT_TO";break;case TN5250_ERASE_TO_ADDRESS_ORDER:e="ERASE_TO";break;case TN5250_TRANSPARENT_DATA_ORDER:e="TRANPARENT_DATA";break;case TN5250_SET_BUFFER_ADDRESS_ORDER:e="SBA";break;case TN5250_WRITE_EXTENDED_ATTRIBUTE_ORDER:e="WRT_EXT_ATTR";break;case TN5250_INSERT_CURSOR_ORDER:e="INSERT_CURSOR";break;case TN5250_MOVE_CURSOR_ORDER:e="MOVE_CURSOR";break;case TN5250_START_FIELD_ORDER:e="START_FIELD";break;case TN5250_WRITE_TO_DISPLAY_STRUCTURED_FIELD:e="WTDSF";break}if(this.type==TN5250_START_FIELD_ORDER){return"<TN5250Order START_FIELD ffw=0x"+hex(this.fieldData.ffw)+" attr=0x"+hex(this.fieldData.attribute)+" len="+this.fieldData.length+">"}else{return"<TN5250Order "+e+" type=0x"+hex(this.type)+" row="+this.row+" col="+this.column+">"}};function StartOfHeaderOrder(e,t,i,n){this.flags=e;this.firstFieldNumber=t;this.errorRow=i;this.pfkeyInhibitBits=n;this.type=TN5250_START_OF_HEADER_ORDER}StartOfHeaderOrder.prototype.toString=function(){return"<TN5250StartOfHeader flags=0x"+hex(this.flags)+" pfKeyInhibit=0x"+hex(this.pfkeyInhibitBits)};function DataRun5250(e,t){this.data=e;this.type=TN5250_DATA_RUN_PSEUDO_ORDER;if(t==null)this.transparentData=false;else this.transparentData=true}DataRun5250.prototype.toString=function(){return"<TN5250DataRun, DATA=["+this.data.toString()+"]>"};DataRun5250.prototype.getText=function(){return hexDump(this.data)};Virtual5250Screen.flushDataRun=function(e,t,i){var n=null;if(t.length>0){n=new DataRun5250(t,i);t=[];e.add(n)}if(n!=null){protocolLogger.debug(n.toString())}return n};Virtual5250Screen.enqueueToDataRun=function(e,t){e.push(t)};function TN5250Command(e){this.type=e;this.controlCharacter=null;this.aid=null;this.orders=null;this.structuredFields=null;this.error=-1}TN5250Command.prototype.add=function(e){if(this.orders==null){this.orders=[]}this.orders.push(e)};TN5250Command.prototype.addSF=function(e){if(this.structuredFields==null){this.structuredFields=[]}this.structuredFields.push(e)};function TN5250StructuredField(e,t){this.type=e<<8|t}function TN5250ProtocolRecord(e){this.data=e;this.commands=[]}const RESET_MDT_INCLUDE_BYPASS=1;const RESET_MDT_EXCLUSE_BYPASS=0;Virtual5250Screen.resetMDTs=function(e,t){var i=e.size;var n=Object.keys(e.fields);for(var r=0;r<n.length;r++){var s=e.fields[n[r]];if(s.isModified()&&(t||!s.isBypass())){s.unsetMDT()}}};const NULL_FIELDS_MDT_ONLY=1;const NULL_FIELDS_ALL=0;Virtual5250Screen.nullNonBypassFields=function(e,t){var i=e.size;var n=Object.keys(e.fields);for(var r=0;r<n.length;r++){var s=e.fields[n[r]];var o=(s.position+1)%i;if(e.fields[o]){protocolLogger.debug("skipping 0-length field at "+o);continue}if((s.isModified()||!t)&&!s.isBypass()){var l=new Array(s.length);l.fill(0);e.setFieldChars(s.position,l,false)}}};Virtual5250Screen.prototype.handleControlCharacter=function(e){var t=(e&65280)>>8;var i=e&255;console.log("first: "+t+", second: "+i);this.handleFirstControlChar(t);this.handleSecondControlChar(i)};Virtual5250Screen.prototype.handleFirstControlChar=function(e){var t=e&224;if(t>0){this.readPending=false;this.isKeyboardReady=false;this.lockScreen()}switch(t){case 64:Virtual5250Screen.resetMDTs(this,RESET_MDT_EXCLUSE_BYPASS);break;case 96:Virtual5250Screen.resetMDTs(this,RESET_MDT_INCLUDE_BYPASS);break;case 128:Virtual5250Screen.nullNonBypassFields(this,NULL_FIELDS_MDT_ONLY);break;case 160:Virtual5250Screen.resetMDTs(this,RESET_MDT_EXCLUSE_BYPASS);Virtual5250Screen.nullNonBypassFields(this,NULL_FIELDS_ALL);break;case 192:Virtual5250Screen.resetMDTs(this,RESET_MDT_EXCLUSE_BYPASS);Virtual5250Screen.nullNonBypassFields(this,NULL_FIELDS_MDT_ONLY);break;case 224:Virtual5250Screen.resetMDTs(this,RESET_MDT_INCLUDE_BYPASS);Virtual5250Screen.nullNonBypassFields(this,NULL_FIELDS_ALL);break}};Virtual5250Screen.prototype.unlockKeyboard=function(){if(this.cursorUnlockBehavior===UNLOCK_DEFAULT_OR_IC_POS){this.setCursorPos(this.homePosition)}this.isKeyboardReady=true;this.lockedByError=false};Virtual5250Screen.prototype.lockScreen=function(e){if(!this.lockedByError||this.isKeyboardReady){this.lockedByError=true;this.isKeyboardReady=false;this.displayOIAOpError(e);this.autoReleaseLock(false)}};Virtual5250Screen.prototype.unlockScreen=function(){if(this.lockedByError||!this.isKeyboardReady){this.lockedByError=false;this.isKeyboardReady=true}if(this.isWaitingRendererAfterScreenLoaded===true){this.handlePendingScriptExecution("screenLoaded");this.isWaitingRendererAfterScreenLoaded=false}this.clearOIAOpError()};Virtual5250Screen.prototype.autoReleaseLock=function(e){if(e)this.beep();if(this.autoResetOptions&&this.autoResetOptions.isAutoReset&&this.autoResetOptions.isImmediate){if(this.autoResetOptions.isAutoTab){if(this.isSystemRequesting){this.isSystemRequesting=false;this.dirty=false;this.setCursorPos(this.oldCursorPos);if(this.SysReqStatus){this.lockScreen();this.oiaProgramMessage=this.SysReqStatus}}this.actionNextInputField()}setTimeout(()=>{this.handleReset()},800)}};Virtual5250Screen.prototype.handleSecondControlChar=function(e){if(e&64){this.cursorUnlockBehavior=UNLOCK_NO_MOVE}else{this.cursorUnlockBehavior=UNLOCK_DEFAULT_OR_IC_POS}if(e&32){if(this.renderer){this.renderer.cursorBlinkVisible=false}}if(e&16){if(this.renderer){this.renderer.cursorBlinkVisible=true}}if(e&8){this.unlockScreen();clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},10)}if(e&4){this.beep()}if(e&2){this.messageWaiting=false}if(e&1){this.messageWaiting=true;this.beep()}};Virtual5250Screen.parseAndGatherOrders=function(i,n,r){var s=[];if(r+3>=n.length){protocolLogger.debug("short parse coming...")}if(i.type==TN5250_BZW_RESTORESCREEN_ORDER){r+=2}else{i.controlCharacter=readU16(n,r+2);r+=4}var o=false;var l=false;while(!o&&r<n.length&&i.error==-1){var a=n[r]&255;var c;var u,h;var d;var p=null;switch(a){case TN5250_ESCAPE:if((n[r+1]&255)==TN5250_RESTORE_OIA_ERROR){l=true;r++}else{o=true}break;case TN5250_START_OF_HEADER_ORDER:s=[];protocolLogger.debug("START OF HEADER ORDER at pos=0x"+hex(r));c=n[r+1]&255;if(c<4||c>7){i.error=TN5250_ERROR_CODE.INVALID_PREMATURE;protocolLogger.warn("Bad START_OF_HEADER length=0x"+hex(c));r++}else{var f=n[r+2]&255;var E=n[r+4]&255;var T=n[r+5]&255;var _=0;if(c==7){_=readU24(n,r+6)}r+=2+c;p=new StartOfHeaderOrder(f,E,T,_);i.add(p)}break;case TN5250_SET_BUFFER_ADDRESS_ORDER:Virtual5250Screen.flushDataRun(i,s);s=[];u=n[r+1]&255;h=n[r+2]&255;protocolLogger.debug("SET BUFFER ADDRESS r="+u+" c="+h+" pos=0x"+hex(r));i.add(new TN5250Order(a,u,h));r+=3;break;case TN5250_INSERT_CURSOR_ORDER:Virtual5250Screen.flushDataRun(i,s);s=[];u=n[r+1]&255;h=n[r+2]&255;protocolLogger.debug("INSERT CURSOR r="+u+" c="+h+" pos=0x"+hex(r));i.add(new TN5250Order(a,u,h));r+=3;break;case TN5250_REPEAT_TO_ADDRESS_ORDER:Virtual5250Screen.flushDataRun(i,s);s=[];u=n[r+1]&255;h=n[r+2]&255;d=n[r+3]&255;protocolLogger.debug("REPEAT TO ADDRESS r="+u+" c="+h+" ch=0x"+hex(d)+" pos=0x"+hex(r));p=new TN5250Order(a,u,h);p.repeatChar=d;i.add(p);r+=4;break;case TN5250_ERASE_TO_ADDRESS_ORDER:Virtual5250Screen.flushDataRun(i,s);s=[];u=n[r+1]&255;h=n[r+2]&255;protocolLogger.debug("ERASE TO ADDRESS r="+u+" c="+h+" pos=0x"+hex(r));p=new TN5250Order(a,u,h);r+=3;c=n[r];if(c<2||c>5){protocolLogger.debug("Valid length values are between X'02' and X'05' "+" pos=0x"+hex(r))}let e=[];const L=r;while(r<L+(c-1)){e.push(n[r+1]);if(n[r+1]>5&&n[r+1]!=255){protocolLogger.debug("specified attribute type "+hex(n[r+1])+" is not valid "+" pos=0x"+hex(r+1))}else{if(n[r+1]!=0&&n[r+1]!=255){protocolLogger.debug("specified attribute type "+hex(n[r+1])+" have not supported yet, skip "+" pos=0x"+hex(r+1))}}r++}protocolLogger.debug("ERASE TO ADDRESS Attribute List="+e);p.attrList=e;r++;i.add(p);break;case TN5250_WRITE_EXTENDED_ATTRIBUTE_ORDER:const v=n[r+1]&255;const M=n[r+2]&255;protocolLogger.debug("WRITE EXTENDED ATTRIBUTE type="+v+" c="+M);p=new TN5250Order(a);p.extendAttrType=v;p.extendAttr=M;i.add(p);r+=3;break;case TN5250_START_FIELD_ORDER:Virtual5250Screen.flushDataRun(i,s);s=[];let t=0;protocolLogger.debug("Start Field Parse pos=0x"+hex(r));{r++;var g=n[r]&255;var S=1;var C=new TN5250FieldData;if((g&FFW_MASK)==FFW_INDICATOR){C.ffw=readU16(n,r);protocolLogger.debug("ffw=0x"+hex(C.ffw)+" pos=0x"+hex(r));r+=2;while(r<n.length){var R=n[r]&255;if((R&ATTRIBUTE_MASK)==ATTRIBUTE_INDICATOR){break}var m=readU16(n,r);protocolLogger.debug("FCW 0x"+hex(m)+" at position 0x"+hex(r));C.addFCW(m);r+=2}}var N=n[r++]&255;C.attribute=N;C.length=readU16(n,r);var A=new FieldData5250(0,C);if(A.isDBCSIdeographic()){let e=A.getDBCSIdeographicType();switch(e){case 0:C.characterSet=CHARACTER_SET_DBCS;break;case 32:C.characterSet=CHARACTER_SET_DBCS;break;case 64:C.inputControl=1;break;case 128:case 192:C.inputControl=1;break}}protocolLogger.debug("fieldLength=0x"+hex(C.length)+" at pos=0x"+hex(r));r+=2;protocolLogger.debug("End Field Parse pos=0x"+hex(r));p=new TN5250Order(a);p.fieldData=C;i.add(p)}break;case TN5250_TRANSPARENT_DATA_ORDER:Virtual5250Screen.flushDataRun(i,s);s=[];{if(r+2>=n.length){i.error=TN5250_ERROR_CODE.INVALID_PREMATURE;break}var y=readU16(n,r+1);protocolLogger.debug("TRANSPARENT DATA at "+r+" len=0x"+hex(y));r+=3;if(y>0){for(var I=0;I<y;I++){if(r>=n.length){i.error=TN5250_ERROR_CODE.INVALID_PREMATURE;break}Virtual5250Screen.enqueueToDataRun(s,n[r]&255);r++}Virtual5250Screen.flushDataRun(i,s,true);s=[]}}break;case TN5250_WRITE_TO_DISPLAY_STRUCTURED_FIELD:protocolLogger.debug("WDSF");var O=readU16(n,r+1);var b=n[r+3];var P=n[r+4];protocolLogger.debug("Length: "+hex(O)+" Class: "+hex(b)+" Type: "+hex(P));switch(P){case 80:case 81:case 82:case 83:case 84:case 85:case 88:case 89:case 91:case 95:case 96:case 97:r+=O+1;break;default:i.error=268632321}break;case TN5250_RESTORE_OIA_ERROR:if(l){l=false;Virtual5250Screen.flushDataRun(i,s);s=[];p=new TN5250Order(a);p.OprErr=(n[r+1]&255)<<8|n[r+2]&255;p.helpState=n[r+3];if(p.helpState==2){p.helpState=-1;telnetLogger.info("--helpState:"+p.helpState)}p.elbusy=n[r+4]&255;p.insertMode=n[r+5]&255;p.cursorPos=(n[r+6]&255)<<8|n[r+7]&255;p.oldCursorPos=(n[r+8]&255)<<8|n[r+9]&255;p.homePosition=(n[r+10]&255)<<8|n[r+11]&255;p.hasModifiedData=n[r+12]&255;p.dirty=n[r+13]&255;p.readTypeRequested=n[r+14]&255;p.isSettingCursorICPosition=n[r+15]&255;p.isSettingCursorMCPosition=n[r+16]&255;p.isSystemRequesting=n[r+17]&255;var D=n[r+18]&255;p.ErrorArray=[];for(let e=0;e<D;e++){p.ErrorArray.push(n[r+19+e])}i.add(p);r+=D+19;break}default:Virtual5250Screen.enqueueToDataRun(s,a);r++}}Virtual5250Screen.flushDataRun(i,s);s=[];return r};Virtual5250Screen.prototype.parse5250=function(t){if(t.length<10){throw new TerminalInputException("short packet")}var i=new TN5250ProtocolRecord(t);var n=readU16(t,0);var e=t.length;n=n>e?n:e;var r=readU16(t,2);var s=readU16(t,4);var o=t[6]&255;var l=t[7]&255;var a=t[8]&255;var c=t[9]&255;i.negativeResponseCode=-1;var u=-1;switch(c){case TN5250_NO_OPERATION:break;case TN5250_READ_SCREEN_OPERATION:var h=10;var d=t[h]&255;if(d==TN5250_ESCAPE){var p=t[h+1]&255;switch(p){case TN5250_READ_SCREEN:var f=new TN5250Command(p);i.commands.push(f);return i}}break;case TN5250_PUT_GET_OPERATION:case TN5250_INVITE_OPERATION:case TN5250_OUTPUT_ONLY:case TN5250_RESTORE_SCREEN_OPERATION:case TN5250_SAVE_SCREEN_OPERATION:{var h=10;while(h<n&&u==-1){var d=t[h]&255;if(d==TN5250_ESCAPE){var p=t[h+1]&255;var f=null;switch(p){case TN5250_ROLL:f=new TN5250Command(p);f.direction=t[h+2]&128;f.numberOfLines=t[h+2]&31;f.startRow=t[h+3]&255;f.endRow=t[h+4]&255;h+=5;i.commands.push(f);break;case TN5250_READ_IMMEDIATE:case TN5250_SAVE_SCREEN:f=new TN5250Command(p);i.commands.push(f);return i;case TN5250_RESTORE_SCREEN:if(t[h+2]==66&&t[h+3]==90&&t[h+4]==87&&t[h+5]==48&&t[h+6]==49){h+=7;f=new TN5250Command(TN5250_CLEAR_UNIT);f.restoreFlag=true;i.commands.push(f)}else{throw new TerminalInputException("Invalid Restore Screen format")}break;case TN5250_READ_MDT_IMMEDIATE_ALTERNATE:f=new TN5250Command(p);h+=2;i.commands.push(f);break;case TN5250_READ_INPUT_FIELDS:case TN5250_READ_MDT_FIELDS:case TN5250_READ_MDT_FIELDS_ALTERNATE:f=new TN5250Command(p);f.controlCharacter=readU16(t,h+2);h+=4;i.commands.push(f);break;case TN5250_CLEAR_UNIT:protocolLogger.debug("CLEAR UNIT COMMAND\n");h+=2;i.commands.push(new TN5250Command(TN5250_CLEAR_UNIT));break;case TN5250_CLEAR_FORMAT_TABLE:protocolLogger.debug("CLEAR FORMAT TABLE COMMAND\n");h+=2;i.commands.push(new TN5250Command(TN5250_CLEAR_FORMAT_TABLE));break;case TN5250_WRITE_TO_DISPLAY:protocolLogger.debug("TN5250_WRITE_TO_DISPLAY");case TN5250_BZW_RESTORESCREEN_ORDER:f=new TN5250Command(p);var E=Virtual5250Screen.parseAndGatherOrders(f,t,h);u=f.error;i.commands.push(f);h=E;break;case TN5250_WRITE_STRUCTURED_FIELD:protocolLogger.debug("WRITE STRUCTURE FIELD (outbound)");f=new TN5250Command(p);i.commands.push(f);h+=2;while(h<n){var T=readU16(t,h);var _=t[h+2]&255;var g=t[h+3]&255;var S=t[h+4]&255;protocolLogger.debug("Structured field read, len=0x"+hex(T)+" t=0x"+hex(g)+" c=0x"+hex(_)+" partition(mbz)=0x"+hex(S));var C=new TN5250StructuredField(_,g);f.addSF(C);if(T>5){var R=t[h+5]&255}h+=T}break;case TN5250_WRITE_ERROR_CODE:h+=1;let e=0;f=new TN5250Command(p);var m;while(!e&&h+1<n){var N=t[h+1]&255;var A=new Array;switch(N){case TN5250_ESCAPE:e=1;break;case TN5250_INSERT_CURSOR_ORDER:var y=t[h+2]&255;var I=t[h+3]&255;m=new TN5250Order(N,y,I);protocolLogger.debug("INSERT CURSOR r="+y+" c="+I+" pos=0x"+hex(h));f.add(m);h+=3;break;default:h++;if(N===0){A.push(34);h++}while(h+1<n){A.push(t[h]);if(t[h+1]==TN5250_ESCAPE||t[h+1]==TN5250_INSERT_CURSOR_ORDER){break}else{h++}}if(m){m.repeatChar=A}else{m=new TN5250Order(N,0,0);m.repeatChar=A;f.add(m)}}}h++;i.commands.push(f);break;case TN5250_CLEAR_UNIT_ALTERNATE:h+=3;f=new TN5250Command(p);i.commands.push(f);break;default:telnetLogger.severe("unhandled command 0x"+hex(p));h++}}else{telnetLogger.severe("expected escape, got 0x"+hex(d));u=268632321}}}break;case TN5250_TURN_ON_MESSAGE_LIGHT_OPERATION:protocolLogger.debug("Turn on the light");f=new TN5250Command(TN5250_TURN_ON_MESSAGE_LIGHT_OPERATION);i.commands.push(f);break;case TN5250_CANCEL_INVITE_OPERATION:{f=new TN5250Command(TN5250_CANCEL_INVITE_OPERATION);i.commands.push(f);break}case TN5250_READ_IMMEDIATE_OPERATION:{f=new TN5250Command(TN5250_READ_IMMEDIATE);i.commands.push(f);break}case TN5250_TURN_OFF_MESSAGE_LIGHT_OPERATION:protocolLogger.debug("Turn off the light");f=new TN5250Command(TN5250_TURN_OFF_MESSAGE_LIGHT_OPERATION);i.commands.push(f);break;default:protocolLogger.warn("unknown operation 0x"+hex(c))}i.negativeResponseCode=u;return i};Virtual5250Screen.prototype.processStartupResponse=function(e,t){let n=[];for(i=0;i<22;i++){if(i<t.length){let e=t[i]&255;n.push(e)}}if(n[0]!=201||n[1]!=249){let t="";for(i=0;i<4;i++){t+=String.fromCharCode(this.charsetInfo.sbcsMapper[n[i]])}if(this.webSocket!=null){if(t!="8902"){let e="Printer Startup Error, Error Code = "+t+"\n"+STARTUP_RESPONSE_RECORD_ERROR_CODES[t];alert(e)}this.connectState=CONNECT_STATE_DISCONNECTED;this.updateScreenStatus();this.closeConnection(1005)}}else{this.sessionsystemName="";this.sessionDeviceName="";for(i=4;i<22;i++){n[i]=this.charsetInfo.sbcsMapper[n[i]];if(i<12){this.sessionsystemName+=String.fromCharCode(n[i])}else{this.sessionDeviceName+=String.fromCharCode(n[i])}}tecoreLogger.debug("Set systemName: "+this.sessionsystemName);tecoreLogger.debug("Set deviceName: "+this.sessionDeviceName);this.bindTimer={};this.bindTimer.startTime=(new Date).getTime();this.updateScreenStatus({bindTimer:this.bindTimer,printStatus:2})}e.negativeResponseCode=-1;var r=-1;e.negativeResponseCode=r;e.commands="STARTUP";return e};Virtual5250Screen.prototype.parse5250Print=function(e){if(e.length<16){throw new TerminalInputException("short packet")}let t=0;let i=new TN5250ProtocolRecord(e);let n=readU16(e,0);let r=e.length;n=n>r?n:r;let s=readU16(e,2);let o=readU16(e,4);let l=e[6]&255;let a=e[7]&255;let c=e[9]&255;t=6;if(l)t+=l;const u=e.slice(t);if(o==36864){const p=u.slice(5);return this.processStartupResponse(i,p)}let h="";if(a&8){h="LASTCHAIN"}else if(a&16){h="FIRSTCHAIN"}else if(a&32){h="READY";if(!this.parser){this.parser=new TN5250Parser(this,"5250_CLIENT_MESSAGE")}this.parser.initPrint()}else if(a&64){h="INTERVENTION"}else if(a&128){h="ERROR"}if(c===1){if(e.length===10||h==="LASTCHAIN"&&u.length===1&&u[0]===0){i.commands="ENDJOB"}else{if(h==="READY"){i.commands="READY"}else if(h==="ERROR"){}else{i.commands="SPOOLING";i.data=u}}}else if(c===2){i.commands="ENDJOB"}else{}i.negativeResponseCode=-1;var d=-1;i.negativeResponseCode=d;return i};var packet1=[1,245,18,160,0,0,4,0,0,3,4,64,4,17,0,24,1,7,0,0,0,24,0,0,0,17,1,22,34,64,64,64,64,64,64,64,64,64,64,64,64,64,226,137,135,149,64,214,149,2,1,55,64,32,17,2,47,32,226,168,162,163,133,148,64,64,75,64,75,64,75,64,75,64,75,64,122,32,17,2,69,32,193,211,227,226,227,248,64,64,32,17,3,47,32,226,164,130,162,168,162,163,133,148,64,75,64,75,64,75,64,75,64,122,32,17,3,69,32,216,201,213,227,197,217,64,64,64,64,32,17,4,47,32,196,137,162,151,147,129,168,64,75,64,75,64,75,64,75,64,75,64,122,32,17,4,69,32,216,215,193,196,197,229,240,240,240,243,32,17,6,16,32,228,162,133,153,64,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,32,17,6,52,29,64,32,36,0,10,0,0,0,0,0,0,0,0,0,0,17,7,52,29,64,32,39,0,10,17,8,16,32,215,153,150,135,153,129,148,97,151,153,150,131,133,132,164,153,133,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,32,17,8,52,29,64,0,36,0,10,0,0,0,0,0,0,0,0,0,0,17,9,16,32,212,133,149,164,64,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,32,17,9,52,29,64,0,36,0,10,0,0,0,0,0,0,0,0,0,0,17,10,16,32,195,164,153,153,133,149,163,64,147,137,130,153,129,153,168,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,32,17,10,52,29,64,0,36,0,10,0,0,0,0,0,0,0,0,0,0,17,7,16,32,215,129,162,162,166,150,153,132,64,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,32,17,7,52,39,2,7,62,0,17,24,39,34,64,77,195,93,64,195,214,215,232,217,201,199,200,227,64,201,194,212,64,195,214,217,215,75,64,241,249,248,240,107,64,242,240,241,243,75,64,64,64,64,32,4,82,0,0,255,239];var start5250=function(a,e,t,i){const n=()=>{if(e.deviceType!==12&&e.deviceType!==13){var n=a.parentDiv.id;var r=n+"Canvas";var s=makeCanvas(r,a.parentDiv,a.width,a.height,1);var o=n+"SelectionCanvas";var l=makeCanvas(o,a.parentDiv,a.width,a.height,2);let e=VirtualScreen.createHotspotDiv(a.parentDiv,a.width,a.height);let t=VirtualScreen.createInvisibleInputDiv(n);a.parentDiv.appendChild(e);e.appendChild(t);l.innerHTMLMessageLength=l.innerHTML.length;let i=new Virtual5250Screen(s,l,DEFAULT_5250_WIDTH,DEFAULT_5250_HEIGHT);i.setupDefaultCallbacks();i.invisibleInput=t;i.hotspotsDiv=e;i.parentDiv=a.parentDiv;i.isPrinter=false;return i}else{let e=new Virtual5250Screen(null,null,null,null);e.isPrinter=true;e.prtEOJ=false;e.printerStatus={};e.parentDiv=a.parentDiv;if(t){e.printOptions=t.sessionProperties.options;e.printLayout=t.sessionProperties.layout;e.printPage=t.sessionProperties.page;e.printOverride=t.sessionProperties.override;e.printer=t.sessionProperties.printer;e.setCharsetInfo(t.language)}return e}};let r=n();r.callbacks=i;r.connectionSettings=e;let s=TN5250_SECURITY_NONE;let o=SECURITY_BAD_CERTIFICATE_ALLOW;if(t!==null&&t!==undefined){r.rendererSettings=t;r.contextRightClick=t.contextRightClick;if(t.keyboardOptions){const c=t.keyboardOptions;r.autoResetOptions=c.autoResetOptions;r.rapidLeftRight=c.rapidLeftRight;r.autoSkipBackspace=c.autoSkipBackspace===undefined?true:c.autoSkipBackspace;r.destructiveBackspace=c.destructiveBackspace===undefined?false:c.destructiveBackspace;r.dbClick2Selected=c.dbClick2Selected===undefined?false:c.dbClick2Selected;r.autoCopy=c.autoCopy===undefined?false:c.autoCopy}}r.hostBell.enable=e&&e.hostBell!==undefined?e.hostBell:false;if(r.hostBell.enable){r.hostBell.ctx=new AudioContext;r.hostBell.started=false}if(e){if(e.deviceType&&typeof e.deviceType=="number"){switch(e.deviceType){case 1:r.termTypeString=TN5250_DEVICE_TYPE_3179_2.string;r.deviceType=TN5250_DEVICE_TYPE_3179_2.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_3179_2.devicemodel;break;case 2:r.termTypeString=TN5250_DEVICE_TYPE_3180_2.string;r.deviceType=TN5250_DEVICE_TYPE_3180_2.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_3180_2.devicemodel;r.alternateWidth=TN5250_DEVICE_TYPE_3180_2.width;r.alternateHeight=TN5250_DEVICE_TYPE_3180_2.height;break;case 3:r.termTypeString=TN5250_DEVICE_TYPE_3196_A1.string;r.deviceType=TN5250_DEVICE_TYPE_3196_A1.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_3196_A1.devicemodel;break;case 4:r.termTypeString=TN5250_DEVICE_TYPE_3477_FC.string;r.deviceType=TN5250_DEVICE_TYPE_3477_FC.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_3477_FC.devicemodel;r.alternateWidth=TN5250_DEVICE_TYPE_3477_FC.width;r.alternateHeight=TN5250_DEVICE_TYPE_3477_FC.height;break;case 5:r.termTypeString=TN5250_DEVICE_TYPE_3477_FG.string;r.deviceType=TN5250_DEVICE_TYPE_3477_FG.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_3477_FG.devicemodel;r.alternateWidth=TN5250_DEVICE_TYPE_3477_FG.width;r.alternateHeight=TN5250_DEVICE_TYPE_3477_FG.height;break;case 6:r.termTypeString=TN5250_DEVICE_TYPE_5251_11.string;r.deviceType=TN5250_DEVICE_TYPE_5251_11.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5251_11.devicemodel;break;case 7:r.termTypeString=TN5250_DEVICE_TYPE_5291_1.string;r.deviceType=TN5250_DEVICE_TYPE_5291_1.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5291_1.devicemodel;break;case 8:r.termTypeString=TN5250_DEVICE_TYPE_5292_2.string;r.deviceType=TN5250_DEVICE_TYPE_5292_2.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5292_2.devicemodel;break;case 9:r.termTypeString=TN5250_DEVICE_TYPE_5555_B01.string;r.deviceType=TN5250_DEVICE_TYPE_5555_B01.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5555_B01.devicemodel;break;case 10:r.termTypeString=TN5250_DEVICE_TYPE_5555_C01_132.string;r.deviceType=TN5250_DEVICE_TYPE_5555_C01_132.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5555_C01_132.devicemodel;r.alternateWidth=TN5250_DEVICE_TYPE_5555_C01_132.width;r.alternateHeight=TN5250_DEVICE_TYPE_5555_C01_132.height;break;case 11:r.termTypeString=TN5250_DEVICE_TYPE_5555_C01_80.string;r.deviceType=TN5250_DEVICE_TYPE_5555_C01_80.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5555_C01_80.devicemodel;break;case 12:r.termTypeString=TN5250_DEVICE_TYPE_3812_1.string;r.deviceType=TN5250_DEVICE_TYPE_3812_1.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_3812_1.devicemodel;break;case 13:r.termTypeString=TN5250_DEVICE_TYPE_5553_B01.string;r.deviceType=TN5250_DEVICE_TYPE_5553_B01.devicetype;r.deviceModel=TN5250_DEVICE_TYPE_5553_B01.devicemodel;break;default:break}}if(e.security&&typeof e.security=="object"){if(e.security.type&&typeof e.security.type=="number"){s=e.security.type}if(e.security.badCert&&typeof e.security.badCert=="number"){o=e.security.badCert}}r.deviceNameInfo=r.getDeviceNameInfo(e.sessionDeviceName||e.sessionAssociateLuName||"",r.termTypeString);if(e.display&&typeof e.display=="object"){if(e.display.sessionCharacterSet&&typeof e.display.sessionCharacterSet=="string"){r.sessionCharacterSet=e.display.sessionCharacterSet}if(e.display.sessionCodePage&&typeof e.display.sessionCodePage=="string"){r.sessionCodePage=e.display.sessionCodePage}if(e.display.sessionKeyboardType&&typeof e.display.sessionKeyboardType=="string"){r.sessionKeyboardType=e.display.sessionKeyboardType}if(e.display.sessionSendConfRec&&typeof e.display.sessionSendConfRec=="boolean"){if(e.display.sessionSendConfRec){r.sessionSendConfRec="YES"}}if(e.display.sessionAssociatedPrinter&&typeof e.display.sessionAssociatedPrinter=="string"){r.sessionAssociatedPrinter=e.display.sessionAssociatedPrinter}}if(e.signon&&typeof e.signon=="object"){if(e.signon.sessionCurrentLibrary&&typeof e.signon.sessionCurrentLibrary=="string"){r.sessionCurrentLibrary=e.signon.sessionCurrentLibrary}if(e.signon.sessionInitialMenu&&typeof e.signon.sessionInitialMenu=="string"){r.sessionInitialMenu=e.signon.sessionInitialMenu}if(e.signon.sessionPassword&&typeof e.signon.sessionPassword=="string"){r.sessionPassword=e.signon.sessionPassword}if(e.signon.forceSignonKey&&typeof e.signon.forceSignonKey=="string"){r.forceSignonKey=e.signon.forceSignonKey}if(e.signon.sessionProgram&&typeof e.signon.sessionProgram=="string"){r.sessionProgram=e.signon.sessionProgram}if(e.signon.sessionSignonType&&typeof e.signon.sessionSignonType=="string"){r.sessionSignonType=e.signon.sessionSignonType}if(e.signon.sessionUsername&&typeof e.signon.sessionUsername=="string"){r.sessionUsername=e.signon.sessionUsername}}if(e.mfaConfig){r.mfaConfig=Object.assign(r.mfaConfig,e.mfaConfig)}if(e?.keepAlive?.retryConnect){r.retryConnect=JSON.parse(JSON.stringify(e.keepAlive.retryConnect))}r.retryConnect.counter=1;if(e?.keepAlive?.backUpEnabled&&e?.keepAlive?.backUpList){const u=JSON.parse(JSON.stringify(e.keepAlive.backUpList));if(Array.isArray(u)&&u.length>0){r.backUpList=u;r.backUpList.unshift({host:e.host,port:e.port})}r.useBackUpIndex=0}else{r.backUpList=[]}}r.hostInfo={host:e.host,port:Number(e.port),security:s,certificateAction:o,tlsMinVersion:e.tlsMinVersion,tlsMaxVersion:e.tlsMaxVersion,cipherList:e.security&&e.security.cipherList||[],useCipher:e.security&&e.security.useCipher};var l=null;if(!r.isPrinter){r.initScreen()}tecoreLogger.debug("connect = "+e.connect);if(e.connect){r.connect(e.url,r.hostInfo,e.security.principle,e.connData)}else{r.lockedByScripting=true}if(r.canvas){r.setupEventHandling();r.canvas.focus()}if(r.callbacks&&typeof r.callbacks.onInit=="function"){r.callbacks.onInit()}if(apiAgent){apiAgent.addScreen(r)}return r};function TN5250Parser(e,t){this.jsonResponseType=t;this.screen=e;this.state=TELNET_NO_STATE;this.telnetVerb=null;this.subBytes=[];this.dataBuffer=[];this.telnetResponse=[];this.bEchoing=true;this.negTerminalType=false;this.bUsingGa=false}TN5250Parser.prototype.sendIdentifier=function(){var e=this.screen;var t;switch(e.termTypeString){default:parseLogger.warn("CANT SEND IDENTIFIER FOR UNKNOWN TERM TYPE "+e.termTypeString)}messageLogger.debug("sending 5250 identifer");e.sendMessage(t)};TN5250Parser.prototype.appendTelnetOptionResponse=function(e,t){this.telnetResponse.push(255);this.telnetResponse.push(e);if(Number(t)>=0)this.telnetResponse.push(t)};TN5250Parser.prototype.getDisplayUservals=function(){let e=["","","","","","","","","","","",""];if(this.screen.forceSignonKey){e[1]=window.atob(this.screen.forceSignonKey)}if(this.screen.sessionCurrentLibrary){e[2]=this.screen.sessionCurrentLibrary}if(this.screen.sessionInitialMenu){e[3]=this.screen.sessionInitialMenu}if(this.screen.sessionProgram){e[4]=this.screen.sessionProgram}if(this.screen.deviceNameInfo&&this.screen.deviceNameInfo.name){e[5]=this.screen.deviceNameInfo.name}if(this.screen.sessionKeyboardType){e[6]=this.screen.sessionKeyboardType}if(this.screen.sessionCodePage){e[7]=this.screen.sessionCodePage.toString()}if(this.screen.sessionCharacterSet){e[8]=this.screen.sessionCharacterSet.toString()}if(this.screen.sessionSendConfRec){e[9]=this.screen.sessionSendConfRec}if(this.screen.sessionAssociatedPrinter){e[10]=this.screen.sessionAssociatedPrinter}return e};getpaperSource=function(e){switch(e){case"0":return 255;case"1":return 0;case"2":return 1;case"3":return 2;case"4":return 3;case"5":return 4;case"6":return 5;case"7":return 6;case"8":return 7;case"9":return 8;case"10":return 14;case"11":return 15;case"12":return 16}return 0};getEnvelope=function(e){switch(e){case"0":return 255;case"1":return 0;case"2":return 6;case"3":return 9;case"4":return 10;case"5":return 11;case"6":return 12;case"7":return 13}return 0};TN5250Parser.prototype.getPrinterUservals=function(){let e=["","","","","","","","","","","","","","",""];e[0]=this.screen?.deviceNameInfo?.name||"";let t;if(this.screen.connectionSettings.printer){t=this.screen.connectionSettings.printer}else{t={IBMMSGQNAME:"QSYSOPR",IBMMSGQLIB:"*LIBL",IBMFONT:"011",IBMTRANSFORM:"0",IBMMFRTYPMDL:"*HP4"}}e[1]=t.IBMMSGQNAME||"";e[2]=t.IBMMSGQLIB||"";e[3]=t.IBMFONT||"";let i="";switch(t.IBMFORMFEED){case"1":i="C";break;case"2":i="U";break;case"3":i="A";break}e[4]=i;e[5]="";if(this.screen.termTypeString==="IBM-5553-B01"){if(this.screen.charsetInfo.name=="Chinese Traditional DBCS EBCDIC 937"){e[5]="2424C0"}else if(this.screen.charsetInfo.name=="Chinese Simplified DBCS EBCDIC 935"){e[5]="2424S0"}else if(this.screen.charsetInfo.name=="Japanese English DBCS EBCDIC 931"||this.screen.charsetInfo.name=="Japanese Katakana DBCS EBCDIC 5026"||this.screen.charsetInfo.name=="Japanese Latin DBCS EBCDIC 5035"){e[5]="2424J0"}else if(this.screen.charsetInfo.name=="Korean DBCS EBCDIC 933"){e[5]="2424K0"}}e[6]=t.IBMTRANSFORM||"";e[7]=t.IBMMFRTYPMD||"";e[8]=t.IBMWSCSTNAME||"";e[9]=t.IBMWSCSTLIB||"";e[10]="768";e[11]=String.fromCharCode(getpaperSource(t.IBMPPRSRC1));e[12]=String.fromCharCode(getpaperSource(t.IBMPPRSRC2));e[13]=String.fromCharCode(getEnvelope(t.IBMENVELOPE));e[14]="0";return e};TN5250Parser.prototype.handleTelnetSub=function(){let e=this.screen;let t=this.subBytes[0];let i,n,r;let s=[];let o=[];let l=0;let a=[];let c=[""];let u;let h;let d,p,f;switch(t){case TELNET_OPTION_WINDOW_SIZE:case TELNET_OPTION_TERMINAL_TYPE:var E=[0];for(i=0;i<e.termTypeString.length;i++){E.push(e.termTypeString.charCodeAt(i))}e.sendTelnetSub(TELNET_OPTION_TERMINAL_TYPE,E);break;case TELNET_OPTION_NEW_ENVIRONMENT:if(this.subBytes[1]==TN_NV_SEND){for(i=2;i<this.subBytes.length;){if(this.subBytes[i]==TN_NV_VAR||this.subBytes[i]==TN_NV_USERVAR){var T="";o[l]=this.subBytes[i++];while(this.subBytes[i]!=TN_NV_VAR&&this.subBytes[i]!=TN_NV_USERVAR&&i<this.subBytes.length){T+=String.fromCharCode(this.subBytes[i++]);if(T=="IBMRSEED"){for(n=0;n<8;n++){a[n]=this.subBytes[i++]}}}s[l++]=T}else break}if(this.screen.sessionUsername){c[0]=this.screen.sessionUsername}if(!this.screen.isPrinter){d=2;p=1;u=this.getDisplayUservals();h=DisplayUservars;f=12}else{d=0;p=0;u=this.getPrinterUservals();h=PrinterUservars;if(u[6]!="1")f=7;else f=15}var E=[TN_NV_IS];for(i=0;i<l;i++){if(o[i]==0){if(s[i].length){E.push(TN_NV_VAR);for(r=0;r<s[i].length;r++)E.push(s[i].charCodeAt(r));for(n=0;n<DisplayVars.length;n++){if(s[i]==DisplayVars[n]){E.push(TN_NV_VALUE);for(r=0;r<c[n].length;r++)E.push(c[n].charCodeAt(r))}}}else{for(n=0;n<DisplayVars.length;n++){if(c[n].length){E.push(TN_NV_VAR);for(r=0;r<DisplayVars[n].length;r++)E.push(DisplayVars[n].charCodeAt(r));E.push(TN_NV_VALUE);for(r=0;r<c[n].length;r++)E.push(c[n].charCodeAt(r))}}}}else{if(s[i].length){if(s[i]=="IBMRSEED"){E.push(TN_NV_USERVAR);for(r=0;r<s[i].length;r++)E.push(s[i].charCodeAt(r));E.push(TN_NV_VALUE)}else if(s[i]=="IBMSUBSPW"){if(this.screen.sessionPassword.length){E.push(TN_NV_USERVAR);for(r=0;r<s[i].length;r++)E.push(s[i].charCodeAt(r));E.push(TN_NV_VALUE);for(r=0;r<this.screen.sessionPassword.length;r++)E.push(this.screen.sessionPassword.charCodeAt(r))}}else if(s[i]=="DEVNAME"){let e=this.screen.deviceNameInfo;if(e.isCountType){if(e.count<99){e.count++;const _=this.screen.mapDeviceName(e,this.screen.termTypeString);e.name=_;E.push(TN_NV_USERVAR);for(r=0;r<s[i].length;r++){E.push(s[i].charCodeAt(r))}E.push(TN_NV_VALUE);for(let e=0;e<_.length;e++){E.push(_.charCodeAt(e))}}else{const g=`Device Name %3(00-99) are all in use`;telnetLogger.severe(g);const S=`Connection to host is rejected. \nHost: ${this.screen.hostInfo.host}\nPort: ${this.screen.hostInfo.port}\nReason: ${g}`;this.screen.sessionDeviceName="";alert(S)}}else{telnetLogger.severe(`Device Name: ${e.name} is in use`);const S=`Connection to host is rejected. \nHost: ${this.screen.hostInfo.host}\nPort: ${this.screen.hostInfo.port}\nReason: Device name ${e.name} is in use`;this.screen.sessionDeviceName="";alert(S)}}else{E.push(TN_NV_USERVAR);for(r=0;r<s[i].length;r++)E.push(s[i].charCodeAt(r));for(n=d;n<f;n++){if(s[i]==h[n]){if(n<12){E.push(TN_NV_VALUE);for(r=0;r<u[n].length;r++)E.push(u[n].charCodeAt(r))}else if(u[6]=="1"){E.push(TN_NV_VALUE);for(r=0;r<u[n].length;r++){let e=u[n].charCodeAt(r);if(e==255){E.push(255)}else if(e<=3){E.push(2)}E.push(e)}}}}}}else{for(n=p;n<f;n++){if(u[6]=="1"){if(u[n].length||n>10){E.push(TN_NV_USERVAR);for(r=0;r<h[n].length;r++)E.push(h[n].charCodeAt(r));E.push(TN_NV_VALUE);for(r=0;r<u[n].length;r++){let e=u[n].charCodeAt(r);if(e==255){E.push(255)}else if(e<=3){E.push(2)}E.push(e)}}}else{if(n<12){if(n==11&&!u[n].charCodeAt(r))continue;if(u[n].length){E.push(TN_NV_USERVAR);for(r=0;r<h[n].length;r++)E.push(h[n].charCodeAt(r));E.push(TN_NV_VALUE);for(r=0;r<u[n].length;r++)E.push(u[n].charCodeAt(r))}}}}}}}e.sendTelnetSub(TELNET_OPTION_NEW_ENVIRONMENT,E)}break;default:parseLogger.warn("REQUEST FOR TELNET SUB OF TYPE "+hex(t)+" BUT WE DONT HANDLE IT")}};TN5250Parser.stateNames=["TELNET_NO_STATE","PARSER_TELNET_OPTION","PARSER_TELNET_SUB","PARSER_TELNET_VERB"];TN5250Parser.prototype.handleTelnetOption=function(e){telnetLogger.debug("Handling telnet option");telnetLogger.debug("-- b=0x"+hex(e));switch(this.telnetVerb){case TELNET_DO:telnetLogger.debug("-- Verb=DO");switch(e){case TELNET_OPTION_NEW_ENVIRONMENT:this.screen.tn5250e=true;if(this.screen.tn5250e==true){this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_NEW_ENVIRONMENT)}else{this.appendTelnetOptionResponse(TELNET_WONT,TELNET_OPTION_NEW_ENVIRONMENT)}break;case TELNET_OPTION_BINARY:this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_BINARY);break;case TELNET_OPTION_ECHO:if(this.negTerminalType){this.bEchoing=false;this.appendTelnetOptionResponse(TELNET_WONT,e)}else{this.bEchoing=true;this.appendTelnetOptionResponse(TELNET_WILL,e)}break;case TELNET_OPTION_STATUS:case TELNET_OPTION_WINDOW_SIZE:case TELNET_OPTION_TERMINAL_SPEED:case TELNET_OPTION_END_OF_RECORD:this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_END_OF_RECORD);break;case TELNET_OPTION_TERMINAL_TYPE:this.negTerminalType=true;this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_TERMINAL_TYPE);break;case TELNET_OPTION_SUPPRESS_GO_AHEAD:this.bUsingGa=false;this.appendTelnetOptionResponse(TELNET_WILL,e);break;case TELNET_OPTION_TIMING_MARK:default:telnetLogger.warn("Defaulted on DO, sending WONT for b=0x"+hex(e));this.appendTelnetOptionResponse(TELNET_WONT,e)}break;case TELNET_DONT:telnetLogger.debug("-- Verb=DONT");switch(e){case TELNET_OPTION_TIMING_MARK:telnetLogger.warn("Truely ignoring DONT for b=0x"+hex(e));break;case TELNET_OPTION_ECHO:this.bEchoing=false;case TELNET_OPTION_WINDOW_SIZE:case TELNET_OPTION_SUPPRESS_GO_AHEAD:default:this.appendTelnetOptionResponse(TELNET_WONT,e);telnetLogger.warn("Ignoring DONT for b=0x"+hex(e))}break;case TELNET_WONT:telnetLogger.debug("-- Verb=WONT");switch(e){case TELNET_OPTION_TIMING_MARK:break;case TELNET_OPTION_ECHO:this.bEchoing=false;case TELNET_OPTION_SUPPRESS_GO_AHEAD:default:this.appendTelnetOptionResponse(TELNET_DONT,e);telnetLogger.warn("Ignoring WONT for b=0x"+hex(e))}break;case TELNET_WILL:telnetLogger.debug("-- Verb=WILL");switch(e){case TELNET_OPTION_BINARY:this.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_BINARY);break;case TELNET_OPTION_END_OF_RECORD:this.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_END_OF_RECORD);break;case TELNET_OPTION_ECHO:this.bEchoing=true;this.appendTelnetOptionResponse(TELNET_DO,e);break;case TELNET_OPTION_SUPPRESS_GO_AHEAD:this.bUsingGa=false;this.appendTelnetOptionResponse(TELNET_DO,e);break;case TELNET_OPTION_TIMING_MARK:this.appendTelnetOptionResponse(TELNET_DONT,TELNET_OPTION_TIMING_MARK);break;case TELNET_OPTION_STATUS:case TELNET_OPTION_ENCRYPTION:default:telnetLogger.warn("Ignoring WILL for b=0x"+hex(e))}break}};TN5250Parser.prototype.process=function(e){parseLogger.debug("Parser Loop Top: b=0x"+hex(e)+" state="+TN5250Parser.stateNames[this.state]);var t=TELNET_NO_STATE;switch(this.state){case TELNET_NO_STATE:if(e===TELNET_IAC){t=PARSER_TELNET_VERB}else{if(!(this.dataBuffer.length===0&&(e===TELNET_IAC||e===TN5250_TELNET_MESSAGE_END))){this.dataBuffer.push(e)}}break;case PARSER_TELNET_VERB:if(e===TELNET_IAC){this.dataBuffer.push(e);break}else{if(this.dataBuffer.length>0){if(this.screen.sessionDeviceName!==this.screen.deviceNameInfo.name){this.screen.sessionDeviceName=this.screen.deviceNameInfo.name;this.screen.updateScreenStatus()}this.screen.scriptingReady=false;hexDump(this.dataBuffer);var i=null;this.screen.process5250Message(i,this.dataBuffer);this.dataBuffer=[]}}this.telnetVerb=e;if(e===TN5250_TELNET_MESSAGE_END){t=TELNET_NO_STATE}else if(e===TELNET_SUB){t=PARSER_TELNET_SUB}else if(e===TELNET_SUBEND||e===TELNET_NOP){t=TELNET_NO_STATE}else{t=PARSER_TELNET_OPTION}break;case PARSER_TELNET_OPTION:var n=e;this.handleTelnetOption(e);t=TELNET_NO_STATE;break;case PARSER_TELNET_SUB:if(e===TELNET_IAC){this.handleTelnetSub();this.subBytes=[];t=PARSER_TELNET_VERB;break}else{this.subBytes.push(e);t=PARSER_TELNET_SUB}break}if(t!=PARSER_TELNET_VERB){this.screen.scriptingReady=true}this.state=t};TN5250Parser.prototype.parseSCSMessageData=function(e){let t=0;this.screen.negativeResponseCode=-1;this.initPrint();protocolLogger.debug("Parsing TN5250 scs data. Length="+e.length);t=this.screen.scsParser.ScsEntry(e);if(this.screen.spoolFile&&this.screen.callbacks&&this.screen.callbacks.printJobUpdateCallback){if(!this.screen.scsParser.passthrough){this.screen.callbacks.printJobUpdateCallback(JSON.stringify(this.screen.spoolFile.spoolFileObj,null,2).length)}else{this.screen.callbacks.printJobUpdateCallback(this.screen.spoolFile.spoolFileContent.length)}}if(t){return}};TN5250Parser.prototype.startEndBracketTimer=function(){if(this.screen.printOptions.endBracketTime){protocolLogger.debug("Starting End Bracket Timeout of "+this.screen.printOptions.endBracketTime+" seconds.");this.screen.endBracketTimer=setInterval(()=>{let e=new Date;if(e.getTime()-this.screen.lastSpoolTime>=this.screen.printOptions.endBracketTime*1e3){this.endPrintSpooling();protocolLogger.debug(" End Bracket Timeout")}},1e3)}};TN5250Parser.prototype.initPrint=function(){let e=new Date;protocolLogger.debug(" InitPrint: Last Spool Time");this.screen.luType="LU4";if(!this.screen.printOptions){this.screen.printOptions={};this.screen.printOptions.printMethod=0;this.screen.printLayout={};this.screen.printLayout.linesPerPage=60;this.screen.printOptions.ignoreFormFeeds=0;this.screen.printOptions.processHorzTabs=0;this.screen.printOverride=0}if(!this.screen.scsParser){this.screen.scsParser=new SCSParser(this);this.screen.scsParser.ISCS()}};Virtual5250Screen.prototype.processMessage=function(e){messageLogger.debug("Processing websocket message. Type="+e.t);this.heartbeat("onmessage",this.callbacks?.heartbeatCallback);let t=this;switch(e.t){case"CONNECTED":t.handleSData(e);if(!t.connectSeen){t.lockedByScripting=true;handleInvalid(t.renderer);return}break;case"IP_RES":t.clientIP=e.data;this.negotiationSuccess=false;break;case"5250_HOST_MESSAGE":this.negotiationSuccess=true;if(!t.connectSeen){t.lockedByScripting=true;handleInvalid(t.renderer);return}if(!this.isHandshakeDone){this.isHandshakeDone=true;this.onAfterHandshake()}var i=base64ToUint8Array(e.B64);messageLogger.debug("---------------5250_HOST_MESSAGE hex dump----------------");hexDump(i,messageLogger);tracer.logReceivedData(i,this);if(!this.parser){this.parser=new TN5250Parser(this,"5250_CLIENT_MESSAGE")}var n=this.parser;var r=0;while(r<i.length){var s=i[r];n.process(s);r++}n.sendTelnetResponse();break;case"CERT_PROMPT":if(this.callbacks&&this.callbacks.certificateCheck){this.callbacks.certificateCheck(this.hostInfo.host,e.fp,(e,t)=>{this.webSocket.send(JSON.stringify({t:"CERT_RES",a:e}));if(!e){tecoreLogger.info("Rejecting TLS certificate and closing connection. Reason="+t)}})}else{this.webSocket.send(JSON.stringify({t:"CERT_RES",a:true}))}break;case"CERT_REJECT":this.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message");break;case"RECONNECT":this.reconnect();break;case"ERR":this.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message");t.lockedByScripting=true;handleInvalid(t.renderer);default:messageLogger.warn("Unhandled websocket message. Type="+e.t)}this.updateScrollBar(this)};Virtual5250Screen.prototype.handleCharCodeInput=function(t,i,n=true,r=true){if(this.connectState!=CONNECT_STATE_CONNECTED||!this.isKeyboardReady)return false;keyboardLogger.debug("keypress, charCode="+t);if(t==160&&!i){t=32}this.ensureFieldInfo();var e=this.getFieldData(this.cursorPos,true);if(e&&this.cursorPos!=e.position){if(e.isBypass()){keyboardLogger.warn("Attempted to write in uneditable (bypass) field");this.beep();this.promptError("0005");return false}if(this.waitingforFieldExitCheck())return false;if(!i&&e.isMonocase()){t=String.fromCharCode(t).toUpperCase().charCodeAt(0)}if(this.isHexEntry){if(i)t=this.charsetInfo.sbcsMapper[t];const a=this.checkHexEntryCodeStatus(t,true);if(a.status==="invalid"){keyboardLogger.warn("Invalid hex entry code");this.beep();this.promptError("0023");return false}else if(a.status==="middle"){return false}else if(a.status==="ready"){t=a.newCharCode;i=false}}if(this.isOS){const c=this.checkOSStatus(t);if(!c){return false}t=c}var s=e.isCharacterAllowed(t,this.cursorPos);if(typeof s==="number"){t=s}else{var o=s;keyboardLogger.warn("Character not allowed in this field!");this.beep();this.displayErrorMessage(o,0);this.lockScreen();return false}var l;if(i)l=t;else{l=this.renderer.getEbcdicForUnicode(t);if(e.characterSet==CHARACTER_SET_DBCS){this.promptError("0060");return false}}this.insertShiftOut=false;if(i||l==0||l>=64&&l<=255){let e;keyboardLogger.debug("normal press code=0x"+hex(t)+" ebcdic=0x"+hex(l));if(this.charsetInfo.isDBCS&&!i){e=this.dbcsAttributes;if(!this.insertMode)this.handleCharCodeInputOverDbcs();else{this.insertShiftOut=this.handleCharCodeInsertDbcs(this);if(this.insertShiftOut===false){this.promptError("0005");return false}}}if(this.enterCharacterAtCursor(l,r)){if(!l){if(this.charsetInfo.isDBCS&&!i){if(!this.insertMode)this.finishDBCSInput(e);else if(insertShiftOut){this.enterCharacterAtCursor(DBCS_SHIFT_OUT,false)}}}if(n){this.renderer.fullPaint()}}else{this.beep();return false}}else{keyboardLogger.warn("Unhandled key press 0x"+hex(t));this.beep();return false}}else{this.promptError("0005");return false}return true};Virtual5250Screen.prototype.moveCursor=function(){const e=this.getFieldData(this.cursorPos,true);let t=(e.position+e.length)%this.size;const i=e.getFieldShift();const n=e.getMandatoryFill();if(i===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){t-=1}if(this.cursorPos===t){if(i===TN5250_FIELD_SHIFT_SIGNED_NUMERIC||n===TN5250_FFW_RIGHT_ADJUST_ZERO||n===TN5250_FFW_RIGHT_ADJUST_BLANK||e.isFieldExitRequired()){if(!e.isContinuedEntry()||e.isLastContinuedEntry()){this.awaitingFieldExit=true;return}}this.dirty=false;if(e.isAutoEnter()){if(!e.isContinuedEntry()||e.isLastContinuedEntry()){this.handleFunction("Enter",false);return}}}this.setCursorPos((this.cursorPos+1)%this.size,true);const r=this.getFieldData(this.cursorPos,true);if(!r){this.gotoNextInputField(true,true)}};Virtual5250Screen.prototype.paste=function(t){if(this.oiaProgramMessage===X_HOST_PROCESSING){tecoreLogger.debug("Put Paste in Type Ahead queue");let e={};e.type="PASTE";e.pasteData=t;this.typeAheadQueue.push(e);return}if(this.recorder){this.recorder.bufferChar(t)}t=this.replaceOutOfRangChar(t);let n=t.split("\n");let s=this.cursorPos;let e=this.cursorPos%this.width;let o=this.width-e;let l=false;let a=this.dbcsAttributes;let c=[];let u=false;for(let i=0;i<n.length;i++){var h=this.getFieldData(s,true);if(h&&s!=h.position){let r=n[i];let e=r.replace(/\r/g,"");r=e;let t=[];if(this.charsetInfo.dbcsMapper!=null){this.setCursorPos(s);h=this.getFieldData(this.cursorPos,true);var d=this.getLastShiftOutPosition();var p=d==this.cursorPos;t=this.getDBCSEbcdicArrayForUnicodeString(r,p,c,true)}else{t=[];for(var f=0;f<r.length;f++){let e=this.getEbcdicForUnicode(r.charCodeAt(f));t.push(e)}}r=t;if(this.charsetInfo.dbcsMapper!=null&&this.insertMode){end=this.checkDbcsInsertFit(r);s=this.cursorPos}if(this.charsetInfo.dbcsMapper!=null){o=r.length}if(s+r.length>h.position+1+h.length){var E=h.position+1+h.length-s;r.length=E;this.setCursorPos(s)}else{this.setCursorPos(s)}for(let n=0;n<o&&n<r.length;n++){if(this.charsetInfo.isDBCS){if(r[n]==DBCS_SHIFT_OUT&&!h.characterSet&&!h.inputControl){this.promptError("0061");if(this.renderer){this.renderer.fullPaint()}return true}}let e=this.numAvailablePos(h);let t=this.dbcsFitTest(r,n,h,a);if(t>h.position+h.length+1-this.cursorPos||this.charsetInfo.dbcsMapper!=null&&this.insertMode&&t>e){if(this.insertMode&&(e<t||!e)){if(e<t){if(u)this.finishDBCSInsert(a)}this.promptError("0012");if(this.renderer){this.renderer.fullPaint()}return true}if(t==4){if(u){if(this.charsetInfo.dbcsMapper!=null&&!this.insertMode){this.finishDBCSInput(a)}}break}if(t==3){r.splice(n,0,DBCS_SHIFT_IN,DBCS_SHIFT_OUT);t=1;l=true}}if(t==1&&h.characterSet==CHARACTER_SET_DBCS){this.promptError("0060");if(this.renderer){this.renderer.fullPaint()}return true}if(h.isMonocase()&&!(c[n]==-2||n&&c[n-1]==-2)){let e=this.renderer.unicodeConversionTable[r[n]];r[n]=String.fromCharCode(e).toUpperCase().charCodeAt(0);r[n]=this.getEbcdicForUnicode(r[n])}if(this.insertMode){this.adjustdbcsAttributes(a,h)}this.awaitingFieldExit=false;let i=this.enterCharacterAtCursor(r[n]);u=true;if(!i&&(this.charsetInfo.isDBCS&&n<r.length&&!l)){this.cursorPos++}if(l){element=this.screenElements[this.cursorPos+1];elementChar=element.isModified?element.inputEbcdicChar:element.ebcdicChar;if(elementChar==DBCS_SHIFT_IN){element.inputEbcdicChar=64;element.isModified=true}l=false;if(this.renderer){this.renderer.fullPaint()}return false}}s=s+this.width;if(this.charsetInfo.dbcsMapper!=null&&u){if(!this.insertMode){this.finishDBCSInput(a)}else{this.finishDBCSInsert(a)}}}}if(this.renderer){this.renderer.fullPaint()}return true};Virtual5250Screen.prototype.copy=function(e,t){if(this.selectionStartColumn!=null&&this.selectionEndColumn!=null){this.selectionStartRow=this.selectionStartRow>this.selectionEndRow?this.selectionStartRow+1:this.selectionStartRow;this.selectionStartColumn=this.selectionStartColumn>this.selectionEndColumn?this.selectionStartColumn+1:this.selectionStartColumn;var i=Math.min(this.selectionStartColumn,this.selectionEndColumn);var n=Math.max(this.selectionStartColumn,this.selectionEndColumn);var r=Math.min(this.selectionStartRow,this.selectionEndRow);var s=Math.max(this.selectionStartRow,this.selectionEndRow);return this.getScreenContents(i,n,r,s,e,t)}else{return null}};Virtual5250Screen.prototype.cut=function(t,i){if(this.selectionStartColumn!=null&&this.selectionEndColumn!=null){this.selectionStartRow=this.selectionStartRow>this.selectionEndRow?this.selectionStartRow+1:this.selectionStartRow;this.selectionStartColumn=this.selectionStartColumn>this.selectionEndColumn?this.selectionStartColumn+1:this.selectionStartColumn;var n=Math.min(this.selectionStartColumn,this.selectionEndColumn);var r=Math.max(this.selectionStartColumn,this.selectionEndColumn);var s=Math.min(this.selectionStartRow,this.selectionEndRow);var o=Math.max(this.selectionStartRow,this.selectionEndRow);let e=this.getScreenContents(n,r,s,o,t,i,false,false,true);if(this.renderer)this.renderer.fullPaint();return e}else{return null}};Virtual5250Screen.prototype.clearErrorMessage=function(){this.operrorCode=0;this.helpState=-1;if(this.renderer){this.renderer.fullPaint()}};Virtual5250Screen.prototype.saveErrorLine=function(){if(!this.elbusy){this.elbusy=true;var e=(this.errorRowNumber-1)*this.width;for(var t=0;t<this.width;t++){var i=this.screenElements[e+t];this.errorLineArray[t]=i}}};Virtual5250Screen.prototype.restoreErrorLine=function(){if(this.elbusy){this.elbusy=false;var e=(this.errorRowNumber-1)*this.width;for(var t=0;t<this.width;t++){var i=this.errorLineArray[t];this.screenElements[e+t]=i}if(this.renderer){this.renderer.fullPaint()}}};Virtual5250Screen.prototype.displayErrorMessage=function(e,t,i){var n=t?t:0;var r=i?i:this.width;var s=r-n;this.saveErrorLine();if(e&&s>0){this.operrorCode=e.errorCode;this.helpState=0;switch(e.type){case TN5250_ERROR_CODE_OPERATOR:this.beep();var o=new Array;if(e.valueIsEbcdic){for(var l=0;l<e.value.length;l++){o.push(e.value[l])}}else{o.push(42);var a=e.value;for(var l=0;l<a.length;l++){o.push(this.getEbcdicForUnicode(a.charCodeAt(l)))}}o.push(TN5250_ATTRIBUTE_NO_DISPLAY);var c=(this.errorRowNumber-1)*this.width;for(var l=0;l<s&&l<o.length;l++){var u=c+l;var h=new ScreenElement(u,o[l],null);h.characterAttributes=42;this.setScreenElement(u,h)}if(this.renderer){this.renderer.fullPaint()}break;default:protocolLogger.warn("Error code of type "+e.type+" unhandled")}}};Virtual5250Screen.prototype.promptError=function(e,t,i){const n=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,e,false);this.displayErrorMessage(n,t||0,i);this.lockScreen()};Virtual5250Screen.prototype.autoType=function(s,e){let o=this.dbcsAttributes;let l=false;let a=[];if(this.renderer&&s&&typeof s==="string"){var c;if(this.charsetInfo.dbcsMapper!=null){var t=this.getLastShiftOutPosition();var i=t==this.cursorPos;c=this.getDBCSEbcdicArrayForUnicodeString(s,i,a,false)}else{c=[];for(var u=0;u<s.length;u++){ebcdicChar=s.charCodeAt(u);c.push(ebcdicChar)}}var u;var n=c.length;if(e){if(e<c.length){n=e}}if(this.charsetInfo.dbcsMapper!=null&&this.insertMode){n=this.checkDbcsInsertFit(c)}let r=false;for(u=0;u<n;u++){if(!this.lockedByError){let e=this.getFieldData(this.cursorPos,true);if(!e){this.promptError("0005");return true}if(this.charsetInfo.isDBCS){if(c[u]==DBCS_SHIFT_OUT&&!e.characterSet&&!e.inputControl){this.promptError("0061");return true}}let t=this.numAvailablePos(e);let i=this.dbcsFitTest(c,u,e,o);if(i>e.position+e.length+1-this.cursorPos||this.charsetInfo.dbcsMapper!=null&&this.insertMode&&i>t){if(this.insertMode&&(t<i||!t)){if(t<i){if(r)this.finishDBCSInsert(o)}this.promptError("0012");if(this.renderer){this.renderer.fullPaint()}return true}if(i==4){this.promptError("0012");break}if(i==3){c.splice(u,0,DBCS_SHIFT_IN);i=0}l=true}if(i==1&&e.characterSet==CHARACTER_SET_DBCS){this.promptError("0060");return true}if(this.charsetInfo.dbcsMapper){if(!this.isHexEntry&&e.isMonocase()&&!(a[u]==-2||u&&a[u-1]==-2)){let e=this.renderer.unicodeConversionTable[c[u]];c[u]=String.fromCharCode(e).toUpperCase().charCodeAt(0);c[u]=this.getEbcdicForUnicode(c[u])}}if(this.insertMode){this.adjustdbcsAttributes(o,e)}let n=this.handleCharCodeInput(c[u],this.charsetInfo.dbcsMapper!=null,false);r=true;if(n&&this.recorder){if(e&&e.isNoDisplay()){if(e.position!=this.lastNondisplayFieldPos){this.lastNondisplayFieldPos=e.position;this.recorder.promptPassword()}}else{if(!this.charsetInfo.dbcsMapper){this.recorder.bufferChar(s[u])}else{if(a[u]>=0){this.recorder.bufferChar(s[a[u]])}}}}else if(!n&&this.charsetInfo.isDBCS&&!this.isHexEntry&&u<c.length-1){this.cursorPos++}if(l){this.modifyCursorPos(1);this.promptError("0012");break}}}if(this.charsetInfo.dbcsMapper!=null&&r){if(!this.insertMode){this.finishDBCSInput(o)}else{this.finishDBCSInsert(o)}}this.renderer.fullPaint();return true}return false};Virtual5250Screen.prototype.handlePendingScriptExecution=function(e){if(this.currentScriptExecutionContext){var t=this.currentScriptExecutionContext;if(e==="screenLoaded"){if(!this.renderer.isRenderComplete){this.isWaitingRendererAfterScreenLoaded=true;return}tecoreLogger.info("handleScreenLoaded waitState="+t.currentWaitState+" done?="+t.done);if(!t.done&&t.hasWaitState("messageReadWait")){tecoreLogger.info("Script wait state scheduled for TN5250 server response");t.runTillWaitOrComplete()}}else if(e==="screenNotLoaded"){if(!t.done&&t.hasWaitState("messageReadWait")){tecoreLogger.info("Screen is not loaded and scripting is still waiting ")}}else{tecoreLogger.warn("unknown script update type "+e)}}};Virtual5250Screen.prototype.getFieldColor=function(e){const t=e!=null?e.attribute:null;if(t!=null){return this.renderer.get5250Color(t)}else{colorLogger.debug("else clause lowUnprotected = "+hex(this.foreground));return this.foreground}};Virtual5250Screen.prototype.getFormatedField=function(e){const t={length:e.length,position:e.position,isEditable:e.isEditable(),isModified:e.isModified()>0,isNoDisplay:e.isNoDisplay(),isNumeric:e.isNumericOnly(),isUnderscore:(e.renderingAttributes&TEXT_RENDER_UNDERSCORE)!=0,isBlink:(e.renderingAttributes&TEXT_RENDER_BLINK)!=0,isReverse:(e.renderingAttributes&TEXT_RENDER_REVERSE)!=0,isColumnSeparator:(e.renderingAttributes&TEXT_RENDER_COLUMN_SEPARATOR)!=0};if(!t.isNoDisplay){const r=e.foreground?e.foreground:this.getFieldColor(e);t.color={backgound:this.renderer.background,foreground:r===noColor?"invisible":r}}const i=[];let n=t.position+1;for(let e=0;e<t.length;e++){if(e+n>=this.size){n=0-e}const s=this.screenElements[e+n];i.push(s?s.displayChar:" ")}t.text=String.fromCharCode.apply(null,i);return t};Virtual5250Screen.prototype.getScreenContents=function(e,t,i,n,r,s,o,l,a,c,u){var h=[];var d=this.dbcsAttributes;let p=navigator.userAgent.indexOf("Windows")!==-1?true:false;let f=this.renderer.getEbcdicForUnicode(13);let E=this.renderer.getEbcdicForUnicode(10);n=this.adjustEndSelectRow(i,n);t=this.adjustEndSelectColumn(e,t);if(Number(t)<0)t=this.width;const T=i*this.width+e;const _=(n-1)*this.width+t;if(_<T&&!a){n=this.height;t=this.width}for(var g=i;g<n;g++){var S=t;var C=e;if(l&&g!=n-1){S=this.width}if(l&&g!=i){C=0}for(var R=C;R<S;R++){var m=this.getScreenElement(g,R);var N;if(this.isFormatted){N=this.getFieldData(this.getPositionFromRowColumn(g,R),true)}var A;var y=null;if(s===true){y=64}if(a&&this.charsetInfo.isDBCS){let e=this.getPositionFromRowColumn(g,R);if(d[e]==DBCS_FIRST_HALF&&R+1>=S||d[e]==DBCS_SECOND_HALF&&R==C){continue}}A=y;if(m){if(N&&N.isNoDisplay()&&!c){A=64;if(a&&!N.isBypass()){m.inputEbcdicChar=0;m.isModified=true;this.setFiledMDT(N)}}else{let e=false;A=m.isModified?m.inputEbcdicChar:m.ebcdicChar;if(a&&this.charsetInfo.isDBCS&&[DBCS_SHIFT_OUT,DBCS_SHIFT_IN].includes(A)){e=true}if(A<64&&![TN5250_FORMAT_CONTROL_ORDERS_DUP,TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK].includes(A)){A=y}if(a){if(!e&&(N&&!N.isBypass())){m.inputEbcdicChar=0;m.isModified=true;this.setFiledMDT(N)}else{A=y}}}if(r==false){var I=this.getPositionFromRowColumn(g,R);if(d[I]==DBCS_FIRST_HALF){var O=this.screenElements[I+1];var b=O.isModified?O.inputEbcdicChar:O.ebcdicChar;if(this.charsetInfo.dbcsEuroPosition!=null&&this.charsetInfo.dbcsEuroPosition[0]==A&&this.charsetInfo.dbcsEuroPosition[1]==b){A=8364}else{if(b<64){A=32}else if(this.charsetInfo.dbcsMapper[A]==null||this.charsetInfo.dbcsMapper[A][b]==null){A=12288}else{A=this.charsetInfo.dbcsMapper[A][b]}if(A==65533){A=12288}}if(a){if(N&&!N.isBypass()){m.inputEbcdicChar=64;O.inputEbcdicChar=64;O.isModified=true;this.setFiledMDT(N)}}R++}else if(d[I]==DBCS_SECOND_HALF){var P=this.screenElements[I-1];var D=P.isModified?P.inputEbcdicChar:P.ebcdicChar;if(this.charsetInfo.dbcsEuroPosition!=null&&this.charsetInfo.dbcsEuroPosition[0]==D&&this.charsetInfo.dbcsEuroPosition[1]==A){A=8364}else{if(this.charsetInfo.dbcsMapper[D]==null||this.charsetInfo.dbcsMapper[D][A]==null){A=12288}else{A=this.charsetInfo.dbcsMapper[D][A]}if(A==65533){A=32}}}else if(m.isGraphicEscape){if(!o){A=32}else{A=geToUnicode[A];switch(A){case 61569:A=8214;break;case 61570:A=9552;break;case 61571:A=9144;break;case 61572:A=931;break;default:}}}else{if(A===this.renderer.sbcsEuroPosition){A=8364}else if(A===TN5250_FORMAT_CONTROL_ORDERS_DUP){A=42}else if(A===TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK){A=59}else{A=this.renderer.unicodeConversionTable[A];if(this.rendererSettings?.dataSecurity?.globalApply&&!u){if(apiAgent&&apiAgent.isFromApi){if(this.rendererSettings.dataSecurity.maskOption.apiControl&&m.maskChar!==null){A=this.renderer.unicodeConversionTable[m.maskChar]}}else{if(this.isPrintScreen){if(m.maskChar!=null){A=this.renderer.unicodeConversionTable[m.maskChar]}}else if(this.recorder&&this.recorder.playing){if(this.rendererSettings.dataSecurity.maskOption.apiControl&&m.maskChar!==null){A=this.renderer.unicodeConversionTable[m.maskChar]}}else if(this.rendererSettings.dataSecurity.maskOption.copyControl){if(A!=32&&m.maskChar!=null){A=this.renderer.unicodeConversionTable[m.maskChar]}}}}}}}else if(m.isGraphicEscape){h.push(240)}}else if(!r&&s){A=32}if(A>65535){A-=65536;h.push(55296+(A>>10));h.push(56320+(A&1023))}else{h.push(A)}}if(r==false){if(p){h.push(13)}h.push(10)}else{if(p){h.push(f)}h.push(E)}}this.isPrintScreen=false;return String.fromCharCode.apply(null,p?h.slice(0,h.length-2):h.slice(0,h.length-1))};Virtual5250Screen.prototype.getStatusBarContents=function(e,t,i,n){if(!t){return""}let r=[];const s=this.getOIAArray();const o=Math.max(0,e-1);const l=Math.max(e,Math.min(t,s.length));for(let e=o;e<l;e++){r.push(s[e]||50)}return String.fromCharCode.apply(null,r)};Virtual5250Screen.prototype.handleFunction=async function(t,e=true){if(this.oiaProgramMessage===X_HOST_PROCESSING&&!this.inputProhibitExclusion.includes(t)){tecoreLogger.debug("Put Function in Type Ahead queue");let e={};e.type="FUNC";e.function=t;this.typeAheadQueue.push(e);return false}var i;var n;if(this.isSystemRequesting&&(t.substring(0,2)=="CF"||TN5250_NOT_ALLOWED_SYSTEM_REQUEST.includes(t))){this.actionNextInputField();i=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0006",false);this.displayErrorMessage(i,0);this.lockScreen();return true}if(this.insertMode&&(t.substring(0,2)=="CF"||TN5250_NOT_ALLOWED_INSERT_MODE.includes(t))){i=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0013",false);this.displayErrorMessage(i,0);this.lockScreen();return true}var r=TN5250_AID_KEY_MAP[t];if(r&&this.isKeyboardReady===true){var s=this.handleAidKey(r);if(s){this.insertMode=false;this.readPending=false;this.awaitingFieldExit=false;if(t==="Enter"&&this.needUpdateMfaCookie()){this.mfaUserId=this.getMfaUserId();await this.setMfaCookie()}if(this.recorder&&s){if(e){this.recorder.handleYieldFunction(t)}else{this.recorder.handleYieldFunction()}}return true}}else if(r){if(this.recorder){this.currentScriptExecutionContext.runTillWaitOrComplete()}return false}else{if(TN5250_FIELD_KEY_MAP.includes(t)){var s=this.handleFieldKey(t);return!!s}var o=null;if(t=="Cursor Left"||t=="Cursor Right"||t=="Cursor Up"||t=="Cursor Down"||t=="Rapid Left"||t=="Rapid Right"||t=="Backspace"||t=="Home"||t=="End"){o=this.getFieldData(this.cursorPos,true)}if(t=="Attn"){if(this.isSystemRequesting){i=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0006",false);this.displayErrorMessage(i,0);this.lockScreen();return true}var l=this.getHeaderArray(TN5250_NO_OPERATION,10,TN5250_ATTENTION_FLAG);this.sendMessage(l,true);this.insertMode=false}else if(t=="Reset"){this.handleReset()}else if(t==="Print Screen"){var a=Math.min(this.selectionStartColumn,this.selectionEndColumn);var c=Math.max(this.selectionStartColumn,this.selectionEndColumn);var u=Math.min(this.selectionStartRow,this.selectionEndRow);var h=Math.max(this.selectionStartRow,this.selectionEndRow);if(this.selectionStartColumn==null||this.selectionStartRow==null){a=0;u=0;c=this.width;h=this.height}if(this.callbacks.printCallback){this.isPrintScreen=true;var d=this.getScreenContents(a,c,u,h,false,true,false);if(this.charsetInfo.dbcsMapper!=null){d='<font face="'+this.charsetInfo.fontName+'">'+d+"</font>"}this.callbacks.printCallback(d)}return true}else if(t=="Cursor Up"){this.actionArrowKey(-this.width)}else if(t=="Cursor Right"){this.actionArrowKey(1)}else if(t=="Rapid Right"){if(this.rapidLeftRight){this.actionRapidRightAsWord()}else{this.actionArrowKey(1);this.actionArrowKey(1)}}else if(t=="Cursor Down"){this.actionArrowKey(this.width)}else if(t=="Rapid Left"){if(this.rapidLeftRight){this.actionRapidLeftAsWord()}else{this.actionArrowKey(-1);this.actionArrowKey(-1)}}else if(t=="Cursor Left"){this.actionArrowKey(-1)}else if(t=="Tab"){if(this.rightadjustMandatoryFillField(this.cursorPos))return false;this.actionNextInputField()}else if(t=="Back Tab"){if(this.rightadjustMandatoryFillField(this.cursorPos))return false;this.actionBacktab()}else if(t=="Backspace"){this.actionBackspace();this.steadyCursorRedraw()}else if(t=="Delete"){if(!this.preCheckInput())return false;this.actionDelete()}else if(t=="Erase EOF"){if(!this.preCheckInput())return false;this.actionEraseEOF()}else if(t=="Erase Input"){this.actionEraseInput()}else if(t=="Erase Word"){if(!this.preCheckInput())return false;this.actionEraseWord()}else if(t=="Erase Field"){this.actionEraseField()}else if(t=="End"){this.actionEndOfLine()}else if(t=="Home"){this.actionHome()}else if(t=="Insert"){this.insertMode=!this.insertMode;if(this.renderer){this.renderer.paintUpperCanvas()}}else if(t=="New Line"){this.actionNewline()}else if(t=="Sys Req"){if(this.rightadjustMandatoryFillField(this.cursorPos,t))return false;if(this.rightadjustFieldCheck(t))return false;this.actionSystemRequest()}else if(t=="Help"){if(this.rightadjustMandatoryFillField(this.cursorPos,t))return false;if(this.rightadjustFieldCheck(t))return false;this.actionHelp()}else if(t=="Test Request"){if(this.rightadjustFieldCheck())return false;this.actionTestRequest()}else if(t=="Hex Entry"){if(!this.preCheckInput())return false;this.hexEntryValue=[];this.isHexEntry=true}else if(t=="Overstrike Sequence"){if(this.isDBCSOverstrike())return false;if(!this.preCheckInput())return false;this.isOS=true;this.osValue=[]}else if(t=="Null"){this.handleCharCodeInput(0,false,true,true)}else if((n=DOCUMENT_EXEC_COMMANDS[t])!=null&&n&EXEC_ALLOWED_5250){this.issueDocumentCommand(t)}else if(t=="Copy and Append"){this.copyAppend()}else if(t=="Select All"){this.keepSelection=true;this.selectAll()}else if(t=="Select Cancel"){this.keepSelection=false;this.selectCancel()}else if(t=="Select Down"){this.keepSelection=true;this.selectDown()}else if(t=="Select Left"){this.keepSelection=true;this.selectLeft()}else if(t=="Select Right"){this.keepSelection=true;this.selectRight()}else if(t=="Select Up"){this.keepSelection=true;this.selectUp()}else if(t=="Select Word"){this.keepSelection=true;const f=this.getCursor();this.selectWords(f)}else{tecoreLogger.warn("Unhandled 5250 function="+t);return false}if(o){var p=this.getFieldData(this.cursorPos,true);if(!p||(o.position!=p.position||this.cursorPos==o.position)){if(this.rightadjustMandatoryFillField(o.position+1))return false;if(this.cursorPos!=o.position)this.dirty=false}}if(this.recorder){this.recorder.handleNoYieldFunction(t,1)}return true}};Virtual5250Screen.prototype.preCheckInput=function(){const e=this.getFieldData(this.cursorPos,true);if(!e||this.cursorPos<=e.position||e.isBypass()){keyboardLogger.warn("Attempted to write in uneditable (bypass) field");this.beep();this.promptError("0005");return false}return true};Virtual5250Screen.prototype.handleFieldKey=function(e){if(this.isSystemRequesting&&e!="Field +"&&e!="Field Exit"){var t=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0006",false);this.displayErrorMessage(t,0);this.lockScreen();return false}this.fieldInfoUpToDate=false;this.ensureFieldInfo();let i=this.isEditable();if(i){switch(e){case"Field -":i=this.actionFieldMins();break;case"Field +":case"Field Exit":i=this.actionFieldPlus();break;case"Dup":i=this.actionFieldDup();break;case"Field Mark":i=this.actionFieldMark();break;default:break}}if(this.renderer){this.renderer.fullPaint()}return i};Virtual5250Screen.prototype.handleReset=function(){if(this.oiaProgramMessage===X_HOST_PROCESSING){return}this.unlockScreen();this.flushTypeAhead();this.insertMode=false;this.isHexEntry=false;this.hexEntryValue=[];this.isOS=false;this.osValue=[];this.restoreErrorLine();this.clearErrorMessage();if(this.isSystemRequesting){this.isSystemRequesting=false;this.dirty=false;this.setCursorPos(this.oldCursorPos);if(this.SysReqStatus){this.lockScreen();this.oiaProgramMessage=this.SysReqStatus}}this.recordReday=true};Virtual5250Screen.prototype.actionFieldPlus=function(){var e;if(this.insertMode){e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0013",false);this.displayErrorMessage(e,0);this.lockScreen();return false}const t=this.getFieldData(this.cursorPos,false);const i=this.FieldExit();if(i==""){const n=t.getFieldShift();if(n===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){this.convertSignPosition(t,0)}this.awaitingFieldExit=false;if(t.isAutoEnter()){this.handleFunction("Enter")}else{if(this.actionCursorProgression(this.cursorPos)<0){this.actionNextInputField()}}return true}else{e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,i,false);this.displayErrorMessage(e,0);this.lockScreen();return false}};Virtual5250Screen.prototype.actionFieldMins=function(){var e;if(this.insertMode){e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0013",false);this.displayErrorMessage(e,0);this.lockScreen();return false}tecoreLogger.debug("5250 function=actionFieldMins");const t=this.getFieldData(this.cursorPos,false);const i=t.getFieldShift();if(t.isContinuedEntry()||i!==TN5250_FIELD_SHIFT_NUMERIC_ONLY&&i!==TN5250_FIELD_SHIFT_SIGNED_NUMERIC){e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0016",false);this.displayErrorMessage(e,0);this.lockScreen();return false}var n,r;if(i===TN5250_FIELD_SHIFT_NUMERIC_ONLY){n=this.getFieldChars(t,true,true);r=n[t.length-1];if(r&&(r<240||r>249)){e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0026",false);this.displayErrorMessage(e,0);this.lockScreen();return false}}const s=this.FieldExit();if(s==""){const o=t.getFieldShift();if(o===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){this.convertSignPosition(t,96)}else{n=this.getFieldChars(t,true,true);r=n[t.length-1];if([64,75,96,78,107].includes(r)){e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0026",false);this.displayErrorMessage(e,0);this.lockScreen();return false}r&=15;r|=208;n[t.length-1]=r;this.setFieldChars(t.position,n,false)}this.awaitingFieldExit=false;if(t.isAutoEnter()){this.handleFunction("Enter")}else{if(this.actionCursorProgression(this.cursorPos)<0){this.actionNextInputField()}}return true}else{e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,s,false);this.displayErrorMessage(e,0);this.lockScreen();return false}};Virtual5250Screen.prototype.FieldExit=function(){const r=this.getFieldData(this.cursorPos,false);const e=r.getFieldShift();let t="";if(r){if(this.awaitingFieldExit){this.setFiledMDT(r);this.hasModifiedData=true;this.dirty=false;return""}const i=r.getMandatoryFill();if(i==TN5250_FFW_MANDATORY_FILL){if(this.cursorPos!=r.position+1){this.cursorPos=r.position+1;t="0017";return t}}const n=r.isMandatoryEnter();if(n){if(this.cursorPos===r.position+1||!this.dirty){t="0021";return t}}switch(i){case TN5250_FFW_RIGHT_ADJUST_BLANK:this.rightAdjust(r,64);break;case TN5250_FFW_RIGHT_ADJUST_ZERO:this.rightAdjust(r,240);break;case TN5250_FFW_MANDATORY_FILL:default:if(e===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){this.rightAdjust(r,64)}else{let e=true;let t,i;let n=r;while(e){this.fillField(n,0);if(!n.isContinuedEntry()){e=false}else{if(n.isLastContinuedEntry()){e=false}}i=n.position+n.length+1;t=this.findNextField(i,false,true);n=this.screenElements[t].field.fieldData||this.getFieldData(t,true)}}break}this.dirty=false;this.setFiledMDT(r);this.hasModifiedData=true}else{return errorCode="0005"}return""};Virtual5250Screen.prototype.actionFieldDup=function(){var e;if(this.insertMode){e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0013",false);this.displayErrorMessage(e,0);this.lockScreen();return false}if(this.waitingforFieldExitCheck())return false;let t=this.getFieldData(this.cursorPos,false);let i=true;let n,r;while(i){if(t&&t.canDuplicate()){this.fillField(t,TN5250_FORMAT_CONTROL_ORDERS_DUP)}else{var e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0019",false);this.displayErrorMessage(e,0);this.lockScreen()}if(!t.isContinuedEntry()||t.isLastContinuedEntry()){i=false}else{r=t.position+t.length+1;n=this.findNextField(r,false,true);t=this.screenElements[n].field.fieldData||this.getFieldData(n,true)}}if(t.isAutoEnter()){this.handleFunction("Enter")}else{this.actionNextInputField()}this.renderer.fullPaint()};Virtual5250Screen.prototype.actionFieldMark=function(){var r,s;var o=this.getFieldData(this.cursorPos,false);if(o&&o.canDuplicate()){const l=o.getFieldShift();if(l===TN5250_FIELD_SHIFT_ALPHABETIC_ONLY||l===TN5250_FIELD_SHIFT_DIGITS_ONLY||l===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){if(l===TN5250_FIELD_SHIFT_ALPHABETIC_ONLY)s="0008";else if(l===TN5250_FIELD_SHIFT_DIGITS_ONLY)s="0024";else if(this.cursorPos===o.position+o.length)s="0011";else s="0010";r=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,s,false);this.displayErrorMessage(r,0);this.lockScreen();return false}let t=TN5250_FORMAT_CONTROL_ORDERS_FIELDMARK;let e=this.screenElements[this.cursorPos];let i=e.isModified?e.inputEbcdicChar:e.ebcdicChar;let n=false;if(this.charsetInfo.isDBCS&&!this.insertMode){dbcsAttributes2=this.dbcsAttributes;if(dbcsAttributes2[this.cursorPos]==DBCS_FIRST_HALF&&i!=DBCS_SHIFT_IN&&i!=DBCS_SHIFT_OUT||o.characterSet==CHARACTER_SET_DBCS&&i!=DBCS_SHIFT_IN){if(o.characterSet==CHARACTER_SET_DBCS&&i==DBCS_SHIFT_OUT){this.cursorPos++}let e=this.getEbcdicForUnicode(65307);n=true;this.enterCharacterAtCursor((e&65280)>>8);t=e&255}else{this.handleCharCodeInputOverDbcs()}}if(this.enterCharacterAtCursor(t)){if(this.charsetInfo.isDBCS&&!this.insertMode){if(!n){this.finishDBCSInput(dbcsAttributes2)}}o=this.getFieldData(this.cursorPos,true);if(!o||o.isBypass())this.actionNextInputField();this.renderer.fullPaint()}return true}else{r=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0019",false);this.displayErrorMessage(r,0);this.lockScreen();return false}};Virtual5250Screen.prototype.rightAdjust=function(e,t){const i=this.cursorPos;const n=e.position+1;let r=e.length;const s=e.getFieldShift();if(s===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){r-=1}let o=0;let l=0;let a=i;let c=this.getFieldChars(e,true,true);while(a>n){a--;if(c[a-n]){l=a+1-n;break}}o=r-l;while(l--){c[o+l]=c[l]}while(o--){c[o]=t}this.setFieldChars(e.position,c,false)};Virtual5250Screen.prototype.fillField=function(t,i){const e=this.cursorPos;let n=e;let r=t.position+t.length;const s=t.getFieldShift();const o=i;if(s===TN5250_FIELD_SHIFT_SIGNED_NUMERIC){r--}let l=this.getFieldChars(t,true,false);let a=l[n-t.position-1];if(t.characterSet==CHARACTER_SET_DBCS){if(a==DBCS_SHIFT_OUT){n++;this.cursorPos++}r--}if(this.charsetInfo.isDBCS&&o==TN5250_FORMAT_CONTROL_ORDERS_DUP&&t.characterSet!=CHARACTER_SET_DBCS&&n!=t.position+1){var c=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0019",false);this.displayErrorMessage(c,0);this.lockScreen();return}while(n<=r){if(this.charsetInfo.isDBCS&&o==TN5250_FORMAT_CONTROL_ORDERS_DUP&&t.characterSet==CHARACTER_SET_DBCS){dbcsAttributes2=this.dbcsAttributes;let e=0;if(i)e=this.getEbcdicForUnicode(65290);l[n-t.position-1]=(e&65280)>>8;n++;i=e&255}l[n-t.position-1]=i;n++}this.setFieldChars(t.position,l,false)};Virtual5250Screen.prototype.convertSignPosition=function(e,t){let i=this.getFieldChars(e,true,false);i[e.length-1]=t;this.setFieldChars(e.position,i,false)};Virtual5250Screen.prototype.isEditable=function(){const e=this.getFieldData(this.cursorPos,true);let t=true;if(e){if(e.isBypass()){t=false}}else{t=false}if(!t){var i=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0005",false);this.displayErrorMessage(i,0);this.lockScreen()}return t};Virtual5250Screen.prototype.autoEnter=function(){const e=this.getFieldData(this.cursorPos,true);if(e.isAutoEnter()){this.handleFunction("Enter")}};Virtual5250Screen.prototype.hasDataEntered=function(e){const t=this.getFieldChars(e,true,true);let i=false;for(var n=0;n<t.length;n++){if(t[n]!==0){i=true;break}}return i};Virtual5250Screen.prototype.sendAidForShortRead=function(e){let t=begin5250ReadResponse(this,e);t=this.reviseLength(t);this.sendMessage(t,true)};Virtual5250Screen.prototype.FillCheck=function(e){let t=[];if(!e.isContinuedEntry()){t=this.getFieldChars(e,true,true)}else{t=this.getContinuedFieldChars(e,true,true)}for(var i=0;i<t.length;i++){if(!t[i])return false}return true};Virtual5250Screen.prototype.rightadjustMandatoryFillField=function(e,t){if(this.lockedByError){if(t=="Help")return false;else if(t=="Sys Req"&&this.oiaProgramMessage===X_HOST_PROCESSING){}else return true}else if(t==TN5250_AID_CLEAR){return false}var i=this.getFieldData(e,true);if(i){if(this.dirty){const r=i.getMandatoryFill();switch(r){case TN5250_FFW_MANDATORY_FILL:if(this.FillCheck(i))return false;this.setCursorPos(i.position+1);var n=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0014",false);this.displayErrorMessage(n,0);this.lockScreen();return true;default:break}}}return false};Virtual5250Screen.prototype.mandatoryEnterField=function(){if(!this.hasModifiedData)return false;var e=Object.keys(this.fields);for(var t=0;t<e.length;t++){var i=this.fields[e[t]];if(i.isBypass())continue;if(!i.isMandatoryEnter())continue;if(i.isModified())continue;this.setCursorPos(i.position+1);var n=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0007",false);this.displayErrorMessage(n,0);this.lockScreen();return true}return false};Virtual5250Screen.prototype.rightadjustFieldCheck=function(e){if(this.lockedByError){if(e=="Help")return false;else if(e=="Sys Req"&&this.oiaProgramMessage===X_HOST_PROCESSING){}else return true}this.ensureFieldInfo();var t=this.getFieldData(this.cursorPos,true);if(t){const n=t.getMandatoryFill();const r=t.getFieldShift();if(this.dirty){if(r===TN5250_FIELD_SHIFT_SIGNED_NUMERIC||n===TN5250_FFW_RIGHT_ADJUST_ZERO||n===TN5250_FFW_RIGHT_ADJUST_BLANK){if(!this.awaitingFieldExit){var i=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0020",false);this.displayErrorMessage(i,0);this.lockScreen();return true}}this.dirty=false}}return false};Virtual5250Screen.prototype.actionSystemRequest=function(){if(this.isSystemRequesting){return}this.saveErrorLine();var e=(this.errorRowNumber-1)*this.width;for(var t=0;t<this.width-1;t++){this.screenElements[e+t]=new ScreenElement(0,0,null)}var i=new TN5250FieldData;i.ffw=1;i.attribute=52;i.length=this.width-2;var n=new FieldData5250(e,i);var r=new Field(n,n.position+1,n.position+n.length+1);this.sysReqField=n;var s=new ScreenElement(e,52,null);s.field=r;this.setScreenElement(e,s);this.oldCursorPos=this.cursorPos;this.setScreenElement(r.end,new ScreenElement(r.end-1,32,null));this.isSystemRequesting=true;this.dirty=false;this.SysReqStatus=this.oiaProgramMessage;this.unlockScreen();this.setCursorPos(e+1);if(this.renderer){this.renderer.fullPaint()}};Virtual5250Screen.prototype.actionNewline=function(){if(this.isSystemRequesting){this.cursorPos=this.size-this.width+1;return}this.awaitingFieldExit=false;this.ensureFieldInfo();var e=Math.floor(this.cursorPos/this.width);var t=(e+1)*this.width%this.size;var i=this.getFieldData(t,true);if(i){if(i.position==t){this.setCursorPos(t+1)}else{this.setCursorPos(t)}}else{var n=this.findNextInputField(t,false);if(n){this.setCursorPos(n+1)}}if(this.renderer){this.renderer.paintUpperCanvas()}};Virtual5250Screen.prototype.actionHome=function(){this.ensureFieldInfo();let e=0;var i=Object.keys(this.fields);if(i.length>0){let t;for(let e=0;e<i.length;e++){t=this.fields[i[e]];if(!t.isBypass()){break}}if(t){e=t.position+1}if(e===this.cursorPos){if(!this.rightadjustFieldCheck()){var n=this.getHeaderArray(3,13,TN5250_NO_FLAG);var r=this.getScriptRowColumnFromPosition(e);n.push(r.row);n.push(r.column);n.push(248);this.sendMessage(n,true)}}else{this.awaitingFieldExit=false;this.setCursorPos(e)}}else{this.awaitingFieldExit=false;this.setCursorPos(1)}};Virtual5250Screen.prototype.actionEraseEOF=function(){this.ensureFieldInfo();let e;let i;let t,n,r,s,o;let l=[];i=this.getFieldData(this.cursorPos,true);if(i){if(!i.isContinuedEntry()){l.push(i)}else{l=this.getEntryFieldArray(i)}}else{var a=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0005",false);this.displayErrorMessage(a,0);this.lockScreen();return}while(l.length>0){i=l.shift();if(i){t=i.position+1;n=i.length;e=t+n;if(l.length===0){o=this.cursorPos;r=e<this.cursorPos?e+this.size-this.cursorPos:e-this.cursorPos}else{o=this.cursorPos;r=e<t?e+this.size-t:e-t}if(this.charsetInfo.dbcsMapper!=null){let e=this.screenElements[this.cursorPos];let t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;if(t==DBCS_SHIFT_IN){o++;r--}else if(this.dbcsAttributes[this.cursorPos]!=DBCS_UNINTERESTING){if(i.characterSet!=CHARACTER_SET_DBCS){e.inputEbcdicChar=DBCS_SHIFT_IN;e.isModified=true}o++;r--}else if(t==DBCS_SHIFT_OUT&&i.characterSet==CHARACTER_SET_DBCS){o++;r--}if(i.characterSet==CHARACTER_SET_DBCS){if(r)r--}}for(var c=0;c<r;c++){s=(o+c)%this.size;var u=this.screenElements[s];if(u){u.inputEbcdicChar=0;u.isModified=true}}i.setMDT();this.hasModifiedData=true}}if(this.renderer){this.renderer.fullPaint()}};Virtual5250Screen.prototype.actionEraseInput=function(){this.ensureFieldInfo();let t;let i=0;let n=0;let r,s,o;let l=Object.keys(this.fields);if(!this.insertMode){if(this.isSettingCursorICPosition){i=this.homePosition}if(l&&l.length==0){if(this.isSystemRequesting){t=this.sysReqField;r=t.position;o=t.length;s=r+o;if(t.isModified()){this.fillCharacter(t,r,s,0,true,true)}}}for(let e=0;e<l.length;e++){t=this.fields[l[e]];if(!t.isBypass()){r=t.position+1;if(!this.isSettingCursorICPosition){n++;if(n===1){i=r}}o=t.length;s=t.position+o;if(t.characterSet==CHARACTER_SET_DBCS){r++;s--}if(this.isSystemRequesting){t=this.sysReqField;r=t.position;o=t.length;s=r+o}if(t.isModified()){this.fillCharacter(t,r,s,0,true,true)}}}this.setCursorPos(i)}else{let e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0013",false);this.displayErrorMessage(e,0);this.lockScreen();return}if(this.renderer){this.renderer.fullPaint()}};Virtual5250Screen.prototype.fillCharacter=function(e,t,i,n,r,s){let o=i<t?i+this.size-t:i-t;let l;for(let e=0;e<=o;e++){l=(t+e)%this.size;var a=this.screenElements[l];if(a){a.inputEbcdicChar=n;a.isModified=!!r;if(s){a.characterAttributes=null}}}if(e){this.setFiledMDT(e);this.hasModifiedData=true}};Virtual5250Screen.prototype.actionEraseWord=function(){this.ensureFieldInfo();let n=0;let r;let e=this.getScreenElementByPosition(this.cursorPos);if(!e){this.promptError("0005");return}let t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;let s=t!==64&&t!==0?this.cursorPos:this.cursorPos+1;if(this.isSystemRequesting){n=this.getSystemRequestChar(s)}else{let i=this.getFieldData(this.cursorPos,true);if(i&&this.isEditable()){let e=i.position+1;let t=i.length;r=e+t}else{this.promptError("0005");return}for(let e=s;e<r;e++){let t=this.getScreenElementByPosition(e);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;n=t.position+1;if(t&&e!==64&&e!==0){n++}else{break}}}}for(let e=this.cursorPos;e<n;e++){this.actionDelete()}};Virtual5250Screen.prototype.actionEraseField=function(){this.ensureFieldInfo();let e=[];let i=0,n=0;let r=this.getFieldData(this.cursorPos,true);if(!r||this.cursorPos===r.position||r.isBypass()){this.promptError("0005");return}else{if(!r.isContinuedEntry()){e.push(r)}else{e=this.getEntryFieldArray(r)}}while(e.length>0){r=e.shift();i=r.position+1;n=i+r.length;if(r.characterSet==CHARACTER_SET_DBCS){i++;n--}for(let t=i;t<n;t++){let e=this.screenElements[t];if(e){e.inputEbcdicChar=0;e.isModified=true}r.setMDT()}this.hasModifiedData=true}if(this.renderer){this.renderer.fullPaint()}};Virtual5250Screen.prototype.getFieldPosition=function(e){const t=e.position+1;const i=t+e.length;return{startPos:t,endPos:i}};Virtual5250Screen.prototype.getSystemRequestChar=function(e){this.ensureFieldInfo();let t=this.sysReqField;let i=t.position+1;let n=t.length;let r=e;let s;let o=this.getFieldChars(t,false);if(o&&o.length!==0){let e=r!==i?r-i:0;for(let t=e;t<n;t++){let e=o[t];s=i+t+1;if(e!==64&&e!==0){s++}else{break}}}return s};Virtual5250Screen.prototype.actionBacktab=function(){if(this.isSystemRequesting){this.setCursorPos(this.size-this.width+1);return}var e=this.getFieldData(this.cursorPos,true);if(e&&e.isContinuedEntry()){const t=this.getEntryFieldArray(e);e=t.shift()}if(e&&e.position+1!==this.cursorPos){this.setCursorPos(e.position+1)}else{let e=this.findNextEntireInputField(this.cursorPos-2,true);if(e){this.setCursorPos(e+1)}}if(this.renderer){this.renderer.paintUpperCanvas()}};Virtual5250Screen.prototype.actionEndOfLine=function(){let e=this.getFieldData(this.cursorPos,true);let t=[];if(e==null||e.isBypass()){var i=this.findNextField(this.cursorPos,false);e=this.getFieldData(i+1,true)}if(!e){return}if(e.isContinuedEntry()){t=this.getEntryFieldArray(e)}else{t.push(e)}let n=false;let r,s,o=0;while(t.length>0&&!n){e=t.pop();r=e.position+1;s=e.length;o=e.position+s;while(!n&&o>e.position){const l=this.screenElements[o];const a=l.isModified?l.inputEbcdicChar:l.ebcdicChar;if(a===null||[0,64].includes(a)){o--}else{n=true;break}}}if(o<e.position+s){this.setCursorPos(o+1)}else{this.setCursorPos(o)}if(this.renderer){this.renderer.paintUpperCanvas()}return};Virtual5250Screen.prototype.gotoNextInputField=function(e,t){this.actionNextInputField(e);if(t){this.setCursorPos(this.cursorPos,null,true)}};Virtual5250Screen.prototype.actionNextInputField=function(e){var t;this.awaitingFieldExit=false;this.dirty=false;if(this.isSystemRequesting){t=this.sysReqField.position}else{if(e){t=this.findNextInputField(this.cursorPos,false)}else{t=this.findNextEntireInputField(this.cursorPos,false)}}if(t){protocolLogger.debug("Got editable field at "+t);this.setCursorPos(t+1);if(this.renderer){this.renderer.paintUpperCanvas()}}};Virtual5250Screen.prototype.cursorEntersField=function(e,t){let i=[];let n,r,s;let o=false;if(e===t){e=0}if(e){n=this.getFieldData(e,true)}if(t){r=this.getFieldData(t,true)}if(n&&r&&n.position===r.position){return}if(n&&n.isHighlightedEntry()&&!n.isBypass()){o=true;if(n.isContinuedEntry()){i=this.getEntryFieldArray(n)}else{i.push(n)}do{s=i.shift();if(s.originAttribute){s.attribute=s.originAttribute;delete s.originAttribute}}while(i.length>0)}if(r&&r.isHighlightedEntry()&&!r.isBypass()){o=true;if(r.isContinuedEntry()){i=this.getEntryFieldArray(r)}else{i.push(r)}do{s=i.shift();const l=s.getHighlightedEntry();if(s.attribute!==l){s.originAttribute=s.attribute;s.attribute=l}}while(i.length>0)}if(o&&this.renderer){this.renderer.fullPaint()}};Virtual5250Screen.prototype.findNextEntireInputField=function(e,t){let i=true;let n=e;let r=null;while(i){n=this.findNextInputField(n,t);r=this.getFieldData(n,false);if(r){if(!r.isContinuedEntry()||r.isFirstContinuedEntry()){i=false;break}else{if(t){n=r.position-1}else{n=r.position+r.length}}}else{i=false;break}}return n};Virtual5250Screen.prototype.actionCursorProgression=function(t){if(this.firstLogicalField===255){let e=this.getFieldData(t,true);if(e.isCursorProgression()){const r=e.getCursorProgression();if(r>=1){var i=Object.keys(this.fields);for(var n=r-1;n<i.length;n++){e=this.fields[i[n]];if(e.isBypass()){continue}else{this.setCursorPos(e.position+1);return e.position}}}}}return-1};Virtual5250Screen.prototype.findNextInputField=function(e,t){return this.findNextField(e,t,true)};Virtual5250Screen.prototype.findNextField=function(e,t,i){this.ensureFieldInfo();var n=Object.keys(this.fields);var r=0;var s=null;var o=null;for(var l=0;l<n.length;l++){var a=this.fields[n[l]];if(i&&a.isBypass()){continue}var c=a.position;var u=c-e;var h=Math.abs(c-e);if(t){if(u<=0&&(s===null||h<s)){s=h;o=u;r=l}}else{if(u>=0&&(s===null||h<s)){s=h;o=u;r=l}}}if(o===null||(o<0&&!t||o>0&&t)){var d=t===true?-1:1;var p=t===true?n.length-1:0;var f=t===true?-1:n.length;for(var l=p;l!=f;l+=d){var a=this.fields[n[l]];if(i&&a.isBypass()){continue}return a.position}}else{return this.fields[n[r]].position}return null};Virtual5250Screen.prototype.actionDelete=function(){this.ensureFieldInfo();var i=this.getFieldData(this.cursorPos,true);let n,r,t,s;let o=[];if(!i||this.cursorPos===i.position){if(this.isSystemRequesting){this.setCursorPos(this.size-2)}else{var l=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0005",false);this.displayErrorMessage(l,0);this.lockScreen();return false}}let a=1;if(this.charsetInfo.dbcsMapper!=null){let e=this.screenElements[this.cursorPos];let t=e.isModified?e.inputEbcdicChar:e.ebcdicChar;let i=this.screenElements[this.cursorPos+1];let n=i.isModified?i.inputEbcdicChar:i.ebcdicChar;if(t==DBCS_SHIFT_IN&&n!=DBCS_SHIFT_OUT||t==DBCS_SHIFT_OUT&&n!=DBCS_SHIFT_IN){var l=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0005",false);this.displayErrorMessage(l,0);this.lockScreen();return false}else if(t==DBCS_SHIFT_IN||t==DBCS_SHIFT_OUT||this.dbcsAttributes[this.cursorPos]==DBCS_FIRST_HALF){a=2}}if(i.isContinuedEntry()){o=this.getEntryFieldArray(i,false)}else{o.push(i)}if(o.length>1){let e=o[o.length-1];t=(e.position+e.length)%this.size}else{t=(i.position+i.length)%this.size}for(let e=0;e<a;e++){for(let t=0;t<o.length;t++){i=o[t];r=(i.position+i.length)%this.size;if(i.characterSet==CHARACTER_SET_DBCS){r--}if(t===0){n=this.cursorPos}else{n=i.position+1}for(var c=n;c<=r;c++){if(c===r){let e=o[t+1];if(e){s=e.position+1}else{s=c}}else{s=c+1}var u=this.screenElements[c];var h=this.screenElements[s];u.inputEbcdicChar=h.isModified?h.inputEbcdicChar:h.ebcdicChar;if(u.inputEbcdicChar!==u.ebcdicChar){u.isModified=true}}}}if(i.characterSet!=CHARACTER_SET_DBCS){for(let e=0;e<a;e++){var d=this.screenElements[t-e];if(d.ebcdicChar!==0){d.isModified=true;d.inputEbcdicChar=0}else{d.isModified=false;d.inputEbcdicChar=d.ebcdicChar}}}this.setFiledMDT(i);this.hasModifiedData=true;if(this.rendererSettings&&this.rendererSettings.dataSecurity){if(this.rendererSettings.dataSecurity.globalApply){this.find2Masking()}}this.renderer.fullPaint()};Virtual5250Screen.prototype.actionDestructiveBackspace=function(){const e=this.screenElements[this.cursorPos];const t=this.isSystemRequesting?this.getFieldData(this.cursorPos,true):e&&e.field&&e.field.fieldData;const i=t&&!t.isBypass()&&this.cursorPos>=t.position+1;if(i){this.actionDelete()}};Virtual5250Screen.prototype.actionDefaultBackspace=function(){if(this.cursorPos!=0){this.modifyCursorPos(-1)}if(this.destructiveBackspace){this.actionDestructiveBackspace()}};Virtual5250Screen.prototype.actionAutoSkipBackspace=function(){const e=this.screenElements[this.cursorPos];const t=this.isSystemRequesting?this.getFieldData(this.cursorPos,true):e&&e.field&&e.field.fieldData;const i=!t||t&&this.cursorPos<=t.position+1;if(i){if(this.isSystemRequesting){this.setCursorPos(this.size-2);return}const n=!t?this.cursorPos:Math.max(0,this.cursorPos-2);let e=this.findNextInputField(n,true);if(e){const r=this.screenElements[e].field;if(r){const s=r.fieldData.getFieldShift();e+=s===TN5250_FIELD_SHIFT_SIGNED_NUMERIC?r.fieldData.length-1:r.fieldData.length;protocolLogger.debug("Got editable field at "+e);this.setCursorPos(e);if(this.destructiveBackspace){this.actionDelete()}}}}else{this.actionDefaultBackspace()}};Virtual5250Screen.prototype.actionBackspace=function(){if(this.awaitingFieldExit){this.awaitingFieldExit=false;return}if(!this.autoSkipBackspace){this.actionDefaultBackspace()}else{this.actionAutoSkipBackspace()}};Virtual5250Screen.prototype.actionArrowKey=function(e){if(this.awaitingFieldExit&&e==-1){this.awaitingFieldExit=false}else{this.awaitingFieldExit=false;this.modifyCursorPos(e);this.renderer.paintUpperCanvas()}};Virtual5250Screen.prototype.actionRapidLeftAsWord=function(){this.ensureFieldInfo();if(this.isSystemRequesting){this.handleRapidLeftRightError()}else{this.rapidLeftAsWord()}};Virtual5250Screen.prototype.actionRapidRightAsWord=function(){this.ensureFieldInfo();if(this.isSystemRequesting){this.handleRapidLeftRightError()}else{this.rapidRightAsWord()}};Virtual5250Screen.prototype.handleRapidLeftRightError=function(){let e=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0006",false);this.displayErrorMessage(e,0);this.lockScreen();this.unlockKeyboard();this.isSystemRequesting=false;if(this.sysReqField){this.setCursorPos(this.sysReqField.position+1)}};Virtual5250Screen.prototype.actionTestRequest=function(){const e=this.getHeaderArray(TN5250_NO_OPERATION,10,TN5250_TEST_REQUEST_FLAG);this.sendMessage(e,true)};Virtual5250Screen.prototype.actionHelp=function(){this.insertMode=false;if(this.helpState==0){this.cursorUnlockBehavior=UNLOCK_NO_MOVE;this.helpState=1;var e=this.getHeaderArray(TN5250_PUT_GET_OPERATION,12,TN5250_HELP_FLAG);var t=0;var i=(this.errorRowNumber-1)*this.width+1;var n=this.getScreenElementByPosition(i);if(n)t=n.ebcdicChar;var r=t&15;var s=r<<12;i++;var n=this.getScreenElementByPosition(i);if(n)t=n.ebcdicChar;r=t&15;s+=r<<8;i++;var n=this.getScreenElementByPosition(i);if(n)t=n.ebcdicChar;r=t&15;s+=r<<4;i++;var n=this.getScreenElementByPosition(i);if(n)t=n.ebcdicChar;r=t&15;s+=r;e.push(s>>8&255);e.push(s&255);e=this.reviseLength(e);this.sendMessage(e,true);this.displayOIAOpStatus(X_HOST_PROCESSING)}else{if(this.isSystemRequesting){var o=new Tn5250ErrorCode(TN5250_ERROR_CODE_OPERATOR,"0006",false);this.displayErrorMessage(o,0);this.lockScreen();return false}else{if(this.helpState==-1){if(this.rightadjustFieldCheck())return false;this.sendAidForShortRead(TN5250_AID_HELP);this.displayOIAOpStatus(X_HOST_PROCESSING)}else{this.beep()}}}};Virtual5250Screen.prototype.CheckForSignOnScreen=async function(){this.isLoginPage=false;this.ensureFieldInfo();for(let t=0;t<this.height;t++){var i=this.firstMatchOnLine(passwordAsEbcdic,0,this.width,t,true);if(i>=0){console.log("found Password string at: "+i);var n=this.findNextInputField(i,false);fieldData=this.getFieldData(n,false);if(!fieldData||Math.floor(i/this.width)!=Math.floor(n/this.width)||fieldData.length-1<8||!fieldData.isNoDisplay()){continue}var r=fieldData.length-1;console.log("found passPos at: "+n+"; length is: "+r);var s=-1;for(let e=t-1;e>=0;e--){i=this.firstMatchOnLine(userAsEbcdic,0,this.width,e,true);if(i>=0){console.log("found User string at: "+i);var o=this.findNextInputField(i,false);fieldData=this.getFieldData(o,false);if(fieldData&&Math.floor(i/this.width)==Math.floor(o/this.width)&&(fieldData.length-1>3&&fieldData.length-1<11)){s=o;console.log("found userPos at: "+o);this.mfaPasswordPos=n+2;this.mfaPasswordLen=r;this.mfaUserPos=s+2;this.mfaUserId="";this.mfaUserProtected=false}break}}if(s==-1)continue;let e=this.currentScriptExecutionContext;if(this.recorder){if(this.recorder.recording){this.recorder.pauseRecord()}else if(this.currentScriptExecutionContext){if(this.noYieldAidKey){this.noYieldAidKey=false}else{MFA.scriptExecutionContext=this.currentScriptExecutionContext;this.currentScriptExecutionContext.pause();this.lockedByScripting=false}}}this.isLoginPage=true;this.setMfaConfig();MFA.ctcs=await this.getCookieCtcs();MFA.ctcsPrompt=this.callbacks&&this.callbacks.mfaCtcsPrompt;if(e)this.currentScriptExecutionContext=e;MFA.checkToken(MFA.userId);break}}};Virtual5250Screen.prototype.getMfaUserId=function(){if(this.mfaUserPos&&this.mfaUserPos-2>0){const e=this.mfaUserPos-2;const i=this.getFieldData(e,false);const n=this.getFieldChars(i,false,false);let t=[];for(let e=0;e<n.length;e++){t.push(this.renderer.unicodeConversionTable[n[e]])}return String.fromCharCode.apply(null,t)}return this.mfaUserId};Virtual5250Screen.prototype.getCookieCtcs=async function(){const e=COMMON.getCookie(this.getMfaCookieName());let n=[];let r=[];if(e){this.mfaCookie=JSON.parse(e);const s=this.mfaCookie.host&&this.mfaCookie.host[this.hostInfo.host]||{};Object.keys(s).forEach(e=>{const t=s[e]&&s[e]["mfa_user"];if(t){const i=this.mfaCookie.mfa&&this.mfaCookie.mfa[t]&&this.mfaCookie.mfa[t]["authToken"]||"";if(i){r.push(this.decrptCtc(i));n.push({hostUserId:e,mfaUserId:t})}}});const t=await Promise.all(r);t.forEach((e,t)=>{if(e&&e.data){n[t].ctc=atob(e.data)}})}return n};Virtual5250Screen.prototype.showScreen=function(){if(this.renderer==null){tecoreLogger.debug("showScreen");hexDump(this.charsetInfo.sbcsMapper,0,128);this.renderer=new Classic5250Renderer(this.canvas,this,this.charsetInfo.sbcsMapper);if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}}for(var e=OIA_MESSAGE_COLUMN;e<OIA_MESSAGE_COLUMN+9;e++){this.oiaArray.intArray[e]=32}try{if(this.rendererSettings&&this.rendererSettings.dataSecurity){if(this.rendererSettings.dataSecurity.globalApply){this.find2Masking()}}}catch(e){}if(this.hotspotPreferences!==null&&this.hotspotPreferences!==undefined){if(this.hotspotPreferences.enable){this.renderer.removeHotspots();this.findHotspots()}else{this.renderer.removeHotspots()}}this.renderer.fullPaint();this.renderTimes++;if(this.renderTimes===2){if(this.rendererSettings){this.runAuto(this.rendererSettings.autoScript)}}};Virtual5250Screen.prototype.applyRendererProperties=function(e,t){if(e!==null&&e!==undefined){if(!this.isPrinter){if(this.rendererSettings.keyboardMappingVS!==null&&this.rendererSettings.keyboardMappingVS!==undefined){this.setKeyMapping(this.rendererSettings.keyboardMappingVS)}if(e.keyboardOptions){const i=e.keyboardOptions;this.autoResetOptions=i.autoResetOptions;this.rapidLeftRight=i.rapidLeftRight;this.autoSkipBackspace=i.autoSkipBackspace===undefined?true:i.autoSkipBackspace;this.destructiveBackspace=i.destructiveBackspace===undefined?false:i.destructiveBackspace;this.dbClick2Selected=i.dbClick2Selected===undefined?false:i.dbClick2Selected;this.autoCopy=i.autoCopy===undefined?false:i.autoCopy}this.renderer.setBasicColorProperties(this.rendererSettings.colorProperties);this.renderer.setExtendedColorProperties(this.rendererSettings.extendedColorProperties);this.renderer.setCursorGuideProperties(this.rendererSettings.cursorGuideStyle);this.renderer.setCursorProperties(this.rendererSettings.underlineCursor,this.rendererSettings.steadyCursor);this.renderer.setFontProperties(this.rendererSettings.fontProperties);this.setCharsetInfo(this.rendererSettings.language)}else{this.printOptions=e.sessionProperties.options;this.printLayout=e.sessionProperties.layout;this.printPage=e.sessionProperties.page;this.printOverride=e.sessionProperties.override;this.printer=e.sessionProperties.printer;this.setCharsetInfo(this.rendererSettings.language);if(this.scsParser&&t){this.scsParser.applySettingChange()}}}};Virtual5250Screen.prototype.keepAlive=function(){if(this.connectionSettings&&this.connectionSettings.keepAlive){if(this.connectionSettings.keepAlive.timerOptions&&this.connectionSettings.keepAlive.timerValue){const e=Number(this.connectionSettings.keepAlive.timerValue);const t=Number(this.connectionSettings.keepAlive.timerOptions);if(e){this.keepAliveTimer=setInterval(()=>{this.sendResponeToKeepAlive(t)},Number(e)*60*1e3)}}}};Virtual5250Screen.prototype.sendResponeToKeepAlive=function(e){let t=this;if(!t.parser){t.parser=new TN5250Parser(t,"5250_CLIENT_MESSAGE")}let i=t.parser;if(e===1){tecoreLogger.debug("sending telnet keep alive options "+TELNET_NOP);i.appendTelnetOptionResponse(TELNET_NOP)}else if(e===2){tecoreLogger.debug("sending telnet keep alive options "+TELNET_OPTION_TIMING_MARK);i.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_TIMING_MARK)}i.sendTelnetResponse(this.heartbeat,this.callbacks?.heartbeatCallback)};Virtual5250Screen.prototype.findHotspots=function(){this.ensureFieldInfo();let e=/[\^$.|+()[{}]/;let i=new RegExp(HOTSPOT_WEBLINK_FORMAT,"ig");if(this.hotspotDefinitions!==null&&this.hotspotDefinitions!==undefined&&this.hotspotDefinitions.length>0){this.hotspots=new Array;for(var n=0;n<this.height;n++){var r="";for(var t=0;t<this.width;t++){var s=this.screenElements[n*this.width+t];if(s!=null&&s!=undefined){if(s.ebcdicChar===null||s.ebcdicChar<64){r=r+" "}else{if(s.maskChar!=null){r=r+String.fromCharCode(this.renderer.unicodeConversionTable[s.maskChar])}else{r=r+String.fromCharCode(this.renderer.unicodeConversionTable[s.ebcdicChar])}}}else{r=r+" "}}var o=false;for(var l=0;l<this.hotspotDefinitions.length;l++){var a=this.hotspotDefinitions[l].textToMatch;var c=a.length;var u=this.hotspotDefinitions[l].caseSensitive;var h=this.hotspotDefinitions[l].terminateWithSpace;var d=a;if(e.test(a)){if(d.indexOf("+")!==-1){d=d.split("+").join("\\+")}if(d.indexOf("^")!==-1){d=d.split("^").join("\\^")}if(d.indexOf("$")!==-1){d=d.split("$").join("\\$")}if(d.indexOf(".")!==-1){d=d.split(".").join("\\.")}if(d.indexOf("|")!==-1){d=d.split("|").join("\\|")}if(d.indexOf("(")!==-1){d=d.split("(").join("\\(")}if(d.indexOf(")")!==-1){d=d.split(")").join("\\)")}if(d.indexOf("[")!==-1){d=d.split("[").join("\\[")}if(d.indexOf("{")!==-1){d=d.split("{").join("\\{")}if(d.indexOf("]")!==-1){d=d.split("]").join("\\]")}if(d.indexOf("}")!==-1){d=d.split("}").join("\\}")}}if(r.search(d)!==-1||r.search(new RegExp(d,"i"))!==-1){var p;if(u){p=new RegExp(d,"g")}else{p=new RegExp(d,"gi")}while(p.exec(r)){o=true;var f=n*this.width+(p.lastIndex-c);const _=this.getFieldData(f,true);const g=_&&!_.isBypass();if(!g){var E={hotspotText:a,screenPosition:f,length:c,hotspotDefIndex:l};for(var T=0;T<this.hotspots.length;T++){if(this.hotspots[T].screenPosition===f){o=false;if(c>this.hotspots[T].length){this.hotspots.splice(T,1);this.hotspots.push(E);break}else{}}}if(o){this.hotspots.push(E)}}}}}if(!!this.hotspotPreferences.turnOnURL){if(r){let t=true;while(t){let e=i.exec(r.trimRight());if(e){const S=e[0];const c=S.length;const f=n*this.width+e.index;const _=this.getFieldData(f,true);const g=_&&!_.isBypass();if(!g){const C={hotspotText:S,screenPosition:f,length:c,hotspotType:"KEYMAP_TYPE_HTTPURL"};this.hotspots.push(C)}}else{t=false}}}}}if(this.hotspots&&this.hotspots.length>0&&this.renderer){this.renderer.markHotspotElements()}}};Virtual5250Screen.prototype.handleClick=function(e,t,i,n){this.dbcsAdjustPos=false;eventLogger.debug("screenElt at "+n+" = "+this.screenElements[n]);if(i.rows>=this.height||i.columns>=this.width){return}this.setCursorPos(n);if(this.recorder){var r=this.getScriptRowColumnFromPosition(this.cursorPos);if(this.oiaProgramMessage===X_HOST_PROCESSING||this.lockedByScripting){let e={};e.type="RECORD_SETCURSOR";e.rowCol=r;this.typeAheadQueue.push(e)}else{this.recorder.setCursor(r.row,r.column)}}if(this.oiaProgramMessage===X_TOO_MUCH){this.oiaProgramMessage=null}if(this.renderer){this.renderer.paintUpperCanvas()}};Virtual5250Screen.prototype.handleDoubleClick=function(e,t,i,n,r){eventLogger.info("dblclick at "+i);if(!this.dbClick2Selected){if(r&&r.value=="Move Cursor and Enter"){this.setCursorPos(n%this.size);this.handleFunction("Enter")}else if(!r){this.setCursorPos(n%this.size);this.handleFunction("Enter")}else{eventLogger.info("unhandled dblclick with keymapping "+r)}}else{this.selectWords(i);if(this.autoCopy){setTimeout(()=>{this.handleFunction("Copy")},100)}}};Virtual5250Screen.prototype.handleResizeComplete=function(){eventLogger.debug("Resize completed")};Virtual5250Screen.prototype.sendTelnetSub=function(e,t){var i=[TELNET_IAC,TELNET_SUB,e];for(var n=0;n<t.length;n++){i.push(t[n])}i.push(TELNET_IAC);i.push(TELNET_SUBEND);var r=utf8ArrayToB64(i);var s={t:"5250_CLIENT_MESSAGE",data:r};messageLogger.debug("Sending telnet sub, dump follows");hexDump(i,messageLogger);tracer.logSentData(i,this);if(this.webSocket!=null){this.webSocket.send(JSON.stringify(s));this.heartbeat("send",this.callbacks?.heartbeatCallback)}};Virtual5250Screen.prototype.signon=function(e){};Virtual5250Screen.prototype.getAidKeyList=function(){return TN5250_AID_KEY_MAP};Virtual5250Screen.prototype.updatePreview=function(e){if(this.renderer){if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}this.inComposition=false;this.renderer.fullPaint();this.inComposition=true;let a=this.compositionString;if(a){this.renderer.canvas=this.canvas;let e=this.renderer.canvas.getContext("2d");e.save();let t=this.renderer.font;let i=this.charsetInfo.fontName;e.font=t.substring(0,t.indexOf("px ")+3)+i;let n=this.getRowColumnFromPosition(this.cursorPos);let r=n.column*this.renderer.characterWidth;let s=n.row*this.renderer.characterHeight;let o=e.measureText(a).width;let l=this.renderer.characterHeight+1;e.fillStyle="#fff";e.fillRect(r,s,o,l);e.fillStyle="#000";e.fillText(a,r,s);e.restore()}}};Virtual5250Screen.prototype.dbcsCellType=function(e){let t=this.screenElements[e];if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;if(e==DBCS_SHIFT_IN)return 1}return this.dbcsAttributes[e]};Virtual5250Screen.prototype.turnPage=function(e){if(e===-1)return this.handleFunction("Page Up");if(e===1)return this.handleFunction("Page Down")};Virtual5250Screen.prototype.updateScreenStatus=function(e){const t=this.connectState;if(this.isPrinter&&this.printerStatus){if(e){this.printerStatus=Object.assign(this.printerStatus,e)}if(this.printerStatus.printStatus===undefined){this.printerStatus.printStatus=0}this.printerStatus.sessionID=this.sessionShortName;this.printerStatus.protocol="TN5250E";if(!this.printerStatus.luName){if(this.sessionDeviceName){let e="";for(var i=0;i<this.sessionDeviceName.length;i++){e+=this.sessionDeviceName[i]}this.printerStatus.luName=e}else{this.printerStatus.luName=""}}console.log("updateScreenStatus: "+t);if(t===CONNECT_STATE_CONNECTED){this.printerStatus.status=CONNECT_STATE_CONNECTED}else if(t===CONNECT_STATE_CONNECTING){this.printerStatus.status=CONNECT_STATE_CONNECTING}else{this.printerStatus.status=CONNECT_STATE_DISCONNECTED;if(this.printerStatus.bindTimer){this.printerStatus.bindTimer.endTime=(new Date).getTime()}this.printerStatus.printStatus=0;this.spoolFile=null}if(this.callbacks&&this.callbacks.printerstatusCallback){console.log(this.printerStatus);this.callbacks.printerstatusCallback(this.printerStatus)}}};TN5250Parser.prototype.endPrintSpooling=function(){if(this.screen.endBracketTimer){clearInterval(this.screen.endBracketTimer);this.screen.endBracketTimer=null}if(this.screen.spoolFile&&this.screen.callbacks.printJobEndCallback){let e=this.screen.scsParser;let t={};if(e.pageWidth&&e.pageDepth){t.pageSize=[e.pageWidth,e.pageDepth]}if(e.leftMargin||e.rightMargin||e.topMargin||e.bottomMargin){t.pageMargins=[e.leftMargin,e.topMargin,e.rightMargin,e.bottomMargin]}if(e.orientation.length)t.pageOrientation=e.orientation;if(e.style.fontSize)t.style=e.style;this.screen.spoolFile.setLayout(t);if(this.screen.spoolFile.pageIndex&&!this.screen.spoolFile.lineIndex){this.screen.spoolFile.spoolFileContent.pop();this.screen.spoolFile.spoolFileContent.pop()}this.screen.spoolFile.print(this.screen.callbacks.printJobEndCallback);this.screen.updateScreenStatus({printStatus:2});this.screen.spoolFile=null}};makeSubclass(VirtualVTScreen,VirtualScreen,[VirtualVTScreen.handleKeyDown,VirtualVTScreen.handleKeyUp,VirtualVTScreen.handleCharCodeInput,VirtualVTScreen.handleKeyCode,VirtualVTScreen.handleClick,VirtualVTScreen.handleDoubleClick,VirtualVTScreen.handleResizeComplete,VirtualVTScreen.autoType,VirtualVTScreen.getOIAArray,VirtualVTScreen.initScreen,VirtualVTScreen.getPos,VirtualVTScreen.connect,VirtualVTScreen.copy,VirtualVTScreen.paste,VirtualVTScreen.clearDiv,VirtualVTScreen.handleContainerResize]);VirtualVTScreen.COLOR_MODE_DEFAULT=0;VirtualVTScreen.COLOR_MODE_STANDARD=1;VirtualVTScreen.COLOR_MODE_TABLE=2;VirtualVTScreen.COLOR_MODE_RGB=3;VirtualVTScreen.CHARSET_ASCII=66;VirtualVTScreen.CHARSET_MULTINATIONAL=60;VirtualVTScreen.CHARSET_GRAPHICS=48;VirtualVTScreen.CHARSET_NATIONAL=65;VirtualVTScreen.hotspotDefinitions=null;VirtualVTScreen.hotspotPreferences=null;VirtualVTScreen.PAGE_MEMORY_SIZE=144;VirtualVTScreen.INSERT="insert";VirtualVTScreen.DELETE="delete";function BufferElement(e){this.receivedChar=null;this.displayChar=65533;this.inputChar=null;this.colorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.colorValue=0;this.backgroundColorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.backgroundColorValue=0;this.graphicAttributes=null;this.glCharset=VirtualVTScreen.CHARSET_ASCII;this.grCharset=VirtualVTScreen.CHARSET_MULTINATIONAL;this.receivedChar=e;this.isHotspot=false;this.useBackUpIndex=0}BufferElement.prototype.getUnicodeChar=function(){if(this.displayChar!=65533){return 65533}else{return this.receivedChar}};var whichLine=0;function VTLine(e,t){this.elements=new Array(e);this.updated=true;this.previous=null;this.next=null;if(t==undefined){this.id=whichLine++}}VirtualVTScreen.resetTabStop=function(){return[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0]};VirtualVTScreen.resetGlyphSets=function(){return[VirtualVTScreen.CHARSET_ASCII,VirtualVTScreen.CHARSET_MULTINATIONAL,VirtualVTScreen.CHARSET_GRAPHICS,VirtualVTScreen.CHARSET_NATIONAL]};function VirtualVTScreen(e,t,i,n,r,s,o){this.isVt=true;this.connectState=CONNECT_STATE_DISCONNECTED;this.canvas=e;this.selectionCanvas=t;this.oiaEnabled=0;this.width=i;this.height=n;this.oiaType=OIA_TYPE_ENUM.PCOMM;this.oiaArray=new OIAArray(this,this.width);this.previewCharCode=new Array(this.height*i);this.renderer=null;this.defaultWidth=i;this.defaultHeight=n;this.outgoingMessages=[];this.webSocket=null;this.parentDiv=s;this.innerDiv=o;this.div=null;this.modifierKeyState=0;this.selectionStartRow=null;this.selectionStartColumn=null;this.selectionEndRow=null;this.selectionEndColumn=null;this.selectionMouseIsDown=false;this.selectionMouseIsDrag=false;this.selectionColor="rgb(255,255,255)";this.hostInfo=null;this.rendererSettings=null;this.maxBufferLines=null;this.size=i*n;this.screenElements=new Array(this.size);this.clear();this.cursorPos=0;this.bufferPos=0;tecoreLogger.debug("charsetInfo = "+this.charsetInfo);this.scrollbackSize=r-n;this.bufferMaxLines=r;this.numberOfEmptyLines=0;this.positionInLine=0;this.lineBuffer=[];this.colorModel;this.viewportTop=null;this.terminalTop=null;this.insertionLine=null;this.linesInTerminal=0;this.isScrollUpdate=false;this.linesScrollInBuffer=0;this.linesInBuffer=0;this.bufferHead=null;this.bufferTail=null;this.passwords=[];this.parser=null;this.isInsert=true;this.lineFeedImplicitCR=false;this.implicitWrap=false;this.isNonErasable=false;this.selectCharProAttr=0;this.selectColsPerPage=80;this.selectLinesPerPage=24;this.selectLinesPerScreen=24;this.keyMapping=defaultVTkeyNameMap;this.updateTopLine=false;this.showException=false;this.graphicAttributes=0;this.colorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.colorValue=0;this.backgroundColorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.backgroundColorValue=0;this.ss2Trigger=false;this.ss3Trigger=false;this.lineAttributes=0;this.ckm=0;this.is8bit=false;this.glyphSets=VirtualVTScreen.resetGlyphSets();this.glIndex=0;this.grIndex=1;this.maxSize=false;this.debugRow=0;this.termTypeString;this.termType=VT_TERM_TYPE_LINUX;this.savedAttributes;this.allowGridResize=false;this.autoRepeat=true;this.autoCopy=false;this.keepKeyPressing={status:false,key:""};this.copyTextAsTab=true;this.supportAutoRepeat=false;this.scrollHeadRow=null;this.scrollTailRow=null;this.cursorInScrollRegion=false;this.setID();this.sessionType="VT";this.previousScreenIDs=new Array(this.height);this.bufferShiftCount=0;this.keyboardLocked=false;this.charPlacementMode=PLACEMENT_MODE_REPLACE;this.localEcho=false;this.tempEcho=false;this.lnm=false;this.lineNumber=0;this.hotspots=new Array;this.implicitUTF8=true;this.handleAsciiDelete=ASCII_DELETE_IGNORE;this.tickTime=0;this.tickTimeUpperBound=50;this.inputState=VT_INPUT_STATE_NORMAL;this.lastinputState=VT_INPUT_STATE_NORMAL;this.passPromptLength=0;this.minColumn=0;this.tabStop=VirtualVTScreen.resetTabStop();this.positionMode=VT_POSITION_MODE_RC;this.expectedReturnBytes=[];this.expectedReturnBytesLastPos=0;this.waitStringPos=0;this.waitStringArray=null;this.keyMapValue="";this.waitStringConstructingLength=6;this.waitStringConstructingLL=new SimpleLinkedList;this.waitStringPlaybackLL=new SimpleLinkedList;this.scriptMessageQueue=new SimpleLinkedList;this.lockedByScripting=false;this.lockedByError=false;this.wheelLeftover=0;this.currentPageNum=1;this.pageMemory=this.initPageMemory();this.decsclm=false;this.decscnm=false;this.showCursor=true;this.statuslineCanvas=null;this.statuslineType=0;this.displaySelection=0;this.statusline=null;this.positionInStatusline=0;this.bindScrollEvent=this.bindScrollEvent.bind(this);this.hostBell={enable:true,frequency:650,duration:100};this.undefinedFallbackState=undefinedVTBlockFallbackState;this.defaultCharsetInfo=VT_REMOTE_CHARACTER_SET.UTF_8;this.isSecureConnection=false;this.processedBytes=[];this.keepAliveTimer=null;this.keepAliveEnable=false;this.atPasswordPrompt=false;this.waitForStrings=[];this.waitForStrings.push(new WatchForString("Password:"));this.waitForStrings.push(new WatchForString("[sudo] password"));this.waitForStrings.push(new WatchForString("ENTER CURRENT PASSWORD"));this.waitForStrings.push(new WatchForString("ENTER PASSWORD"));this.inputProhibitExclusion=[];this.isPrintScreen=false;this.typeAheadQueue=[];this.retryConnect=JSON.parse(JSON.stringify(DEFAULT_CONFIG.retryConnect));this.negotiationSuccess=false;this.backUpList=[];this.useBackUpIndex=0;this.activeBackUpIndex=0}VirtualVTScreen.createScrollingInnerDiv=function(e,t,i){let n=document.createElement("div");n.id=e.id+INNER_SCROLLING_DIV_ID_SUFFIX;n.style.cssText=`position: absolute; top: 0px; left: 0px; opacity: 255; cursor: default;
                               width: ${t}; height: ${i};`;n.style["zIndex"]=2;n.style.width=t+"px";n.style.height=i+"px";return n};function ScrollingElement(e,t,i){this.scrollPos=0;this.createDivOnParent(e,t,i)}ScrollingElement.prototype.setPos=function(e){let t=this.outerDiv.scrollHeight-this.outerDiv.clientHeight;if(e==-1||e>t){this.scrollPos=t;this.outerDiv.scrollTop=t}else{this.scrollPos=e;this.outerDiv.scrollTop=e}};ScrollingElement.prototype.getDiv=function(){return this.outerDiv};ScrollingElement.prototype.clearFromParent=function(t){if(this.innerDiv||this.outerDiv){try{this.outerDiv.removeChild(this.innerDiv);t.removeChild(this.outerDiv);this.innerDiv=null;this.outerDiv=null}catch(e){tecoreLogger.severe("Could not remove scrolling div from parent="+t)}}};ScrollingElement.prototype.createDivOnParent=function(e,t,i){this.outerDiv=document.createElement("div");this.outerDiv.id=e.id+SCROLLING_DIV_OUTER_ID_SUFFIX;this.outerDiv.style.cssText=`position: absolute; top: 0px; left: 0px; opacity: 0; cursor: default;
                                     overflow-y: scroll;
                                     width: ${t}; height: ${i};`;this.outerDiv.style["zIndex"]=1;this.outerDiv.style["background-color"]=screen.rendererSettings&&screen.rendererSettings.isTransparent?"transparent":"white";this.outerDiv.style.width=t+"px";this.outerDiv.style.height=i+"px";this.currentH=i;this.currentInnerH=i;this.innerDiv=document.createElement("div");this.innerDiv.id=this.outerDiv.id+SCROLLING_DIV_INNER_ID_SUFFIX;this.innerDiv.style.cssText=`position: absolute; top: 0px; left: 0px; opacity: 0; cursor: default;
                                     width: 90%;`;this.innerDiv.style.height=i+"px";this.innerDiv.style["zIndex"]=1;this.outerDiv.appendChild(this.innerDiv)};ScrollingElement.prototype.resize=function(e,t){this.outerDiv.style["width"]=e;this.outerDiv.style["height"]=t;this.outerDiv.style["overflow-y"]="scroll";this.innerDiv.style["width"]="90%";let i=this.currentInnerH/this.currentH*t;this.innerDiv.style["height"]=i;this.currentH=t;this.currentInnerH=i};ScrollingElement.prototype.getLastPos=function(){return this.scrollPos};ScrollingElement.prototype.getPos=function(){return this.outerDiv.scrollTop};ScrollingElement.prototype.updatePos=function(){this.scrollPos=this.outerDiv.scrollTop};ScrollingElement.prototype.pixelsToRows=function(e){return e/this.pixelsPerRow};ScrollingElement.prototype.setHeight=function(e,t){let i=e*t;this.pixelsPerRow=e;if(!this.innerDiv)return;this.innerDiv.style.height=i+"px";this.currentInnerH=i;this.updatePos()};VirtualVTScreen.prototype.initPageMemory=function(){let t=new Array(VirtualVTScreen.PAGE_MEMORY_SIZE);for(let e=0;e<VirtualVTScreen.PAGE_MEMORY_SIZE;e++){t[e]={elements:new Array}}return t};VirtualVTScreen.prototype.ensurePageNum=function(e){const t=parseInt(VirtualVTScreen.PAGE_MEMORY_SIZE/this.height);return Math.min(Math.max(1,e),t)};VirtualVTScreen.prototype.getCurrentPageHead=function(){return(this.ensurePageNum(this.currentPageNum)-1)*this.height};VirtualVTScreen.prototype.storeScreenToPageMemory=function(){let e=this.getCurrentPageHead();let t=this.terminalTop;for(i=0;i<this.height;i++){if(!t)break;if(t.elements){this.pageMemory[e].elements=JSON.parse(JSON.stringify(t.elements))}this.deleteMyLine(t);this.decrementLineCount(true);t=t.next;e++}};VirtualVTScreen.prototype.restoreScreenFromPageMemory=function(n){let r=this.getCurrentPageHead();for(let i=0;i<this.height;i++){let e=new VTLine(this.width);let t=this.pageMemory[r].elements||[];e.elements.splice(0,t.length||0,...t);if(i===0){if(!n){this.bufferHead=e}else{e.previous=n;n.next=e}this.terminalTop=e;this.viewportTop=e;this.bufferTail=e}else{e.previous=this.bufferTail;e.updated=true;this.bufferTail.next=e;this.bufferTail=e}this.incrementLineCount(true);r++}};VirtualVTScreen.prototype.validateTopBottomMargin=function(){if(this.scrollHeadRow!==null&&this.scrollTailRow!==null&&this.scrollHeadRow>=this.scrollTailRow||this.scrollHeadRow>=this.height||this.scrollTailRow>this.height){this.scrollHeadRow=0;this.scrollTailRow=this.height-1}};VirtualVTScreen.prototype.updateBufferMaxlines=function(e){const t=e?e:this.height;this.bufferMaxLines=this.useBuffer?this.scrollbackSize+t:t};VirtualVTScreen.prototype.updateScreenWithPageMemory=function(e,t,i){e=this.ensurePageNum(e);let n=this.terminalTop&&this.terminalTop.previous?this.terminalTop.previous:null;const r=t?this.getCursorLineNumber():0;const s=t?this.positionInLine:0;if(e!==this.currentPageNum||i){this.storeScreenToPageMemory();if(i){this.updateTopLine=this.linesInTerminal>e;this.updateBufferMaxlines(i);this.resize(this.width,i,true);this.validateTopBottomMargin();e=this.ensurePageNum(e)}this.currentPageNum=e;this.restoreScreenFromPageMemory(n)}this.setCursorInternal(r,s)};VirtualVTScreen.prototype.clearStatuslineDiv=function(t){if(this.statuslineCanvas){let e=this.statuslineCanvas.parentNode;e.removeChild(this.statuslineCanvas);t.removeChild(e)}};VirtualVTScreen.prototype.clearDiv=function(e){if(this.scrollingElement){this.scrollingElement.clearFromParent(e);if(this.innerDiv){this.resizing=true;this.innerDiv.removeChild(this.hotspotsDiv);this.resizing=false;this.innerDiv.removeChild(this.canvas);this.innerDiv.removeChild(this.selectionCanvas);this.clearStatuslineDiv(this.innerDiv);e.removeChild(this.innerDiv);this.innerDiv=null}}else{this.resizing=true;e.removeChild(this.hotspotsDiv);this.resizing=false;e.removeChild(this.canvas);e.removeChild(this.selectionCanvas);this.clearStatuslineDiv(e)}this.renderer.parentSelector=null};VirtualVTScreen.prototype.bindScrollEvent=function(e){var t=false;if(this.renderer){this.expectedScrollPos=-1;t=true;try{this.scrollData(e.target.scrollTop)}catch(e){console.log(e.stack?e.stack:e.message)}finally{t=false}}};VirtualVTScreen.prototype.setScrollListeners=function(){this.scrollingElement.getDiv().addEventListener("wheel",this.bindScrollEvent);this.scrollingElement.getDiv().addEventListener("scroll",this.bindScrollEvent)};VirtualVTScreen.prototype.scrollData=function(e){const t=this.scrollingElement;const i=t.currentInnerH-t.currentH;const n=Math.max(this.linesScrollInBuffer,this.linesInBuffer)-this.height;const r=Math.max(0,Math.round(e*n/i));let s=r;let o=this.bufferHead;while(s>=0){this.viewportTop=o;if(o){o=o.next}s--}if(this.updateTopLine){this.updateTopLine=false;this.terminalTop=this.viewportTop}this.selectionStartRow=s;this.selectionEndRow=s+this.height;this.renderer.paint(s);t.updatePos()};const debounce=function(e,t){let i;clearTimeout(i);i=setTimeout(e,t)};const debounceMax=function(e,t){let i;clearTimeout(i);i=setTimeout(e,t)};const debounceResize=function(e,t){let i;clearTimeout(i);i=setTimeout(e,t)};VirtualVTScreen.prototype.handleContainerResize=function(e,t,i){this.containerResize(e,t,i)};VirtualVTScreen.prototype.containerResize=function(r,e,t){tecoreLogger.info("handling resize");clearTimeout(gridResizeTimeout);let s,o,i;if(this.maxSize){o=this.rendererSettings.height;s=this.rendererSettings.width;i=VirtualVTScreen.calculateMaximumSize(this.rendererSettings,r,s,o);this.height=i.height;this.width=i.width}else{s=e?e:r.clientWidth;o=t?t:r.clientHeight}if(o===0||o===null||o===undefined){o=this.rendererSettings.height}if(this.lastBufferPixelPos==null){this.lastBufferPixelPos=this.scrollingElement?this.scrollingElement.getPos():0}const l=r.style.zIndex||0;this.clearDiv(r);if(this.renderer){this.renderer.clear()}tecoreLogger.info("resize w="+s+" h="+o);let a=this.getMainDisplayHeight(o,this.height,this.statuslineType);if(this.useBuffer){let e=this.scrollingElement;e.createDivOnParent(r,s,o);s=s-SCROLLING_OFFSET;let t=VirtualVTScreen.createScrollingInnerDiv(r,s,o);this.innerDiv=t;var c=t.id;var u=c+"Canvas";r.appendChild(e.getDiv());r.appendChild(t);this.canvas=makeCanvas(u,t,s,a,1);var h=c+"SelectionCanvas";this.selectionCanvas=makeCanvas(h,t,s,a,2);this.selectionCanvas.innerHTMLMessageLength=this.selectionCanvas.innerHTML.length;let i=VirtualScreen.createInvisibleInputDiv(c,this.rendererSettings);let n=VirtualScreen.createHotspotDiv(t,s,o);t.appendChild(n);n.appendChild(i);this.invisibleInput=i;this.hotspotsDiv=n;t.style.position="absolute";this.setScrollListeners();if(this.statuslineType!==0){this.createStatuslineCanvas(a,this.statuslineType)}if(l==="-1"){r.style.zIndex=l;t.style.zIndex=l;this.selectionCanvas.style.zIndex=l;this.hotspotsDiv.style.zIndex=l;e.outerDiv.style.zIndex=l}}else{var n=r.id;this.parentDiv=r;var u=n+"Canvas";this.canvas=makeCanvas(u,r,s,a,1);var h=n+"SelectionCanvas";this.selectionCanvas=makeCanvas(h,r,s,a,2);this.selectionCanvas.innerHTMLMessageLength=this.selectionCanvas.innerHTML.length;let e=VirtualScreen.createInvisibleInputDiv(n,this.rendererSettings);let t=VirtualScreen.createHotspotDiv(r,s,o);r.appendChild(t);t.appendChild(e);this.invisibleInput=e;this.hotspotsDiv=t;if(this.statuslineType!==0){this.createStatuslineCanvas(a,this.statuslineType)}}this.setupEventHandling();this.hotspotsDiv.style.height=a;if(this.renderer){this.renderer.canvas=this.canvas;if(this.maxSize){this.width=i.width;debounce(()=>{this.handleResize(i.height)})}else{this.renderer.handleResize()}this.applyRendererProperties(this.rendererSettings);this.renderer.fullPaint()}if(this.hotspots!=null&&this.hotspots.length>0){this.renderer.markHotspotElements()}if(this.useBuffer){const p=this.scrollingElement.getDiv();p.style.opacity="255";p.style.backgroundColor=this.rendererSettings.isTransparent?"transparent":"white"}if(this.scrollingElement&&!this.maxSize){debounceMax(()=>{this.updateTopLine=true;this.setScrollBar()})}if(this.maxSize)return;var d=this;gridResizeTimeout=setTimeout(()=>{d.handleResizeComplete();d.setScrollPosition()},RESIZE_COMPLETE_TIMEOUT)};VirtualVTScreen.prototype.handleContextMenu=function(e){e.preventDefault()};VirtualVTScreen.prototype.getInsertionLineDistanceFromViewport=function(){if(!this.viewportTop||!this.insertionLine){return-1}let t=this.height;let i=this.viewportTop;let n=this.insertionLine.id;for(let e=0;e<t;e++){if(!i){return-1}if(i.id===n){return e}i=i.next}return-1};VirtualVTScreen.prototype.processBufferedMessages=function(){while(this.scriptMessageQueue.getSize()!=0){this.processMessage(this.scriptMessageQueue.removeFirst().data)}};VirtualVTScreen.prototype.handleScriptComplete=function(){this.processBufferedMessages();if(this.connectState!=CONNECT_STATE_DISCONNECTED){this.lockedByScripting=false}clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},10)};VirtualVTScreen.prototype.handleScriptTimeout=function(){tecoreLogger.warn("Script encountered function timeout. Resuming script execution at next operation.");this.processBufferedMessages()};VirtualVTScreen.prototype.getProtocolType=function(){return TERMINAL_PROTOCOL_VT};VirtualVTScreen.prototype.connect=function(e,t,i,n){this.useBackUpIndex=0;if(this.connectState===CONNECT_STATE_DISCONNECTED){this.connectState=CONNECT_STATE_CONNECTING;let n=this;var r=new WebSocket(e);messageLogger.debug("websocket url: "+e);n.webSocket=r;r.onopen=function(){const e=n.getConnectObj(n.connectionSettings,t);if(e){eventLogger.info("connect host "+e.host+":"+e.port);e.autoReconnect=n.allowReConnect(e.keepAlive,true);r.send(JSON.stringify(e));n.heartbeat("send",n.callbacks?.heartbeatCallback);messageLogger.debug("Sent "+JSON.stringify(e))}};n.firstMessageSeen=false;r.onmessage=function(e){var t=JSON.parse(e.data);messageLogger.log(messageLogger.FINER,"ws.onMessage "+JSON.stringify(t));if(n.renderer!=null){var i=OIA_MESSAGE_COLUMN;n.oiaArray.intArray[i++]=OIA_MESSAGE_X;n.oiaArray.intArray[i++]=OIA_MESSAGE_TERM_PROCESSING[0];n.oiaArray.intArray[i++]=OIA_MESSAGE_TERM_PROCESSING[1];n.oiaArray.intArray[i++]=OIA_MESSAGE_TERM_PROCESSING[2];n.renderer.paintUpperCanvas()}if(n.currentScriptExecutionContext&&!n.currentScriptExecutionContext.done){if(n.currentScriptExecutionContext.hasWaitState("waitForString")){n.processBufferedMessages();n.processMessage(t)}else{n.scriptMessageQueue.addLast(t)}}else{n.processMessage(t);if(!n.firstMessageSeen&&n.scriptingReady===true){n.firstMessageSeen=true;n.keepAlive();if(n.callbacks&&n.callbacks.readyCallback){n.callbacks.readyCallback.apply(this,null)}}}if(n.negotiationSuccess){n.useBackUpIndex=n.activeBackUpIndex;n.retryConnect.counter=1}};r.onerror=function(e){n.connectState=CONNECT_STATE_DISCONNECTED;if(n.callbacks&&n.callbacks.unexpectedErrorConnectionHook){n.callbacks.unexpectedErrorConnectionHook(n,e)}else{n.handleWebsocketError(e);r=null}if(n.keepAliveTimer){clearInterval(n.keepAliveTimer)}};r.onclose=function(e){n.connectState=CONNECT_STATE_DISCONNECTED;if(n.callbacks&&n.callbacks.unexpectedCloseConnectionHook){n.callbacks.unexpectedCloseConnectionHook(n,e)}else{n.handleWebsocketClose(e);r=null}if(n.keepAliveTimer){clearInterval(n.keepAliveTimer)}}}};VirtualVTScreen.prototype.reconnect=function(){this.initSomeVTVars();this.isReconnect=true;this.connectState=CONNECT_STATE_CONNECTING;if(this.allowBackUp(this.connectionSettings.keepAlive)){const e=this.getBackupHost(this.connectionSettings.keepAlive);if(e){this.hostInfo.host=e.host;this.hostInfo.port=e.port;this.activeBackUpIndex=this.useBackUpIndex}}let t=this.getConnectObj(this.connectionSettings,this.hostInfo);if(this.useBackUpIndex===0&&!this.negotiationSuccess){eventLogger.info("Reconnect session,maximum:"+this.retryConnect.maximum+",times:"+this.retryConnect.counter)}eventLogger.info("connect host "+this.hostInfo.host+":"+this.hostInfo.port);t.autoReconnect=this.allowReConnect(t.keepAlive);if(t){const i=this.retryConnect.counter;let e=this.retryConnect.interval*1e3;if(i===1){e=0}const n=setTimeout(()=>{this.webSocket.send(JSON.stringify(t));this.heartbeat("send",this.callbacks?.heartbeatCallback);messageLogger.debug("Sent "+JSON.stringify(t))},e)}};VirtualVTScreen.prototype.getConnectObj=function(e,t){if(t.host&&t.port){var i={t:"CONFIG",host:t.host,port:Number(t.port),s:genPT(t,this)};if(t.security===VT_SECURITY_SSH){i.security={t:"ssh",termt:this.termTypeString,termr:this.height,termc:this.width,badCert:t.certificateAction,keyExchangeAlgorithm:t.keyExchangeAlgorithm||""};this.isSecureConnection=true}else if(t.security===VT_SECURITY_TLS){i.security={t:"tls",badCert:t.certificateAction,tlsMinVersion:t.tlsMinVersion,tlsMaxVersion:t.tlsMaxVersion,servername:e.security.principle,cipherList:t.cipherList,useCipher:t.useCipher}}else if(t.security!=VT_SECURITY_NONE){messageLogger.info("Unknown security type requested!");this.webSocket.close()}i.connData=Object.assign({},e.connData);i.keepAlive=e.keepAlive||{};if(!this.isSecureConnection&&this.keepAliveEnable){const n=Number(e.keepAlive.timerValue);const r=Number(e.keepAlive.timerOptions);if(r===3&&n){i.keepAlive.enable=true;i.keepAlive.initialDelay=n*60*1e3}}return i}else{return null}};VirtualVTScreen.setANSICommandMap=function(e){switch(e.termType){case VT_TERM_TYPE_LINUX:e.ANSICommandMap=FUNCTION_MAP_LINUX;break;default:e.ANSICommandMap=FUNCTION_MAP_VT220}};VirtualVTScreen.setTerminalStringDefault=function(e){switch(e.termType){case VT_TERM_TYPE_LINUX:e.termTypeString="linux";break;case VT_TERM_TYPE_VT220:e.termTypeString="vt220";break;case VT_TERM_TYPE_VT320:e.termTypeString="vt320";break;case VT_TERM_TYPE_VT420:e.termTypeString="vt420";break}};var useLineNumberVar=false;const PLACEMENT_MODE_INSERT=1;const PLACEMENT_MODE_REPLACE=2;VirtualVTScreen.prototype.getOIAArray=function(){var e=this.oiaArray.intArray;var t=0;var i=this.positionInLine+1;var n=this.getCursorLineNumber()+1;var r=n.toString();var s=i.toString();var o;var l=OIA_ROW_COLUMN+2;e[l--]=OIA_POS_SEPERATOR;for(var a=2;a>-1;a--){if(r.length<a){e[l--]=32}else{o=r.charAt(a);if(o){e[l--]=o.charCodeAt(0)}}}l=OIA_ROW_COLUMN+5;for(var a=2;a>-1;a--){if(s.length<a+1){e[l--]=32}else{o=s.charAt(a);if(o){e[l--]=o.charCodeAt(0)}}}if(this.oiaType==OIA_TYPE_ENUM.PCOMM){if(this.hostInfo.security!=VT_SECURITY_NONE){e[3]=OIA_SECURITY_ON}}return e};VirtualVTScreen.prototype.handleMouseWheel=function(e){const t=this.scrollingElement;if(!t)return;const i=e.deltaMode===0?e.deltaY:e.deltaY*t.pixelsPerRow;const n=Math.max(t.getPos()+i,0);t.setPos(n)};VirtualVTScreen.prototype.handleTripleClick=function(e,t,i,n){var r=i.rows;var s=i.columns;let o=this.viewportTop;if(r<0||r>this.height||s<0||s>this.width){eventLogger.warn("clicking out of bound "+i);return}for(let e=0;e<r;e++){if(o){o=o.next}else{eventLogger.warn("clicking out of bound "+i);return}}if(o){this.selectionStartRow=r;this.selectionEndRow=r+1;this.selectionStartColumn=0;this.selectionEndColumn=this.width;if(this.renderer){this.renderer.paintUpperCanvas()}}};VirtualVTScreen.prototype.handleDoubleClick=function(e,t,i,n){var r=i.rows;var s=i.columns;let o=this.viewportTop;if(r<0||r>this.height||s<0||s>this.width){eventLogger.warn("clicking out of bound "+i);return}for(let e=0;e<r;e++){if(o){o=o.next}else{eventLogger.warn("clicking out of bound "+i);return}}if(o){this.selectionStartRow=r;this.selectionEndRow=r+1;var l=this.getLineString(o);var a=l.charAt(s);var c=s;var u=s;if(a==" "){while(l.charAt(c--)==" "){}while(l.charAt(u++)==" "){}}else if(a.match(SPECIAL_CHAR_REX)!=null){while(l.charAt(c--).match(SPECIAL_CHAR_REX)!=null){}while(l.charAt(u++).match(SPECIAL_CHAR_REX)!=null){}}else if(a.match(WORD_CHAR_REX)!=null){while(l.charAt(c--).match(WORD_CHAR_REX)!=null){}while(l.charAt(u++).match(WORD_CHAR_REX)!=null){}}c++;u--;this.selectionStartColumn=c+1;this.selectionEndColumn=u;if(this.renderer){this.renderer.paintUpperCanvas()}if(this.autoCopy){setTimeout(()=>{this.handleFunction("Copy")},100)}}};VirtualVTScreen.prototype.handleMouseDrag=function(e){console.log("VT does not need reset cursor location")};VirtualVTScreen.prototype.handleMouseDrop=function(e){const t=e.dataTransfer.getData("text");this.paste(t)};var calculateMaxGridSize=function(e,t){if(!e){e={fontProperties:{scaleMethod:2}}}var i=Number(e.fontProperties.size?e.fontProperties.size:ClassicRenderer.fontSize);var n=e.fontProperties.weight?e.fontProperties.weight:ClassicRenderer.fontWeight;var r=e.fontProperties.style?e.fontProperties.style:ClassicRenderer.fontStyle;var s=e.fontProperties.name?e.fontProperties.name:ClassicRenderer.fontName;var o="M";var l=t.getContext("2d");l.font=r+" "+n+" "+i+"px "+s;var a=l.measureText(o);var c=MAX_LEADING;var u=i*.85;var h=i-(c+u);var d=u+c;var p=i;var f=a.width;var E=Math.floor(t.width/f);var T=Math.floor(t.height/p);return{rows:T,columns:E}};VirtualVTScreen.prototype.deleteMyLine=function(e){let t=e.previous;if(t){t.next=e.next}if(e.next){e.next.previous=t}if(e.id==this.bufferHead.id){this.bufferHead=this.bufferHead.next}if(e.id==this.terminalTop.id){this.terminalTop=this.terminalTop.next}};VirtualVTScreen.prototype.deleteLineInner=function(e,t,i,n,r){let s=this.scrollHeadRow!=null?this.getLineByRow(this.scrollHeadRow):null;var o=e+i>this.height?this.height-1-i:e;var l=this.getLineByRow(n);for(var a=0;a<o;a++){if(l!=null){var c=new VTLine(this.width);if(l.next){l.next.previous=c}else if(l.id===this.bufferTail.id){this.bufferTail=c}c.previous=l;c.next=l.next;l.next=c;l=c}var u;if(t.next){u=t.next}else{alert("should we just throw?");u=new VTLine(this.width);t.next=u;u.previous=t;this.incrementLineCount(true)}if(t.id!=this.terminalTop.id||s&&t.id==this.terminalTop.id&&s.id==this.terminalTop.id){this.deleteMyLine(t)}else if(t.id==this.terminalTop.id){if(this.bufferMaxLines<=this.height||this.linesInBuffer>=this.bufferMaxLines){if(this.terminalTop.id==this.bufferHead.id){this.deleteMyLine(this.terminalTop)}else{this.deleteMyLine(this.bufferHead);this.terminalTop=this.terminalTop.next}}else{this.terminalTop=this.terminalTop.next;this.incrementLineCount(false)}}t=u;if(r){this.insertionLine=t}}};VirtualVTScreen.prototype.decrementLineCount=function(e){this.linesInBuffer--;this.linesScrollInBuffer--;if(e){this.linesInTerminal--}};VirtualVTScreen.prototype.incrementLineCount=function(e){this.linesInBuffer++;this.linesScrollInBuffer++;if(e){this.linesInTerminal++}};VirtualVTScreen.prototype.insertLineInner=function(e,t,i,n,r){var s=e+i>this.height?this.height-1-i:e;var o=this.getLineByRow(n);for(var l=0;l<s;l++){if(o.id===this.bufferTail.id){this.bufferTail=o.previous}o.previous.next=o.next;o=o.previous;var a=new VTLine(this.width);if(t.previous){t.previous.next=a}else{this.bufferHead=a}if(this.terminalTop.id==t.id){this.terminalTop=a;this.viewportTop=this.terminalTop}a.previous=t.previous;a.next=t;t.previous=a;t=a;if(r){this.insertionLine=a}}};VirtualVTScreen.prototype.getScreenContents=function(e,t,i,n,r,s,o,l,a){var c=[];var u=this.viewportTop;let h=navigator.userAgent.indexOf("Windows")!==-1?true:false;n=this.adjustEndSelectRow(i,n);t=this.adjustEndSelectColumn(e,t);if(i>=0){for(var d=0;d<i;d++){if(!u){return""}u=u.next}}else{for(var d=0;d>i;d--){if(!u){return""}u=u.previous}}for(var p=i;p<n;p++){if(!o&&p!=i){if(h){c.push(13)}c.push(10)}var f=t;var E=e;if(l&&p!=n-1){f=this.width}if(l&&p!=i){E=0}for(var T=E;T<f;T++){if(u==null){c.push(32);continue}var _=u.elements[T];if(_&&(_.graphicAttributes&TEXT_RENDER_HIDDEN)!=0){c.push(32)}else if(!_&&s===true){c.push(32)}else{var g=_.receivedChar;if(this.rendererSettings?.dataSecurity?.globalApply){if(apiAgent&&apiAgent.isFromApi){if(this.rendererSettings.dataSecurity.maskOption.apiControl&&_.maskChar!=null){g=_.maskChar}}else{if(this.isPrintScreen){if(_.maskChar!=null){g=_.maskChar}}else if(this.recorder&&this.recorder.playing){if(this.rendererSettings.dataSecurity.maskOption.apiControl&&_.maskChar!=null){g=_.maskChar}}else if(this.rendererSettings.dataSecurity.maskOption.copyControl){if(_.maskChar!=null){g=_.maskChar}}}}if((!g||g<32)&&s===true){c.push(32)}else{c.push(g)}}}if(u){u=u.next}}this.isPrintScreen=false;if(a){return c}return String.fromCharCode.apply(null,c)};VirtualVTScreen.prototype.getStatusBarContents=function(e,t,i,n){let r=[];let s=this.statusline;const o=t===undefined?this.positionInStatusline||0:Math.max(0,e-1);const l=t===undefined?o+e:Math.max(e,Math.min(t,this.width));for(let e=o;e<l;e++){if(s==null){r.push(32);continue}let t=s.elements[e];if(t&&(t.graphicAttributes&TEXT_RENDER_HIDDEN)!=0){r.push(32)}else if(!t&&n===true){r.push(32)}else{let e=t.receivedChar;if((!e||e<32)&&n===true){r.push(32)}else{r.push(e)}}}return String.fromCharCode.apply(null,r)};VirtualVTScreen.prototype.copy=function(e,t,i){if(this.selectionStartColumn!=null&&this.selectionEndColumn!=null){this.selectionStartRow=this.selectionStartRow>this.selectionEndRow?this.selectionStartRow+1:this.selectionStartRow;this.selectionStartColumn=this.selectionStartColumn>this.selectionEndColumn?this.selectionStartColumn+1:this.selectionStartColumn;var n=Math.min(this.selectionStartColumn,this.selectionEndColumn);var r=Math.max(this.selectionStartColumn,this.selectionEndColumn);var s=Math.min(this.selectionStartRow,this.selectionEndRow);var o=Math.max(this.selectionStartRow,this.selectionEndRow);return this.getScreenContents(n,r,s,o,e,t,i)}else{return null}};VirtualVTScreen.prototype.cut=function(e,t){return null};VirtualVTScreen.prototype.paste=function(e){e=this.replaceOutOfRangChar(e);if(this.insertionLine&&e){var t=[];for(var i=0;i<e.length;i++){t.push(...this.characterToUTF8Array(e.charCodeAt(i)))}if(this.inputState===VT_INPUT_STATE_PASSWORD){this.passwords=t}this.inputFromArray(t);return true}return false};VirtualVTScreen.prototype.sendWindowSize=function(){var e=(65280&this.width)>>8;var t=255&this.width;var i=(65280&this.height)>>8;var n=255&this.height;this.sendTelnetSub(TELNET_OPTION_WINDOW_SIZE,[e,t,i,n])};VirtualVTScreen.prototype.sendSSHWindowChange=function(){var e={t:"SSH_CH_REQ",reqt:"window-change",reply:false,data:[this.width,this.height,this.canvas.width,this.canvas.height]};if(this.webSocket.readyState===1){this.webSocket.send(JSON.stringify(e));this.heartbeat("send",this.callbacks?.heartbeatCallback)}};VirtualVTScreen.prototype.handleResize=function(t){if(!t||!this.height)return;const i=this.height,n=this.getCursorLineNumber();const e=this.getLinesInTerminal();const r=this.bufferTail;const s=this.linesScrollInBuffer;const o=this.scrollTailRow!=null&&this.scrollTailRow!==this.height-1;const l=!o&&(s<i||!this.scrollingElement)||o&&(n<this.scrollTailRow||n===0);const a=(e,t)=>{while(e>0){this.addPaddingLines(t);e--}};const c=()=>{if(!this.originMode&&this.scrollTailRow||this.originMode&&this.scrollTailRow&&n<=this.scrollTailRow){return Math.min(t-1,this.scrollTailRow)}return t-1};const u=c();if(u<0)return;this.updateBufferMaxlines(t);this.bufferHead=this.bufferHead||this.terminalTop;if(t>i&&t>n){a(t-e,true);this.bufferTail=l?r:this.getLineByRow(u)}else if(t<i&t>n){a(t-e,false);this.linesScrollInBuffer-=i-t;this.linesInBuffer=this.linesScrollInBuffer;this.linesInTerminal=Math.max(n,Math.min(t,e));this.bufferTail=l?r:this.getLineByRow(u)}else if(t<i&t<n){let e=n-t;while(e>=0){this.terminalTop=this.terminalTop.next;this.viewportTop=this.terminalTop;e--}this.linesInTerminal=t;this.linesScrollInBuffer-=i-n-1;this.linesInBuffer=this.linesScrollInBuffer;this.bufferTail=l?r:this.getLineByRow(u)}if(this.linesScrollInBuffer<n){this.linesScrollInBuffer=n+1;this.linesInBuffer=this.linesScrollInBuffer}if(this.scrollingElement&&this.linesScrollInBuffer>this.bufferMaxLines){let e=this.linesScrollInBuffer-this.bufferMaxLines;this.linesScrollInBuffer=this.bufferMaxLines;this.linesInBuffer=this.linesScrollInBuffer;while(e>0){this.bufferHead=this.bufferHead.next;e--}}if(this.bufferTail&&this.bufferTail.next){this.bufferTail.next=null}this.updateTopLine=true;this.resize(this.width,t,true);this.validateTopBottomMargin();this.height=t;this.setScrollBar()};VirtualVTScreen.prototype.handleResizeComplete=function(){eventLogger.debug("Resize completed");if(this.allowGridResize){var e=calculateMaxGridSize(this.rendererSettings,this.selectionCanvas);var t=false;if(e.rows<this.height){eventLogger.debug("Resizing, old height was "+this.height+", new height will be "+e.rows);t=true}if(this.useBuffer){this.bufferMaxLines=this.scrollbackSize+e.rows}else{this.bufferMaxLines=e.rows}this.resize(e.columns,e.rows,true);if(this.terminalTop){eventLogger.debug("After resize, scrolling viewport to bottom. Top ID="+this.terminalTop.id)}this.scrollDown(1);this.viewportTop=this.terminalTop;if(this.terminalTop){eventLogger.debug("Scroll complete. Top ID="+this.terminalTop.id)}if(this.useBuffer){this.scrollingElement.getDiv().scrollTop=this.scrollingElement.getDiv().scrollHeight;this.scrollingElement.scrollPos=this.scrollingElement.getDiv().scrollTop}if(this.hostInfo.security!=VT_SECURITY_SSH){this.sendWindowSize()}else{this.sendSSHWindowChange()}if(t&&this.viewportTop){eventLogger.debug("After resize, scrolling viewport to bottom. Top ID="+this.viewportTop.id);this.scrollDown(1);eventLogger.debug("Scroll complete. Top ID="+this.viewportTop.id)}}};VirtualVTScreen.prototype.handleClick=function(e,t,i,n){eventLogger.debug("VT click encountered")};VirtualVTScreen.prototype.isEditablePosition=function(e){return true};VirtualVTScreen.prototype.applyRendererProperties=function(e){if(e!==null&&e!==undefined){if(this.rendererSettings.keyboardMappingVS!==null&&this.rendererSettings.keyboardMappingVS!==undefined){this.setKeyMapping(this.rendererSettings.keyboardMappingVS)}if(e.keyboardOptions){const t=e.keyboardOptions;this.keypadMode=t.keypadMode;this.autoCopy=t.autoCopy===undefined?false:t.autoCopy}this.renderer.setFontProperties(this.rendererSettings.fontProperties);this.renderer.setColorProperties(this.rendererSettings.colorProperties);this.renderer.setCursorGuideProperties(this.rendererSettings.cursorGuideStyle);this.renderer.setCursorProperties(this.rendererSettings.underlineCursor,this.rendererSettings.steadyCursor);this.setCharacterSet(this.rendererSettings.language)}this.renderer.fullPaint()};VirtualVTScreen.prototype.atBottomLine=function(e){if(!this.bufferHead){return true}if(e==null){e=this.getCursorLineNumber()}return this.insertionLine.id==this.bufferTail.id||this.originMode&&e==this.scrollTailRow};VirtualVTScreen.prototype.atTopLine=function(){if(!this.bufferHead){return true}return this.insertionLine.id==this.bufferHead.id};VirtualVTScreen.prototype.addLine=function(e){protocolLogger.log(protocolLogger.FINEST,"Addline entry. IL ID="+(this.insertionLine==null?null:this.insertionLine.id)+", TT ID="+(this.terminalTop==null?null:this.terminalTop.id)+", Buff lines="+this.linesInBuffer);if(this.isWriteToStatusline()){return}var t=new VTLine(this.width);const i=this.getCursorLineNumber();this.cursorInScrollRegion=this.inScrollingRegion(i);if(this.bufferHead==null){this.bufferHead=t;this.bufferTail=t;this.terminalTop=t;this.viewportTop=t;this.insertionLine=null;this.lineNumber=0;this.incrementLineCount(true)}else{if(false){var n=this.originMode&&this.scrollTailRow!=null?this.scrollTailRow:this.height-1;var r=null;var s=this.originMode&&this.scrollHeadRow!=null?this.scrollHeadRow:0;var o=null;var l=this.viewportTop;for(var a=0;a<this.height;a++){if(o&&r){break}if(s==a){o=l}if(n==a){r=l}l=l.next;if(!l){break}}var c=this.insertionLine;if(!r){c.next=t;t.previous=this.insertionLine;this.bufferTail=t;this.linesInBuffer++;this.linesInTerminal++}else{if(!this.originMode){this.viewportTop=this.viewportTop.next}else{if(o.id!=this.viewportTop.id){var u=o.previous;u.next=o.next;o.next.previous=u}else if(o.id!=this.bufferHead.id){var h=this.viewportTop.previous;h.next=this.viewportTop.next;this.viewportTop.next.previous=h;this.viewportTop=this.viewportTop.next}else{this.bufferHead.next.previous=null;this.bufferHead=this.bufferHead.next;this.viewportTop=this.bufferHead}}if(r.id==this.bufferTail.id){this.bufferTail.next=t;t.previous=this.bufferTail;this.bufferTail=t}else{c.next=t;t.previous=this.insertionLine}}}else if(true){if(this.scrollingElement&&(this.linesInBuffer>=this.bufferMaxLines&&!e)&&this.linesInTerminal>this.height){if(this.bufferMaxLines===1){this.bufferHead=t;this.bufferTail=t;this.terminalTop=t;this.viewportTop=this.terminalTop}else if(this.bufferMaxLines===2){this.bufferHead=this.bufferHead.next;this.bufferHead.previous=null;this.bufferHead.next=t;t.previous=this.bufferHead;this.terminalTop=this.bufferHead;this.viewportTop=this.terminalTop;this.bufferTail=t}else if(this.bufferMaxLines<=this.height){this.bufferHead=this.bufferHead.next;this.terminalTop=this.bufferHead;this.viewportTop=this.terminalTop;this.bufferHead.previous=null;this.bufferTail.next=t;t.previous=this.bufferTail;this.bufferTail=t}else{this.bufferHead=this.bufferHead.next;this.bufferHead.previous=null;if(!e&&(this.linesInTerminal>=this.height||this.cursorInScrollRegion&&i===this.scrollTailRow)){this.updateScrollTailLine(t,i===this.scrollTailRow);this.scrollHeadLineToBuffer()}else{this.bufferTail.next=t;t.previous=this.bufferTail;this.bufferTail=t;this.terminalTop=this.terminalTop.next;this.viewportTop=this.viewportTop.next}}}else{if(!e&&(this.linesInTerminal>=this.height||this.cursorInScrollRegion&&i===this.scrollTailRow)){this.updateScrollTailLine(t,i===this.scrollTailRow);this.scrollHeadLineToBuffer()}else{t.previous=this.bufferTail;this.bufferTail.next=t;this.bufferTail=t;this.incrementLineCount(true)}}this.lineNumber++}else{this.bufferTail.next=t;t.previous=this.bufferTail;this.bufferTail=t;this.incrementLineCount(true);var d=false;if(this.linesInBuffer>=this.bufferMaxLines){d=this.bufferHead==this.viewportTop;this.bufferHead=this.bufferHead.next;this.bufferHead.previous=null;if(d){this.viewportTop=this.bufferHead;this.decrementLineCount(true)}else{this.decrementLineCount(false)}this.bufferShiftCount++}else{}if(!d&&this.linesInTerminal>this.height){this.viewportTop=this.viewportTop.next;this.linesInTerminal--}}this.lineNumber++}if(this.scrollingElement&&(this.bufferMaxLines<this.linesInBuffer||this.bufferMaxLines<this.linesScrollInBuffer)){this.bufferHead=this.bufferHead.next;this.linesScrollInBuffer=Math.min(this.bufferMaxLines,this.linesScrollInBuffer);this.linesInBuffer=Math.min(this.bufferMaxLines,this.linesInBuffer)}this.insertionLine=t;this.positionInLine=0;this.setScrollBar();protocolLogger.log(protocolLogger.FINEST,"-- Addline exit. IL ID="+(this.insertionLine||{}).id+", TT ID="+(this.terminalTop||{}).id+", Buff lines="+this.linesInBuffer);return t};VirtualVTScreen.prototype.updateScrollTailLine=function(t,e){if(e&&this.scrollTailRow<this.height-1&&this.insertionLine){let e=this.insertionLine;t.previous=e;t.next=e.next;e.next=t;if(this.bufferTail&&this.bufferTail.id===e.id){this.bufferTail.next=t;this.bufferTail=t}}else{t.previous=this.bufferTail;this.bufferTail.next=t;this.bufferTail=t}};VirtualVTScreen.prototype.getScrollHeadLine=function(){if(!this.terminalTop)return null;let t=this.terminalTop;for(let e=0;e<this.scrollHeadRow;e++){if(t.next){t=t.next}else{t=null;break}}return t};VirtualVTScreen.prototype.scrollHeadLineToBuffer=function(){if(this.cursorInScrollRegion&&this.scrollHeadRow>0&&this.getScrollHeadLine()){let t=this.terminalTop.previous;let i=this.getScrollHeadLine();if(t){t.next=i}this.terminalTop.previous=i;if(i){let e=i.previous;e.next=i.next;if(i.next){i.next.previous=e}i.previous=t;i.next=this.terminalTop}if(this.bufferHead.id===this.terminalTop.id){this.bufferHead=i}if(this.linesScrollInBuffer<this.height){this.ensureLine(this.height-1)}}else{this.terminalTop=this.terminalTop.next;this.viewportTop=this.terminalTop}this.incrementLineCount(false)};VirtualVTScreen.prototype.inActiveRegion=function(e){if(!this.scrollTailRow)return true;if(e===undefined){e=this.getCursorLineNumber()}return e>=this.scrollHeadRow&&e<=this.scrollTailRow};VirtualVTScreen.prototype.inScrollingRegion=function(e){if(!this.scrollTailRow)return false;if(e===undefined){e=this.getCursorLineNumber()}return e>=this.scrollHeadRow&&e<=this.scrollTailRow};VirtualVTScreen.prototype.findActionEvents=function(){if(this.callbacks.eventCallbacks.length>0){for(var e=0;e<this.callbacks.eventCallbacks.length;e++){var t=this.callbacks.eventCallbacks[e].textToMatch;var i=this.callbacks.eventCallbacks[e].caseSensitive;var n=this.callbacks.eventCallbacks[e].startRow?this.callbacks.eventCallbacks[e].startRow-1:0;var r=this.callbacks.eventCallbacks[e].endRow?this.callbacks.eventCallbacks[e].endRow-1:n+1;var s=this.callbacks.eventCallbacks[e].startCol?this.callbacks.eventCallbacks[e].startCol-1:0;var o=this.callbacks.eventCallbacks[e].endCol?this.callbacks.eventCallbacks[e].endCol-1:s+t.length;var l=this.callbacks.eventCallbacks[e].cursorWaitRow?this.callbacks.eventCallbacks[e].cursorWaitRow-1:-1;var a=this.callbacks.eventCallbacks[e].cursorWaitCol?this.callbacks.eventCallbacks[e].cursorWaitCol-1:-1;t=Array.isArray(t)?t:[t];var c=t.map(e=>e.toLowerCase());var u=false;var h=this.getScreenContents(s,o,n,r,false,true,false);var d=h.toLowerCase();var p=h.split("\n");var f=d.split("\n");var E=false;if(i){for(const g of t){if(h.indexOf(g,0)>-1){E=true;break}}}else{for(const g of c){if(h.indexOf(g,0)>-1){E=true;break}}}if(E){if(l!==-1&&a!==-1){if(this.positionInLine===a&&this.lineNumber===l){u=true}else{u=false}}else{var T;for(var _=0;_<p.length;_++){if(i){for(const g of t){if(p[_].indexOf(g,0)>-1){T=true;break}}}else{for(const g of c){if(f[_].indexOf(g,0)>-1){T=true;break}}}if(T!==-1&&this.getCursorLineNumber()<=r&&this.getCursorLineNumber()>=n){u=true;break}else{u=false}}}}else{u=false}if(u){this.callbacks.eventCallbacks[e].eventActionCallback(this)}}}};VirtualVTScreen.prototype.getLineString=function(e){var t="";if(e.elements!==undefined){for(var i=0;i<e.elements.length;i++){if(e.elements[i]!==null&&e.elements[i]!==undefined&&e.elements[i].receivedChar!==null){var n=String.fromCharCode(e.elements[i].receivedChar);if(e.elements[i].maskChar!=null){n=String.fromCharCode(e.elements[i].maskChar)}if(!n){t=t+" "}else{t=t+n}}else{t=t+" "}}}return t};VirtualVTScreen.prototype.findVTHotspots=function(i,n){var r;let s=new RegExp(HOTSPOT_WEBLINK_FORMAT,"ig");if(i!==undefined&&i!==null){r=this.getLineString(i)}if(this.hotspotDefinitions!==null&&this.hotspotDefinitions!==undefined&&this.hotspotDefinitions.length>0&&r!==undefined&&r!==null){var t=false;var e=false;for(var o=0;o<this.hotspotDefinitions.length;o++){var l=this.hotspotDefinitions[o].textToMatch;var a=l.length;var c=this.hotspotDefinitions[o].caseSensitive;var u=this.hotspotDefinitions[o].terminateWithSpace;var h=0;while(h<r.length){if(c){if(r.indexOf(l,h)!==-1){t=true;h=r.indexOf(l,h)}else{t=false;h=r.length}}else{var d=r.toLowerCase();var p=l.toLowerCase();let e;if((e=d.indexOf(p,h))!==-1){t=true;h=e}else{t=false;h=r.length}}if(t){var f={hotspotText:l,line:i,screenPosition:h,top:n,length:a,hotspotDefIndex:o};for(var E=0;E<this.hotspots.length;E++){if(this.hotspots[E].screenPosition===h&&this.hotspots[E].line.id===i.id){this.hotspots.splice(E,1);break}}if(!this.hasMaskingData(i,h,a)){this.hotspots.push(f);this.renderer.markHotspot(f)}h=h+a}}}}if(!!this.hotspotPreferences.turnOnURL){if(r){let t=true;while(t){let e=s.exec(r.trimRight());if(e){const T=e[0];const a=T.length;const h=e.index;const f={hotspotText:T,line:i,screenPosition:h,top:n,length:a,hotspotType:"KEYMAP_TYPE_HTTPURL"};this.hotspots.push(f);this.renderer.markHotspot(f)}else{t=false}}}}};VirtualVTScreen.prototype.hasMaskingData=function(e,t,i){var n=false;try{if(this.rendererSettings&&this.rendererSettings.dataSecurity){if(this.rendererSettings.dataSecurity.globalApply){var r=new VTLine(i,true);for(var s=0;s<i;s++){var o=new BufferElement(32);o.receivedChar=e.elements[t+s].receivedChar;r.elements[s]=o}var l=this.getLineString(r);this.matchRules(l,r.elements,0);if(r&&r.elements&&r.elements.length>0){for(var a=0;a<r.elements.length;a++){var c=r.elements[a];if(c&&c.maskChar!=null){n=true;break}}}}}}catch(e){return false}return n};VirtualVTScreen.prototype.updatePreview=function(e){if(this.renderer){if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}this.inComposition=false;this.renderer.fullPaint();this.inComposition=true;let o=this.compositionString;if(o){this.renderer.canvas=this.canvas;let e=this.renderer.canvas.getContext("2d");e.save();let t=this.getRowColumnFromPosition(this.cursorPos);let i=t.column*this.renderer.characterWidth;let n=t.row*this.renderer.characterHeight;let r=e.measureText(o).width;let s=this.renderer.characterHeight+1;e.fillStyle="#fff";e.fillRect(i,n,r,s);e.fillStyle="#000";e.fillText(o,i,n);e.restore()}}};VirtualVTScreen.prototype.initScreen=function(e){this.positionInLine=0;if(e){this.terminalTop=null;this.viewportTop=null;this.insertionLine=null;this.linesInTerminal=0;this.linesInBuffer=0;this.bufferHead=null;this.bufferTail=null;this.bufferShiftCount=0}else{this.newScreen()}this.hotspots=new Array};VirtualVTScreen.prototype.getTopLine=function(){return this.scrollHeadRow!=null?this.getLineByRow(this.scrollHeadRow):this.terminalTop};VirtualVTScreen.prototype.getBottomLine=function(){return this.scrollTailRow!=null?this.getLineByRow(this.scrollTailRow):this.getLineByRow(this.height-1)};VirtualVTScreen.prototype.handlePanDown=function(e){let t=e;const i=this.getCursorLineNumber();while(t>0){this.handleScrollUp();t--}this.insertionLine=this.getLineByRow(i)};VirtualVTScreen.prototype.handlePanUp=function(e){let t=e;const i=this.getCursorLineNumber();while(t>0){this.handleScrollDown();t--}this.insertionLine=this.getLineByRow(i)};VirtualVTScreen.prototype.handleScrollDown=function(e){const t=this.scrollTailRow!=null;const i=this.bufferHead.id===this.terminalTop.id;const n=this.positionInLine;const r=new VTLine(this.width);const s=e||this.getTopLine();const o=s.previous;const l=this.getBottomLine();const a=e?e.id===this.terminalTop.id:true;const c=!t&&a||t&&(!e?this.scrollHeadRow===0:a);if(o){r.previous=o;o.next=r;r.next=s;s.previous=r}else{r.next=s;s.previous=r}this.positionInLine=n;this.deleteMyLine(l);if(c){this.terminalTop=r;this.viewportTop=r;this.bufferHead=i?r:this.bufferHead}if(this.bufferTail.id===l.id){this.bufferTail=l.previous}};VirtualVTScreen.prototype.handleScrollUp=function(e){const t=this.scrollTailRow!=null;const i=this.bufferHead.id===this.terminalTop.id;const n=this.positionInLine;const r=new VTLine(this.width);const s=e||this.getTopLine();const o=this.getBottomLine();const l=e?e.id===this.terminalTop.id:true;r.previous=o;r.next=o.next;o.next=r;this.positionInLine=n;this.deleteMyLine(s);if(!t&&l||this.scrollHeadRow===0){this.viewportTop=this.terminalTop;this.bufferHead=i?this.terminalTop:this.bufferHead}if(this.bufferTail.id===o.id){this.bufferTail=r}};VirtualVTScreen.prototype.deleteLine=function(t,i){let n=this.lineNumber;const e=this.getCursorLineNumber();for(let e=0;e<t;e++){if(i&&this.scrollHeadRow!=null&&(n<this.scrollHeadRow||n>this.scrollTailRow)){protocolLogger.debug("-- DL: deleteLine range is out of current cursor position");break}this.handleScrollUp(i);i=i.next;n++}this.insertionLine=this.getLineByRow(e)};VirtualVTScreen.prototype.insertLine=function(t,i){let n=this.lineNumber;const e=this.getCursorLineNumber();for(let e=0;e<t;e++){if(i&&this.scrollHeadRow!=null&&(n<this.scrollHeadRow||n>this.scrollTailRow)){protocolLogger.debug("-- DL: deleteLine range is out of current cursor position");break}let e=i||this.ensureLine(n);this.handleScrollDown(e);i=i.previous;n++}this.insertionLine=this.getLineByRow(e)};VirtualVTScreen.prototype.handleKeyCode=function(e){eventLogger.debug("Handlekeycode hit")};VirtualVTScreen.prototype.handleCharCodeInput=function(e){keyboardLogger.debug("keypress, charCode="+e);if(e==160){e=32}keyboardLogger.debug("normal press code=0x"+hex(e));if(this.inputState===VT_INPUT_STATE_PASSWORD){this.passwords.push(e);if(this.recorder?.recording&&this.recorder?.recordPassword){this.recorder.bufferChar(String.fromCharCode(e))}return}if(this.recorder?.recording&&this.recorder?.recordPassword&&this.atPasswordPrompt){this.recorder.bufferChar(String.fromCharCode(e))}this.inputFromArray(this.characterToUTF8Array(e))};VirtualVTScreen.prototype.characterToUTF8Array=function(e){let t=[];if(this.implicitUTF8){if(e<128){t.push(e)}else if(e<2048){t.push(192|e>>6,128|e&63)}else if(e<55296||e>=57344){t.push(224|e>>12,128|e>>6&63,128|e&63)}else{e=65536+((e&1023)<<10|e&1023);t.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|e&63)}}else{if(e<=255){t.push(e)}}return t};VirtualVTScreen.prototype.telnetDataToUnicodeArray=function(s){if(this.implicitUTF8!==true){return s}else{let e=[];let t=[];let n,r;var o=s.entries();do{n=o.next();if(n.done)break;r=n.value[1];if(this.parser&&(r>=192&&r<=239)){t.push(r);this.parser.setUTF8LengthExpected(r);const f=this.parser.utf8LengthRemaining;this.parser.utf8LengthRemaining=0;for(i=0;i<f;i++){n=o.next();if(n.done)break;r=n.value[1];t.push(r)}const E=VTParser.decodeUTF8(t);t=[];e.push(E)}else{e.push(r)}}while(true);if(this.rendererSettings&&this.rendererSettings.dataSecurity){if(this.rendererSettings.dataSecurity.globalApply){var l="";var a=new Array;for(var c=0;c<e.length;c++){var u=e[c];l=l+String.fromCharCode(u);var h={index:c};a.push(h)}this.matchRules(l,a,0);for(var d=0;d<a.length;d++){var p=a[d];if(p&&p.maskChar!=null){e[d]=p.maskChar}}}}return e}};VirtualVTScreen.prototype.clear=function(){if(this.scrollingElement){this.initScreen(false)}else{this.initScreen(true)}if(document.getElementById("Cut_Copy_Button")){document.getElementById("Cut_Copy_Button").remove()}protocolLogger.debug("Clear: should have cleared screen")};VirtualVTScreen.prototype.unbind=function(){if(this.scrollingElement&&this.scrollingElement.outerDiv){this.scrollingElement.outerDiv.removeEventListener("scroll",this.bindScrollEvent)}protocolLogger.debug("unbind: should unbind event")};VirtualVTScreen.prototype.inputFromArray=function(e){if(this.localEcho&&e){var t=utf8ArrayToB64(e);var i={t:"TELNET_DATA",B64:t};messageLogger.debug("Sending local echo message");this.processMessage(i)}if(this.inputState===VT_INPUT_STATE_NORMAL){this.sendMessage(e)}};VirtualVTScreen.prototype.autoType=function(e,t,i){var n=t?e.substring(0,t):e;var r=[];for(let e=0;e<n.length;e++){var s=n.charCodeAt(e);r.push(...this.characterToUTF8Array(s))}if(this.inputState===VT_INPUT_STATE_PASSWORD){this.passwords.push(...r)}let o=r.length;if(o>0){let e=this.recorder&&this.recorder.recording===true;if(this.issueWaitForString===true&&e&&this.localEcho===false){this.recorder.waitForString(String.fromCharCode.apply(null,this.waitStringConstructingLL.clearToArray()));this.issueWaitForString=false}this.inputFromArray(r);if(e&&i!=true){if(this.inputState===VT_INPUT_STATE_PASSWORD){}else if(!this.atPasswordPrompt){this.recorder.bufferChar(n);for(let e=0;e<o;e++){this.expectedReturnBytes.push(r[e])}}}return true}tecoreLogger.info("0 length bufer found for autotype");return true};VirtualVTScreen.prototype.handleBackIndex=function(){let e=this.getPosInLine()-1;let t=this.getInsertionline();if(e<0){t.elements.splice(0,0,null);t.elements.pop();e=0}if(this.isWriteToStatusline()){this.positionInStatusline=e}else{this.positionInLine=e}this.setCursorPositionInLine(e)};VirtualVTScreen.prototype.handleAppModeKeypadKeys=function(e){keyboardLogger.debug("keypress, charCode="+e);var t=KEYPAD_MAP_APP_MODE_VT[e];if(t){this.inputFromArray(t)}else{keyboardLogger.debug("Unhandled key press 0x"+hex(e));this.beep()}};VirtualVTScreen.prototype.handleRecordVTSSHPasswordPrompt=function(e){let t=this.recorder&&this.recorder.recording===true;if(t&&this.inputState===VT_INPUT_STATE_PASSWORD&&e==="Enter"){if(this.lastinputState==VT_INPUT_STATE_PASSWORD&&this.inputState==VT_INPUT_STATE_PASSWORD){}else{if(!this.recorder?.recordPassword){this.recorder.promptPassword()}}}else if(t&&this.inputState===VT_INPUT_STATE_NORMAL&&e==="Enter"){if(this.atPasswordPrompt==true){if(!this.recorder?.recordPassword){this.recorder.promptPassword()}}}};VirtualVTScreen.prototype.debounceKeyDown=function(t,i){if(this.keyboardLocked){keyboardLogger.warn("Keyboard Locked: Cannot accept input at this time");return}if(this.lockedByScripting){tecoreLogger.debug("Put KeyDown in Type Ahead queue");let e={};e.type="KEYDOWN";e.keyMapping=t;e.keyEvent=i;this.typeAheadQueue.push(e);if(i.ctrlKey&&(t.value=="x"||t.value=="v"||t.value=="v")){return}i.stopPropagation();i.preventDefault();return}this.keyMapValue=t.value==="Process"?i.code:t.value;if(t.type===KEYMAP_TYPE_FALLBACK&&t.value!==undefined&&t.value.length===1&&this.modifierKeyState&this.undefinedFallbackState){keyboardLogger.info("Rejecting FALLBACK keydown, value="+t.value+", because modifierKeyState="+this.modifierKeyState+", which leads to undefined behavior");return}let e=this.recorder&&this.recorder.recording===true;if(t.type===KEYMAP_TYPE_KEY||t.type===KEYMAP_TYPE_FALLBACK){var n=t.value;if(n!==undefined){if(this.issueWaitForString===true&&e&&this.localEcho===false){var r=this.waitStringConstructingLL.clearToArray();if(r.length>0){this.recorder.waitForString(String.fromCharCode.apply(null,r))}this.issueWaitForString=false}if(i.location==3&&(this.decKeypadAppMode&&this.keypadMode=="hostctr"||this.keypadMode=="app")){this.handleAppModeKeypadKeys(n)}else{if(this.modifierKeyState&(ALT_LEFT|ALT_RIGHT)&&t.value!==undefined&&!["Control","Alt","Shift"].includes(t.value)){keyboardLogger.debug("Executing alt keypress for keyValue="+t.value);if(this.modifierKeyState&(CONTROL_LEFT|CONTROL_RIGHT)){const s="Control+"+t.value;if(this.ANSICommandMap[s]){this.inputFromArray([27]);this.handleFunction(s,i.location)}}else{const s="Alt+"+t.value;this.handleFunction(s,i.location)}}else{if(n.length===1){this.handleCharCodeInput(n.charCodeAt(0))}else{keyboardLogger.info("Reject keypress for keyValue="+t.value)}}}if(e){if(this.inputState===VT_INPUT_STATE_PASSWORD){}else{if(!this.atPasswordPrompt){this.recorder.bufferChar(n);this.expectedReturnBytes.push(...this.characterToUTF8Array(n.charCodeAt(0)))}}}}else{return}}else if(t.type===KEYMAP_TYPE_VTFUNCTION){if(apiAgent&&apiAgent.isInterceptEnabled&&this.ANSICommandMap[t.value]){apiAgent.handleFunctionIntercept(t.value)}else{this.handleRecordVTSSHPasswordPrompt(t.value);this.handleFunction(t.value,i.location)}if(t.value==="Enter"){this.hideKeyboard()}}else if(t.type===KEYMAP_TYPE_STRING){var n=t.value;this.isKeymapStringInput=true;this.handleStringInputTimed(n,null,false)}else if(t.type===KEYMAP_TYPE_SCRIPT){if(this.callbacks&&this.callbacks.scriptCallback){this.lockedByScripting=true;this.callbacks.scriptCallback(t.type,t.value,true,t.isNotTemplate)}}else{return}this.androidInputing=false;this.setScrollPosition(this.scrollTop);i.stopPropagation();i.preventDefault()};VirtualVTScreen.prototype.handleKeyDown=function(e,t){if(e.type===KEYMAP_TYPE_FALLBACK&&e.value!==undefined&&e.value.length===1&&this.modifierKeyState&this.undefinedFallbackState){keyboardLogger.warn("Rejecting FALLBACK keydown, value="+e.value+", because modifierKeyState="+this.modifierKeyState+", which leads to undefined behavior");if(t.ctrlKey&&e.value=="v"){if(COMMON.userAgentInfo.isMobile){t.currentTarget.focus();const i=new CustomEvent("paste",{detail:{},bubbles:true,cancelable:true,composed:false});i.clipboardData={types:"paste"};i.clipboardData.getData=function(){return""};document.dispatchEvent(i);return}}}if([VT_INPUT_STATE_USERNAME,VT_INPUT_STATE_PASSWORD].indexOf(this.inputState)>-1&&["Cursor Down","Cursor Up"].indexOf(e.value)>-1){console.log("don't handle cursor up and cursor down when input username/password");return}if(t.ctrlKey&&t.key=="v"&&this.isPaste){return}if(t.metaKey&&t.key=="v"){return}if(this.keepKeyPressing.key!==t.code){this.keepKeyPressing.key=t.code;this.keepKeyPressing.status=false}if(this.autoRepeat||!this.supportAutoRepeat||t.code&&t.code.startsWith("vk")){this.debounceKeyDown(e,t)}else{if(!this.keepKeyPressing.status){this.keepKeyPressing.status=true;this.debounceKeyDown(e,t)}}};VirtualVTScreen.prototype.handleKeyUpEvent=function(e){this.keepKeyPressing.status=false};VirtualVTScreen.pushInvisible=function(e){e.push(27);e.push(91);e.push(56);e.push(109);return e};VirtualVTScreen.prototype.handleForwardIndex=function(){let e=this.getPosInLine()+1;let t=this.getInsertionline();if(e>this.width-1){t.elements.push(null);t.elements.shift();e=this.width-1}if(this.isWriteToStatusline()){this.positionInStatusline=e}else{this.positionInLine=e}this.setCursorPositionInLine(e)};VirtualVTScreen.pushSGRReset=function(e){e.push(27);e.push(91);e.push(48);e.push(109);return e};VirtualVTScreen.prototype.promptSSHPassword=function(){if(this.username){var e=this.username+"@"+this.hostInfo.host+"'s password: ";var t=[13,10];for(var i=0;i<e.length;i++){t.push(e.charCodeAt(i))}VirtualVTScreen.pushInvisible(t);var n=utf8ArrayToB64(t);this.passPromptLength=e.length;this.minColumn=e.length;this.inputState=VT_INPUT_STATE_PASSWORD;this.processMessage({t:"TELNET_DATA",B64:n})}};VirtualVTScreen.prototype.handleFunction=function(e,t){var i;var n;if(this.lastinputState==VT_INPUT_STATE_PASSWORD&&this.inputState==VT_INPUT_STATE_PASSWORD){}else{if(this.recorder&&this.recorder.recording===true){if(this.issueWaitForString===true&&this.localEcho===false){var r=this.waitStringConstructingLL.clearToArray();if(r.length>0){this.recorder.waitForString(String.fromCharCode.apply(null,r))}}var s=e.replace(/\\/g,"\\\\");this.recorder.handleNoYieldFunction(s);this.expectedReturnBytes=[];this.expectedReturnBytesLastPos=0;this.issueWaitForString=true}}if((e==="Delete"||e==="Backspace")&&this.inputState!=VT_INPUT_STATE_NORMAL){if(this.inputState===VT_INPUT_STATE_PASSWORD){this.passwords.pop();return}this.handleDelete();this.renderer.paint();return true}else if(e=="Select All"){this.keepSelection=true;this.selectAll()}else if(e=="Select Cancel"){this.keepSelection=false;this.selectCancel()}else if(e=="Select Down"){this.keepSelection=true;this.selectDown()}else if(e=="Select Left"){this.keepSelection=true;this.selectLeft()}else if(e=="Select Right"){this.keepSelection=true;this.selectRight()}else if(e=="Select Up"){this.keepSelection=true;this.selectUp()}else if(e=="Select Word"){const y=this.getCursor();this.selectWords(y)}else if(e=="Copy and Append"){this.copyAppend()}else if(e==="Print"){var o=Math.min(this.selectionStartColumn,this.selectionEndColumn);var l=Math.max(this.selectionStartColumn,this.selectionEndColumn);var a=Math.min(this.selectionStartRow,this.selectionEndRow);var c=Math.max(this.selectionStartRow,this.selectionEndRow);if(this.selectionStartColumn==null||this.selectionStartRow==null){o=0;a=0;l=this.width;c=this.height}if(this.callbacks.printCallback){this.isPrintScreen=true;var u=this.getScreenContents(o,l,a,c,false,true,false);this.callbacks.printCallback(u)}return true}else if(e==="Enter"){protocolLogger.debug("Handling enter, input state=0x"+hex(this.inputState));if(this.inputState===VT_INPUT_STATE_USERNAME){var h=[];for(var d=10;d<this.positionInLine;d++){var p=this.insertionLine.elements[d];if(p&&p.receivedChar){h.push(p.receivedChar)}else{continue}}this.lastinputState=VT_INPUT_STATE_USERNAME;this.passwords=[];this.username=String.fromCharCode.apply(null,h);this.promptSSHPassword();return true}else if(this.inputState===VT_INPUT_STATE_PASSWORD){const I=String.fromCharCode(...this.passwords);var f=[13,10,27,91,48,109];var E=utf8ArrayToB64(f);this.processMessage({t:"TELNET_DATA",B64:E});this.localEcho=this.tempEcho;this.inputState=VT_INPUT_STATE_NORMAL;this.lastinputState=VT_INPUT_STATE_PASSWORD;this.minColumn=0;this.webSocket.send(JSON.stringify({t:"SSH_USER_AUTH_RES",m:"password",u:this.username,p:I}));this.heartbeat("send",this.callbacks?.heartbeatCallback);return true}else if(this.inputState===VT_INPUT_STATE_PROMPT){var T=this.sshKeyboardInteractivePrompts[this.sshKeyboardInteractivePromptsPos-1].length;var _=[];var g=this.insertionLine;var p;for(var d=T;d<this.width;d++){p=g.elements[d];if(p&&p.receivedChar){_.push(p.receivedChar)}else{break}}this.promptAnswers.push(String.fromCharCode.apply(null,_));if(this.sshKeyboardInteractivePromptsPos>=this.sshKeyboardInteractivePrompts.length){this.lastinputState=VT_INPUT_STATE_NORMAL;this.inputState=VT_INPUT_STATE_NORMAL;this.localEcho=this.tempEcho;this.webSocket.send(JSON.stringify({t:"SSH_USER_AUTH_INFO_RES",res:this.promptAnswers}));this.heartbeat("send",this.callbacks?.heartbeatCallback)}else{var S=this.sshKeyboardInteractivePrompts[this.sshKeyboardInteractivePromptsPos++];var C=[13];if(S.e){VirtualVTScreen.pushInvisible(C)}var R=S.s;for(var m=0;m<R.length;m++){C.push(R.charCodeAt(m))}if(S.e){VirtualVTScreen.pushSGRReset(C)}}return true}else if(this.inputState===VT_INPUT_STATE_NORMAL){this.lastinputState=VT_INPUT_STATE_NORMAL;if(t==3&&(this.decKeypadAppMode&&this.keypadMode=="hostctr"||this.keypadMode=="app")){this.inputFromArray([27,79,77])}else if(!this.lnm){this.inputFromArray([13])}else{this.inputFromArray([13,10])}return true}}else if(i=VT_CURSOR_KEY_MAP[e]){var N;if(this.vt52Mode){N=i[2]}else if(this.ckm){N=i[1]}else{N=i[0]}if(N){this.inputFromArray(N);return true}else{return false}}else if((n=DOCUMENT_EXEC_COMMANDS[e])!=null&&n&EXEC_ALLOWED_VT){this.issueDocumentCommand(e);return true}else if(this.ANSICommandMap){if(e=="Backspace"&&this.backspaceDeleteMode){e="Delete"}if(this.ANSICommandMap[e]){var A=this.ANSICommandMap[e]}else{keyboardLogger.debug("There is no fallback function for "+e)}if(A!=null){this.inputFromArray(A);this.steadyCursorRedraw();return true}}keyboardLogger.warn("Unhandled VT function="+e);return false};VirtualVTScreen.prototype.scrollUp=function(n){if(this.viewportTop){let t=0;let i;if(n==-1){i=0;n=1}else{i=1}for(let e=0;e<n;e+=i){if(this.viewportTop.previous){this.viewportTop=this.viewportTop.previous}else{break}t++}this.selectionStartRow+=t;this.selectionEndRow+=t;if(this.renderer){this.renderer.paint(t)}}};VirtualVTScreen.prototype.scrollDown=function(e){let t=Math.min(Math.abs(e));let i=this.viewportTop;for(let e=0;e<this.height;e++){if(!i){break}if(i.next){i=i.next}}let n;if(t==1){n=0;t=-1}else{n=1}let r=0;for(let e=0;e<t;e+=n){if(this.viewportTop.id===this.terminalTop.id)return;this.viewportTop=this.viewportTop.next;r--;if(i&&i.next){i=i.next}else{break}}this.selectionStartRow+=r;this.selectionEndRow+=r;if(this.renderer){this.renderer.paint(r)}};VirtualVTScreen.prototype.selectWords=function(e){console.log("Do not suport select word for VT")};VirtualVTScreen.prototype.scrollToBottom=function(){var e=this.viewportTop;var t=0;for(var i=0;i<this.height;i++){if(e.next){e=e.next;t++}else{break}}if(t<this.height-1){this.linesInTerminal=t;return true}else{while(e){this.viewportTop=this.viewportTop.next;e.updated=true;this.bufferTail=e;e=e.next}this.linesInTerminal=this.height}return true};VirtualVTScreen.insertElementInLine=function(e,t,i){var n=e;var r;for(var s=t;s<i.elements.length;s++){r=i.elements[s];i.elements[s]=n;n=r}};VirtualVTScreen.prototype.getTopLineNum=function(){return this.scrollHeadRow?this.scrollHeadRow+1:1};VirtualVTScreen.prototype.insertChar=function(e){const t=this.isWriteToStatusline();const i=this.getPosInLine();protocolLogger.log(protocolLogger.FINEST,"insertChar: "+e+" - posInLine="+i+"  width="+this.width+"glidx=0x"+hex(this.glIndex)+" gridx=0x"+hex(this.grIndex));let n=this.getInsertionline();if(n==null){if(!this.isWriteToStatusline()){this.initScreen(true)}this.addLine()}else if(i>=this.width){if(this.implicitWrap||this.rendererSettings?.forceAutoWrap){if(this.insertionLine.next){this.insertionLine=this.insertionLine.next;this.setCursorPositionInLine(0)}else{this.addLine();if(!this.lnm){for(var r=0;r<this.getPosInLine();r++){this.insertChar(32)}}else{this.setCursorPositionInLine(0)}}if(this.printer.autoMode){this.printer.setAutoData(this,10)}}else{protocolLogger.debug("No implicit wrap, maybe overwrite if not in INSERT mode");return}}const s=this.createInsertCharElement(e);if(this.charPlacementMode===PLACEMENT_MODE_REPLACE){if(t){this.statusline.elements[this.positionInStatusline++]=s}else{if((this.lastKeyMapping?.value=="Backspace"||this.lastKeyMapping?.value=="Delete")&&this.insertionLine.elements[this.positionInLine+1]?.maskChar!=null){s.maskChar=this.insertionLine.elements[this.positionInLine+1].maskChar}this.insertionLine.elements[this.positionInLine++]=s}if(this.statuslineType===1){this.updateStatuslineIndicatorInfo()}}else{if(t){VirtualVTScreen.insertElementInLine(s,this.positionInStatusline,this.statusline);this.positionInStatusline++}else{VirtualVTScreen.insertElementInLine(s,this.positionInLine,this.insertionLine);this.positionInLine++}}this.insertionLine.updated=t?this.insertionLine.updated:true;return s};VirtualVTScreen.prototype.isWriteToStatusline=function(){return this.displaySelection===1&&this.statuslineType===2};VirtualVTScreen.prototype.getInsertionline=function(){return this.isWriteToStatusline()?this.statusline:this.insertionLine};VirtualVTScreen.prototype.getPosInLine=function(){return this.isWriteToStatusline()?this.positionInStatusline:this.positionInLine};VirtualVTScreen.prototype.createInsertCharElement=function(e,t){var i=new BufferElement(e);if(this.ss2Trigger){i.glCharset=this.glyphSets[2];this.ss2Trigger=false}else if(this.ss3Trigger){i.glCharset=this.glyphSets[3];this.ss3Trigger=false}else{i.glCharset=this.glyphSets[this.glIndex];i.grCharset=this.glyphSets[this.grIndex]}i.graphicAttributes=this.getElementAttributes(t);this.setLineBlink(i,this.insertionLine);i.colorMode=this.colorMode;i.colorValue=this.colorValue;i.backgroundColorMode=this.backgroundColorMode;i.backgroundColorValue=this.backgroundColorValue;i.isNonErasable=this.isNonErasable;return i};VirtualVTScreen.prototype.setLineBlink=function(e,t){let i=t?t:this.getInsertionline();if((e.graphicAttributes&TEXT_RENDER_BLINK)!=0){i.hasBlink=true}};VirtualVTScreen.prototype.isDoubleWidthLine=function(e){let t=e?e:this.insertionLine;if(t&&t.elements&&t.elements[0]&&t.elements[0].graphicAttributes){const i=t.elements[0].graphicAttributes;return(i&TEXT_RENDER_DOUBLE_WIDTH)!==0||(i&TEXT_RENDER_DOUBLE_TOP)!==0}return false};VirtualVTScreen.prototype.getMaxWidth=function(){return this.isDoubleWidthLine()?this.width/2:this.width};VirtualVTScreen.prototype.getElementAttributes=function(e){const t=e||this.displaySelection===1;if(t&&this.statuslineType===1){return 0}let i=0;let n=this.getPosInLine();let r=this.getInsertionline();if(r.elements[n]&&r.elements[n].graphicAttributes){i=r.elements[n].graphicAttributes;i=i&DOUBLE_WIDTH_HEIGHT}i|=this.graphicAttributes;return i};VirtualVTScreen.prototype.addPaddingLines=function(e){if(this.linesScrollInBuffer<this.height||!this.scrollingElement)return;let t=new VTLine(this.width);t.isPadding=true;this.bufferTail=this.bufferTail||this.insertLine;t.previous=this.bufferTail;this.bufferTail.next=t;this.bufferTail=t;if(e){this.linesScrollInBuffer++;this.linesInTerminal++}};VirtualVTScreen.prototype.isValidStatuslineType=function(e){return[0,1,2].indexOf(e)>-1};VirtualVTScreen.prototype.getMainDisplayHeight=function(e,t,i){if(i&&i===1||i===2){return Math.round((e-STATUSLINE_OFFSET)*t/(t+1))}return e};VirtualVTScreen.prototype.setMainDisplayHeight=function(e){this.canvas.height=e;this.selectionCanvas.height=e;this.hotspotsDiv.style.height=e};VirtualVTScreen.prototype.createStatuslineCanvas=function(t,e){if(e&&e===1||e===2){let e=this.innerDiv.clientHeight-t;this.statuslineCanvas=VirtualScreen.createStatuslineDiv(this.innerDiv,this.innerDiv.clientWidth,e,t)}else{this.statuslineCanvas=null}};VirtualVTScreen.prototype.createStatusline=function(){return{elements:new Array(this.width),id:STATUSLINE_ID}};VirtualVTScreen.prototype.updateStatuslineIndicatorInfo=function(){if(this.statuslineType!==1||!this.statusline||!this.statusline.elements)return;const e=13;const t=getCharCodeArray(this.currentPageNum);const i=getCharCodeArray(this.getCursorLineNumber()+1);const n=getCharCodeArray(this.positionInLine+1);let r=[32,...t,32,40,...i,44,32,...n,41];for(let t=0;t<e;t++){let e=r[t]?r[t]:32;if(this.statusline.elements[t]){this.statusline.elements[t].receivedChar=e}else{this.statusline.elements[t]=this.createInsertCharElement(e,true)}}};VirtualVTScreen.prototype.showStatusline=function(e){this.createStatuslineCanvas(e,this.statuslineType);this.statusline=this.createStatusline();this.positionInStatusline=0;if(this.statuslineType===1){this.updateStatuslineIndicatorInfo()}};VirtualVTScreen.prototype.existStatusline=function(){this.clearStatuslineDiv(this.innerDiv);this.statuslineCanvas=null;this.statusline=null;this.positionInStatusline=0;this.displaySelection=0;this.showCursor=true;this.renderer.unhideCursor()};VirtualVTScreen.prototype.triggerStatusline=function(e){let t=this.getMainDisplayHeight(this.innerDiv.clientHeight||this.rendererSettings.height,this.height,this.statuslineType);this.setMainDisplayHeight(t);if(e===0){this.showStatusline(t)}else if(this.statuslineType===0){this.existStatusline()}this.resize(this.width,this.height,true)};VirtualVTScreen.prototype.redrawStatusline=function(){this.statusline=this.createStatusline();this.positionInStatusline=0;if(this.statuslineType===1){this.updateStatuslineIndicatorInfo();if(this.displaySelection===1){this.displaySelection=0;this.showCursor=true;this.renderer.unhideCursor()}}};VirtualVTScreen.prototype.showOIA=function(){return this.statusline!=null};VirtualVTScreen.prototype.setStatuslineType=function(e){if(!this.isValidStatuslineType(e)||this.statuslineType===e)return;const t=this.statuslineType;this.statuslineType=e;if(t===0||e===0){this.triggerStatusline(t)}else{this.redrawStatusline()}};VirtualVTScreen.prototype.fillScreen=function(){let e=this.height-this.getCursorLineNumber();while(e>=0){this.addLine();e--}};VirtualVTScreen.prototype.newScreen=function(){const e=this.scrollingElement;const t=this.getLinesInTerminal();const i=this.getCursorLineNumber();const n=(e,t)=>{while(e>0){this.addPaddingLines(t);e--}};if(e){n(this.height-Math.max(t,i));this.addLine();const r=this.bufferTail;this.terminalTop=r;this.viewportTop=this.terminalTop;this.linesInTerminal=1;this.ensureLine(this.height-1);this.setCursorInternal(0,0);this.setScrollBar()}else{this.initScreen(true)}};VirtualVTScreen.prototype.setScrollBar=function(){const e=this.scrollingElement;if(!e||!e.outerDiv)return;const t=this.innerDiv.clientHeight/this.height;e.setHeight(t,Math.min(Math.max(this.height,this.linesInBuffer,this.linesScrollInBuffer),this.bufferMaxLines));this.lastBufferPixelPos=Math.floor(e.currentInnerH);e.outerDiv.scrollTop=this.lastBufferPixelPos;e.setPos(this.lastBufferPixelPos)};VirtualVTScreen.prototype.insertOrDeleteElementsInScreen=function(t,i,e,n,r){const s=r>=0?r:0;if(s===0)return;const o=Array(s).fill(null);let l=e;for(let e=0;e<n;e++){if(l&&l.elements){const a=l.elements.length;if(t===VirtualVTScreen.INSERT){l.elements.splice(i,0,...o);l.elements.splice(a)}else if(t===VirtualVTScreen.DELETE){l.elements.splice(a,0,...o);l.elements.splice(i,s)}l.updated=true;l=l.next}}};VirtualVTScreen.prototype.getLineByRow=function(e){this.ensureLine(e);var t=0;var i=this.terminalTop;while(i&&i.next&&t!=e){i=i.next;t++}return i};VirtualVTScreen.prototype.getLinesInTerminal=function(){let e=this.terminalTop;let t=0;while(e&&t<this.height){e=e.next;t++}return t};VirtualVTScreen.prototype.getPos=function(){return this.getPositionFromRowColumn(this.getCursorLineNumber(),this.positionInLine)};VirtualVTScreen.prototype.getCursorLineNumber=function(){if(useLineNumberVar===true){return this.lineNumber}else{if(this.insertionLine==null||this.terminalTop==null){return 0}let e=this.insertionLine.id;var t=this.terminalTop;var i=0;while(t&&t.id!=e){t=t.next;i++}this.lineNumber=i;return i}};VirtualVTScreen.prototype.ensureLine=function(e){let t=this.terminalTop;var i=t;if(e>=this.height){protocolLogger.warn("ensureLine requested to check row "+e+" greater than height:"+this.height);e=this.height-1}var n=0;while(n<e&&i!=null){t=i;i=i.next;n++}protocolLogger.log(protocolLogger.FINER,"After ensureline loop, line="+i+", y="+n+", terminalLineNumber="+e);if(i==null||!i){for(var r=n;r<e+1;r++){i=this.addLine(true)}}return i};VirtualVTScreen.prototype.eraseInLine=function(e,t,i){protocolLogger.debug("eraseInLine startColumn="+t+" endColumn="+i);for(var n=t;n<=i;n++){if(e.elements[n]){this.eraseElement(e.elements[n])}}e.updated=true};const USE_CURRENT_COLUMN=-1;VirtualVTScreen.prototype.eraseRange=function(e,t,i,n){if(this.insertionLine==null||this.terminalTop==null){return}var r=this.positionInLine;if(t==USE_CURRENT_COLUMN){t=r}if(n==USE_CURRENT_COLUMN){n=r}e=Math.max(0,Math.min(e,this.height-1));t=Math.max(0,Math.min(t,this.width-1));i=Math.max(0,Math.min(i,this.height-1));n=Math.max(0,Math.min(n,this.width-1));var s=this.terminalTop;var o=0;while(o<e){s=s.next;if(s==null){return}o++}do{this.eraseInLine(s,o==e?t:0,o==i?n:this.width-1);s=s.next;o++}while(o<=i&&s)};VirtualVTScreen.prototype.isValidEraseParam=function(e){return["","0","1","2"].indexOf(e)>-1};VirtualVTScreen.prototype.eraseStatusLine=function(e,t,i){if(!this.isValidEraseParam(e))return;let n=e===""||e==="0"?this.positionInStatusline:0;let r=e==="1"?this.positionInStatusline:this.width-1;n=Math.max(0,n);r=Math.min(r,this.width-1);let s=this.statusline;protocolLogger.debug("eraseInLine startColumn="+n+" endColumn="+r);for(var o=n;o<=r;o++){if(t&&s.elements[o]&&s.elements[o].isNonErasable)continue;if(i){s.elements[o]=null}else{this.eraseElement(s.elements[o])}}s.updated=true};VirtualVTScreen.prototype.reportCursor=function(){var e=this.getCursorLineNumber();protocolLogger.debug("cursor row="+e+" cursor="+this.positionInLine)};VirtualVTScreen.prototype.handleDCS=function(e,t){return 0};VirtualVTScreen.prototype.handleST=function(e,t){return 0};VirtualVTScreen.prototype.handleBackspace=function(){this.moveCursor(0,-1)};VirtualVTScreen.prototype.handleDelete=function(){var e=this.insertionLine;if(this.positionInLine>0){var t=this.positionInLine-1;var i=1;this.deleteCharacters(i,e,t);this.setCursorPositionInLine(t)}};VirtualVTScreen.prototype.getScreenElementHeight=function(){let e=this.canvas.height/this.height;let t=this.canvas.height%this.height;return(this.canvas.height-t)/this.height};VirtualVTScreen.calculateMaximumSize=function(e,t,i,n){var r=Number(e.fontProperties.size?e.fontProperties.size:ClassicRenderer.fontSize);var s=e.fontProperties.weight?e.fontProperties.weight:ClassicRenderer.fontWeight;var o=e.fontProperties.style?e.fontProperties.style:ClassicRenderer.fontStyle;var l=e.fontProperties.name?e.fontProperties.name:ClassicRenderer.fontName;let a=makeCanvas(t.id+"tempSizeCalc",t,i,n,0);var c="M";var u=a.getContext("2d");u.font=o+" "+s+" "+r+"px "+l;var h=u.measureText(c);var d=MAX_LEADING;var p=r*.85;var f=r-(d+p);var E=p+d;var T=r;var _=h.width;let g=Math.floor(a.width/_);let S=Math.floor(a.height/T);t.removeChild(a);return{width:g,height:S}};var startVT=function(n,t,r,e){var i=n.parentDiv.id;let s=false;let o;let l=null;let a=n.parentDiv;var c=false;const u=t.screenWidth=="MAX"||t.screenHeight=="MAX";if(u){c=true;let e=VirtualVTScreen.calculateMaximumSize(r,a,n.width,n.height);t.screenHeight=e.height;t.screenWidth=e.width}else{t.screenHeight=Number(t.screenHeight);t.screenWidth=Number(t.screenWidth)}screenWidth=t.screenWidth?t.screenWidth:DEFAULT_SCREEN_WIDTH;screenHeight=t.screenHeight?t.screenHeight:DEFAULT_SCREEN_HEIGHT;if(!s){o=screenHeight}if(r&&r.screenBufferLines){let t=Number(r.screenBufferLines);let i=screenHeight;if(t>i){o=t+i;s=true;l=new ScrollingElement(n.parentDiv,n.width,n.height);let e=n.height%i;l.setHeight((n.height-e)/i,o);n.width=n.width-SCROLLING_OFFSET;a=VirtualVTScreen.createScrollingInnerDiv(n.parentDiv,n.width,n.height);n.parentDiv.appendChild(l.getDiv());l.setPos(-1);n.parentDiv.appendChild(a)}}let h=a.id;let d=h+"Canvas";let p=makeCanvas(d,a,n.width,n.height,1);let f=h+"SelectionCanvas";let E=makeCanvas(f,a,n.width,n.height,2);let T=VirtualScreen.createHotspotDiv(a,n.width,n.height);let _=VirtualScreen.createInvisibleInputDiv(h,r);a.appendChild(T);T.appendChild(_);E.innerHTMLMessageLength=E.innerHTML.length;var g=VT_SECURITY_NONE;var S=SECURITY_BAD_CERTIFICATE_ALLOW;var C=new VirtualVTScreen(p,E,screenWidth,screenHeight,o,n.parentDiv,a);C.callbacks=e;C.connectionSettings=t;C.keepAliveEnable=C.connectionSettings&&C.connectionSettings.keepAlive&&(C.connectionSettings.keepAlive.timerOptions&&Number(C.connectionSettings.keepAlive.timerOptions)||C.connectionSettings.keepAlive.sshKeepAlive&&Number(C.connectionSettings.keepAlive.sshKeepAlive))&&C.connectionSettings.keepAlive.timerValue&&Number(C.connectionSettings.keepAlive.timerValue);C.setupDefaultCallbacks();C.useBuffer=s;C.hostBell.enable=t&&t.hostBell!==undefined?t.hostBell:false;if(C.hostBell.enable){C.hostBell.ctx=new AudioContext;C.hostBell.started=false}if(t){if(t.termTypeString&&typeof t=="string"){C.termTypeString=t.termTypeString}if(t.termType!==undefined&&typeof t.termType=="number"){C.termType=t.termType}if(t.oiaEnabled!==undefined&&typeof t.oiaEnabled=="boolean"){C.oiaEnabled=t.oiaEnabled?1:0}if(t.security&&typeof t.security=="object"){if(t.security.type&&typeof t.security.type=="number"){g=t.security.type}if(t.security.badCert&&typeof t.security.badCert=="number"){S=t.security.badCert}}if(t.answerback&&typeof t.answerback=="string"){var R=[];for(var m=0;m<t.answerback.length;m++){R.push(t.answerback.charCodeAt(m))}C.answerback=R}}if(!C.termTypeString){VirtualVTScreen.setTerminalStringDefault(C)}VirtualVTScreen.setANSICommandMap(C);C.invisibleInput=_;C.hotspotsDiv=T;C.parentDiv=n.parentDiv;C.innerDiv=a;C.maxSize=u;if(l){C.scrollingElement=l;C.setScrollListeners()}if(r!==null&&r!==undefined){C.supportAutoRepeat=r.supportAutoRepeat;C.rendererSettings=r;if(r.keyboardMappingVS!==null&&r.keyboardMappingVS!==undefined){C.keyMapping=r.keyboardMappingVS}if(r.keyboardOptions){const I=r.keyboardOptions;C.keypadMode=I.keypadMode;C.autoCopy=I.autoCopy===undefined?false:I.autoCopy}C.contextRightClick=r.contextRightClick;C.setCharacterSet(r.language)}C.allowGridResize=c;const N=new Printer(C);C.printer=N;var A=null;C.initScreen(true);C.showScreen();tecoreLogger.debug("connect = "+t.connect);let y=t.security.keyExchangeAlgorithm;y=Array.isArray(y)?y:[y];if(t?.keepAlive?.retryConnect){C.retryConnect=JSON.parse(JSON.stringify(t.keepAlive.retryConnect))}C.retryConnect.counter=1;if(t?.keepAlive?.backUpEnabled&&t?.keepAlive?.backUpList){const O=JSON.parse(JSON.stringify(t.keepAlive.backUpList));if(Array.isArray(O)&&O.length>0){C.backUpList=O;C.backUpList.unshift({host:t.host,port:t.port})}C.useBackUpIndex=0}else{C.backUpList=[]}C.hostInfo={host:t.host,port:Number(t.port),security:g,certificateAction:S,keyExchangeAlgorithm:y,tlsMinVersion:t.tlsMinVersion,tlsMaxVersion:t.tlsMaxVersion,cipherList:t.security&&t.security.cipherList||[],useCipher:t.security&&t.security.useCipher};if(t.connect){C.connect(t.url,C.hostInfo,t.security.principle,t.connData)}else{C.lockedByScripting=true}C.setupEventHandling();p.focus();if(C.callbacks&&typeof C.callbacks.onInit=="function"){C.callbacks.onInit()}if(apiAgent){apiAgent.addScreen(C)}C.bufferMaxLinesBak=C.bufferMaxLines;return C};VirtualVTScreen.recalculateStringMatchPos=function(e,i,n){let r=0;i.removeFirst();while(i.getSize()>0){let e=0;let t=i.getFirst();while(t){if(t.data===n[e]){e++;t=t.next}else{break}}if(!t){r=e;break}else{i.removeFirst()}}if(r>0){console.log("No byte match, b("+e+") != "+n[r]+", resetting. After matching game, pos="+r)}return r};VirtualVTScreen.prototype.initSomeVTVars=function(){this.scriptingReady=false;this.firstMessageSeen=false;this.currentPageNum=1;this.pageMemory=this.initPageMemory();this.atPasswordPrompt=false;this.bufferMaxLines=this.bufferMaxLinesBak;this.linesScrollInBuffer=0;this.scrollHeadRow=null;this.scrollTailRow=null;this.cursorInScrollRegion=false;this.lineNumber=0;this.inputState=VT_INPUT_STATE_NORMAL;this.lastinputState=VT_INPUT_STATE_NORMAL;this.passPromptLength=0;this.passwords=[];this.username=null;this.localEcho=false;this.tempEcho=false;this.implicitWrap=false;this.isNonErasable=false;this.selectCharProAttr=0;this.selectColsPerPage=80;this.selectLinesPerPage=24;this.selectLinesPerScreen=24;this.updateTopLine=false;this.showException=false;this.graphicAttributes=0;this.colorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.colorValue=0;this.backgroundColorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.backgroundColorValue=0;this.ss2Trigger=false;this.ss3Trigger=false;this.lineAttributes=0;this.ckm=0;this.is8bit=false;this.glyphSets=VirtualVTScreen.resetGlyphSets();this.glIndex=0;this.grIndex=1;this.parser=null;this.initScreen(true);this.showScreen();this.lockedByScripting=false;this.isSecureConnection=false};VirtualVTScreen.prototype.processMessage=function(a){messageLogger.debug("Processing websocket message. Type="+a.t);this.heartbeat("onmessage",this.callbacks?.heartbeatCallback);let c=this;switch(a.t){case"CONNECTED":c.handleSData(a);if(!c.connectSeen){c.lockedByScripting=true;handleInvalid(c.renderer);return}this.connectState=CONNECT_STATE_CONNECTED;break;case"IP_RES":c.clientIP=a.data;this.negotiationSuccess=false;break;case"CERT_PROMPT":if(c.callbacks&&c.callbacks.certificateCheck){c.callbacks.certificateCheck(c.hostInfo.host,a.fp,(e,t)=>{c.webSocket.send(JSON.stringify({t:"CERT_RES",a:e}));if(!e){tecoreLogger.info("Rejecting TLS certificate and closing connection. Reason="+t)}})}else{c.webSocket.send(JSON.stringify({t:"CERT_RES",a:true}))}break;case"TELNET_DATA":this.negotiationSuccess=true;if(!c.connectSeen){c.lockedByScripting=true;handleInvalid(c.renderer);return}if(!this.isHandshakeDone){this.isHandshakeDone=true;this.onAfterHandshake()}var u=base64ToUint8Array(a.B64);messageLogger.debug("---------------TELNET_DATA hex dump----------------");tracer.logReceivedData(u,this);hexDump(u,messageLogger);messageLogger.debug("---------------TELNET_DATA ascii dump--------------");messageLogger.debug(String.fromCharCode.apply(null,this.telnetDataToUnicodeArray(u)));messageLogger.debug("---------------TELNET_DATA dump end----------------");if(!this.parser){this.parser=new VTParser(this,"VT_INPUT")}var h=this.parser;var d=u.entries();if(this.viewportTop&&this.terminalTop&&this.viewportTop.id!=this.terminalTop.id){if(this.useBuffer){this.scrollingElement.getDiv().scrollTop=this.scrollingElement.getDiv().scrollHeight}this.scrollDown(1);this.viewportTop=this.terminalTop}let t=this.expectedReturnBytes.length;this.processedBytes=[];this.preInsertChar={baseCount:0,element:undefined};if(u.length>3&&this.atPasswordPrompt){this.atPasswordPrompt=false}for(let e of d){let i=e[1];this.processedBytes.push(i);h.process(i);if(!this.atPasswordPrompt){for(let e=0;e<this.waitForStrings.length;e++){if(this.waitForStrings[e].Search(i)){this.atPasswordPrompt=true;break}}}if(this.recorder&&this.recorder.recording===true){if(t!=0&&this.localEcho===false){if(i!=this.expectedReturnBytes[this.expectedReturnBytesLastPos++]){if(this.issueWaitForString===true){var p=this.waitStringConstructingLL.clearToArray();if(p.length>0){this.recorder.waitForString(String.fromCharCode.apply(null,p))}}this.recorder.flushCharBuffer();this.expectedReturnBytes=[];t=this.expectedReturnBytesLastPos=0;this.issueWaitForString=true}else if(this.expectedReturnBytesLastPos==t){this.expectedReturnBytes=[];t=this.expectedReturnBytesLastPos=0}}if(this.issueWaitForString===true){if(this.waitStringConstructingLL.getSize()==this.waitStringConstructingLength){this.waitStringConstructingLL.removeFirst()}this.waitStringConstructingLL.addLast(i)}}if(this.waitStringArray){let e=this.waitStringArray;let t=this.waitStringPlaybackLL;if(t.getSize()==e.length){t.removeFirst()}t.addLast(i);if(i===e[this.waitStringPos]){this.waitStringPos++;if(this.waitStringPos===e.length){this.waitStringPos=0;this.waitStringArray=null;t.clear();if(this.currentScriptExecutionContext){let e=this.currentScriptExecutionContext;if(e.currentWaitState&&!e.done&&e.currentWaitState.waitType==="waitForString"){e.runTillWaitOrComplete()}}}}else{this.waitStringPos=VirtualVTScreen.recalculateStringMatchPos(i,t,e)}}}h.sendTelnetResponse();if(this.callbacks.eventCallbacks){this.findActionEvents()}let e=Date.now();let i=0;if(this.lastDataHandled&&e-this.lastDataHandled<5){i=5;if(this.lastDataHandled&&this.lastDataHandled-e<3){i=3}clearTimeout(this.drawTimeout)}this.lastDataHandled=e;if(this.scriptMessageQueue.getSize()===0){this.drawTimeout=setTimeout(()=>{this.showScreen()},i)}break;case"CERT_PROMPT":if(this.callbacks&&this.callbacks.certificateCheck){this.callbacks.certificateCheck(this.hostInfo.host,a.fp,(e,t)=>{this.webSocket.send(JSON.stringify({t:"CERT_RES",a:e}));if(!e){tecoreLogger.info("Rejecting TLS certificate and closing connection. Reason="+t)}})}else{this.webSocket.send(JSON.stringify({t:"CERT_RES",a:true}))}break;case"SSH_USER_AUTH_INFO_REQ":this.inputState=VT_INPUT_STATE_PROMPT;this.tempEcho=this.localEcho;this.localEcho=true;this.sshKeyboardInteractivePrompts=a.prompts;this.sshKeyboardInteractivePromptsPos=0;var f=[];for(var E=0;E<a.name.length;E++){f.push(a.name.charCodeAt(E))}f.push(13);for(var E=0;E<a.inst.length;E++){f.push(a.inst.charCodeAt(E))}f.push(13);if(a.prompts.length>0){var T=a.prompts[0];if(T.e){VirtualVTScreen.pushInvisible(f)}var _=T.s;for(var E=0;E<_.length;E++){f.push(_.charCodeAt(E))}if(T.e){VirtualVTScreen.pushSGRReset(f)}this.sshKeyboardInteractivePromptsPos=1;this.promptAnswers=[]}var g=utf8ArrayToB64(f);this.processMessage({t:"TELNET_DATA",B64:g});break;case"SSH_USER_AUTH_REQ":this.negotiationSuccess=true;if(!this.insertionLine){this.addLine()}this.positionInLine=0;this.tempEcho=this.localEcho;this.localEcho=true;if(this.username===undefined||this.username===null){this.inputState=VT_INPUT_STATE_USERNAME;this.autoType("login as: ",10,true);this.minColumn=this.positionInLine}else{this.autoType("Password rejected by host",25,true);this.passwords=[];this.promptSSHPassword()}break;case"CERT_REJECT":this.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message");break;case"SSH_CH_REQ":let n=a.ch;let r=a.reqt.type;let s=a.reqt.data;let o=a.reply;let l="";if(s instanceof Array){l=String.fromCharCode.apply(null,s)}if(l===SSH_CH_REQ_EXIT_SIGNAL){this.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message")}else{messageLogger.warn("Unhandled websocket message. Type="+l)}break;case"RECONNECT":this.reconnect();break;case"ERR":this.webSocket.close(WEBSOCKET_BZW_SERVER_SENT_ERROR,"server sent close/error/exception message");c.lockedByScripting=true;handleInvalid(c.renderer);default:messageLogger.warn("Unhandled websocket message. Type="+a.t)}};VirtualVTScreen.prototype.sendTelnetSub=function(e,t){var i=[TELNET_IAC,TELNET_SUB,e];for(var n=0;n<t.length;n++){i.push(t[n])}i.push(TELNET_IAC);i.push(TELNET_SUBEND);var r=utf8ArrayToB64(i);var s={t:"VT_INPUT",data:r};messageLogger.debug("Sending telnet sub, dump follows");hexDump(i,messageLogger);tracer.logSentData(i,this);if(this.webSocket!=null){this.webSocket.send(JSON.stringify(s));this.heartbeat("send",this.callbacks?.heartbeatCallback)}};VirtualVTScreen.prototype.clearMargin=function(){this.scrollHeadRow=null;this.scrollTailRow=null};VirtualVTScreen.prototype.showScreen=function(){let e=false;if(this.renderer==null){e=true;tecoreLogger.debug("showScreen");this.renderer=new ClassicVTRenderer(this,null,this.allowGridResize?2:1);if(this.rendererSettings!==null&&this.rendererSettings!==undefined){this.applyRendererProperties(this.rendererSettings)}}for(var t=OIA_MESSAGE_COLUMN;t<OIA_MESSAGE_COLUMN+9;t++){this.oiaArray.intArray[t]=32}this.renderer.paint();if(e&&this.scrollingElement){this.scrollingElement.getDiv().style.opacity="255"}};VirtualVTScreen.prototype.moveCursor=function(e,t){if(this.isWriteToStatusline()){this.setCursorPositionInLine(this.positionInStatusline+t);return}var i=this.getCursorLineNumber();var n=i+e;var r=this.positionInLine+t;this.setCursorInternal(n,r)};VirtualVTScreen.prototype.setCursorPosInternal=function(e){var t=this.getRowColumnFromPosition(e);this.setCursorInternal(t.row,t.column)};VirtualVTScreen.prototype.setCursorPositionInLine=function(e){var t=Math.max(this.minColumn,Math.min(e,this.width));if(e!=t){protocolLogger.warn("Column for setcursor abnormal. column="+e+". Set to "+t)}if(this.isWriteToStatusline()){this.positionInStatusline=t}else{this.positionInLine=t;if(this.statuslineType===1){this.updateStatuslineIndicatorInfo()}}if(this.renderer&&this.renderer.cursorBlinkTimeout){this.renderer.resetCursorBlink()}this.updateScrollBar(this)};VirtualVTScreen.prototype.setCursorInternal=function(e,t,i){if(this.isWriteToStatusline()){this.setCursorPositionInLine(t);return}if(this.originMode&&this.scrollHeadRow&&!i){e=this.scrollHeadRow+e}var n=this.scrollTailRow!=null&&this.originMode?this.scrollTailRow:this.height-1;var r=0;var s=Math.max(r,Math.min(e,n));var o=Math.max(this.minColumn,Math.min(t,this.width-1));if(e!=s||t!=o){protocolLogger.warn("Column and row given for setcursor abnormal. column="+t+", row="+e+". Set to column="+o+", row="+s)}this.insertionLine=this.ensureLine(s);this.insertionLine.isPadding=false;this.lineNumber=s;this.positionInLine=o;if(this.renderer&&this.renderer.cursorBlinkTimeout){this.renderer.resetCursorBlink()}if(this.statuslineType===1){this.updateStatuslineIndicatorInfo()}};VirtualVTScreen.prototype.setCharacterSet=function(e){this.charsetInfo=e||this.defaultCharsetInfo;if(this.charsetInfo===VT_REMOTE_CHARACTER_SET.UTF_8){this.implicitUTF8=true}else{this.implicitUTF8=false}};const NO_STATE=0;const VT_BASE=1;const VT_CSI_START=2;const VT_CSI_INTERMEDIATE=3;const VT_CSI_IGNORE=4;const VT_CSI_PARAM=5;const VT_OSC_STRING=6;const VT_ESCAPE_START=7;const VT_ESCAPE_INTERMEDIATE=8;const VT_SOS_PM_APC=9;const VT_DCS_START=10;const VTF=11;const VT_TELNET_VERB=12;const VT_TELNET_OPTION=13;const VT_TELNET_SUB=14;const VT_OSC_INTERMEDIATE=15;const VT_OSC_PARAM=16;const VT_UTF8=17;const VT_CONTROL_CHAR=18;const VT_DCS_INTERMEDIATE=19;const VT_DCS_PARAM=20;const VT_DCS_PASSTHROUGH=21;const VT_DCS_IGNORE=22;const VT_PRINTING=23;const VT_PRINTING2=24;const VT_PRINTING3=25;const VT_PRINTING4=26;const VT_PRINTING5=27;makeSubclass(VTParser,TelnetParser);function VTParser(e,t){this.jsonResponseType=t;this.screen=e;this.state=VT_BASE;this.pos=null;this.data=[];this.selectAttrChangeExt=0;this.escapeData=new Array(1e3);this.escapeFill=0;this.params=[];this.dcsFinal=null;this.privateChar=null;this.intermediateBytes=[];this.finalByte=null;this.telnetVerb=null;this.telnetResponse=[];this.telnetOptionServerEcho=true;this.telnetSuppressGoAhead=true;this.replyToEcho=true;this.subBytes=[];this.firstTelnetOptionSeen=false;this.oscType=[];this.oscParams=[]}VirtualVTScreen.createMessage=function(e){if(e){var t=utf8ArrayToB64(e);var i={t:"VT_INPUT",data:t};return i}};VirtualVTScreen.prototype.deleteCharacters=function(e,t,i){if(t&&t.elements){var n=0;for(var r=i+e;r<screen.width;r++){t.elements[i+n]=t.elements[r];n++}var s=i+n+1;for(var r=s;r<screen.width;r++){t.elements[r]=undefined}t.updated=true}};VirtualVTScreen.prototype.eraseElement=function(e){if(e){e.receivedChar=null;e.graphicAttributes=e.graphicAttributes&DOUBLE_WIDTH_HEIGHT;e.colorValue=this.colorValue;e.backgroundColorValue=this.backgroundColorValue}};VirtualVTScreen.prototype.earseCharacterFromLineBegin=function(t=true,e,i){const n=e||this.insertionLine;for(let e=0;e<=this.positionInLine;e++){if(t&&n.elements[e]&&n.elements[e].isNonErasable)continue;if(n.elements[e]){if(i){n.elements[e]=null}else{this.eraseElement(n.elements[e])}}}};VirtualVTScreen.prototype.earseCharacterToLineRight=function(t=true,e,i,n,r){const s=i||this.insertionLine;const o=e?0:this.positionInLine;const l=n||this.width;for(let e=o;e<l;e++){if(t&&s.elements[e]&&s.elements[e].isNonErasable)continue;if(r){s.elements[e]=null}else{this.eraseElement(s.elements[e])}}s.updated=true};VirtualVTScreen.prototype.earseFromBegin=function(t=true){let i=this.terminalTop;for(let e=0;e<=this.lineNumber;e++){if(!i){break}if(i.id===this.insertionLine.id){this.earseCharacterFromLineBegin(t,this.insertionLine,true)}else{this.earseCharacterToLineRight(t,true,i,this.width,true)}i.updated=true;i=i.next}};VirtualVTScreen.prototype.earseToEnd=function(t=true,i){let n=i?this.terminalTop:this.insertionLine;const r=i?0:this.getCursorLineNumber();for(let e=r;e<this.height;e++){if(!n){break}if(!i&&n.id===this.insertionLine.id){this.earseCharacterToLineRight(t,false,this.insertionLine,this.width,true)}else{this.earseCharacterToLineRight(t,true,n,this.width,true)}n.updated=true;n=n.next}};VirtualVTScreen.prototype.saveCursor=function(){this.savedAttributes={lineNumber:this.getCursorLineNumber(),positionInLine:this.positionInLine,graphicAttributes:this.graphicAttributes,colorMode:this.colorMode,colorValue:this.colorValue,glyphSets:[].concat(this.glyphSets),glIndex:this.glIndex,grIndex:this.grIndex,ss2Trigger:this.ss2Trigger,ss3Trigger:this.ss3Trigger,originMode:this.originMode,implicitWrap:this.implicitWrap,isNonErasable:this.isNonErasable}};VirtualVTScreen.prototype.restoreCursor=function(){if(this.savedAttributes){this.setCursorInternal(this.savedAttributes.lineNumber,this.savedAttributes.positionInLine,true);this.graphicAttributes=this.savedAttributes.graphicAttributes;this.colorMode=this.savedAttributes.colorMode;this.colorValue=this.savedAttributes.colorValue;this.glyphSets=[].concat(this.savedAttributes.glyphSets);this.glIndex=this.savedAttributes.glIndex;this.grIndex=this.savedAttributes.grIndex;this.ss2Trigger=this.savedAttributes.ss2Trigger;this.ss3Trigger=this.savedAttributes.ss3Trigger;this.originMode=this.savedAttributes.originMode;this.implicitWrap=this.savedAttributes.implicitWrap;this.isNonErasable=this.savedAttributes.isNonErasable}else{protocolLogger.warn("Dont have saved attributes to restore from for escape 0x38");this.setCursorInternal(0,0);this.graphicAttributes=0;this.colorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;this.colorValue=0;this.glyphSets=VirtualVTScreen.resetGlyphSets();this.glIndex=0;this.grIndex=1;this.originMode=false;this.implicitWrap=false;this.isNonErasable=false}};VirtualVTScreen.prototype.sendMessage=function(e){var t=VirtualVTScreen.createMessage(e);if(t){messageLogger.debug("Sending VT message, dump follows");hexDump(e,messageLogger);tracer.logSentData(e,this);if(this.webSocket!=null){this.webSocket.send(JSON.stringify(t));this.heartbeat("send",this.callbacks?.heartbeatCallback)}}};VirtualVTScreen.prototype.sendSSHKeepAlive=function(){var e={t:"PING"};if(this.webSocket!=null){this.webSocket.send(JSON.stringify(e));this.heartbeat("send",this.callbacks?.heartbeatCallback)}};VirtualVTScreen.prototype.handleLineFeed=function(e){var t=this;if(t.isWriteToStatusline()){if(!t.lnm){for(var i=0;i<t.positionInStatusline;i++){t.insertChar(32)}}else{t.setCursorPositionInLine(0)}return}var n=t.scrollHeadRow!=null?t.scrollHeadRow:0;var r=t.scrollTailRow!=null?t.scrollTailRow:t.height-1;var s=t.getCursorLineNumber();if(t.atBottomLine(s)){if(!this.isOutMarginBottomLine(s)){t.addLine();if(!t.lnm){for(var i=0;i<t.positionInLine;i++){t.insertChar(32)}}else{t.setCursorPositionInLine(0)}if(t.scrollingElement){t.scrollingElement.setPos(-1)}}}else if(s==r&&t.scrollTailRow!=null){t.addLine();if(!t.lnm){for(var i=0;i<t.positionInLine;i++){t.insertChar(32)}}if(t.lnm){t.setCursorPositionInLine(0)}}else{t.moveCursor(1,0);if(t.lnm){t.setCursorPositionInLine(0)}}const o=e===11?10:e;if(this.printer.autoMode){this.printer.setAutoData(t,o)}};VirtualVTScreen.prototype.isOutMarginBottomLine=function(e){if(!this.scrollTailRow||this.scrollTailRow===this.height-1)return false;let t=e?e:this.getCursorLineNumber();return t>=this.height-1};VirtualVTScreen.prototype.keepAlive=function(){if(this.keepAliveEnable){const e=Number(this.connectionSettings.keepAlive.timerValue);const t=!this.isSecureConnection?Number(this.connectionSettings.keepAlive.timerOptions):Number(this.connectionSettings.keepAlive.sshKeepAlive);if(e){this.keepAliveTimer=setInterval(()=>{this.sendResponseToKeepAlive(t)},e*60*1e3)}}};VirtualVTScreen.prototype.sendResponseToKeepAlive=function(i){if(!this.isSecureConnection){if(i&&i<3){let e=this;if(!e.parser){e.parser=new VTParser(e,"VT_CLIENT_MESSAGE")}let t=e.parser;if(i===1){tecoreLogger.debug("sending telnet keep alive options "+TELNET_NOP);t.appendTelnetOptionResponse(TELNET_NOP)}else if(i===2){tecoreLogger.debug("sending telnet keep alive options "+TELNET_OPTION_TIMING_MARK);t.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_TIMING_MARK)}t.sendTelnetResponse(this.heartbeat,this.callbacks?.heartbeatCallback)}else if(i===3){this.heartbeat("send",this.callbacks?.heartbeatCallback)}}else{if(i){messageLogger.debug("Sending VT PING message");this.sendSSHKeepAlive()}}};VTParser.prototype.handleDECCUP=function(){var e=this.screen;var t=this.parseNumericalParams();if(t.length==0){e.setCursorInternal(0,0)}else if(t.length==1){e.setCursorInternal(t[0]-1,0)}else if(t.length==2){e.setCursorInternal(t[0]-1,t[1]-1)}else{throw new VTParseException("wrong number of params to CSIxf/H -'"+paramString+"'")}};VTParser.prototype.checksumDeviceAttributes=function(){const e=this.screen;let t=[];switch(e.termTypeString){case"vt102":t=[...VT_PRIMARY_DA_VT102];break;case"vt220":t=[...VT_PRIMARY_DA_VT220,...VT_SECONDARY_DA_VT220];break;case"vt320":t=[...VT_PRIMARY_DA_VT320,...VT_SECONDARY_DA_VT320];break;case"linux":case"xterm":case"vt420":t=[...VT_PRIMARY_DA_VT420,...VT_SECONDARY_DA_VT420];break;default:t=[...VT_PRIMARY_DA_VT102];protocolLogger.warn("Unknown term type specified:"+e.termTypeString+", sending VT102 string instead.")}return t};VTParser.prototype.get8bitControlCode=function(e){return this.screen.is8bit?[...VT_C1_8bit[e]]:[...VT_C1_7bit[e]]};VTParser.prototype.getANSIModeReportCode=function(e){const t=this.screen;let i;switch(e){case 1:i=52;break;case 2:i=t.keyboardLocked?49:50;break;case 3:i=48;break;case 4:i=t.charPlacementMode===PLACEMENT_MODE_INSERT?49:50;break;case 5:case 7:case 10:case 11:i=52;break;case 12:i=!t.localEcho?49:50;break;case 13:case 14:case 15:case 16:case 17:case 18:case 19:i=52;break;case 20:i=t.lnm?49:50;break;default:i=50;protocolLogger.warn("Unknown ANSI mode specified:"+e+", sending the setting of the mode with '2: reset'.")}let n=this.getCharCodeArray(e);return[...this.get8bitControlCode("CSI"),...n,59,i,36,121]};VTParser.prototype.getDECModeReportCode=function(e){const t=this.screen;let i;const n={18:"DECPFF",19:"DECPEX",34:"DECRLM",35:"DECHEBM",36:"DECHEM",42:"DECNRCM",57:"DECNAKB",61:"DECVCCM",64:"DECPCCM",68:"DECKBUM",73:"DECXRLM",81:"DECKPM",95:"DECNCSM",96:"DECRLCM",97:"DECCRTSM",98:"DECARSM",99:"DECMCM",100:"DECAAM",101:"DECNULM",102:"DECNULM",103:"DECHDPXM",104:"DECESKM",106:"DECOSCNM"};if(n[e]){this.noteUnimplemented(`DEC mode ${e} -- ${n[e]} unimplemented, sending the setting of the mode with '2: reset'.`)}switch(e){case 1:i=t.ckm===1?49:50;break;case 2:i=!t.vt52Mode?49:50;break;case 3:i=t.width===132?49:50;break;case 4:i=t.decsclm?49:50;break;case 5:i=t.decscnm?49:50;break;case 6:i=t.originMode?49:50;break;case 7:i=t.implicitWrap?49:50;break;case 8:i=t.autoRepeat?49:50;break;case 18:case 19:i=50;break;case 25:i=t.showCursor?49:50;break;case 34:case 35:case 36:case 42:case 57:i=50;break;case 60:i=52;break;case 61:case 64:i=50;break;case 66:i=t.decKeypadAppMode?49:50;break;case 67:i=!t.backspaceDeleteMode?49:50;break;case 68:i=50;break;case 69:i=t.enableLeftRightMarginMode?49:50;break;case 73:case 81:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 106:i=50;break;default:i=50;protocolLogger.warn("Unknown DEC mode specified:"+e+", sending the setting of the mode with '2: reset'.")}const r=this.getCharCodeArray(e);return[...this.get8bitControlCode("CSI"),63,...r,59,i,36,121]};VTParser.prototype.sendPrimaryIdentifier=function(){const e=this.screen;let t=this.get8bitControlCode("CSI");let i;switch(e.termTypeString){case"vt102":i=VT_PRIMARY_DA_VT102;break;case"vt220":i=VT_PRIMARY_DA_VT220;break;case"vt320":i=VT_PRIMARY_DA_VT320;break;case"linux":case"xterm":case"vt420":i=VT_PRIMARY_DA_VT420;break;default:i=VT_PRIMARY_DA_VT102;protocolLogger.warn("Unknown term type specified:"+e.termTypeString+", sending VT102 string instead.")}t.push(...i);protocolLogger.debug(`Sending response for device primary attributes for ${e.termTypeString}: ${t}`);e.sendMessage(t)};VTParser.prototype.sendSecondaryIdentifier=function(){let e=this.screen;let t=this.get8bitControlCode("CSI");let i;switch(e.termTypeString){case"vt220":i=VT_SECONDARY_DA_VT220;break;case"vt320":i=VT_SECONDARY_DA_VT320;break;case"linux":case"xterm":case"vt420":i=VT_SECONDARY_DA_VT420;break;default:i=VT_SECONDARY_DA_VT220;protocolLogger.debug("Unknown term type="+e.termTypeString+", sending VT220 string")}if(i){t.push(...i);protocolLogger.debug(`Sending response for device secondary attributes for ${e.termTypeString}: ${t}`);e.sendMessage(t)}};VTParser.prototype.appendTelnetOptionResponse=function(e,t){this.telnetResponse.push(255);this.telnetResponse.push(e);if(Number(t)>=0){this.telnetResponse.push(t)}};VTParser.prototype.handleTelnetSub=function(){var e=this.screen;var t=this.subBytes[0];telnetLogger.debug("Handling telnet sub type b=0x"+hex(t));switch(t){case TELNET_OPTION_WINDOW_SIZE:telnetLogger.debug("-- Telnet Sub=WINDOW_SIZE");e.sendWindowSize();break;case TELNET_OPTION_TERMINAL_TYPE:telnetLogger.debug("-- Telnet Sub=TERMINAL_TYPE");var i=[0];for(var n=0;n<e.termTypeString.length;n++){i.push(e.termTypeString.charCodeAt(n))}e.sendTelnetSub(TELNET_OPTION_TERMINAL_TYPE,i);break;default:telnetLogger.warn("Request for telnet sub of type 0x"+hex(t)+", but is unhandled")}};VTParser.prototype.handleTelnetOption=function(e){telnetLogger.debug("Handling telnet option");telnetLogger.debug("-- b=0x"+hex(e));switch(this.telnetVerb){case TELNET_DO:telnetLogger.debug("-- Verb=DO");switch(e){case TELNET_OPTION_BINARY:this.appendTelnetOptionResponse(TELNET_WONT,TELNET_OPTION_BINARY);break;case TELNET_OPTION_ECHO:tecoreLogger.info("Server requested telnet echo");this.screen.localEcho=true;this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_ECHO);break;case TELNET_OPTION_STATUS:this.appendTelnetOptionResponse(TELNET_DONT,TELNET_OPTION_STATUS);break;case TELNET_OPTION_WINDOW_SIZE:this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_WINDOW_SIZE);this.shouldSendWindowSize=true;this.screen.sendWindowSize();break;case TELNET_OPTION_TERMINAL_SPEED:this.appendTelnetOptionResponse(TELNET_WONT,TELNET_OPTION_TERMINAL_SPEED);break;case TELNET_OPTION_TERMINAL_TYPE:this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_TERMINAL_TYPE);break;case TELNET_OPTION_SUPPRESS_GO_AHEAD:this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_SUPPRESS_GO_AHEAD);this.telnetSuppressGoAhead=true;break;default:telnetLogger.warn("Defaulted on DO, sending WONT for b=0x"+hex(e));this.appendTelnetOptionResponse(TELNET_WONT,e)}break;case TELNET_DONT:telnetLogger.debug("-- Verb=DONT");switch(e){case TELNET_OPTION_ECHO:this.appendTelnetOptionResponse(TELNET_WONT,TELNET_OPTION_ECHO);this.screen.localEcho=false;this.telnetOptionServerEcho=true;break;case TELNET_OPTION_WINDOW_SIZE:break;default:this.appendTelnetOptionResponse(TELNET_WONT,e);telnetLogger.warn("Ignoring DONT for b=0x"+hex(e))}break;case TELNET_WONT:telnetLogger.debug("-- Verb=WONT");switch(e){case TELNET_OPTION_ECHO:telnetLogger.warn("HOST WONT ECHO BUT WE DO NOT SUPPORT ECHO YET");this.screen.localEcho=true;this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_ECHO);break;default:telnetLogger.warn("Ignoring WONT for b=0x"+hex(e))}break;case TELNET_WILL:telnetLogger.debug("-- Verb=WILL");switch(e){case TELNET_OPTION_BINARY:this.appendTelnetOptionResponse(TELNET_DONT,TELNET_OPTION_BINARY);break;case TELNET_OPTION_ECHO:if(this.replyToEcho){this.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_ECHO)}break;case TELNET_OPTION_STATUS:this.appendTelnetOptionResponse(TELNET_DONT,TELNET_OPTION_STATUS);break;case TELNET_OPTION_ENCRYPTION:this.appendTelnetOptionResponse(TELNET_DONT,TELNET_OPTION_ENCRYPTION);break;case TELNET_OPTION_SUPPRESS_GO_AHEAD:this.appendTelnetOptionResponse(TELNET_DO,TELNET_OPTION_SUPPRESS_GO_AHEAD);break;default:telnetLogger.warn("Ignoring WILL for b=0x"+hex(e))}break}if(this.firstTelnetOptionSeen===false){this.appendTelnetOptionResponse(TELNET_WILL,TELNET_OPTION_WINDOW_SIZE);this.firstTelnetOptionSeen=true}};VTParser.prototype.clear=function(){this.params=[];this.intermediateBytes=[];this.privateChar=0;this.finalBytes=0;this.oscType=[];this.oscParams=[]};VTParser.prototype.insert=function(e){if(this.screen){const t=this.screen.preInsertChar;t.element=this.screen.insertChar(e);t.baseCount=0;protocolLogger.log(protocolLogger.FINER,"Insert to Screen: b=0x"+hex(e)+", char="+String.fromCharCode(e)+", newRow="+this.screen.getCursorLineNumber()+", newCol="+this.screen.positionInLine)}};const getParameterAsNumber=function(e,t){var i=t;if(e.length>0){i=Number(e)}if(i<t){i=t}return i};const getCursorBackTab=function(t,i,n){let r=false;for(let e=i;e>=0;e--){if(n[e]===1){t--;if(t===0){r=true;return e}}}if(!r){return 0}};const getCursorHorForwardTab=function(t,i,n,r){let s=false;if(t===0){return i}for(let e=i;e<n;e++){if(r[e]===1){t--;if(t===0){s=true;return e}}}if(!s){return n-1}};const getCursorColPos=function(e,t,i){const n=e+t;return Math.max(Math.min(n,i-1),0)};const getCursorRowPos=function(e,t,i){const n=e+t;return Math.max(Math.min(n,i-1),0)};VTParser.prototype.execute=function(e){var t=this.screen;protocolLogger.debug("Execute b=0x"+hex(e));var i=false;if(t!=null){switch(e){case 0:break;case 5:if(t.answerback&&Array.isArray(t.answerback)){t.inputFromArray(t.answerback)}break;case 7:if(t.hostBell.enable){t.beep()}break;case 8:t.handleBackspace();break;case 9:const n=getCursorHorForwardTab(1,t.getPosInLine()+1,t.getMaxWidth(),t.tabStop);t.setCursorPositionInLine(n);break;case 10:case 11:case 12:t.handleLineFeed(e);break;case 13:t.setCursorPositionInLine(0);break;case 14:t.glIndex=1;break;case 15:t.glIndex=0;break;case 24:i=true;break;case 26:i=true;break;case 127:if(t.handleAsciiDelete!=ASCII_DELETE_IGNORE){t.handleDelete()}break;case 132:protocolLogger.debug("-- type=(8bit --IND) Next line");this.handleNextLine(t,true);break;case 133:protocolLogger.debug("-- type=(8bit --NEL) Next line");this.handleNextLine(t);break;case 136:protocolLogger.debug("-- type=(8bit --HTS) Horizontal tab set");t.tabStop[t.getPosInLine()]=1;break;case 141:if(t.isWriteToStatusline())break;this.handleReverseIndex(t);break;case 142:protocolLogger.debug("-- type=(8bit --SS2) Single shift 2");t.ss2Trigger=true;break;case 143:protocolLogger.debug("-- type=(8bit --SS3) Next line");t.ss3Trigger=true;break;default:protocolLogger.warn("Unhandled execute b=0x"+hex(e));break}}return i};VTParser.prototype.collect=function(e){if(e<48){this.intermediateBytes.push(e)}else if(e<58){parseLogger.warn("Collect given low value byte, b=0x"+hex(e));throw new IllegalArgumentException("collect should not get digits")}else if(e<64){this.privateChar=e}};VTParser.prototype.param=function(e){this.params.push(e)};VTParser.prototype.paramString=function(){try{var e=this.params;if(e.length===0){return""}parseLogger.debug("Param string as hex=");hexDump(e,parseLogger);return String.fromCharCode.apply(null,e)}catch(e){return"<OOPS>"}};VTParser.prototype.intermediateString=function(){try{var e=this.intermediateBytes;parseLogger.debug("Intermediate string as hex=");hexDump(e,parseLogger);return String.fromCharCode.apply(null,e)}catch(e){return"<OOPS>"}};VTParser.prototype.noteUnimplemented=function(e){protocolLogger.warn("Unimplemented: "+e)};VTParser.prototype.noteUnhandledCsiDispatch=function(e,t){let i=`Unhandled intermediates: ${this.intermediateBytes} and parameters: ${t} for CSI dispatch character: 0x${hex(e)}`;i+=this.privateChar?` with private char ${this.privateChar}`:"";protocolLogger.warn(i)};VTParser.prototype.modifyRectAttributes=function(t,i){if(!t||t.length<4)return;if(t[0]>t[2]||t[1]>t[3]){protocolLogger.warn("top-line/left-column border must be less than or equal to bottom-line/right-column border!");return}const e=this.screen;const n=e.getCursorLineNumber();const r=e.positionInLine;let s=t[0]===0?0:Math.min(Math.max(t[0]-1,0),e.height-1);let o=t[1]===0?0:Math.min(Math.max(t[1]-1,0),e.width-1);let l=t[2]===0?e.height-1:Math.min(Math.max(t[2]-1,0),e.height-1);let a=t[3]===0?e.width-1:Math.min(Math.max(t[3]-1,0),e.width-1);let c=e.getLineByRow(s);const u={isStartRow:false,isEndRow:false};const h={startRow:s,startCol:o,endRow:l,endCol:a};for(let e=s;e<=l;e++){if(!c)break;u.isStartRow=e===s;u.isEndRow=e===l;if(i){this.setReverseAreaExtent(c,t,u,h)}else{this.setAreaExtent(c,t,u,h)}c=c.next}e.setCursorInternal(n,r)};VTParser.prototype.setAreaExtent=function(i,n,e,t){let r=t.startCol,s=t.endCol;if(this.selectAttrChangeExt!==2){r=e.isStartRow?r:0;s=e.isEndRow?s:this.screen.width-1}if(!i)return;for(let t=r;t<=s;t++){if(i&&i.elements[t]){for(let e=4;e<n.length;e++){switch(n[e]){case 0:i.elements[t].graphicAttributes=0;break;case 1:i.elements[t].graphicAttributes|=TEXT_RENDER_HIGH;break;case 4:i.elements[t].graphicAttributes|=TEXT_RENDER_UNDERSCORE;break;case 5:i.elements[t].graphicAttributes|=TEXT_RENDER_BLINK;this.screen.setLineBlink(i.elements[t],i);break;case 7:i.elements[t].graphicAttributes|=TEXT_RENDER_REVERSE;break;case 22:i.elements[t].graphicAttributes&=~TEXT_RENDER_HIGH;break;case 24:i.elements[t].graphicAttributes&=~TEXT_RENDER_UNDERSCORE;break;case 25:i.elements[t].graphicAttributes&=~TEXT_RENDER_BLINK;this.screen.setLineBlink(i.elements[t],i);break;case 27:i.elements[t].graphicAttributes&=~TEXT_RENDER_REVERSE;break}}}}i.updated=true};VTParser.prototype.setReverseAreaExtent=function(i,n,e,t){let r=t.startCol,s=t.endCol;if(this.selectAttrChangeExt!==2){r=e.isStartRow?r:0;s=e.isEndRow?s:this.screen.width-1}if(!i)return;for(let t=r;t<=s;t++){if(i.elements[t]){for(let e=4;e<n.length;e++){switch(n[e]){case 0:i.elements[t].graphicAttributes&=~i.elements[t].graphicAttributes;break;case 1:if(i.elements[t].graphicAttributes&TEXT_RENDER_HIGH){i.elements[t].graphicAttributes&=~TEXT_RENDER_HIGH}else{i.elements[t].graphicAttributes|=TEXT_RENDER_HIGH}break;case 4:if(i.elements[t].graphicAttributes&TEXT_RENDER_UNDERSCORE){i.elements[t].graphicAttributes&=~TEXT_RENDER_UNDERSCORE}else{i.elements[t].graphicAttributes|=TEXT_RENDER_UNDERSCORE}break;case 5:if(i.elements[t].graphicAttributes&TEXT_RENDER_BLINK){i.elements[t].graphicAttributes&=~TEXT_RENDER_BLINK}else{i.elements[t].graphicAttributes|=TEXT_RENDER_BLINK}this.screen.setLineBlink(i.elements[t],i);break;case 7:if(i.elements[t].graphicAttributes&TEXT_RENDER_REVERSE){i.elements[t].graphicAttributes&=~TEXT_RENDER_REVERSE}else{i.elements[t].graphicAttributes|=TEXT_RENDER_REVERSE}break}}}}i.updated=true};VTParser.prototype.parseNumericalParams=function(){var e=this.params;var t=[];var i=0;var n=false;var r;for(r=0;r<e.length;r++){var s=e[r];var o=s;if(o==59){t.push(i);n=false;i=0}else if(o>=48&&o<=57){i=i*10+(o-48);n=true}else{if(this.showException){throw new VTParseException("unexpected numerical parms "+this.paramString())}parseLogger.debug("Numerical params="+JSON.stringify(l));console.log("unexpected numerical parms "+this.paramString())}}if(n){t.push(i)}var l=new Array(t.length);for(r=0;r<l.length;r++){l[r]=t[r]}parseLogger.debug("Numerical params="+JSON.stringify(l));return l};var addLoggingSeperator=function(e){var t="--------------------------------------------------------------------------------";if(e&&e.debug){e.debug(t)}else{tecoreLogger.debug(t)}};VTParser.prototype.noteCSIUnimplemented=function(e){this.noteUnimplemented("unhandled CSI dispatch character:0x"+hex(e))};VTParser.prototype.noIntermediateBytes=function(){return!this.intermediateBytes||this.intermediateBytes.length===0};VTParser.prototype.isEqualIntermediateBytes=function(e){const t=typeof this.intermediateBytes===typeof e;return t&&Array.isArray(e)&&e.join()===this.intermediateBytes.join()};VTParser.prototype.csiDispatch=function(t){var n=this.screen;var i=this.paramString();protocolLogger.debug("CSI Dispatch Start:");protocolLogger.debug("-- b=0x"+hex(t)+", parms="+i+", intermediate="+this.intermediateString());const r=this.parseNumericalParams();switch(t){case 64:if(this.noIntermediateBytes()){protocolLogger.debug("-- type=Insert characters");protocolLogger.debug("IC start, line elements="+JSON.stringify(n.insertionLine.elements));var B=getParameterAsNumber(i,1);var U=n.positionInLine+B;var s=n.insertionLine;var o=n.positionInLine;while(o<U){var x=new BufferElement(32);var K=s.elements[o];var V=o+1;for(var l=V;l<n.width-1;l++){var Y=s.elements[l];s.elements[l]=K;K=Y}s.elements[o++]=x}s.updated=true;protocolLogger.debug("IC end, line elements="+JSON.stringify(n.insertionLine.elements))}else if(this.isEqualIntermediateBytes([parseInt("0x20",16)])&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(SL) Scroll Left");const b3=r.length===0?1:r[0];n.insertOrDeleteElementsInScreen(VirtualVTScreen.DELETE,0,n.terminalTop,n.linesInTerminal,b3)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 65:if(this.noIntermediateBytes()){protocolLogger.debug("-- type=(CUU) Cursor Up");if(n.isWriteToStatusline())break;const R=getParameterAsNumber(i,1);const m=n.getCursorLineNumber();const P3=n.scrollHeadRow!==null?n.scrollHeadRow:0;const N=m<P3?Math.max(0,m-R):Math.max(P3,m-R);n.setCursorInternal(N,n.positionInLine)}else if(this.isEqualIntermediateBytes([parseInt("0x20",16)])&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(SR) Scroll Right");const D3=r.length===0?1:r[0];n.insertOrDeleteElementsInScreen(VirtualVTScreen.INSERT,0,n.terminalTop,n.linesInTerminal,D3)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 66:protocolLogger.debug("-- type=(CUD) Cursor Down");if(n.isWriteToStatusline())break;const R=getParameterAsNumber(i,1);const m=n.getCursorLineNumber();const n3=n.scrollTailRow!==null?n.scrollTailRow:n.height-1;const N=m>n3?Math.min(n.height-1,m+R):Math.min(n3,m+R);n.setCursorInternal(N,n.positionInLine);break;case 67:protocolLogger.debug("-- type=(CUF) Cursor Right");var H=getParameterAsNumber(i,1);n.moveCursor(0,H);break;case 68:protocolLogger.debug("-- type=(CUB) Cursor Left");var H=getParameterAsNumber(i,1);n.moveCursor(0,-H);break;case 69:protocolLogger.debug("-- type=(CNL) Cursor Next Line");if(n.isWriteToStatusline()){n.setCursorPositionInLine(0);break};const r3=getParameterAsNumber(i,1);const s3=n.getCursorLineNumber();const o3=getCursorRowPos(s3,r3,n.height);n.setCursorPositionInLine(0);n.setCursorInternal(o3,n.positionInLine);break;case 70:protocolLogger.debug("-- type=(CPL) Cursor Previous Line");if(n.isWriteToStatusline()){n.setCursorPositionInLine(0);break};const l3=getParameterAsNumber(i,1);const a3=n.getCursorLineNumber();const c3=getCursorRowPos(a3,-l3,n.height);n.setCursorPositionInLine(0);n.setCursorInternal(c3,n.positionInLine);break;case 71:{protocolLogger.debug("-- type=(CHA) Cursor Character Absolute");var a=this.parseNumericalParams();var G=n.getCursorLineNumber();if(a.length==0){n.setCursorInternal(G,0)}else{n.setCursorInternal(G,a[0]-1)}}break;case 72:{protocolLogger.debug("-- type=(CUP) Position Cursor");this.handleDECCUP()}break;case 73:protocolLogger.debug("-- type=(CHT) Cursor Forward Tab");const u3=this.parseNumericalParams();const h3=u3.length?u3[0]:1;const d3=getCursorHorForwardTab(h3,n.getPosInLine(),n.getMaxWidth(),n.tabStop);n.setCursorPositionInLine(d3);break;case 74:const A=r.length?r[0]:0;if(!n.isValidEraseParam(i)){protocolLogger.warn("Erase in Display had unexpected param string="+i)}else if(n.isWriteToStatusline()){const O=this.privateChar==63;n.eraseStatusLine(i,O,true)}else if(n.insertionLine){if(this.privateChar==63){protocolLogger.debug("-- type=(DECSED) Selective Erase in Display");if(A===0){if(n.positionInLine===n.minColumn&&n.getCursorLineNumber()===0){n.clearMargin();n.newScreen();break}n.earseToEnd()}else if(A===1){n.earseFromBegin()}else{n.earseToEnd(true,true)}}else{protocolLogger.debug("-- type=(ED) Erase in display");if(A===0){protocolLogger.debug("-- subtype=Erase to End of screen");if(n.positionInLine===n.minColumn&&n.getCursorLineNumber()===0){n.clearMargin();n.newScreen();break}n.earseToEnd(false)}else if(A===1){protocolLogger.debug("-- subtype=Erase from beginning");n.earseFromBegin(false)}else if(A==2){n.clearMargin();n.newScreen()}else if(A===3){protocolLogger.debug("-- subtype=Erase saved lines");this.noteUnimplemented("Erase saved lines (xterm)")}}}break;case 75:protocolLogger.debug("-- type=(EL) Erase in line");if(!n.isValidEraseParam(i)){protocolLogger.warn("Erase in line had unexpected param string="+i)}else if(n.isWriteToStatusline()){const O=this.privateChar==63;n.eraseStatusLine(i,O)}else if(this.privateChar==63){this.noteUnimplemented("should perform DECSEL");const L3=r.length?r[0]:0;if(L3===0){n.earseCharacterToLineRight()}else if(L3===1){n.earseCharacterFromLineBegin()}else{n.earseCharacterToLineRight(true,true)}}else{var s=n.getCursorLineNumber();protocolLogger.debug("before eraseRange insertionLine="+s);if(i==""||i=="0"){protocolLogger.debug("-- subtype=Erase right");n.eraseRange(s,USE_CURRENT_COLUMN,s,n.width-1)}else if(i=="1"){protocolLogger.debug("-- subtype=Erase left");n.eraseRange(s,0,s,USE_CURRENT_COLUMN)}else if(i=="2"){protocolLogger.debug("-- subtype=Erase all");n.eraseRange(s,0,s,n.width-1)}}break;case 76:protocolLogger.debug("-- type=(IL) Insert lines");if(n.isWriteToStatusline())break;const p3=r.length?r[0]:1;if(n.inActiveRegion(n.lineNumber)){n.insertLine(p3,n.insertionLine);n.setCursorPositionInLine(0)}else{protocolLogger.debug("IL has no effect since cursor is outside the page margins.")}break;case 77:protocolLogger.debug("-- type=(DL) Delete lines");if(n.isWriteToStatusline())break;const f3=r.length?r[0]:1;if(n.inActiveRegion(n.lineNumber)){n.deleteLine(f3,n.insertionLine);n.setCursorPositionInLine(0)}else{protocolLogger.debug("DL has no effect since cursor is outside the page margins.")}break;case 80:if(this.noIntermediateBytes()&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(DCH) Delete characters");var c=getParameterAsNumber(i,1);if(c===0){c=1}var W=n.getPosInLine();var X=c+W<n.width?c:n.width-1-W;var z=n.getInsertionline();n.deleteCharacters(X,z,W)}else if(this.isEqualIntermediateBytes([parseInt("0x20",16)])&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(PPA) Page memory function: Page Position Absolute");if(n.isWriteToStatusline())break;const b=!r[0]?1:r[0];n.updateScreenWithPageMemory(b,true)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 81:if(this.isEqualIntermediateBytes([parseInt("0x20",16)])&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(PPA) Page memory function: Page Position Relative");if(n.isWriteToStatusline())break;const P=!r[0]?1:r[0];const b=n.currentPageNum+P;n.updateScreenWithPageMemory(b,true)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 82:if(this.isEqualIntermediateBytes([parseInt("0x20",16)])&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(PPA) Page memory function: Page Position Backward");if(n.isWriteToStatusline())break;const D=!r[0]?1:r[0];const b=n.currentPageNum-D;n.updateScreenWithPageMemory(b,true)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 83:protocolLogger.debug("-- type=(SU) Scroll up");if(r.length>0){if(n.isWriteToStatusline())break;n.handlePanDown(r[0])}else{this.noteUnimplemented("0x53, unknown")}break;case 84:protocolLogger.debug("-- type=(SD) Scroll down");if(r.length>0){if(n.isWriteToStatusline())break;n.handlePanUp(r[0])}else{this.noteUnimplemented("0x54, unknown")}break;case 85:if(this.noIntermediateBytes()&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(NP) Page memory function: Next Page");if(n.isWriteToStatusline())break;const P=!r[0]?1:r[0];const b=n.currentPageNum+P;n.updateScreenWithPageMemory(b)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 86:if(this.noIntermediateBytes()&&(r.length===0||r.length===1)){protocolLogger.debug("-- type=(PP) Page memory function: Preceding Page");if(n.isWriteToStatusline())break;const D=!r[0]?1:r[0];const b=n.currentPageNum-D;n.updateScreenWithPageMemory(b)}else{this.noteUnhandledCsiDispatch(t,r)}break;case 88:protocolLogger.debug("-- type=(ECH) Erase characters");protocolLogger.debug("Erase characters: WARNING, concern about if allowed to erase characters with erase lock attribute");const E3=Math.max(r.length?r[0]:1,1);const T3=Math.min(n.positionInLine+E3,n.width);n.earseCharacterToLineRight(false,false,n.getInsertionline(),T3);break;case 89:protocolLogger.debug("-- type=(CVT) Character vertical tab");this.noteCSIUnimplemented(t);break;case 90:protocolLogger.debug("-- type=(CBT) Character backward tab");const _3=this.parseNumericalParams();const g3=_3.length?_3[0]:1;const S3=n.getPosInLine();const C3=getCursorBackTab(g3,S3,n.tabStop);n.setCursorPositionInLine(C3);break;case 96:protocolLogger.debug("-- type=(HPA) Horizontal position absolute");if(n.positionMode!=VT_POSITION_MODE_RC){protocolLogger.warn("Cannot handle HPA in decipoint mode");this.noteCSIUnimplemented(t)}else{n.setCursorPositionInLine(getParameterAsNumber(i,1)-1)}break;case 97:const R3=this.parseNumericalParams();if(R3.length!==1){protocolLogger.warn("Cannot handle HPR if there is not only one Pn")}else{protocolLogger.debug("-- type=(HPR) Horizontal position relative");const v3=getCursorColPos(n.getPosInLine(),R3[0],n.width);n.setCursorPositionInLine(v3)}break;case 98:protocolLogger.debug("-- type=(REP) Repeat previous character in data stream");const m3=r.length?r[0]:1;const y=n.preInsertChar;if(y.baseCount===1&&y.element!==undefined){let e=n.getInsertionline();if(!e){protocolLogger.warn("No insertion line for REP")}else{const M3=y.element;let t=e.elements;let i=n.getPosInLine();for(let e=0;e<m3;e++){if(i<=n.width-1){t[i]=M3;if(i===n.width-1){break}i++}}if(n.isWriteToStatusline()){n.positionInStatusline=i}else{n.positionInLine=i}}}else{protocolLogger.warn(`No previous element found for REP, current position r=${n.getCursorLineNumber()}, c=${n.positionInLine}`)}break;case 99:protocolLogger.debug("-- type=(DA) Device attributes");if(this.privateChar==63){this.noteUnimplemented("Send Device Attributes Secondary DA")}else if(!this.privateChar||this.privateChar==0){this.sendPrimaryIdentifier()}else if(this.privateChar==62){if(i==""||i=="0"){this.sendSecondaryIdentifier()}else{protocolLogger.warn("Unhandled device attribute command, privateChar = >, paramString="+i)}}else{this.noteUnimplemented("0x63 with privateChar="+hex(this.privateChar))}break;case 100:const N3=this.parseNumericalParams();if(n.positionMode!=VT_POSITION_MODE_RC){this.noteUnimplemented("VPA with decipoint")}else if(N3.length!==1){protocolLogger.warn("when process: CSI Pn e, there is not only one pn")}else{protocolLogger.debug("-- type=(VPA) Line position absolute");const w3=Math.max(N3[0]-1,0);n.setCursorInternal(w3,n.getPosInLine())}break;case 101:const A3=this.parseNumericalParams();const y3=n.getCursorLineNumber();if(A3.length!==1){protocolLogger.warn("Cannot handle VPR if there is not only one Pn")}else{protocolLogger.debug("-- type=(VPR) Line position relative");const F3=getCursorRowPos(y3,A3[0],n.height);n.setCursorInternal(F3,n.getPosInLine())}break;case 102:protocolLogger.debug("-- type=(HVP) Horizontal vertical position");this.handleDECCUP();break;case 103:protocolLogger.debug("-- type=(TBC) Tab clear");const I3=r.length?r[0]:0;if(I3===0){n.tabStop[n.getPosInLine()]=0}else if(I3===3){n.tabStop=new Array(n.tabStop.length).fill(0)}else{protocolLogger.warn("Unexpected parameter for tab clear -'"+i+"'")}break;case 104:protocolLogger.debug("-- type=(SET) mode set");var a=this.parseNumericalParams();if(this.privateChar==63){for(var u=0;u<a.length;u++){var h=a[u];switch(h){case 1:n.ckm=1;break;case 2:n.vt52Mode=false;break;case 3:n.clearMargin();n.pageMemory=n.initPageMemory();n.currentPageNum=1;if(n.statuslineType===2){n.statusline=n.createStatusline();n.positionInStatusline=0}n.setCursorPositionInLine(0);n.updateBufferMaxlines(24);n.resize(132,24);n.width=132;n.height=24;break;case 4:n.decsclm=true;break;case 5:n.decscnm=true;n.renderer.setReverseVideo();break;case 6:n.originMode=true;n.setCursorInternal(0,0);break;case 7:n.implicitWrap=true;break;case 8:n.autoRepeat=true;break;case 12:n.renderer.resumeBlinking();break;case 18:n.printer.formFeedMode=true;break;case 19:n.printer.extentMode=true;break;case 25:n.showCursor=true;n.renderer.unhideCursor();break;case 42:this.noteUnimplemented("unhandled DECNRCM: National Replacement Character Set Mode.");break;case 11:protocolLogger.warn("Not implemented: decipoints instead of row/column");case 64:break;case 66:n.decKeypadAppMode=true;break;case 67:n.backspaceDeleteMode=false;break;case 69:n.enableLeftRightMarginMode=true;break;case 81:this.noteUnimplemented("unhandled DECKPM—Key Position Mode");break;default:this.noteUnimplemented("mode setting case=?"+h)}}}else if(this.privateChar){this.noteUnimplemented("unhandled CSI dispatch privateChar=0x"+hex(this.privateChar)+";character=0x"+hex(t))}else{if(a.length===0){this.noteUnimplemented("Mode setting default case");break}for(var u=0;u<a.length;u++){var h=a[u];switch(h){case 2:protocolLogger.debug("Mode setting: lock keyboard");this.screen.keyboardLocked=true;break;case 4:protocolLogger.debug("Mode setting: insert mode");this.screen.charPlacementMode=PLACEMENT_MODE_INSERT;break;case 12:protocolLogger.debug("Mode setting: send/receive mode (SRM), local echo off");this.screen.localEcho=false;break;case 20:protocolLogger.debug("Setting LNM true");this.screen.lnm=true;break;default:this.noteUnimplemented("Mode setting case="+h)}}}break;case 105:if(this.privateChar===63){switch(r[0]){case 4:if(this.screen.printer.autoMode){this.screen.printer.autoMode=false;this.screen.printer.print(this.screen,true);protocolLogger.debug("-- Turns off printer auto mode")}break;case 5:if(!this.screen.printer.controllerMode){this.screen.printer.autoMode=true;protocolLogger.debug("-- Turns on printer auto mode")}break;case 10:this.screen.printer.printMainDisplay(this.screen,true);protocolLogger.debug("-- Print composed main-display(MC)");break;case 11:this.screen.printer.printPageMemory(this.screen);protocolLogger.debug("-- Print all pages (MC)");break;default:this.noteUnimplemented(`Unhandled printer controller mode CSI ${r[0]} i`)}}else{if(r.length===0){this.screen.printer.printMainDisplay(this.screen);protocolLogger.debug("-- Print-page (MC)")}else{switch(r[0]){case 0:this.screen.printer.printMainDisplay(this.screen);protocolLogger.debug("-- Print-page (MC)");break;case 4:if(this.screen.printer.controllerMode){this.screen.printer.controllerMode=false;this.screen.printer.print(this.screen,true);protocolLogger.debug("-- Turns off printer controller mode")}break;case 5:if(!this.screen.printer.controllerMode){this.screen.printer.autoMode=false;this.screen.printer.data=[];this.screen.printer.controllerMode=true;protocolLogger.debug("-- Turns on printer controller mode")}break;default:this.noteUnimplemented(`Unhandled printer controller mode CSI ${r[0]} i`)}}}break;case 108:protocolLogger.debug("-- type=(RM) mode reset");var a=this.parseNumericalParams();if(this.privateChar==63){for(var u=0;u<a.length;u++){var h=a[u];switch(h){case 1:n.ckm=0;break;case 2:n.vt52Mode=true;break;case 3:n.clearMargin();n.pageMemory=n.initPageMemory();n.currentPageNum=1;if(n.statuslineType===2){n.statusline=n.createStatusline();n.positionInStatusline=0}n.setCursorPositionInLine(0);n.updateBufferMaxlines(24);n.resize(80,24);n.width=80;n.height=24;break;case 4:n.decsclm=false;break;case 5:n.decscnm=false;n.renderer.unsetReverseVideo();break;case 6:n.originMode=false;n.setCursorInternal(0,0);break;case 7:n.implicitWrap=false;break;case 8:n.autoRepeat=false;break;case 12:n.renderer.pauseBlinking();break;case 18:n.printer.formFeedMode=false;break;case 19:n.printer.extentMode=false;break;case 25:n.showCursor=false;n.renderer.hideCursor();break;case 42:this.noteUnimplemented("unhandled DECNRCM: National Replacement Character Set Mode.");break;case 34:break;case 64:break;case 66:n.decKeypadAppMode=false;break;case 67:n.backspaceDeleteMode=true;break;case 69:n.enableLeftRightMarginMode=false;break;case 1e3:this.noteUnimplemented("Xterm mode resetting: dont send mouse x&y on button press & release");break;case 1001:this.noteUnimplemented("Xterm mode resetting: dont use hilite mouse tracking");break;case 1002:this.noteUnimplemented("Xterm mode resetting: dont use cell motion mouse tracking");break;case 1003:this.noteUnimplemented("Xterm mode resetting: dont use all motion mouse tracking");break;case 1004:this.noteUnimplemented("Xterm mode resetting: dont send focusin/focusout events");break;case 1005:this.noteUnimplemented("Xterm mode resetting: disable utf-8 mouse mode");break;case 1006:this.noteUnimplemented("Xterm mode resetting: disable sgr mouse mode");break;case 1007:this.noteUnimplemented("Xterm mode resetting: disable alternate scroll mode");break;case 1010:this.noteUnimplemented("Xterm mode resetting: dont scroll to bottom on tty output (rxvt)");break;case 1011:this.noteUnimplemented("Xterm mode resetting: dont scroll to bottom on key press (rxvt)");break;case 1015:this.noteUnimplemented("Xterm mode resetting: disable urxvt mouse mode");break;case 1034:this.noteUnimplemented("Xterm mode resetting: dont interpret meta key");break;case 11:protocolLogger.warn("Not implemented: decipoints instead of row/column");break;default:this.noteUnimplemented("Suspected Xterm mode resetting, b="+h)}}}else{if(a.length===0){this.noteUnimplemented("Mode resetting default case");break}for(var u=0;u<a.length;u++){var h=a[u];switch(h){case 2:protocolLogger.debug("Mode resetting: lock keyboard");this.screen.keyboardLocked=false;protocolLogger.debug("Mode resetting warning: not supposed to unlock if locked by DC3");break;case 4:protocolLogger.debug("Mode resetting: replace mode");this.screen.charPlacementMode=PLACEMENT_MODE_REPLACE;break;case 12:protocolLogger.debug("Mode setting: send/receive mode (SRM), local echo on");this.screen.localEcho=true;break;case 20:protocolLogger.debug("Resetting LNM false");this.screen.lnm=false;break;default:this.noteUnimplemented("Mode resetting case="+h)}}}break;case 109:{protocolLogger.debug("-- type=(SGR) set graphics rendition");var a=this.parseNumericalParams();if(a.length==0){a=[0]}var u=0;while(u<a.length){var h=a[u];switch(h){case 0:n.graphicAttributes=0;n.colorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;n.colorValue=0;n.backgroundColorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;n.backgroundColorValue=0;u++;break;case 1:n.graphicAttributes|=TEXT_RENDER_HIGH;n.graphicAttributes&=~TEXT_RENDER_LOW;u++;break;case 2:n.graphicAttributes&=~TEXT_RENDER_HIGH;n.graphicAttributes|=TEXT_RENDER_LOW;u++;break;case 4:n.graphicAttributes|=TEXT_RENDER_UNDERSCORE;u++;break;case 5:n.graphicAttributes|=TEXT_RENDER_BLINK;u++;break;case 7:n.graphicAttributes|=TEXT_RENDER_REVERSE;u++;break;case 8:n.graphicAttributes|=TEXT_RENDER_HIDDEN;u++;break;case 21:n.graphicAttributes&=~TEXT_RENDER_HIGH;break;case 22:n.graphicAttributes&=~TEXT_RENDER_HIGH;n.graphicAttributes&=~TEXT_RENDER_LOW;u++;break;case 24:n.graphicAttributes&=~TEXT_RENDER_UNDERSCORE;u++;break;case 25:n.graphicAttributes&=~TEXT_RENDER_BLINK;u++;break;case 27:n.graphicAttributes&=~TEXT_RENDER_REVERSE;u++;break;case 28:n.graphicAttributes&=~TEXT_RENDER_HIDDEN;u++;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:n.colorMode=VirtualVTScreen.COLOR_MODE_STANDARD;n.colorValue=h-30;protocolLogger.debug("Set color mode=STANDARD, value=0x"+hex(n.colorValue));u++;break;case 38:{if(u+1<a.length&&a[u+1]==5){if(u+2<a.length){n.colorMode=VirtualVTScreen.COLOR_MODE_TABLE;n.colorValue=a[u+2];protocolLogger.debug("Set color mode=TABLE, value=0x"+hex(n.colorValue));u+=2}else{protocolLogger.warn("Could not set color mode, bad TABLE color parameter="+i);u++}}else if(u+1<a.length&&a[u+1]==2){if(u+4<a.length){var q=Math.max(0,Math.min(255,a[2]));var j=Math.max(0,Math.min(255,a[3]));var Q=Math.max(0,Math.min(255,a[4]));n.colorMode=VirtualVTScreen.COLOR_MODE_RGB;n.colorValue=q<<16|j<<8|Q;protocolLogger.debug("Set color mode=RGB, value=0x"+hex(n.colorValue));u+=4}else{protocolLogger.warn("Could not set color mode, bad RGB color parameter="+i);u++}}else{protocolLogger.warn("Unexpected parameter for SGM="+i);u++}}break;case 39:n.colorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;n.colorValue=0;n.graphicAttributes&=~TEXT_RENDER_HIGH;n.graphicAttributes&=~TEXT_RENDER_LOW;protocolLogger.debug("Set color mode=DEFAULT");u++;break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:n.backgroundColorMode=VirtualVTScreen.COLOR_MODE_STANDARD;n.backgroundColorValue=h-40;protocolLogger.debug("Set bg color mode=STANDARD, value=0x"+hex(n.colorValue));u++;break;case 48:{if(u+1<a.length&&a[u+1]==5){if(u+2<a.length){n.backgroundColorMode=VirtualVTScreen.COLOR_MODE_TABLE;n.backgroundColorValue=a[u+2];protocolLogger.debug("Set bg color mode=TABLE, value=0x"+hex(n.backgroundColorValue));u+=2}else{protocolLogger.warn("Could not set bg color mode, bad TABLE color parameter="+i);u++}}else if(u+1<a.length&&a[u+1]==2){if(u+4<a.length){var q=Math.max(0,Math.min(255,a[2]));var j=Math.max(0,Math.min(255,a[3]));var Q=Math.max(0,Math.min(255,a[4]));n.backgroundColorMode=VirtualVTScreen.COLOR_MODE_RGB;n.backgroundColorValue=q<<16|j<<8|Q;protocolLogger.debug("Set bg color mode=RGB, value=0x"+hex(n.backgroundColorValue));u+=4}else{protocolLogger.warn("Could not set bg color mode, bad RGB color parameter="+i);u++}}else{protocolLogger.warn("Unexpected parameter for bg SGM="+i);u++}}break;case 49:n.backgroundColorMode=VirtualVTScreen.COLOR_MODE_DEFAULT;n.backgroundColorValue=0;protocolLogger.debug("Set bg color mode=DEFAULT");u++;break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:n.colorMode=VirtualVTScreen.COLOR_MODE_STANDARD;n.colorValue=h-90;n.graphicAttributes|=TEXT_RENDER_HIGH;n.graphicAttributes&=~TEXT_RENDER_LOW;protocolLogger.debug("Set color mode=STANDARD BOLD, value=0x"+hex(n.colorValue));u++;break;default:protocolLogger.warn("Unexpected graphic rendering value="+a[u]+" in parameters="+i);u++;break}}}break;case 110:protocolLogger.debug("-- type=(DSR) device status report");var h=this.parseNumericalParams();let e=this.get8bitControlCode("CSI");if(this.privateChar===63&&r.length){switch(r[0]){case 6:protocolLogger.debug("-- type=(DECXCPR) Extended Cursor Position");e.push(63,...this.getCursorPos(n),82);protocolLogger.debug(`Sending response for Device Status Report: ${e}`);n.sendMessage(e);break;case 15:protocolLogger.debug("Printer Status");e.push(63,49,51,110);n.sendMessage(e);break;case 25:protocolLogger.debug("UDK Status");e.push(63,50,48,110);n.sendMessage(e);break;case 26:protocolLogger.debug("DSR Test; Keyboard Status");e.push(63,50,55,59,49,110);n.sendMessage(e);break;case 53:protocolLogger.debug("Test Locator Status");n.sendMessage(e);break;case 62:protocolLogger.debug("DSR Test; Macro Space");e.push(48,42,123);n.sendMessage(e);break;case 63:protocolLogger.debug("-- type=(DECCKSR) Memory Checksum Report");const L=getChecksum();const k3=this.get8bitControlCode("DCS");const B3=this.get8bitControlCode("ST");const U3=r[1].toString().charCodeAt(0);protocolLogger.debug(`Sending response for Memory Checksum Report: ${e}`);n.sendMessage([...k3,U3,33,126,...L,...B3]);break;case 75:protocolLogger.debug("Test Data Integrity");e.push(63,55,48,110);n.sendMessage(e);break;case 85:protocolLogger.debug("Test Multiple Session Status");e.push(63,56,55,110);n.sendMessage(e);break;default:this.noteUnimplemented("DSR with ? mark")}}else if(h&&h[0]!==undefined){switch(h[0]){case 5:e.push(48,110);protocolLogger.debug(`Sending response for Device Status Report: ${e}`);n.sendMessage(e);break;case 6:var J=String(n.getCursorLineNumber()+1);var Z=String(n.positionInLine+1);for(var u=0;u<J.length;u++){e.push(J.charCodeAt(u))}e.push(59);for(var u=0;u<J.length;u++){e.push(Z.charCodeAt(u))}e.push(82);protocolLogger.debug(`Sending response for Device Status Report: ${e}`);n.sendMessage(e);break;default:this.noteUnimplemented("Device Status Report (DSR) case"+h)}}break;case 112:var a=this.parseNumericalParams();if(this.intermediateBytes&&this.intermediateBytes[0]==34){protocolLogger.debug("-- type=(STR) Soft terminal reset");if(a.length>0){switch(a[0]){case 61:{this.vt100Mode=true;break}case 62:{if(a.length>1){switch(a[1]){case 0:this.vt100Mode=false;break;case 1:case 2:this.vt100Mode=false;break}}else{this.vt100Mode=false}break}}n.setStatuslineType(0)}}else if(this.intermediateBytes&&this.intermediateBytes[0]==33){protocolLogger.debug("-- type=(DECSTR) Soft terminal reset");n.setStatuslineType(0);n.renderer.unhideCursor();n.charPlacementMode=PLACEMENT_MODE_REPLACE;n.originMode=false;n.implicitWrap=false;this.noteUnimplemented("unhandled DECNRCM: National Replacement Character Set Mode.");n.keyboardLocked=false;n.decKeypadAppMode=false;n.ckm=0;n.scrollHeadRow=0;n.scrollTailRow=n.height-1;n.ensureLine(n.height-1);n.setCursorInternal(0,0);n.glyphSets=VirtualVTScreen.resetGlyphSets();n.glIndex=0;n.grIndex=1;n.graphicAttributes=0;n.isNonErasable=false;n.selectCharProAttr=0;n.saveCursor();this.noteUnimplemented("unhandled DECAUPSS:\tSet selected in Set-Up.");n.displaySelection=0;this.noteUnimplemented("unhandled DECKPM: Key Position Mode");this.noteUnimplemented("unhandled DECRLM: Reset (Left-to-right), regardless of NVR setting");this.noteUnimplemented("unhandled DECPCTERM: Enter/Exit PCTerm or Scancode Mode")}else if(this.isEqualIntermediateBytes([parseInt("0x24",16)])&&r.length===1){protocolLogger.debug("-- type=(DECRQM) Request Mode - Host To Terminal");const v=r[0];if(!this.privateChar){protocolLogger.debug("Requesting ANSI Modes: CSI Pa $ p");const M=this.getANSIModeReportCode(v);protocolLogger.debug(`Sending response for Requesting ANSI Mode ${v}: ${M}`);n.sendMessage(M)}else if(this.privateChar===63){protocolLogger.debug("Requesting DEC Modes: CSI ? Pd $ p");const M=this.getDECModeReportCode(v);protocolLogger.debug(`Sending response for Requesting DEC Mode ${v}: ${M}`);n.sendMessage(M)}else{this.noteUnhandledCsiDispatch(t,r)}}else{this.noteUnhandledCsiDispatch(t,r)}break;case 113:if(this.intermediateBytes&&this.intermediateBytes[0]==34){protocolLogger.debug("-- type=(DECSCA) Select Character Protection Attribute");n.isNonErasable=r.length?r[0]===1:false;n.selectCharProAttr=r.length?r[0]:0;break}break;case 114:var a=this.parseNumericalParams();if(this.intermediateBytes&&this.intermediateBytes[0]==36){protocolLogger.debug("-- type=(DECCARA) change attributes of rect area");if(a.length>4){this.modifyRectAttributes(a)}else{protocolLogger.warn("wrong params for change attributes of rect area "+a)}return}protocolLogger.debug("-- type=(STBM) set top and bottom margins");if(n.isWriteToStatusline())return;var a=this.parseNumericalParams();if(a.length!=2||a[0]>=a[1]){n.scrollHeadRow=0;n.scrollTailRow=n.height-1}else{n.scrollHeadRow=null;n.scrollTailRow=null;n.scrollHeadRow=a[0]>0?a[0]-1:0;n.scrollTailRow=a[1]>0?a[1]-1:0;n.validateTopBottomMargin();n.ensureLine(n.scrollTailRow)}n.setCursorInternal(0,0);break;case 115:protocolLogger.debug("-- type=(DECSLRM) set left & right margins (if enabled) ELSE (SCP) save cursor position");if(n.enableLeftRightMarginMode){var a=this.parseNumericalParams();if(a.length==0){n.setCursorInternal(0,0)}else if(a.length==2){var $=a[0];var e3=a[1];if($<e3){protocolLogger.warn("set left and right margin is not supported yet.")}}}else{protocolLogger.debug("-- type=(SCOSC) Save Current Cursor Position");n.saveCursor()}break;case 116:var a=this.parseNumericalParams();if(this.intermediateBytes&&this.intermediateBytes[0]==36){protocolLogger.debug("-- type=(RARA) Reverse attributes in rectangle");if(a.length>4){this.modifyRectAttributes(a,true)}else{protocolLogger.warn("wrong params for change attributes of rect area "+a)}n.renderer.fullPaint();return}else if(this.noIntermediateBytes()&&r.length===0||r.length===1){protocolLogger.debug("-- type=(DECSLPP) Set Lines Per Page");const x3=!r||r[0]<24?24:r[0]>144?144:r[0];if(n.maxSize){protocolLogger.warn("DECSLPP shouldn't work in max screen size mode");return}if(x3!==n.height){n.selectLinesPerPage=x3;n.updateScreenWithPageMemory(n.currentPageNum,false,x3)}}else{this.noteUnhandledCsiDispatch(t,r)}break;case 117:if(this.intermediateBytes&&this.intermediateBytes.length===1&&this.intermediateBytes[0]===36){protocolLogger.debug("-- type=(DECRQTSR) Request Terminal State Report");if(r.length===0||r[0]===0){break}if(r[0]===1){const w=this.get8bitControlCode("DCS");const K3=this.checksumDeviceAttributes();const F=this.get8bitControlCode("ST");const k=[...w,49,36,115,...K3,...F];protocolLogger.debug(`Sending response for Request Terminal State Report: ${k}`);n.sendMessage(k)}}else if(this.isEqualIntermediateBytes([parseInt("0x26",16)])&&r.length===0){protocolLogger.debug("-- type=(DECRQUPSS) User-Preferred Supplemental Set");const V3=[49,33,117,65];const k=[...this.get8bitControlCode("DCS"),...V3,...this.get8bitControlCode("ST")];protocolLogger.debug(`Sending response for User-Preferred Supplemental Set: ${k}`);n.sendMessage(k)}else if(this.noIntermediateBytes()&&r.length===0){protocolLogger.debug("-- type=(SCORC) Restore Saved Cursor Position");n.restoreCursor()}else{this.noteUnhandledCsiDispatch(t,r)}break;case 118:var a=this.parseNumericalParams();if(this.intermediateBytes&&this.intermediateBytes[0]==34){protocolLogger.debug("-- type=(DECRQDE) Request Displayed Extent");const w=this.get8bitControlCode("CSI");const Y3=this.getCharCodeArray(n.height);const H3=this.getCharCodeArray(n.width);const G3=49;const W3=this.getCharCodeArray(n.getTopLineNum());const X3=this.getCharCodeArray(n.currentPageNum);const z3=[...w,...Y3,59,...H3,59,G3,59,...W3,59,...X3,34,119];protocolLogger.debug(`Sending response for Request Displayed Extent: ${z3}`);n.sendMessage(z3);break}protocolLogger.debug("-- type=(CRA) Copy rectangle");if(a.length==8){if(a[2]==0)a[2]=n.height;if(a[3]==0)a[3]=n.width;if(a[1]>a[3])break;if(a[0]>a[2])break;var t3=a[7]-a[4];var d=a[6]-a[1];var p=a[2]-a[0];var f=n.viewportTop;for(var u=0;u<a[0]-1;u++){if(!f){break}f=f.next}if(t3>0){for(let e=0;e<t3*n.height;e++){n.addLine()}}var E=n.viewportTop;if(t3>=0){for(var u=0;u<a[5]-1;u++){if(!E){break}E=E.next}}else{protocolLogger.warn("copy to previous page, not handled")}var T=E;var _=new VTLine(n.width,true);_.id=E.id;var g=_;for(var u=p;p>=0;p--){for(var S=0;S<n.width;S++){if(E.elements[S]){_.elements[S]=E.elements[S]}}if(!f){break}let e=0;if(d>0){for(e=a[1]-1;e<a[3];e++){if(f&&f.elements[e]){if(e+d<f.elements.length){_.elements[e+d]=f.elements[e]}}}}else{e=-d;for(e=a[1]-1;e<a[3];e++){if(f&&f.elements[e+d]){if(e<f.elements.length){_.elements[e]=f.elements[e+d]}}}}if(!_.next){_.next=new VTLine(n.width,true);_.next.id=_.id+1}_.next.previous=_;if(!E.next||!f.next){break}_=_.next;E=E.next;f=f.next}p=a[2]-a[0];for(var u=p;p>=0;p--){for(l=0;l<n.width;l++){if(g.elements[l]){T.elements[l]=g.elements[l]}}if(T.next&&g.next){T=T.next;g=g.next}else{break}}n.renderer.fullPaint()}break;case 119:if(this.intermediateBytes&&this.intermediateBytes[0]===36&&r.length>0){protocolLogger.debug("-- type=(DECRQPSR) Request Presentation State Report");const q3=r[0];const w=this.get8bitControlCode("DCS");const F=this.get8bitControlCode("ST");if(q3===0){protocolLogger.debug("Error Request ignored: ps = 0, DECRQPSR—Request Presentation State Report");return}else if(q3===1){protocolLogger.debug("-- type=(DECCIR) Cursor information report");const j3=this.getCursorPos(n),Q3=64;const J3=n.glIndex.toString().charCodeAt(0);const Z3=n.grIndex.toString().charCodeAt(0);const $3=64+getHexAttrs(n.graphicAttributes);const e5=n.isNonErasable?1000001:1e6;const t5=n.glyphSets;const i5=e=>{return e?"1":"0"};const n5="01000"+i5(n.ss3Trigger)+i5(n.ss2Trigger)+i5(n.originMode);const k=[...w,49,36,117,...j3,59,$3,59,e5,59,parseInt(n5,2),59,J3,59,Z3,59,Q3,59,...t5,...F];protocolLogger.debug(`Sending response for Cursor information report: ${k}`);n.sendMessage(k)}else if(q3===2){protocolLogger.debug("-- type=(DECRQPSR) Request Presentation State Report");const r5=n.tabStop.slice(0,n.width-1);let i=[...w,50,36,117];r5.forEach((e,t)=>{if(e===1){i.push(...this.getCharCodeArray(t+1));i.push(47)}});i.pop();const s5=[...i,...F];protocolLogger.debug(`Sending response for Request Presentation State Report: ${s5}`);n.sendMessage(s5)}}protocolLogger.debug("-- type=(EFR) Enable filter rectangle");this.noteCSIUnimplemented(t);break;case 120:var a=this.parseNumericalParams();if(this.intermediateBytes&&this.intermediateBytes[0]==42){protocolLogger.debug("-- type=(DECSACE) Select Attribute Change Extent");this.selectAttrChangeExt=a.length?a[0]:0}else{protocolLogger.debug("-- type=(REQTPARM) Request terminal parameters OR (FRA) Fill rectangular");if(a[1]===undefined||a[1]==0){a[1]=1}if(a[2]===undefined||a[2]==0){a[2]=1}if(a[3]===undefined||a[3]==0){a[3]=n.height}if(a[4]===undefined||a[4]==0){a[4]=n.width}if(a[1]>n.height){a[1]=n.height}if(a[2]>n.width){a[2]=n.width}if(a[3]>n.height){a[3]=n.height}if(a[4]>n.width){a[4]=n.width}if(a[0]==undefined||a[0]<32||a[0]>126&&a[0]<160){protocolLogger.warn("-- type=(DECFRA) Invalid fill character");break}numCol=a[4]-a[2]+1;p=a[3]-a[1]+1;if(!numCol){numCol=a[4]}if(!p){p=a[3]}if(n.linesInTerminal<a[3]){for(var i3=0;i3<a[3];i3++){n.addLine()}}if(numCol>0&&p>0){var f=n.viewportTop;for(var u=0;u<a[1]-1;u++){if(!f){break}f=f.next}for(var u=0;u<p;u++){if(f){for(var l=a[2]-1;l<a[4];l++){if(f.elements[l]){f.elements[l].receivedChar=a[0]}else{f.elements[l]=new BufferElement(a[0])}f.elements[l].glCharset=n.glyphSets[n.glIndex];f.elements[l].grCharset=n.glyphSets[n.grIndex];f.elements[l].isNonErasable=n.isNonErasable;var C=n.graphicAttributes;C&=~TEXT_RENDER_DOUBLE_WIDTH;C&=~TEXT_RENDER_DOUBLE_TOP;C&=~TEXT_RENDER_DOUBLE_BOTTOM;f.elements[l].graphicAttributes&=TEXT_RENDER_DOUBLE_WIDTH|TEXT_RENDER_DOUBLE_TOP|TEXT_RENDER_DOUBLE_BOTTOM;f.elements[l].graphicAttributes|=C;f.elements[l].colorMode=n.colorMode;f.elements[l].colorValue=n.colorValue;f.elements[l].backgroundColorMode=n.backgroundColorMode;f.elements[l].backgroundColorValue=n.backgroundColorValue}if(f&&f.next){f=f.next}else{break}}}}else{protocolLogger.warn("wrong params of fill the rectangle area "+a)}n.renderer.fullPaint()}break;case 121:const O3=this.parseNumericalParams();if(this.intermediateBytes&&this.intermediateBytes[0]==42){if(O3.length>0){protocolLogger.debug("--type=(DECRQCRA) Request Checksum of Rectangular Area");const o5=O3[0].toString().charCodeAt(0);const L=getChecksum();const w=this.get8bitControlCode("DCS");const F=this.get8bitControlCode("ST");const k=[...w,o5,33,126,...L,...F];protocolLogger.debug(`Sending response for Request Checksum of Rectangular Area: ${k} `);n.sendMessage(k);break}else{protocolLogger.warn("wrong params of Request Checksum of Rectangular Area");break}}protocolLogger.debug("-- type=(SACE) Select attribute change extent");this.noteCSIUnimplemented(t);break;case 122:case 123:protocolLogger.debug("-- type=(DECERA)  (ERA) Erase rectangular");var a=this.parseNumericalParams();if(a.length==4){if(a[2]>n.height){a[2]=n.height}if(a[3]>n.width){a[3]=n.width}numCol=a[3]-a[1]+1;p=a[2]-a[0]+1;if(!numCol){numCol=a[3]}if(!p){p=a[2]}if(numCol>0&&p>0){var f=n.viewportTop;for(var u=0;u<a[0]-1;u++){if(!f){break}f=f.next}for(var u=0;u<p;u++){if(f){for(var l=a[1]-1;l<a[3];l++){if(t==123){if(f.elements[l]&&f.elements[l].isNonErasable){}else{f.elements[l].receivedChar=32}}else if(f.elements[l]){f.elements[l].receivedChar=32}}if(f&&f.next){f=f.next}else{break}}}}else{protocolLogger.warn("wrong params of erasing the rectangle area "+a)}n.renderer.fullPaint()}break;case 124:if(this.intermediateBytes&&this.intermediateBytes[0]===36){protocolLogger.debug("-- type=(DECSCPP)  Select Columns per Page");const l5=r.length>0?r[0]:80;if([0,132,80].indexOf(l5)>-1){n.selectColsPerPage=l5||80;n.resize(n.selectColsPerPage,n.height,true);n.setCursorPositionInLine(Math.min(n.positionInLine,n.selectColsPerPage))}else{protocolLogger.debug("-- type=(DECSCPP) The value is error when select Columns per Page")}}else if(this.intermediateBytes&&this.intermediateBytes[0]===42&&r.length>0){protocolLogger.debug("-- type=(DECSNLS)  Set Lines Per Screen");let e=Math.max(24,Math.min(r[0],144));if(n.maxSize){protocolLogger.warn("DECSNLS shouldn't work in max screen size mode");return}n.selectLinesPerScreen=e;n.handleResize(e)}break;case 125:const I=this.intermediateBytes;if(I&&I.length===1&&I[0]==39){protocolLogger.debug("-- type=(DECIC) Insert Column");if(r.length===0||r.length===1){let e=r.length===0?1:r[0];n.insertOrDeleteElementsInScreen(VirtualVTScreen.INSERT,n.positionInLine,n.terminalTop,n.linesInTerminal,e)}else{protocolLogger.warn("wrong params of inserting columns(DECIC): "+r)}}else if(I&&I.length===1&&I[0]==36){protocolLogger.debug("-- type=(DECSASD) Select active status display");const a5=r[0]===1&&n.statuslineType===2?1:0;if(n.displaySelection!==a5){if(a5===1){n.showCursor=false;n.renderer.hideCursor()}else{n.showCursor=true;n.renderer.unhideCursor()}n.displaySelection=a5}}else{this.noteUnhandledCsiDispatch(t,r)}break;case 126:if(this.intermediateBytes&&this.intermediateBytes.length===1&&this.intermediateBytes[0]==39){protocolLogger.debug("-- type=(DECDC) Delete Column");if(r.length===0||r.length===1){let e=r.length===0?1:r[0];n.insertOrDeleteElementsInScreen(VirtualVTScreen.DELETE,n.positionInLine,n.terminalTop,n.linesInTerminal,e)}else{protocolLogger.warn("wrong params of deleting columns(DECDC): "+r)}}else if(this.intermediateBytes&&this.intermediateBytes.length===1&&this.intermediateBytes[0]===36){protocolLogger.debug("-- type=(DECSSDT) Select Status Display (Line) Type");let e=r.length?r[0]:0;if(n.isValidStatuslineType(e)){n.setStatuslineType(e)}else{this.noteUnhandledCsiDispatch(t,r)}}else{this.noteUnhandledCsiDispatch(t,r)}break;default:this.noteUnimplemented("unhandled CSI dispatch character:0x"+hex(t))}};VTParser.prototype.oscDispatch=function(){var e=this.screen;var t=this.oscParams;var i=Number(String.fromCharCode.apply(null,this.oscType));protocolLogger.debug("OSC dispatch: type="+i+", params="+t);switch(i){case 0:var n=String.fromCharCode.apply(null,t);if(e.callbacks.titleCallback){e.callbacks.titleCallback(n)}break;case 4:this.noteUnimplemented("OSC change color");break;case 5:this.noteUnimplemented("OSC change special color");break;case 10:this.noteUnimplemented("Change text color w/ OSC4 spec");break;case 11:this.noteUnimplemented("Change backkground color w/ OSC4 spec");break;case 15:this.noteUnimplemented("Change TEK text color w/ OSC4 spec");break;case 16:this.noteUnimplemented("Change TEK background color w/ OSC4 spec");break;case 52:this.noteUnimplemented("OSC clipboard access");break;case 104:this.noteUnimplemented("Reset color number");break;case 105:this.noteUnimplemented("Reset special color number");break;case 110:this.noteUnimplemented("Reset window text color");break;case 111:this.noteUnimplemented("Reset window background color");break;case 115:this.noteUnimplemented("Reset TEK window text color");break;case 116:this.noteUnimplemented("Reset TEK window background color");break;default:protocolLogger.warn("Unknown OSC type "+i+" encountered with params="+t)}};VTParser.prototype.handleNextLine=function(e,t){if(e.isWriteToStatusline()){if(t){e.setCursorPositionInLine(0)}return}const i=e.getCursorLineNumber();const n=e.positionInLine;const r=e.scrollTailRow!=null?e.scrollTailRow:e.height-1;if(i>=r&&!e.isOutMarginBottomLine(i)){e.addLine()}const s=i===r?r:i+1;const o=t?n:0;e.setCursorInternal(s,o)};VTParser.prototype.handleReverseIndex=function(e){protocolLogger.debug("-- type=(RI) Reverse Index");const t=e.scrollHeadRow!=null?e.scrollHeadRow:0;const i=e.scrollTailRow!=null?e.scrollTailRow:e.height-1;const n=e.getCursorLineNumber();const r=e.positionInLine;if(n==t){e.insertLineInner(1,e.getLineByRow(t),t,i,true)}const s=n<=t?t:n-1;e.setCursorInternal(s,r)};VTParser.prototype.setLineAttributes=function(t){let e=this.screen;const i=e.getInsertionline();if(i&&i.elements){for(let e=0;e<i.elements.length;e++){if(!i.elements[e]){i.elements[e]=new BufferElement(32)}i.elements[e].graphicAttributes=t}i.updated=true}};VTParser.prototype.escapeDispatch=function(e){var t=this.screen;protocolLogger.debug("Escape Dispatch Start:");protocolLogger.debug("-- b=0x"+hex(e));this.escapeData[this.escapeFill++]=e;hexDump(this.escapeData,protocolLogger,0,this.escapeFill);var i=this.escapeData[1]&255;switch(i){case 32:var n=this.escapeData[2]&255;if(t.vt100Mode||t.vt52Mode){t.is8bit=false}else{switch(n){case 70:t.is8bit=false;break;case 71:t.is8bit=true;break}}break;case 35:if(this.escapeData.length<2){throw new RuntimeException("Encountered escape # without following byte to determine action")}else{var n=this.escapeData[2]&255;let e=t.graphicAttributes;switch(n){case 51:e|=TEXT_RENDER_DOUBLE_TOP;e&=~TEXT_RENDER_DOUBLE_WIDTH;e&=~TEXT_RENDER_DOUBLE_BOTTOM;this.setLineAttributes(e);break;case 52:e|=TEXT_RENDER_DOUBLE_BOTTOM;e&=~TEXT_RENDER_DOUBLE_TOP;e&=~TEXT_RENDER_DOUBLE_WIDTH;this.setLineAttributes(e);break;case 53:e&=~TEXT_RENDER_DOUBLE_WIDTH;e&=~TEXT_RENDER_DOUBLE_TOP;e&=~TEXT_RENDER_DOUBLE_BOTTOM;this.setLineAttributes(e);break;case 54:e|=TEXT_RENDER_DOUBLE_WIDTH;e&=~TEXT_RENDER_DOUBLE_TOP;e&=~TEXT_RENDER_DOUBLE_BOTTOM;this.setLineAttributes(e);break;case 56:protocolLogger.debug("-- type=(DECALN) Screen Alignment Pattern");t.scrollHeadRow=0;t.scrollTailRow=t.height-1;var r=t.terminalTop;if(!r){t.addLine();r=t.terminalTop}for(var s=0;s<t.height;s++){for(var o=0;o<t.width;o++){r.elements[o]=new BufferElement(69)}r.updated=true;if(s!==t.height-1){if(!r.next){t.addLine()}r=r.next}}t.setCursorPosInternal(0,0);break;default:this.noteUnimplemented("escape dispatch byte 0x23, modifier "+n)}}break;case 37:if(this.escapeData.length<2){this.nodeUnimplemented("Escape % seen with no following char")}else{var n=this.escapeData[2]&255;switch(n){case 64:t.implicitUTF8=false;break;case 71:t.implicitUTF8=true;break;default:protocolLogger.warn("Unhandled ESC % byte=0x"+hex(n)+" assumed to be used for UTF8")}}break;case 40:case 41:case 42:case 43:if(this.escapeFill==3){var l=this.escapeData[2]&255;protocolLogger.debug("should set Gx x=0x"+hex(i-40)+" to 0x"+l);t.glyphSets[i-40]=e}else{protocolLogger.warn("unhandled set G0-G3 case")}break;case 54:protocolLogger.debug("-- type=(DECBI) Back Index");t.handleBackIndex();break;case 55:t.saveCursor();break;case 56:if(t.isWriteToStatusline())break;t.restoreCursor();break;case 60:t.vt52Mode=false;break;case 61:t.decKeypadAppMode=true;break;case 62:t.decKeypadAppMode=false;break;case 57:protocolLogger.debug("-- type=(DECFI) - Forward Index");t.handleForwardIndex();break;case 65:protocolLogger.debug("-- type=VT52 Cursor Up");t.moveCursor(-1,0);break;case 66:protocolLogger.debug("-- type=VT52 Cursor Down");t.moveCursor(1,0);break;case 67:protocolLogger.debug("-- type=VT52 Cursor Right");t.moveCursor(0,1);break;case 68:if(t.vt52Mode){protocolLogger.debug("-- type=VT52 Cursor Left");t.moveCursor(0,-1)}else{protocolLogger.debug("-- type=(IND) Index down");this.handleNextLine(t,true)}break;case 69:protocolLogger.debug("-- type=(NEL) Next line");this.handleNextLine(t);break;case 71:protocolLogger.debug("-- Assign character attribute (main display area)");var n=this.escapeData[2]&255;switch(n){case 32:t.graphicAttributes=TEXT_RENDER_HIDDEN;break;case 48:t.graphicAttributes=0;break;case 49:t.graphicAttributes=TEXT_RENDER_HIDDEN;break;case 50:t.graphicAttributes=TEXT_RENDER_BLINK;break;case 51:t.graphicAttributes=TEXT_RENDER_HIDDEN|TEXT_RENDER_BLINK;break;case 52:t.graphicAttributes=TEXT_RENDER_REVERSE;break;case 53:t.graphicAttributes=TEXT_RENDER_REVERSE|TEXT_RENDER_HIDDEN;break;case 54:t.graphicAttributes=TEXT_RENDER_BLINK_REVERSE;break;case 55:t.graphicAttributes=TEXT_RENDER_BLINK_REVERSE|TEXT_RENDER_HIDDEN;break;case 56:t.graphicAttributes=TEXT_RENDER_UNDERSCORE;break;case 57:t.graphicAttributes=TEXT_RENDER_UNDERSCORE|TEXT_RENDER_HIDDEN;break;case 58:t.graphicAttributes=TEXT_RENDER_BLINK_UNDERSCORE;break;case 59:t.graphicAttributes=TEXT_RENDER_BLINK_UNDERSCORE|TEXT_RENDER_HIDDEN;break;case 60:t.graphicAttributes=TEXT_RENDER_UNDERSCORE_REVERSE;break;case 61:t.graphicAttributes=TEXT_RENDER_UNDERSCORE_REVERSE|TEXT_RENDER_HIDDEN;break;case 62:t.graphicAttributes=TEXT_RENDER_BLINK_UNDERSCORE_REVERSE;break;case 63:t.graphicAttributes=TEXT_RENDER_BLINK_UNDERSCORE_REVERSE|TEXT_RENDER_HIDDEN;break;default:this.noteUnimplemented("escape dispatch byte 0x47, modifier "+n)}break;case 72:if(t.vt52Mode){protocolLogger.debug("-- type=Move cursor home");var a=t.getCursorLineNumber();t.setCursorInternal(a,0)}else{protocolLogger.debug("-- type=(HTS) Horizontal Tab set");t.tabStop[t.getPosInLine()]=1}break;case 73:break;case 77:if(t.isWriteToStatusline())break;this.handleReverseIndex(t);break;case 78:t.ss2Trigger=true;break;case 79:t.ss3Trigger=true;break;case 80:this.noteUnimplemented("P!");break;case 89:t.clearMargin();t.newScreen();break;case 90:break;case 92:protocolLogger.debug("escapeDispatch 0x5C string terminator ");break;case 95:protocolLogger.debug("unimplemented escape code 0x5F");break;case 99:protocolLogger.debug("-- type=(RIS) --Hard Terminal Reset");protocolLogger.warn("(RIS --Hard Terminal Reset) is not recommended. Please use (DECSTR -- Soft Terminal Reset) instead ");t.sendMessage([19]);t.setStatuslineType(0);t.pageMemory=t.initPageMemory();t.currentPageNum=1;t.graphicAttributes=0;t.glyphSets=VirtualVTScreen.resetGlyphSets();t.glIndex=0;t.grIndex=1;t.newScreen();this.noteUnimplemented("DECUDK -- User defined keys");this.noteUnimplemented("DECDLD -- Soft character set");this.noteUnimplemented("DECDMAC -- Macro definitions");t.sendMessage([17]);break;case 125:protocolLogger.warn("need to set G2 ");break;default:this.noteUnimplemented("unhandled ESCAPE dispatch character=0x"+hex(i))}this.privateChar=0};VTParser.prototype.escapeExecutable=function(e){return e<=23||e==25||e>=28&&e<32};VTParser.prototype.executable=function(e){return e<=23||e==25||e>=28&&e<32||e==127||e==132||e==133||e==136||e==141||e==142||e==143};VTParser.prototype.setUTF8LengthExpected=function(e){if(e<192){throw new RuntimeException("UTF8 cannot have first byte below C0")}var t=~e&255;if(t>=32){this.utf8LengthRemaining=1}else if(t>=16){this.utf8LengthRemaining=2}else if(t>=8){this.utf8LengthRemaining=3}else if(t>=4){this.utf8LengthRemaining=4}else if(t>=2){this.utf8LengthRemaining=5}else{throw new RuntimeException("Unexpectedly high first byte value for UTF8")}};VTParser.decodeUTF8=function(e){var t=e.length;var i=0;switch(t){case 2:i=e[0]&31;break;case 3:i=e[0]&15;break;case 4:i=e[0]&7;break;case 5:i=e[0]&3;break;case 6:i=e[0]&1;break;default:throw new RuntimeException("Invalid length ("+t+") of UTF8 buffer")}for(var n=1;n<e.length;n++){i=i<<6;i=i|e[n]&63}return i};VTParser.prototype.getCharCodeArray=function(e){let t=[];e=(e||0).toString();for(var i=0;i<e.length;i++){t.push(e.charCodeAt(i))}return t};VTParser.prototype.getCursorPos=function(e){const t=this.getCharCodeArray(e.getCursorLineNumber()+1);const i=this.getCharCodeArray(e.positionInLine+1);const n=this.getCharCodeArray(e.currentPageNum);return[...t,59,...i,59,...n]};VTParser.prototype.process=function(e){parseLogger.debug("Parser Loop Top: b=0x"+hex(e)+" state="+VTParser.vtStateNames[this.state]);var t=NO_STATE;const i=this.screen.preInsertChar;if(this.screen.printer.controllerMode&&(this.state<VT_PRINTING||this.state>VT_PRINTING5)){this.state=VT_PRINTING}switch(this.state){case VT_BASE:i.baseCount++;if(this.executable(e)){this.execute(e);t=VT_BASE}else if(e<32){}else if(e===TELNET_IAC){if(this.screen.isSecureConnection&&this.screen.connectState===CONNECT_STATE_CONNECTED){const s=this.screen.processedBytes[this.screen.processedBytes.length-2];if(s&&s!==255){this.insert(255)}t=VT_BASE}else{t=VT_TELNET_VERB}}else if(this.screen.implicitUTF8===true&&e>=192&&e<=253){this.utf8Buffer=[];this.utf8Buffer.push(e);this.setUTF8LengthExpected(e);t=VT_UTF8}else if(e>127&&e<160){}else{this.insert(e)}if(t!=VT_TELNET_VERB){this.screen.scriptingReady=true}break;case VT_UTF8:this.utf8Buffer.push(e);this.utf8LengthRemaining--;if(this.utf8LengthRemaining===0){var n=VTParser.decodeUTF8(this.utf8Buffer);this.insert(n);t=VT_BASE}break;case VT_TELNET_VERB:this.telnetVerb=e;switch(this.telnetVerb){case TELNET_IAC:t=VT_BASE;this.insert(e);break;case TELNET_SUB:t=VT_TELNET_SUB;break;case TELNET_WILL:case TELNET_WONT:case TELNET_DO:case TELNET_DONT:t=VT_TELNET_OPTION;break;case TELNET_ERASE_CHARACTER:this.execute(127);break;case TELNET_SUBEND:case TELNET_DATA_MARK:case TELNET_NOP:case TELNET_GO_AHEAD:default:t=VT_BASE}break;case VT_TELNET_OPTION:var r=e;this.handleTelnetOption(e);t=VT_BASE;break;case VT_TELNET_SUB:if(e===TELNET_IAC){this.handleTelnetSub();t=VT_TELNET_VERB;break}else{this.subBytes.push(e);t=VT_TELNET_SUB}break;case VT_DCS_START:if(e>=32&&e<48){this.collect(e);t=VT_DCS_INTERMEDIATE}else if(e>=48&&e<64||e==59){this.param(e);t=VT_DCS_PARAM}else if(e>=60&&e<64){this.collect(e);t=VT_DCS_PARAM}else if(e==58){t=VT_DCS_IGNORE}else if(e>=64&&e<127){this.dcsFinal=e;t=VT_DCS_PASSTHROUGH}break;case VT_DCS_INTERMEDIATE:if(e>=32&&e<48){this.collect(e);t=VT_DCS_INTERMEDIATE}else if(e>=48&&e<64){t=VT_DCS_IGNORE}else if(e>=64&&e<127){this.dcsFinal=e;t=VT_DCS_PASSTHROUGH}break;case VT_DCS_PARAM:if(e>=48&&e<64||e==59){this.param(e);t=VT_DCS_PARAM}else if(e==58||e>=60&&e<64){t=VT_DCS_IGNORE}else if(e>=32&&e<48){this.collect(e);t=VT_DCS_INTERMEDIATE}else if(e>=64&&e<127){this.dcsFinal=e;t=VT_DCS_PASSTHROUGH}break;case VT_DCS_IGNORE:if(this.eightBuffer){if(e==92){t=VT_BASE}this.eightBuffer=false}else if(e==156){t=VT_BASE}else if(e==27){this.eightBuffer=true;t=VT_DCS_IGNORE}break;case VT_DCS_PASSTHROUGH:if(this.eightBuffer){if(e==92||e==156){this.dcsDispatch()}else{protocolLogger.warn("This is not a complete DCS-ST command, it should 1b5b/9c, but get 1b"+e)}t=VT_BASE;this.eightBuffer=false}else if(e==27){this.eightBuffer=true;t=VT_DCS_PASSTHROUGH}else{this.intermediateBytes.push(e);protocolLogger.debug("DCS Passthrough partially implemented");t=VT_DCS_PASSTHROUGH}break;case VT_ESCAPE_START:if(this.escapeExecutable(e)){t=this.execute(e)?VT_BASE:VT_ESCAPE_START}else{this.escapeFill=0;this.escapeData[this.escapeFill++]=27;this.escapeData[this.escapeFill++]=e;if(e<32){throw new VTParseException("VT_ESCAPE_START sees b<0x20")}else if(e>=32&&e<48||e===71){t=VT_ESCAPE_INTERMEDIATE}else{parseLogger.debug("escape dispatch main switch");switch(e){case 80:t=VT_DCS_START;break;case 91:t=VT_CSI_START;break;case 93:t=VT_OSC_STRING;break;default:if(e<127){this.escapeDispatch(e);t=VT_BASE}else{protocolLogger.warn("VT_ESCAPE_START sees b>=0x7f")}}}}break;case VT_ESCAPE_INTERMEDIATE:if(this.escapeExecutable(e)){t=this.execute(e)?VT_BASE:VT_ESCAPE_INTERMEDIATE}else{if(e<32){if(e==27){t=VT_ESCAPE_START}else{protocolLogger.warn("unhandled byte=0x"+hex(e)+" in VT_ESCAPE_INTERMEDIATE")}}else if(e<48){this.collect(e);t=VT_ESCAPE_INTERMEDIATE}else if(e<127){this.escapeDispatch(e);t=VT_BASE}else if(e==127){t=VT_ESCAPE_INTERMEDIATE}}break;case VT_OSC_STRING:if(e>=32&&e<=127){this.oscType.push(e);t=VT_OSC_INTERMEDIATE}break;case VT_OSC_INTERMEDIATE:if(e===59){t=VT_OSC_PARAM}else{this.oscType.push(e)}break;case VT_OSC_PARAM:if(e===7||e===156){this.oscDispatch();t=VT_BASE}else{this.oscParams.push(e)}break;case VT_CSI_START:if(this.escapeExecutable(e)){t=this.execute(e)?VT_BASE:VT_CSI_START}else{if(e>=32&&e<48){this.collect(e);t=VT_CSI_INTERMEDIATE}else if(e<58){this.param(e);t=VT_CSI_PARAM}else if(e<60){if(e==58){t=VT_CSI_IGNORE}else{t=VT_CSI_PARAM;this.param(e)}}else if(e<64){this.collect(e);t=VT_CSI_PARAM}else if(e<127){this.csiDispatch(e);t=VT_BASE}else if(e<VT_CSI_START){t=VT_CSI_START}}break;case VT_CSI_PARAM:if(this.escapeExecutable(e)){t=this.execute(e)?VT_BASE:VT_CSI_PARAM}else{if(e>=32&&e<48){this.collect(e);t=VT_CSI_INTERMEDIATE}else if(e>=48&&e<58||e==59){this.param(e);t=VT_CSI_PARAM}else if(e==58||e>=60&&e<64){t=VT_CSI_IGNORE}else if(e<127){this.csiDispatch(e);t=VT_BASE}else{throw new VTParseException("unhandled byte "+e+" in VT_CSI_PARAM")}}break;case VT_CSI_IGNORE:if(this.escapeExecutable(e)){t=this.execute(e)?VT_BASE:VT_CSI_IGNORE}else{if(e<32){throw new VTParseException("unhandled byte "+e+" in VT_CSI_IGNORE")}else if(e<64||e==127){t=VT_CSI_IGNORE}else if(e<127){t=VT_BASE}else{throw new VTParseException("unhandled byte "+e+" in VT_CSI_IGNORE")}}break;case VT_CSI_INTERMEDIATE:if(this.escapeExecutable(e)){t=this.execute(e)?VT_BASE:VT_CSI_INTERMEDIATE}else{if(e<32){throw new VTParseException("unhandled byte "+e+" in VT_CSI_INTERMEDIATE")}else if(e<48){this.collect(e);t=VT_CSI_INTERMEDIATE}else if(e<64){t=VT_CSI_IGNORE}else if(e<127){this.csiDispatch(e);t=VT_BASE}else if(e==127){t=VT_CSI_INTERMEDIATE}else{throw new VTParseException("unhandled byte "+e+" in VT_CSI_INTERMEDIATE")}}break;case VT_PRINTING:t=VT_PRINTING;if(e==27){t=VT_PRINTING2;this.printerEscape=[];this.printerEscape.push(e)}else if(e==155){t=VT_PRINTING3;this.printerEscape=[];this.printerEscape.push(e)}else if(e){this.screen.printer.setData(e)}break;case VT_PRINTING2:this.printerEscape.push(e);if(e==91)t=VT_PRINTING3;else{this.printerEscape.forEach(e=>{this.screen.printer.setData(e)});this.printerEscape=[];t=VT_PRINTING}break;case VT_PRINTING3:this.printerEscape.push(e);if(e==52)t=VT_PRINTING4;else{this.printerEscape.forEach(e=>{this.screen.printer.setData(e)});this.printerEscape=[];t=VT_PRINTING}break;case VT_PRINTING4:if(e==105){t=VT_BASE;this.screen.printer.controllerMode=false;this.screen.printer.print(this.screen,true);protocolLogger.debug("-- Turns off printer controller mode")}else{this.printerEscape.forEach(e=>{this.screen.printer.setData(e)});this.printerEscape=[];t=VT_PRINTING}break}if(t==NO_STATE){switch(e){case 27:this.state=VT_ESCAPE_START;break;case 144:this.state=VT_DCS_START;break;case 155:this.state=VT_CSI_START;this.clear();this.escapeFill=0;this.escapeData[this.escapeFill++]=27;this.escapeData[this.escapeFill++]=91;break;case 157:this.state=VT_OSC_STRING;break}}else{if(this.state!=t){switch(t){case VT_OSC_STRING:case VT_CSI_START:case VT_ESCAPE_START:case VT_DCS_START:this.clear();break}}this.state=t}};VTParser.prototype.dcsDispatch=function(){const e=this.intermediateBytes;switch(this.dcsFinal){case 113:if(e[0]===36){protocolLogger.debug("-- type=(DECRQSS) Request Selection or Setting");this.handleRequestSettings(e)}break;default:this.noteUnimplemented("unhandle des sequences: "+this.dcsFinal);break}};VTParser.prototype.handleRequestSettings=function(e){const i=this.screen;if(e.length===0)return;const n=this.get8bitControlCode("DCS");const r=this.get8bitControlCode("ST");let s=[],o=true;let l=[...n,49,36,114,...r];switch(e[1]){case 34:if(e[2]===113){protocolLogger.debug("-- type=(DECRQSS) -> DECSCA: Set Character Attribute");s=[i.selectCharProAttr.toString().charCodeAt(0),34,113]}else if(e[2]===112){l=BZ_SET_CONFORMANCE_LEVEL}break;case 36:if(e[2]===124){protocolLogger.debug("-- type=(DECRQSS) -> DECSCPP: Set Columns Per Page");s=[...this.getCharCodeArray(i.selectColsPerPage),36,124]}else if(e[2]===126){protocolLogger.debug("-- type=(DECRQSS) -> DECSSDT: Select Status Display (Line) Type");s=[...this.getCharCodeArray(this.statuslineType),36,126]}else if(e[2]===125){s=[...this.getCharCodeArray(i.displaySelection),36,125]}break;case 39:if(e[2]===115){l=[...n,...r];this.noteUnimplemented("need to do DECTLTC - Transmission line termination characte")}break;case 42:if(e[2]===124){protocolLogger.debug("-- type=(DECRQSS) -> DECSNLS: Select number of lines per screen");s=[...this.getCharCodeArray(i.selectLinesPerScreen),42,124]}break;case 109:protocolLogger.debug("-- type=(DECRQSS) -> SGR: Select Graphic Rendition");const a=getSGRAttrs(i.graphicAttributes);let t=[];a.forEach(e=>{t.push(...this.getCharCodeArray(e));t.push(59)});t.pop();s=[...t,109];break;case 114:protocolLogger.debug("-- type=(DECRQSS) -> DECSTBM: Set Top and Bottom Margins");const c=this.getCharCodeArray(i.scrollHeadRow==null?1:i.scrollHeadRow+1);const u=this.getCharCodeArray(i.scrollTailRow==null?i.height:i.scrollTailRow+1);s=[...c,59,...u,114];break;case 116:protocolLogger.debug("-- type=(DECRQSS) -> DECSLPP: Set Lines Per Page");s=[...this.getCharCodeArray(i.selectLinesPerPage),116];break;case 124:l=[...n,...r];this.noteUnimplemented("need to do DECTTC - Set transmit termination character");break;default:o=false;this.noteUnimplemented("need to do DECRQSS—Request Selection or Setting")}if(!o)return;const t=this.screen.is8bit?4:5;l.splice(t,0,...s);i.sendMessage(l)};function getChecksum(){return[48,48,48,48]}function VTParseException(e){this.message=e;this.name="VTParseException";parseLogger.warn("Encountered exception:"+this.name+", msg:"+e)}function getHexAttrs(e){let t=0;if(e&16){t+=8}if(e&2){t+=1}if(e&4){t+=2}if(e&8){t+=4}return t}function getSGRAttrs(e){let t=[];if(e===0){t.push(0)}if(e&16){t.push(1)}if(e&4){t.push(4)}if(e&8){t.push(5)}if(e&2){t.push(7)}return t}function getCharCodeArray(e){let t=[];e=(e||0).toString();for(var i=0;i<e.length;i++){t.push(e.charCodeAt(i))}return t}VTParser.vtStateNames=["NO_STATE","VT_BASE","VT_CSI_START","VT_CSI_INTERMEDIATE","VT_CSI_IGNORE","VT_CSI_PARAM","VT_OSC_STRING","VT_ESCAPE_START","VT_ESCAPE_INTERMEDIATE","VT_SOS_PM_APC","VT_DCS_START","VTF","VT_TELNET_VERB","VT_TELNET_OPTION","VT_TELNET_SUB","VT_OSC_INTERMEDIATE","VT_OSC_PARAM","VT_UTF8","VT_CONTROL_CHAR","VT_DSC_INTERMEDIATE","VT_DCS_PARAM","VT_DCS_PASSTHROUGH","VT_DCS_IGNORE","VT_PRINTING","VT_PRINTING2","VT_PRINTING3","VT_PRINTING4","VT_PRINTING5"];class WatchForString{constructor(e){this._search=[];for(var t=0;t<e.length;t++){this._search.push(e.charCodeAt(t))}this._length=e.length;this._respPos=0}Search(e){let t=this._search[this._respPos];if(!e&&t)return false;if(t==e){this._respPos++;if(this._length==this._respPos)return true}if(t!=e){this._respPos=0;while(this._search[this._respPos]==e)this._respPos++}return false}}VirtualVTScreen.prototype.flushTypeAhead=function(){clearTimeout(this.typeAheadTimer);this.typeAheadQueue=[]};VirtualVTScreen.prototype.emptyTypeAhead=function(){this.lastKeyMapping=null;while(this.typeAheadQueue.length>0){if(this.lockedByScripting){clearTimeout(this.typeAheadTimer);this.typeAheadTimer=setTimeout(()=>{this.emptyTypeAhead()},100);return}let e=this.typeAheadQueue.shift();if(e.type=="KEYDOWN"){tecoreLogger.debug("process key down in queue");this.handleKeyDownStart(e.keyEvent)}else if(e.type=="KEYUP"){tecoreLogger.debug("process key up in queue");this.handleKeyUp(e.keyEvent)}else if(e.type=="STRING"){tecoreLogger.debug("process string timed input in queue");this.handleStringInputTimed(e.value,e.timing,e.checkIntercept)}if(this.lockedByError){tecoreLogger.debug("keyboard is locked again");break}}};function Printer(e){this.controllerMode=false;this.autoMode=false;this.extentMode=false;this.formFeedMode=false;this.screen=e;this.data=[];this.position=0}Printer.prototype.setData=function(e){if(!this.controllerMode)return;if(this.screen.connectionSettings?.printMethod===1){this.data.push(e);return}if([0].includes(e))return;let t=true;switch(e){case 8:this.position=Math.max(this.position-1,0);t=false;break;case 10:case 12:this.position=this.data.length;break;case 11:this.data[this.position+1]=10;this.data[this.position+2]=13;this.position=this.position+2;t=false;break;case 13:const i=Math.max(this.data.lastIndexOf(10),this.data.lastIndexOf(12));this.position=i+1;break;default:this.position++;break}if(t){this.data[this.position]=e}};Printer.prototype.setAutoData=function(e,t){if(!this.autoMode||e.insertionLine==null)return;e.insertionLine.previous.elements.forEach(e=>{if(e!=null){this.data.push(e.receivedChar)}});this.data.push(13);this.data.push(t)};Printer.prototype.printPageMemory=function(e){this.printMainDisplay(e)};Printer.prototype.printMainDisplay=function(e,t){let i=0,n=0;if(this.extentMode||t){i=0;n=e.height}else{i=e.scrollHeadRow==null?0:e.scrollHeadRow;n=e.scrollTailRow==null?e.height:e.scrollTailRow+1}const r=e.getScreenContents(0,e.width,i,n,false,true,false,false,true);if(this.formFeedMode){r.push(12)}this.data=String.fromCharCode.apply(null,r);this.print(e)};Printer.prototype.parseData=function(e,t){if(e.connectionSettings?.printMethod===1){const l=new ArrayBuffer(t.length);const s=new Int8Array(l);for(let e=0;e<t.length;e++){s[e]=t[e]}return s}const i=t.map(e=>String.fromCharCode(e)).join("");const n=i.split("\n");const r=180;const s=[];n.forEach(e=>{if(e.length>r){e=e.substr(0,r)}s.push(e)});const o=s.join("\n");return o};Printer.prototype.print=function(e,t){let i=this.data;if(t){i=this.parseData(e,this.data)}if(e.connectionSettings?.printMethod===1&&i.length===0){return}else if(i===""){return}if(e.callbacks?.vtPrintingCallback){e.callbacks.vtPrintingCallback(e,i)}else{tecoreLogger.warn("No printing function in vt callbacks.")}this.data=[];this.position=0};VirtualVTScreen.prototype.find2Masking=function(e,t,i){if(e!=null){if(this.lastKeyMapping?.value=="Backspace"){return}if(this.lastKeyMapping?.value=="Delete"){return}for(var n=0;n<e.elements.length;n++){var r=e.elements[n];if(r&&r.maskChar!=null){delete r.maskChar}}fieldString=this.getLineString(e);var s=this.getCursorLineNumber();if(t==s){var o=-1;o=fieldString.indexOf(": ");if(o>=0){fieldString=fieldString.substring(0,o+2)}else{o=fieldString.indexOf("$ ");if(o>=0){fieldString=fieldString.substring(0,o+2)}else{var l=this.isInsertMode(i);if(l&&this.lastKeyMapping?.value!="Enter"){return}}}}this.matchRules(fieldString,e.elements,0)}};VirtualVTScreen.prototype.isInsertMode=function(e){var t=new Array;for(var i=0;i<e.length;i++){if(e[i]){t.push(e[i])}}var n=false;if(t.length>2&&t.length!=e.length){n=true}else if(t.length==2&&!e[e.length-1]&&!e[e.length-2]){n=true}return n};VirtualVTScreen.prototype.replaceOutOfRangChar=function(e){if(!this.charsetInfo.isDBCS&&e.length>0){e=e.replace(/\u2018|\u2019/g,"'").replace(/\u201c|\u201d/g,'"').replace(/\u2026/g,".")}return e};function ScriptLanguage(e,t,i,n){this.shortName=e;this.description=t;this.parser=i;this.mainReceivesAutomationObject=n}function ScriptRepository(){this.scriptMap={}}ScriptRepository.prototype.getScript=function(e){return this.scriptMap[e]};ScriptRepository.prototype.putScript=function(e,t){this.scriptMap[t]=e};ScriptRepository.prototype.removeScript=function(e){delete this.scriptMap[e]};function ScriptManager(e){this.repository=e;if(!this.repository){this.repository=new ScriptRepository}}ScriptManager.languages=[new ScriptLanguage("js","JavaScript",null,true)];ScriptManager.prototype.create=function(e,t,i,n){if(this.repository.getScript(t)){tecoreLogger.warn("Cannot create script with same name as already existing script:"+t);return null}var r=ScriptManager.languages[0];for(var s of ScriptManager.languages){if(s.shortName==e){r=s}}var o=new Script(i,s,n);this.repository.putScript(t,o);return o};ScriptManager.prototype.open=function(e){return this.repository.getScript(e)};ScriptManager.prototype.delete=function(e){this.repository.removeScript(e)};ScriptManager.prototype.execute=function(e,t,i,n){if(e.compiledScript==null){tecoreLogger.warn("Cannot execute script, no compiled script");if(n&&typeof n=="function"){n(new Error("Cannot execute script, no compiled script"))}}else{var r=t.callbacks.getScreens();return new ScriptExecutionContext(r,e,0,t.sessionShortName,i,n)}return null};function Script(e,t,i){this.needsCompilation=true;this.language=t;this.mainRoutineName=i;this.source=e;this.automationObjectName="automationObject";this.compiledScript=null;this.compilationMessages=[]}Script.prototype.setSource=function(e){this.needsCompilation=true;this.source=e};Script.prototype.compile=function(){if(this.source==null){tecoreLogger.info("assume script is already loaded")}if(this.language.shortName=="js"){var t=this.source==null?[]:this.source.split("\n");var c=[];var u=this.automationObjectName+".";t.forEach(function(e){let t=e.trim();if(t.length===0){return}let i=e;const n=(e.match(/automationObject/g)||[]).length>1;if(n){scriptLogger.warn("Multiple automationObject in single line. Suggest to keep 1 automationObject in single line to avoid potential issues.")}const r=i.indexOf("*");const s=i.indexOf("automationObject");const o=i.indexOf("sendFunction");const l=i.indexOf("sendFunctionYield");const a=i.indexOf("autoTypeJS");if(s>-1&&o>-1&&l===-1&&r===-1){if(n){i=i.replace(/automationObject.sendFunction\(/g,"yield *automationObject.sendFunYieldImplicitly(")}else{i=i.replace("automationObject","*automationObject");i=i.replace("sendFunction","sendFunYieldImplicitly")}}if(s>-1&&a>-1){if(n){i=i.replace(/automationObject.autoTypeJS/g,"yield *automationObject.autoTypeYieldImplicitly")}else{i=i.replace("automationObject","*automationObject");i=i.replace("autoTypeJS","autoTypeYieldImplicitly")}}t=i.trim();if(i.indexOf(u)!=-1&&!t.startsWith("yield")&&!t.startsWith("var")&&!t.startsWith("let")){c.push("yield "+i)}else{c.push(i)}});var i=c.join("\n");let e=Object.getPrototypeOf(function*(){}).constructor;try{if(this.mainRoutineName){this.compiledScript=new e("automationObject",i+";\nyield *"+this.mainRoutineName+"(automationObject);")}else{this.compiledScript=new e("automationObject",i+";\n")}tecoreLogger.debug("Script compilation result="+this.compiledScript);this.needsCompilation=false}catch(e){tecoreLogger.severe("Error when loading string into javascript function for scripting. Error="+e.stack);alert("Error when loading string into javascript function for scripting. Error="+e)}}else{tecoreLogger.warn("Cannot compile script, language not known. Language="+language.shortName)}};Script.prototype.toString=function(){return"<Script ("+this.language.shortName+") main="+(this.mainRoutineName?this.mainRoutineName:"(Generated)")+">"};function ScriptExecutionContext(e,t,i,n,r,s,o){this.successCallback=r;this.errorCallback=s;if(!(t&&t.compiledScript)||t.needsCompilation){this.failed=true;this.failureReason=new Error("Script must be compiled prior to use");if(this.errorCallback&&typeof this.errorCallback=="function"){this.errorCallback(this.failureReason)}return}this.step=0;this.script=t;this.screenArray=e;this.currentWaitState=null;this.currentScreen=null;this.yieldDelay=i?i:0;this.sessionShortName=n;this.failed=false;this.failureReason=null;this.done=false;this.paused=false;this.automationObject=new AutomationObject(this);if(o){this.automationObject.setProperty("preCheckEditableField",true)}try{if(t.language.mainReceivesAutomationObject){tecoreLogger.debug("Script function="+t.compiledScript+", automationObject="+this.automationObject);this.generator=t.compiledScript(this.automationObject);tecoreLogger.debug("started script, generator="+this.generator)}else{tecoreLogger.warn("no idea how to start the script main")}}catch(e){tecoreLogger.severe("script start fail exeception="+e);this.failed=true;this.failureReason=e;if(this.errorCallback&&typeof this.errorCallback=="function"){this.errorCallback(e)}}}ScriptExecutionContext.prototype.resume=function(){if(this.paused){this.paused=false;if(!(this.failed||this.done))this.runTillWaitOrComplete()}};ScriptExecutionContext.prototype.pause=function(){if(!this.paused&&!(this.failed||this.done)){this.paused=true}};ScriptExecutionContext.prototype.stop=function(){if(!this.done){this.done=true;this.paused=false;for(let e=0;e<this.screenArray.length;e++){if(this.screenArray[e].handleScriptComplete)this.screenArray[e].handleScriptComplete()}if(this.successCallback&&typeof this.successCallback=="function"){this.successCallback(this.automationObject.outputs)}}};ScriptExecutionContext.prototype.hasWaitState=function(e){return this.currentWaitState&&this.currentWaitState.waitType===e};ScriptExecutionContext.prototype.getScreen=function(i){if(arguments.length==0||!arguments[0]||arguments[0]==""){return this.screenArray[0]}else{let t=this.screenArray.length;for(let e=0;e<t;e++){if(this.screenArray[e].sessionShortName==i){return this.screenArray[e]}}}};ScriptExecutionContext.prototype.removeScreen=function(e){let i=this.screenArray.length;for(let t=0;t<i;t++){if(this.screenArray[t].sessionShortName==e){let e=this.screenArray[t].id;this.screenArray.splice(t,1);return e}}return-1};ScriptExecutionContext.prototype.issueError=function(e){this.failed=true;this.done=true;this.paused=false;for(let e=0;e<this.screenArray.length;e++){this.screenArray[e].lockedByScripting=false}if(this.errorCallback&&typeof this.errorCallback=="function"){this.errorCallback(new Error(e))}};ScriptExecutionContext.prototype.handleClearTimeout=function(){clearTimeout(this.timeoutFunction);this.timeoutFunction=null};ScriptExecutionContext.prototype.handleSetTimeout=function(e){let t=e.waitType==="sleep";let i=this;if(e&&e.timeout){this.timeoutFunction=setTimeout(function(){i.currentWaitState=null;if(!i.paused){if(!t){i.screenArray[0].handleScriptTimeout&&i.screenArray[0].handleScriptTimeout()}i.runTillWaitOrComplete()}else{tecoreLogger.warn("Script timeout reached but script paused. Resume script manually.")}},e.timeout)}};ScriptExecutionContext.prototype.runTillWaitOrComplete=function(){this.handleClearTimeout();this.currentWaitState=null;let t=this;if(!t.paused&&!t.failed&&!t.done){for(let e=0;e<t.screenArray.length;e++){t.screenArray[e].lockedByScripting=true}}setTimeout(function(){if(t.paused){tecoreLogger.warn("Script execution called but execution was previously paused. Script remains paused.");return}if(t.failed||t.done){tecoreLogger.warn("Script will not run. Failed="+t.failed+", failureReason="+t.failureReason+", complete="+t.done);return}try{var e=t.generator.next();if(e){if(e.value instanceof ScriptWaitState){t.currentWaitState=e.value}}setTimeout(function(){if(e){tecoreLogger.info("After script execution step, return val="+e.value);if(e.value instanceof ScriptWaitState){t.handleSetTimeout(e.value);if(typeof e.value.issuedWaitCallback=="function"){console.log("Issuing wait callback");e.value.issuedWaitCallback()}}else if(e.done){t.stop()}else if(!t.paused){t.runTillWaitOrComplete()}}else{tecoreLogger.info("After script execution step, no return value")}},t.yieldDelay)}catch(e){tecoreLogger.warn("Script execution encountered exception="+e);t.failureReason=e;t.issueError(e.message)}},100)};function ScriptWaitState(e,t,i,n){this.waitType=e;this.timeout=t;this.data=i;this.issuedWaitCallback=n;this.generatorIterator=null}ScriptWaitState.prototype.toString=function(){return"<ScriptWaitState: "+this.waitType+", timeout="+this.timeout+">"};function StepCompiledScript(e){this.script=e;this.steps=[]}function ScriptStep(){this.foo=foo;this.breakEnabled=false}function CreateObject(e){return AutomationObject}var scriptLogger=window.COM_RS_COMMON_LOGGER.makeComponentLogger("com.rs.tecore.script");function AutomationField(e,t,i,n,r){this.startRow=e;this.startColumn=t;this.endRow=i;this.endColumn=n;this.isEditable=r}const apiAppliedTerms={getPos:[],getRowColumn:[],setPos:[TERMINAL_PROTOCOL_TN3270,TERMINAL_PROTOCOL_TN5250],setRowColumn:[TERMINAL_PROTOCOL_TN3270,TERMINAL_PROTOCOL_TN5250],setRow:[TERMINAL_PROTOCOL_TN3270,TERMINAL_PROTOCOL_TN5250],setColumn:[TERMINAL_PROTOCOL_TN3270,TERMINAL_PROTOCOL_TN5250],sendFunctionYield:[TERMINAL_PROTOCOL_TN3270,TERMINAL_PROTOCOL_TN5250],waitForString:[TERMINAL_PROTOCOL_VT],getText:[],getStatusBarText:[]};function isApiApplicable(e,t,i=true){if(!t){scriptLogger.severe("Automation function not supported when screen not set");return false}const n=t.getProtocolType();const r=apiAppliedTerms[e];if(!r||r.length===0||r.includes(n)){return true}if(i){scriptLogger.severe("Automation function ("+e+") not supported on selected terminal type")}return false}function AutomationObject(u){var h=null;var k=true;var B=false;const i=this;this.preCheckEditableField=false;let U=function(){u.handleClearTimeout()};var x=function(e,t){var i=e-1;var n;if(t>0){n=h.findNextField(i,false,false)}else if(t<0){n=h.findNextField(i,true,false)}else{n=h.screenElements[i].field}var r={};r["Length"]=n.getSize(h.size);var s=n.fieldData;var o=n.fieldData.position;r["Pos"]=o+1;r["Protected"]=s.isEditable;r["Visible"]=s.isNoDisplay;r["Modified"]=false;var l=[];for(var a=0;a<r["Length"];a++){if(a+o>=h.size){o=0-a}if(h.screenElements[a+o].isModified){r["Modified"]=true}var c=h.screenElements[a+o].ebcdicChar;l.push(h.renderer.unicodeConversionTable[c])}r["Text"]=String.fromCharCode.apply(null,l);var u=s.attributes.standardAttribute&TN3270E_FIELD_ATTRIBUTE_NUMERIC;if(u){r["Type"]=3}else{r["Type"]=0}return r};var e=function(e){return h.getScriptRowColumnFromScriptPosition(e)};var K=function(){var e=Math.min(h.selectionStartColumn,h.selectionEndColumn);var t=Math.max(h.selectionStartColumn,h.selectionEndColumn);var i=Math.min(h.selectionStartRow,h.selectionEndRow);var n=Math.max(h.selectionStartRow,h.selectionEndRow);if(h.selectionStartColumn==null||h.selectionStartRow==null){e=0;i=0;t=h.width;n=h.height}return h.getScreenContents(e,t,i,n,false,true,false)};var t=function(e,t){return h.getScriptPositionFromScriptRowColumn(e,t)};var n=function(e){return h.getRowColumnFromScriptPosition(e)};var r=function(e,t){return h.getPositionFromScriptRowColumn(e,t)};var s=function(e){return h.getScriptRowColumnFromPosition(e)};var o=function(e,t){return h.getScriptPositionFromRowColumn(e,t)};var d=function(e){return h.getRowColumnFromPosition(e)};var p=function(e,t){return h.getPositionFromRowColumn(e,t)};var V=function(){return h.getProtocolType()};var Y=function(e,t){if(arguments.length==1){return h.getScriptRowColumnFromScriptPosition(e)}else{return h.getScriptPositionFromScriptRowColumn(e,t)}};var l=function(e,t){scriptLogger.debug("automationObject.connect()");if(typeof e=="string"){if(e==""&&u.sessionShortName)e=u.sessionShortName;h=u.getScreen(e)}else if(typeof e=="object"){h=e}else if(u.sessionShortName){h=u.getScreen(u.sessionShortName)}else{h=u.getScreen()}if(h){tecoreLogger.info("Scripting: connect found screen="+h);h.currentScriptExecutionContext=u;return h.sessionShortName}else{tecoreLogger.warn("Scripting: screen for session short name not found");return null}};var a=function(){if(h){h=null;return true}return false};var c=function(e){scriptLogger.debug("automationObject.autoTypeJS("+e+")");if(T()){if(e)h.autoType(e)}return true};var f=function*(e){scriptLogger.debug("automationObject.autoTypeJS("+e+")");setTimeout(()=>{if(T()){if(e)h.autoType(e)}u.runTillWaitOrComplete()},0);yield new ScriptWaitState("messageReadWait",0);return true};var H=c;var G=function(e,t,i){var n=h.getCursorPos();h.setCursorPos(h.getPositionFromScriptRowColumn(t,i));if(!T())return true;h.autoType(e);h.setCursorPos(n);return true};var E=function(e,t){if(e==="preCheckEditableField"){i.preCheckEditableField=t}return true};var T=function(){if(!i.preCheckEditableField)return true;const e=h.isEditablePosition();if(!e){console.log(`Got not editable field at ${h.cursorPos} when running script.`);return false}else{return true}};var _=function(e,t){const i=Math.max(e-1,0)*h.width+Math.max(t-1,0);const n=h.isEditablePosition(i);if(n){return true}else{console.log(`Got not editable field at ${h.cursorPos}.`);return false}};var g=function(t){scriptLogger.debug("automationObject.sendFunction("+t+")");let i=h.getProtocolType();if(i===TERMINAL_PROTOCOL_TN3270||i===TERMINAL_PROTOCOL_TN5250){let e=null;if(i===TERMINAL_PROTOCOL_TN3270)e=h.getAIDKey(t);else e=TN5250_AID_KEY_MAP[t];if(e)h.noYieldAidKey=true;else h.noYieldAidKey=false}if(i==TERMINAL_PROTOCOL_VT)h.handleRecordVTSSHPasswordPrompt(t);return h.handleFunction(t)};var S=function*(t){scriptLogger.debug("automationObject.sendFunction("+t+")");let i=h.getProtocolType();if(i===TERMINAL_PROTOCOL_TN3270||i===TERMINAL_PROTOCOL_TN5250){let e=null;if(i===TERMINAL_PROTOCOL_TN3270)e=h.getAIDKey(t);else e=TN5250_AID_KEY_MAP[t];if(e)h.noYieldAidKey=true;else h.noYieldAidKey=false}if(i==TERMINAL_PROTOCOL_VT)h.handleRecordVTSSHPasswordPrompt(t);setTimeout(()=>{h.handleFunction(t);u.runTillWaitOrComplete()},0);yield new ScriptWaitState("messageReadWait",0);return true};var C=function(){if(!isApiApplicable("getPos",h)){return-1}return h.getPos()+1};var R=function(){if(!isApiApplicable("getRowColumn",h)){return null}return s(h.getPos())};var m=function(e){if(!isApiApplicable("setPos",h)){return false}return h.setCursorPos(e-1)};var N=function(e,t){if(!isApiApplicable("setRowColumn",h)){return false}return h.setCursorPos(r(e,t))};var A=N;var y=function(e){if(!isApiApplicable("setRow",h)){return false}let t=h.getPos();let i=h.getRowColumnFromPosition(t);return h.setCursorPos(h.width*(e-1)+i.column)};var I=function(e){if(!isApiApplicable("setColumn",h)){return false}let t=h.getPos();let i=h.getRowColumnFromPosition(t);return h.setCursorPos(h.width*i.row+(e-1))};var O=function*(e,t,i=2e3){const n=t===undefined?"":", "+t;scriptLogger.debug("yield *automationObject.sendFunctionYield("+e+n+")");if(!isApiApplicable("sendFunctionYield",h,false)){return g(e)}h.noYieldAidKey=false;h.kbRestoreTimes=t!==undefined&&typeof t==="number"?t:1;h.kbRestoreWaitMs=i;h.handleFunction(e);yield new ScriptWaitState("messageReadWait",0);h.kbRestoreWaitMs=undefined;return true};var b=function*(e){yield new ScriptWaitState("sleep",e);return true};var P=function*(i,e){if(!isApiApplicable("waitForString",h)){return false}let n=[];let r=i.length;for(let t=0;t<r;t++){let e=i.charCodeAt(t);if(e>255){n.push(e&65280);n.push(e&255)}else{n.push(e)}}h.waitStringArray=n;h.waitStringPos=0;h.processBufferedMessages();if(h.waitStringArray!=null&&h.waitStringArray.length>0){yield new ScriptWaitState("waitForString",e,i,function(){h.processBufferedMessages()})}return true};var D=function(n,r,s,e){if(!isApiApplicable("getText",h)){return""}let o;let l;let a;let c;var u=false;if(arguments.length===1){let e=h.getPos();let t=d(e);o=t.row;l=t.column;let i=d(e+n%h.size);c=i.row+1;a=i.column;u=true}else if(arguments.length===3){o=n<1?0:n-1;l=r<1?0:r-1;let e=p(o,l);let t=e+s;if(t>h.size){t=h.size}let i=d(t);c=i.row+1;a=i.column;u=true}else if(arguments.length===4){o=n-1;l=r-1;c=s;a=e}else{return""}return h.getScreenContents(l,a,o,c,false,true,false,u)};var L=function(e,t){if(!isApiApplicable("getStatusBarText",h)){return""}if(arguments.length<1||arguments.length>2||e<1||t&&t<e){return""}return h.getStatusBarContents(e,t,false,true)};var W=function(e){var t=document.createEvent("Event");t.initEvent("keydown",true,true);t.keyCode=e.keyCode;h.invisibleInput.dispatchEvent(t)};var X=function*(e){var t=0;if(e=="ENTER"){t=125}h.sendModifiedFields(t);yield new ScriptWaitState("messageReadWait",0);return true};var z=function*(e){h.sendModifiedFields(e);yield new ScriptWaitState("messageReadWait",0);return true};var q=function(e){h.sendModifiedFields(e);return true};var j=function*(e,t){tecoreLogger.warn("Scripting: delay not yet implemented for waitReadyJS!");yield new ScriptWaitState("messageReadWait",e)};var Q=function(e,t){h.selectionStartRow=e;h.selectionStartColumn=t;if(h.selectionEndRow!=null&&h.selectionEndColumn!=null){h.renderer.paintUpperCanvas()}return true};var J=function(e,t){h.selectionEndRow=e;h.selectionEndColumn=t;if(h.selectionStartRow!=null&&h.selectionStartColumn!=null){h.renderer.paintUpperCanvas()}return true};var Z=function(){return{width:h.width,height:h.height}};var $=function(){document.execCommand("copy")};var e3=function(){return h.getProperties()};var t3=function(e,t){var i=h.getFieldStartPosition(h.getPositionFromScriptRowColumn(e,t));if(i){return h.getScriptRowColumnFromPosition(i)}return null};var i3=function(e,t){var i=h.getPositionFromScriptRowColumn(e,t);var n=h.getFieldStartPosition(i);var r=h.getFieldLength(n);return r};var n3=function(e,t,i,n){var r=h.getPositionFromScriptRowColumn(i,n);var s=h.findString(e,t,true,r,null);if(s==-1){return null}return h.getScriptRowColumnFromPosition(s)};var r3=function(e){var t=h.findString(e,null,null,null,null);if(t==-1){return null}return h.getScriptRowColumnFromPosition(t)};var s3=function(e,t,i){var n=h.getPositionFromScriptRowColumn(t,i);var r=h.getFieldStartPosition(n);if(r){var s=h.getFieldLength(r);var o=h.getCursorPos();h.setCursorPos(r);if(T())return true;if(s>e.length){h.autoType(e)}else{var l=e.substr(0,s);h.autoType(l)}h.setCursorPos(o)}};var o3=function(e,t){var i=h.getPositionFromScriptRowColumn(e,t);return h.getFieldText(i,true)};var l3=function(e,t){var i=h.getScreenElement(e-1,t-1);if(i.field){return field.fieldData.attributes}return null};var a3=function(){if(h){var e=[];var t=h.findField(true);for(var i=0;i<t.length;i++){var n=t[i];var r=h.width;e.push(new AutomationField(Math.floor(n.start/r)+1,Math.floor(n.start%r)+1,Math.floor(n.end%r)+1,Math.floor(n.end%r)+1,n.fieldData.isEditable()))}return e}else{return null}};var c3=function(e,t){if(h){var i=h.getScreenElement(e-1,t-1);return i.characterAttributes.color}else{return null}};var u3=function(e,t){if(h){var i=h.getScreenElement(e-1,t-1);if(i.standardAttribute!=0){return{R:i.foregroundRed,G:i.foregroundGreen,B:i.foregroundBlue}}}return null};var h3=function(e){h.paste(e)};var d3=function(){if(h){return h.isKeyboardReady}return false};var p3=function(){if(h){h.keyboardLocked=true}};var f3=function(){if(h){h.keyboardLocked=false}};var E3=function(e){return h.handleStringInputTimed(e,250,false)};var v=function*(){let t=false;tecoreLogger.info("Issue user script input prompt");h.callbacks.passwordPrompt(e=>{if(e){if(T()){t=h.autoType(e)}u.runTillWaitOrComplete()}else{u.issueError("No password returned");t=false}});yield new ScriptWaitState("userPrompt",0);return true};var T3=function(e,t,i){};var M=function(){return h.highLightFiled()};var w=function(e,t,i){scriptLogger.debug("automationObject.setVar("+e+", "+t+", "+i+")");if(i)window["globalVar_"+e]=t;else h["localVar_"+e]=t;return true};var F=function(e,t){let i;scriptLogger.debug("automationObject.getVar("+e+", "+t+")");if(t){if(window["globalVar_"+e])i=window["globalVar_"+e];else i=h["localVar_"+e]}else{if(h["localVar_"+e])i=h["localVar_"+e];else i=window["globalVar_"+e]}scriptLogger.debug(i);return i};var _3=function*(e,t){scriptLogger.debug("automationObject.input("+e+")");scriptLogger.debug(t);var i=[];setTimeout(()=>{window.INPUT.Init(h,e,t,i)},50);yield new ScriptWaitState("messageReadWait",0);scriptLogger.debug(i);return i};var g3=function(e,t,i){if(!e||!t){scriptLogger.severe("Parameters are required");return}const n=document.createElement("a");document.body.appendChild(n);const r=new Blob([e],{type:i||"text/plain"});n.href=window.URL.createObjectURL(r);n.download=`${t}`;n.click()};var S3=function(e,t,i,n,r,s,o,l){if(l.host==null||l.port==null){l.connect=false}else{l.connect=true}l.url=r;l.screenHeight=l.cols;l.screenWidth=l.rows;var a={parentDiv:t,width:i,height:n};let c=u.screenArray;if(e===TERMINAL_PROTOCOL_TN3270){let e=start3270(a,l,s,o);c.push(e);return e}else if(e===TERMINAL_PROTOCOL_TN5250){let e=start5250(a,l,s,o);c.push(e);return e}else if(e===TERMINAL_PROTOCOL_VT){let e=startVT(a,l,s,o);c.push(e);return e}else{return null}};var C3=function(e){if(!e||e=="")e=u.sessionShortName;let t=u.getScreen(e);if(t){u.removeScreen(e);t.closeConnection(4e3,"Terminal closed");t=null;return true}else{return false}};var R3={autoTypeJS:c,autoTypeYieldImplicitly:f,waitJS:b,connect:l,disconnect:a,newSession:S3,setCursorJS:A,setProperty:E,closeSession:C3,getScriptRowColumnFromScriptPosition:e,getScriptPositionFromScriptRowColumn:t,getRowColumnFromScriptPosition:n,getPositionFromScriptRowColumn:r,getScriptRowColumnFromPosition:s,getScriptPositionFromRowColumn:o,getRowColumnFromPosition:d,getPositionFromRowColumn:p,sendFunction:g,sendFunYieldImplicitly:S,typePassword:v,getPos:C,getRowColumn:R,getText:D,getStatusBarText:L,waitForString:P,setPos:m,setRowColumn:N,setRow:y,setColumn:I,sendFunctionYield:O,highLightFiled:M,isEditable:_,setVar:w,getVar:F,writeToFile:g3,input:_3,outputs:{}};var m3={};return R3}window.INPUT={inputClass:undefined,Init:function(e,t,i,n){inputClass=e;inputClass.inputCount=i.length;inputClass.inputResults=n;INPUT.createBzwOverlay();this.inputElements=[];var r=document.getElementById("bzwINPUT");if(r)return;let s=document.createElement("FORM");var r=s;s.name="inputForm";s.id="bzwINPUT";s.method="POST";s.style.display="block";s.style.backgroundColor="white";s.style.zIndex="1500";s.style.width="100%";s.style.height="100%";s.style.overflow="auto";this.inputElements[0]=s;document.body.appendChild(s);r.onkeyup=async function(e){if(e.keyCode==13){e.preventDefault()}else if(e.keyCode==27){e.preventDefault();INPUT.getUISettings(false);INPUT.RemoveINPUTForm(r)}};var o=document.createElement("div");o.id="dynContainer";o.className="dynContent";this.inputElements[1]=o;this.inputElements[0].appendChild(o);var l=document.createElement("div");l.id="sectionInput";l.className="input_section_style";o.appendChild(l);var a,c,u,h,d;var p,f,E;var T=document.createElement("table");T.className="dynContent_btm_tbl_input";T.id="id_input_table";u=document.createElement("tr");u.align="left";h=document.createElement("td");var _=document.createElement("button");_.id="input_close";_.value="X";_.innerHTML="X";_.className="close_button_style";_.style.float="right";_.style.padding="16px 0px";_.onclick=async function(e){e.preventDefault();if(e.detail){var t=document.getElementById("bzwINPUT");INPUT.getUISettings(false);INPUT.RemoveINPUTForm(t)}};h.appendChild(_);f=document.createElement("p");f.id="id_header";f.className="header_style";f.innerHTML=t;h.appendChild(f);let g=document.createElement("hr");g.className="header_divider";h.appendChild(g);u.appendChild(h);T.appendChild(u);for(a=0;a<i.length;a++){if(a>0){u=document.createElement("tr");u.align="left";h=document.createElement("td");h.align="left";c=document.createElement("br");h.appendChild(c);u.appendChild(h);T.appendChild(u)}u=document.createElement("tr");u.align="left";u.id="id_label_tr"+(a+1);h=document.createElement("td");d=document.createElement("p");d.id="id_label"+(a+1);d.textContent=i[a];h.appendChild(d);u.appendChild(h);T.appendChild(u);u=document.createElement("tr");u.align="left";u.id="id_input_tr"+(a+1);h=document.createElement("td");h.style.cssText="width:580px";p=document.createElement("input");p.type="text";p.id="id_input"+(a+1);p.maxLength=256;p.name="txtInput"+(a+1);p.value="";if(!a)E=p;h.appendChild(p);u.appendChild(h);u.style.display="true";T.appendChild(u)}u=document.createElement("tr");u.align="left";h=document.createElement("td");h.align="left";for(a=0;a<2;a++){c=document.createElement("br");h.appendChild(c)}u.appendChild(h);T.appendChild(u);u=document.createElement("tr");u.align="left";h=document.createElement("td");h.align="left";p=document.createElement("input");p.type="button";p.id="id_submit";p.value="Ok";p.className="button_submit";p.onclick=function(){var e=document.getElementById("bzwINPUT");INPUT.getUISettings(true);INPUT.RemoveINPUTForm(e)};p.style="vertical-align:top; float:left; margin-left:15%; width:25%";h.appendChild(p);h.align="right";p=document.createElement("input");p.type="button";p.id="id_cancel";p.value="Cancel";p.className="button_submit";p.onclick=function(){var e=document.getElementById("bzwINPUT");INPUT.getUISettings(false);INPUT.RemoveINPUTForm(e)};p.style="vertical-align:top; float:right; margin-right:15%; width:25%";h.appendChild(p);u.appendChild(h);T.appendChild(u);u=document.createElement("tr");u.align="left";h=document.createElement("td");c=document.createElement("br");h.appendChild(c);u.appendChild(h);T.appendChild(u);l.appendChild(T);s=document.getElementById("id_input_table");if(s){s.style.display="block";s.style.backgroundColor="white"}setTimeout(()=>{if(E)E.focus()},50)},createBzwOverlay:function(){let e=document.getElementById("bzwOverlay");if(e)return;let t=document.createElement("div");t.name="bzwOverlay";t.id="bzwOverlay";t.className="bzw_input_overlay";document.body.appendChild(t)},removeBzwOverlay:function(){const e=document.getElementById("bzwOverlay");if(!e)return;e.style.display="none";document.body.removeChild(e)},RemoveINPUTForm:function(e){if(!e){return}document.body.removeChild(e);this.inputElements=null;INPUT.removeBzwOverlay();inputClass.currentScriptExecutionContext.runTillWaitOrComplete()},getUISettings:function(e){let t;for(i=0;i<inputClass.inputCount;i++){if(e){t=document.getElementById("id_input"+(i+1));inputClass.inputResults.push(t.value)}else{}}}};let autoLoad=function(){var e="inputCss";if(!document.getElementById(e)){var t=document.getElementsByTagName("head")[0];var i=document.createElement("link");i.id=e;i.rel="stylesheet";i.type="text/css";i.href="./lib/js/input.css";t.appendChild(i)}}();tecoreLogger.info("loaded automation");console.log("loading VBScriptConstants.js");var fff=3;const vbBlack=0;const vbRed=255;const vbGreen=65280;const vbYellow=65535;const vbBlue=16711680;const vbMagenta=16711935;const vbCyan=16776960;const vbWhite=16777215;const vbBinaryCompare=0;const vbTextCompare=1;const vbSunday=1;const vbMonday=2;const vbTuesday=3;const vbWednesday=4;const vbThursday=5;const vbFriday=6;const vbSaturday=7;const vbUseSystemDayOfWeek=0;const vbFirstJan1=1;const vbFirstFourDays=2;const vbFirstFullWeek=3;const vbGeneralDate=0;const vbLongDate=1;const vbShortDate=2;const vbLongTime=3;const vbShortTime=4;const vbObjectError=-2147221504;const vbOKOnly=0;const vbOKCancel=1;const vbAbortRetryIgnore=2;const vbYesNoCancel=3;const vbYesNo=4;const vbRetryCancel=5;const vbCritical=16;const vbQuestion=32;const vbExclamation=48;const vbInformation=64;const vbDefaultButton1=0;const vbDefaultButton2=256;const vbDefaultButton3=512;const vbDefaultButton4=768;const vbApplicationModal=0;const vbSystemModal=4096;const vbOK=1;const vbCancel=2;const vbAbort=3;const vbRetry=4;const vbIgnore=5;const vbYes=6;const vbNo=7;const vbCr=String.fromCharCode(13);const VbCrLf=String.fromCharCode(13)&String.fromCharCode(10);const vbFormFeed=String.fromCharCode(12);const vbLf=String.fromCharCode(10);const vbNullChar=String.fromCharCode(0);const vbNullString=String.fromCharCode(0);const vbTab=String.fromCharCode(9);const vbVerticalTab=String.fromCharCode(11);const vbUseDefault=-2;const vbTrue=-1;const vbFalse=0;const vbEmpty=0;const vbNull=1;const vbInteger=2;const vbLong=3;const vbSingle=4;const vbDouble=5;const vbCurrency=6;const vbDate=7;const vbString=8;const vbObject=9;const vbError=10;const vbBoolean=11;const vbVariant=12;const vbDataObject=13;const vbDecimal=14;const vbByte=17;const vbArray=8192;function*BASICFunctionCallOrObject(varName){console.log("varName "+varName+" is a "+typeof varName);if(typeof varName==="function"){return yield*varName.apply(varName)}else{let val=eval(varName);return null}}function BASICFunctionOrArrayCall(e,t){if(Array.isArray(e)){return e[t]}else{return e.apply(e,arguments)}}function VBScript(){this.lastRandom=null}function VBException(e,t){this.message=e;this.type=t}VBScript.prototype.abs=function(e){if(!e){return 0}return Math.abs(e)};VBScript.prototype.array=function(e){if(arguments.length===0){return[]}return arguments};VBScript.prototype.asc=function(e){if(!e){return 0}return e.charCodeAt(0)};VBScript.prototype.atn=function(e){return Math.atan(e)};VBScript.prototype.cbool=function(e){return Boolean(e)};VBScript.prototype.cbyte=function(e){var t=Math.round(Number(e));if(t>255){throw new VBException("Overflow",6)}};VBScript.prototype.cdbl=function(e){return Number(e).toPrecision(15)};VBScript.prototype.chr=function(e){return String.fromCharCode(e)};VBScript.prototype.cint=function(e){var t=Number(e);var i=t%1;var n=Math.round(t);if(n%2==1&&i==.5){return Math.floor(t)}return n};VBScript.prototype.clng=function(e){return this.cint(e)};VBScript.prototype.cos=function(e){return Math.cos(e)};VBScript.prototype.createObject=function(e,t){console.log("Warning, createObject not fully supported!");if(t=="BZWhll.WhllObj"){return new BZWhll(e)}};VBScript.prototype.csng=function(e){return Number(e).toPrecision(7)};VBScript.prototype.cstr=function(e){if(e==null){throw new VBException("Invalid use of Null",94)}return e.toString()};VBScript.prototype.day=function(e){if(e==null){return null}return new Date(e).getDate()};VBScript.prototype.escape=function(e){return escape(e)};VBScript.prototype.eval=function(e){return Boolean(e)};VBScript.prototype.exp=function(e){if(e>709.782712893){throw new VBException("Overflow",6)}return Math.exp(e).toPrecision(15)};VBScript.prototype.filter=function(e,t,i,n){var r;var s=0;if(arguments.length>2){r=i;if(arguments.length==4){s=n}}else{r=true}var o;if(s){o=new RegExp(t,"i")}else{o=new RegExp(t)}var l=[];for(var a=0;a<e.length;a++){var c=e[a].search(o);if(c!=-1&&r||c==-1&&!r){l.push(e[a])}}return l};VBScript.prototype.hex=function(e){return e.toString(16).toUpperCase()};VBScript.prototype.hour=function(e){if(e==null){return null}if(e=="Null"){return null}return new Date(e).getHours()};VBScript.prototype.inStr=function(e){var t;var i;var n=-1;var r=false;if(arguments.length>2){n=arguments[0];if(n==null){throw new VBException("Invalid use of Null",94)}n--;t=arguments[1];i=arguments[2];if(arguments.length==4){r=arguments[3]}}else{t=arguments[0];i=arguments[1]}if(t==null){return null}if(t.length==0){return 0}if(i==null){return null}if(i.length==0){return 0}if(n>t.length){return 0}var s;if(r){s=new RegExp(i,"i")}else{s=new RegExp(i)}var o;if(n>-1){o=t.substring(n).search(s);if(o!=-1){o+=n}}else{o=t.search(s)}return o+1};VBScript.prototype.inStrRev=function(e){var t=arguments[0];var i=arguments[1];var n;var r=false;if(arguments.length>2){if(arguments[2]!=-1){n=arguments[2];if(n==null){throw new VBException("Invalid use of Null",94)}n--}if(arguments.length==4){r=arguments[3]}}if(t==null){return null}if(t.length==0){return 0}if(i==null){return null}if(i.length==0){return 0}if(n>t.length){return 0}var s;if(r){s=new RegExp(i,"gi")}else{s=new RegExp(i,"g")}var o=0;var l;if(n){l=t.substring(0,n)}else{l=t}while(s.test(l)==true){if(s.lastIndex!=0){o=s.lastIndex}}return o};VBScript.prototype.fix=function(e){if(e<0){return Math.ceil(e)}return Math.floor(e)};VBScript.prototype.int=function(e){return Math.floor(e)};VBScript.prototype.isArray=function(e){return Array.isArray(e)};VBScript.prototype.isEmpty=function(e){if(!e){return true}else if(e=="Empty"){return true}return false};VBScript.prototype.isNull=function(e){if(!e){return true}if(e=="Null"){return true}return false};VBScript.prototype.isNumeric=function(e){var t=isFinite(e);var i=isNaN(parseFloat(e));return!i&&t};VBScript.prototype.join=function(e,t){var i="";if(!t){t=" "}for(var n=0;n<e.length-1;n++){i=i.concat(e[n],t)}i=i.concat(e(e.length-1));return i};VBScript.prototype.lbound=function(e){return 0};VBScript.prototype.lcase=function(e){return e.toLowerCase()};VBScript.prototype.left=function(e,t){return e.substring(0,t)};VBScript.prototype.len=function(e){if(!e){return null}if(e=="Null"){return null}return e.length};VBScript.prototype.log=function(e){return Math.log(e).toPrecision(15)};VBScript.prototype.trim=function(e){if(!e){return null}if(e=="Null"){return null}return e.trim()};VBScript.prototype.rtrim=function(e){if(!e){return null}if(e=="Null"){return null}return e.replace(/\s+$/,"")};VBScript.prototype.ltrim=function(e){if(!e){return null}if(e=="Null"){return null}return e.replace(/^\s+/,"")};VBScript.prototype.mid=function(e,t,i){if(!e){return null}if(e=="Null"){return null}t--;if(i){var n=t+i;return e.substring(t,n)}return e.substring(t)};VBScript.prototype.minute=function(e){if(!e){return null}if(e=="Null"){return null}return new Date(e).getMinutes()};VBScript.prototype.month=function(e){if(!e){return null}if(e=="Null"){return null}return new Date(e).getMonth()};month=["January","February","March","April","May","June","July","August","September","October","November","December"];shortMonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];VBScript.prototype.monthName=function(e,t){if(t&&t==true){return shortMonth[e-1]}return month[e-1]};VBScript.prototype.oct=function(e){if(!e){return null}if(e=="Null"){return null}return e.toString(8)};VBScript.prototype.replace=function(e,t,i,n,r,s){if(!e){}else if(e.length==0){return""}if(t.length==0){return e}var o=0;if(arguments.length<5){n=1;r=-1;if(arguments.length==4){o=arguments[3]}}else{if(n>e.length){return""}if(!r){return e}if(arguments.length==6){o=arguments[5]}}var l=e.substring(n-1);var a="";var c=0;var u=0;var h;if(o){h=new RegExp(t,"i")}else{h=new RegExp(t)}while(c<e.length){var d=l.substring(c);var p=d.search(h);if(p!=-1){p+=c;a+=l.substring(c,p);a+=i;c+=t.length+(p-c);u++;if(u==r){a+=l.substring(c);break}}else{a+=l.substring(c);break}}if(n>1){return e.substring(0,n-1)+a}return a};VBScript.prototype.rgb=function(e,t,i){var n;n|=e;n|=t<<8;n|=i<<16;return n};VBScript.prototype.right=function(e,t){if(!e){return null}if(e=="Null"){return null}if(t>=e.length){return e}return e.substring(e.length-t,e.length)};VBScript.prototype.rnd=function(e){if(!e){this.lastRandom=Math.random();return Math.random()}};VBScript.prototype.ubound=function(arrayName,dimension){if(dimension){var evalString="arrayName";for(var i=0;i<dimension;i++){evalString+="[0]"}var length=eval(evalString);return length-1}else{return arrayName.length-1}};console.log("loading BZWhllConstants.js");var fff=3;const bzWhllAidArray={1:241,2:242,3:243,4:244,5:245,6:246,7:247,8:248,9:249,a:122,b:123,c:124,d:193,e:194,f:195,g:196,h:197,i:198,j:199,k:200,l:201,m:74,n:75,o:76,x:108,y:110,z:107,C:109,E:125,PF1:241,PF2:242,PF3:243,PF4:244,PF5:245,PF6:246,PF7:247,PF8:248,PF9:249,PF10:122,PF11:123,PF12:124,PF13:193,PF14:194,PF15:195,PF16:196,PF17:197,PF18:198,PF19:199,PF20:200,PF21:201,PF22:74,PF23:75,PF24:76,PA1:108,PA2:110,PA3:107,Clear:109,Enter:125};const bzWhllActionArray={"<":"Backspace",B:"Back Tab",V:"Cursor Down",L:"Cursor Left",Z:"Cursor Right",U:"Cursor Up",D:"Delete",F:"Erase EOF",AF:"Erase Input",0:"Home",I:"insertMode",AI:"Insert",N:"New Line",R:"Reset",T:"Tab",BackSpace:"Backspace",BackTab:"Back Tab",Down:"Cursor Down",Left:"Cursor Left",Right:"Cursor Right",Up:"Cursor Up",Delete:"Delete",EraseEof:"Erase EOF",EraseInput:"Erase Input",EraseField:"Erase Field",Home:"Home",InsertMode:"insertMode",Insert:"Insert",NewLine:"New Line",Reset:"Reset",Tab:"Tab"};const WHLLOK=0;const WHLLNOTCONNECTED=1;const WHLLBLOCKNOTAVAIL=1;const WHLLPARAMETERERROR=2;const WHLLBLOCKIDINVALID=2;const WHLLFTXCOMPLETE=3;const WHLLFTXSEGMENTED=4;const WHLLPSBUSY=4;const WHLLINHIBITED=5;const WHLLTRUNCATED=6;const WHLLPOSITIONERROR=7;const WHLLNOTAVAILABLE=8;const WHLLSYSERROR=9;const WHLLWOULDBLOCK=10;const WHLLUNAVAILABLE=11;const WHLLPSENDED=12;const WHLLUNDEFINEDKEY=20;const WHLLOIAUPDATE=21;const WHLLPSUPDATE=22;const WHLLBOTHUPDATE=23;const WHLLNOFIELD=24;const WHLLNOKEYSTROKES=25;const WHLLPSCHANGED=26;const WHLLFTXABORTED=27;const WHLLZEROLENFIELD=28;const WHLLINVALIDTYPE=30;const WHLLKEYOVERFLOW=31;const WHLLSFACONN=32;const WHLLTRANCANCLI=34;const WHLLTRANCANCL=35;const WHLLHOSTCLOST=36;const WHLLOKDISABLED=37;const WHLLNOTCOMPLETE=38;const WHLLSFDDM=39;const WHLLSFDPEND=40;const WHLLBUFFINUSE=41;const WHLLNOMATCH=42;const WHLLLOCKERROR=43;const WHLLINVALIDFUNCTIONNUM=301;const WHLLFILENOTFOUND=302;const WHLLACCESSDENIED=305;const WHLLMEMORY=308;const WHLLINVALIDENVIRONMENT=310;const WHLLINVALIDFORMAT=311;const WHLLINVALIDPSID=9998;const WHLLINVALIDRC=9999;const WHLLALREADY=61440;const WHLLINVALID=61441;const WHLLCANCEL=61442;const WHLLSYSNOTREADY=61443;const WHLLVERNOTSUPPORTED=61444;const TEXT_AS_ASCII=false;function BZWhll(e){this.automationObject=e;this.Sessions=new BZWhllSessions;this.currentSession=0;this.currentField=new BZWhllField(e)}function BZWhllSessions(){this.sessionList=[]}BZWhllSessions.prototype.Item=function(e){return this.sessionList[e]};BZWhllSessions.prototype.Count=function(){return this.sessionList.length};function BZWhllField(e){this.automationObject=e;this.Length=null;this.Modified=null;this.Pos=null;this.Protected=null;this.Text=null;this.Type=null;this.Visible=null}BZWhllField.prototype.First=function(){var e=this.automationObject.getField(1,0);this.Length=e.Length;this.Modified=e.Modified;this.Pos=e.Pos;this.Protected=e.Protected;this.Text=e.Text;this.Type=e.Type;this.Visible=e.Visible};BZWhllField.prototype.Prev=function(){if(!this.Pos){return WHLLPOSITIONERROR}var e=this.automationObject.getField(this.Pos,-1);this.Length=e.Length;this.Modified=e.Modified;this.Pos=e.Pos;this.Protected=e.Protected;this.Text=e.Text;this.Type=e.Type;this.Visible=e.Visible};BZWhllField.prototype.Next=function(){if(!this.Pos){return WHLLPOSITIONERROR}var e=this.automationObject.getField(this.Pos,1);this.Length=e.Length;this.Modified=e.Modified;this.Pos=e.Pos;this.Protected=e.Protected;this.Text=e.Text;this.Type=e.Type;this.Visible=e.Visible};function BZWhllSession(e,t){this.Screen=t;this.shortName=e}function BZWhllScreen(e){this.automationObject=e}BZWhllScreen.prototype.WriteScreen=function(){var e=this.automationObject.autoTypeAtPositionJS(string,row,column);var t={};if(e==true){t["functionReturn"]=WHLLOK}else{t["functionReturn"]=WHLLSYSERROR}return t};BZWhllScreen.prototype.ReadScreen=function(e,t,i,n){var r=this.automationObject.getPositionFromScriptRowColumn(i,n);e=this.automationObject.getTextByPositionJS(r,t,TEXT_AS_ASCII);console.log("The out string will be "+e);var s={functionReturn:WHLLOK,outString:e};return s};BZWhllScreen.prototype.SendKey=function(e){var t=new RegExp("[@<]");var i=e;var n=-1;while(true){var i=e.substring(++n);console.log("Searching current string "+i);var r=i.search(t);if(r!=-1){console.log("Index of match is "+r);var s=i.substring(0,r);console.log("Autotyping text found before match: "+s);this.automationObject.autoTypeJS(s);var o;var l;var a;if(i.charAt(r)=="@"){var c=i.substring(r+1,r+2);console.log("First match was @, checking for Alt. Next chars are: "+c);var u;if(c==="A@"){u=i.charAt(r+1)+i.charAt(r+3)}else{u=i.charAt(r+1)}var o=bzWhllActionArray[u];if(!o){l=bzWhllAidArray[u];if(!l){console.log("Cannot handle mnemonic i "+e);return}}console.log("For mnemonic: "+u+", found action: "+o+", aid: "+l);a=r+u.length}else if(i.charAt(r)=="<"){var h=i.indexOf(">",r+2);console.log("First match was <, checking for >. Next index is: "+h);if(h==-1){console.log("Cannot handle bracket (no closing bracket found) in "+e);return}var d=i.substring(r+1,h);o=bzWhllActionArray[d];if(!o){l=bzWhllAidArray[d];if(!l){console.log("Cannot handle bracket (no mapping found) in "+e);return}}console.log("For command: "+d+", found action: "+o+", aid: "+l);a=n+h}if(l){var p=this.automationObject.sendCommandByAidNoYieldJS(l);if(p!=true){console.log("Problem with send command key of "+l);return}}else{var p=this.automationObject.sendFunction(o)}n=a;console.log("Last index now "+n)}else{var f=i.substring(n);console.log("Pattern not found. Autotyping remaining string content: "+f);this.automationObject.autoTypeJS(f);break}}var E={functionReturn:WHLLOK};return E};BZWhllScreen.prototype.SetCursor=function(e,t){this.automationObject.setRowColumn(e,t);var i={functionReturn:WHLLOK};return i};BZWhllScreen.prototype.GetCursor=function(e,t){var i={};var n=this.automationObject.getCursorJS();if(n){i["Row"]=n["row"];i["Column"]=n["column"];i["functionReturn"]=WHLLOK}else{i["functionReturn"]=WHLLSYSERROR}return i};BZWhll.prototype.SetSelectionStartPos=function(e,t){this.automationObject.setSelectionStartJS(e-1,t-1);this.automationObject.setSelectionEndJS(e,t)};BZWhll.prototype.ExtendSelectionRect=function(e,t){this.automationObject.setSelectionEndJS(e-1,t-1);var i=this.automationObject.getSelectionStartJS();if(i.row==null||i.col==null){this.automationObject.setSelectionStartJS(0,0)}};BZWhll.prototype.Connect=function(e,t){var i=this.automationObject.connect(e,t);var n={};if(i==0){this.Sessions.sessionList.push(new BZWhllSession(e,new BZWhllScreen(this.automationObject)));n["functionReturn"]=WHLLOK}else{n["functionReturn"]=WHLLSYSERROR}return n};BZWhll.prototype.Pause=function(e){};BZWhll.prototype.WaitReady=function*(e,t){yield*this.automationObject.waitReadyJS(e,t);return{functionReturn:WHLLOK}};BZWhll.prototype.WriteScreen=function(e,t,i){return this.Sessions.Item(this.currentSession).Screen.WriteScreen(e,t,i)};BZWhll.prototype.SetCursor=function(e,t){return this.Sessions.Item(this.currentSession).Screen.SetCursor(e,t)};BZWhll.prototype.ReadScreen=function(e,t,i,n){return this.Sessions.Item(this.currentSession).Screen.ReadScreen(e,t,i,n)};BZWhll.prototype.SendKey=function(e){return this.Sessions.Item(this.currentSession).Screen.SendKey(e)};BZWhll.prototype.GetCursor=function(e,t){return this.Sessions.Item(this.currentSession).Screen.GetCursor(e,t)};BZWhll.prototype.GetSessionName=function(){return this.Sessions.Item(this.currentSession).shortName};BZWhll.prototype.GetSessionID=function(){return this.currentSession+1};BZWhll.prototype.Field=function(){return this.currentField};makeSubclass(ParseException,Error);function ParseException(e){this.message=e}const EXCLAMATION_CHAR=33;const DOUBLE_QUOTE_CHAR=34;const HASH_CHAR=35;const AMPERSAND_CHAR=38;const APOSTROPHE_CHAR=39;const LPAREN_CHAR=40;const RPAREN_CHAR=41;const ASTERISK_CHAR=42;const PLUS_CHAR=43;const COMMA_CHAR=44;const MINUS_CHAR=45;const DOT_CHAR=46;const SLASH_CHAR=63;const COLON_CHAR=58;const SEMICOLON_CHAR=59;const LESS_THAN_CHAR=60;const EQUALS_CHAR=61;const GREATER_THAN_CHAR=62;const QUESTION_MARK_CHAR=63;const E_UPPER_CHAR=69;const F_UPPER_CHAR=70;const H_UPPER_CHAR=72;const LBRACKET_CHAR=91;const BACKSLASH_CHAR=92;const RBRACKET_CHAR=93;const CARET_CHAR=94;const UNDERSCORE_CHAR=95;const E_LOWER_CHAR=101;const H_LOWER_CHAR=104;const Integer_MAX_VALUE=1e9;const TOKEN_UNDEFINED=0;const TOKEN_EOF=1;const TOKEN_SYMBOL=2;const TOKEN_INT_LITERAL=3;const TOKEN_STRING_LITERAL=4;const TOKEN_BAD_STRING=5;const TOKEN_WHITE=6;const TOKEN_COMMENT=7;const TOKEN_COLOR=8;const TOKEN_LTE=16;const TOKEN_GTE=17;const TOKEN_NE=18;function Token(e){this.type=e;this.sourceChars=null;this.start=-1;this.end=-1}Token.prototype.copy=function(){var e=new Token(this.type);e.start=this.start;e.end=this.end;e.sourceChars=this.sourceChars;return e};Token.prototype.textMatch=function(e){var t=e.length();var i=this.end-this.start;if(i==t){var n;for(n=0;n<i;n++){if(this.sourceChars[this.start+n]!=e.charAt(n)){return false}}return true}else{return false}};Token.prototype.getText=function(){return this.sourceChars.substring(this.start,this.end)};Token.prototype.toString=function(){switch(this.type){case TOKEN_SYMBOL:return"<Symbol: "+this.getText().toUpperCase()+">";case TOKEN_INT_LITERAL:return"<Integer: "+this.getText()+">";case TOKEN_STRING_LITERAL:return"<String: "+this.getText()+">";case TOKEN_BAD_STRING:return"<BadString: "+this.getText()+">";case TOKEN_COMMENT:return"<Comment: "+this.getText()+">";case TOKEN_COLOR:return"<Color: "+this.getText()+">";case TOKEN_WHITE:return"<WS>";case TOKEN_LTE:return"<LTE>";case TOKEN_GTE:return"<GTE>";case TOKEN_NE:return"<NE>";case EXCLAMATION_CHAR:return"<BANG>";case COMMA_CHAR:return"<COMMA>";case DOT_CHAR:return"<DOT>";case MINUS_CHAR:return"<MINUS>";case PLUS_CHAR:return"<PLUS>";case SLASH_CHAR:return"<DIV>";case ASTERISK_CHAR:return"<MULT>";case LPAREN_CHAR:return"<LPAREN>";case RPAREN_CHAR:return"<RPAREN>";case LBRACKET_CHAR:return"<LBRACKET>";case RBRACKET_CHAR:return"<RBRACKET>";case EQUALS_CHAR:return"<EQUALS>";case LESS_THAN_CHAR:return"<LT>";case GREATER_THAN_CHAR:return"<GT>";case AMPERSAND_CHAR:return"<AMP>";case UNDERSCORE_CHAR:return"<UNDER>";case COLON_CHAR:return"<COLON>";default:if(this.type>32){throw new ParseException("add punc "+this.type.toString(16))}else{throw new ParseException("unexpected token type "+this.type)}}};function Line(e,t,i,n){this.text=e;this.number=t;this.tokens=[];var r;for(r=0;r<n;r++){this.tokens[r]=i[r].copy()}}function ScriptParser(){this.lastParsedExpression=null;this.lastParsingRecord=null;this.eofTokenType=0;this.keywordTokenType=0;this.whitespaceTokenType=0;this.commentTokenType=0;this.ignoreWhitespace=false;this.ignoreComments=false;this.traceNDFA=false;this.traceOP=false}ScriptParser.prototype.toString=function(){return"<ScriptParser ktt="+this.keywordTokenType+">"};var traceBuildNDFA=false;const PAT_TYPE_SEQ=1;const PAT_TYPE_ALT=2;const PAT_TYPE_LOOP=3;const PAT_TYPE_STAR=4;const PAT_TYPE_PLUS=5;const PAT_TYPE_OPT=6;const PAT_TYPE_EXPR=7;const PAT_TYPE_BIND=8;const PAT_TYPE_PRIMITIVE=9;function LineSubContextIntroducer(){}LineSubContextIntroducer.prototype.foo=function(){};makeSubclass(Pattern,LineSubContextIntroducer);function Pattern(){this.type=0;this.element=[]}Pattern.prototype.match=function(e,t,i,n){return-1};Pattern.prototype.getPattern=function(){return this};Pattern.prototype.getName=function(){return"<unspecified>"};Pattern.prototype.getLineSubContext=function(){return null};makeSubclass(PrimitiveMatcher,Pattern);function PrimitiveMatcher(){this.tokenType=-1;this.type=PAT_TYPE_PRIMITIVE}PrimitiveMatcher.prototype.skipWhitespace=function(e,t,i,n){if(e.ignoreWhitespace){var r=0;while(n+r<i){var s=t[n+r].type;if(s==e.whitespaceTokenType||e.ignoreComments&&s==e.commentTokenType){r++}else{return r}}return r}else{return 0}};makeSubclass(KeywordMatcher,PrimitiveMatcher);function KeywordMatcher(e){this.text=e;this.type=PAT_TYPE_PRIMITIVE;this.tokenType=0}equalsIgnoreCase=function(e,t){return e.toUpperCase()==t.toUpperCase()};KeywordMatcher.prototype.match=function(e,t,i,n){var r=this.skipWhitespace(e,t,i,n);n+=r;if(n>=i){return-1}else{var s=t[n];if(e.traceNDFA){tecoreLogger.info("keyword match "+this.text+" against token "+s)}if(s.type!=e.keywordTokenType){tecoreLogger.info("bleccch p="+e+" p.kTT="+e.keywordTokenType);return-1}else{var o=s.getText();if(e.traceNDFA){tecoreLogger.info("token text='"+o+"'")}return equalsIgnoreCase(this.text,o)?1+r:-1}}};KeywordMatcher.prototype.toString=function(){return"<KeywordMatch "+this.text+">"};makeSubclass(EpsilonMatcher,PrimitiveMatcher);function EpsilonMatcher(){this.type=PAT_TYPE_PRIMITIVE}EpsilonMatcher.prototype.match=function(e,t,i,n){return 0};EpsilonMatcher.prototype.toString=function(){return"<EpsilonMatch>"};var theEpsilonMatcher=new EpsilonMatcher;makeSubclass(TokenMatcher,PrimitiveMatcher);function TokenMatcher(e){this.tokenType=e;this.type=PAT_TYPE_PRIMITIVE}TokenMatcher.prototype.match=function(e,t,i,n){var r=this.skipWhitespace(e,t,i,n);if(e.traceNDFA){tecoreLogger.info("token match skips="+r)}n+=r;if(n>=i){if(e.traceNDFA){tecoreLogger.info("token match EOF pos="+n+" inputLength="+i)}return this.tokenType==e.eofTokenType?1+r:-1}else{var s=t[n];if(e.traceNDFA){tecoreLogger.info("token match against t= %s\n",s)}return this.tokenType==s.type?1+r:-1}};TokenMatcher.prototype.toString=function(){return"<TokenMatch "+this.tokenType+">"};makeSubclass(CompositePattern,Pattern);function CompositePattern(){this.iceCream="foo"}CompositePattern.prototype.internalizeElements=function(e,t){this.elements=[];var i;for(i=0;i<e.length;i++){var n=e[i];if(typeof n==="string"){if(n.length==-1){var r=n.charCodeAt(0);this.elements[i]=new TokenMatcher(r)}else{this.elements[i]=new KeywordMatcher(n)}}else if(typeof n==="number"){this.elements[i]=new TokenMatcher(n)}else{this.elements[i]=n}}};ScriptParser.tokenMatch=function(e,t){if(typeof e==="number"){var i=e;return i==t.type}else if(typeof e==="string"){return t.type==TOKEN_SYMBOL&&t.textMatch(e)}else{throw new ParseException("unexpected token match target "+e+" vs "+t)}};ScriptParser.findToken=function(e,t,i,n){var r;for(r=t;r<i;r++){var s=e[r];var o;for(o=3;o<arguments.length;o++){var l=arguments[o];if(s.type==TOKEN_SYMBOL){if(typeof l==="string"){var a=s.getText();if(equalsIgnoreCase(a,l)){return r}}}else if(typeof l==="number"){if(s.type===l){return r}}else{throw new ParseException("matchTarget in findToken() ws not a string or number: "+l)}}}return-1};makeSubclass(Bind,CompositePattern);function Bind(e,t){this.type=PAT_TYPE_BIND;this.name=e;this.internalizeElements([t],false)}makeSubclass(Seq,CompositePattern);function Seq(){this.type=PAT_TYPE_SEQ;this.internalizeElements(arguments,false)}Seq.prototype.toString=function(){return"<Seq "+this.elements+">"};Seq.prototype.match=function(e,t,i,n){var r=n;var s=null;var o=0;while(o<this.elements.length){var l=this.elements[o];tecoreLogger.info("Seq loop i="+o+"  pos="+n+", sub="+l);var a=l.match(e,t,i,n);tecoreLogger.info("seq sub result = "+a);if(a<0){return a}else{n+=a}tecoreLogger.info("Seq Loop Bottom pos="+n)}return n-r};makeSubclass(Alt,CompositePattern);function Alt(){this.type=PAT_TYPE_ALT;this.internalizeElements(arguments,true)}Alt.prototype.toString=function(){return"<Alt "+this.elements+">"};Alt.prototype.match=function(e,t,i,n){var r;for(r=0;r<this.elements.length;r++){var s=this.elements[r];var o=s.match(e,t,i,n);if(o>=0){return o}else{}}return-1};makeSubclass(LoopPattern,Alt);function LoopPattern(e,t,i){this.greedy=e;this.minimum=t;this.maximum=Integer_MAX_VALUE;this.internalizeElements([i],false)}LoopPattern.prototype.match=function(e,t,i,n){console("LoopPattern is an abstract class and should not be called");return-1};makeSubclass(Star,LoopPattern);function Star(e,t){if(arguments.length==1){t=e;e=false}this.type=PAT_TYPE_STAR;this.minimum=0;this.maximum=Integer_MAX_VALUE;this.internalizeElements([t],false)}Star.prototype.toString=function(){return"<Star "+this.elements[0]+">"};makeSubclass(Plus,LoopPattern);function Plus(e,t){if(arguments.length==1){t=e;e=false}this.type=PAT_TYPE_PLUS;this.minimum=1;this.maximum=Integer_MAX_VALUE;this.internalizeElements([t],false)}Plus.prototype.toString=function(){return"<Plus "+this.elements[0]+">"};makeSubclass(Opt,LoopPattern);function Opt(e){this.type=PAT_TYPE_OPT;this.minimum=0;this.maximum=1;this.internalizeElements([e],false)}Opt.prototype.toString=function(){return"<Opt "+this.elements[0]+">"};makeSubclass(Expr,PrimitiveMatcher);function Expr(e,t){this.type=PAT_TYPE_EXPR;this.opRules=e;this.currentOPOutput=null;this.stopTokenTypes=[];this.stopSymbol=null;if(typeof t==="string"){this.stopSymbol=t}else{var i;for(i=1;i<arguments.length;i++){this.stopTokenTypes.push(arguments[i])}}}Expr.prototype.toString=function(){return"<Expr "+this.opRules+">"};Expr.prototype.match=function(e,t,i,n){var r=e.runShuntingYard(this.opRules,t,i,n,this.stopTokenTypes,this.stopSymbol);this.currentOPOutput=e.lastParsedExpression;return r};function ParsingRecord(e,t,i,n){this.bindingName=e;this.startPosition=t;this.endPosition=i;this.previous=n;this.token=null;this.syntaxElement=null}function Binding(e,t,i){this.name=e;this.start=t;this.end=typeof i==="number"?i:-1}function BindingSet(){this.table={};this.names=[]}BindingSet.prototype.markStart=function(e,t){var i=this.table[e];if(!i||i===null){i=new Binding(e,t);this.table[e]=i;this.names[this.names.length]=e}};BindingSet.prototype.markEnd=function(e,t){var i=this.table[e];if(!i||i===null){throw new ParseException("binding set "+table+" did not contain name="+e)}else{i.end=t}};BindingSet.prototype.copy=function(){var e={};var t=[];var i;for(i=0;i<this.names.length;i++){var n=this.names[i];t[t.length]=n;e[n]=this.table[n]}var r=new BindingSet;r.table=e;r.names=t;return r};const bindingSeparator="$";ScriptParser.extendBinding=function(e,t){if(e==null){return t}else{return e+bindingSeparator+t}};function NDFAMatcher(e){this.highestNDFANumber=0;this.allStates=[];this.startState=this.makeNDFAState(false);this.endState=this.makeNDFAState(true);this.buildNDFA(e,null,this.startState,this.endState)}NDFAMatcher.prototype.makeNDFAState=function(e){var t=new NDFAState(e);t.id=this.highestNDFANumber++;this.allStates[t.id]=t;return t};NDFAMatcher.prototype.dump=function(){var e;for(e=0;e<this.allStates.length;e++){var t=this.allStates[e];tecoreLogger.info("state "+e+": "+t);if(t.applyBindingEnd||t.bindingStartName!=null||t.bindingEndName!=null){tecoreLogger.info("  applyBindEnd="+t.applyBindingEnd+" bindStart="+t.bindingStartName+" bindEnd="+t.bindingEndName)}}};NDFAMatcher.prototype.buildNDFA=function(e,t,i,n){if(traceBuildNDFA){tecoreLogger.info("buildNDFA "+e)}var r;var s;var o=e.elements!=null?e.elements.length:0;var l;var a;if(traceBuildNDFA){tecoreLogger.info("pattern expr="+e+" expr.type="+e.type)}switch(e.type){case PAT_TYPE_SEQ:l=i;for(s=0;s<o;s++){r=e.elements[s];a=s+1<o?this.makeNDFAState(false):n;this.buildNDFA(r,t,l,a);l=a}break;case PAT_TYPE_ALT:for(s=0;s<o;s++){r=e.elements[s];l=this.makeNDFAState(false);this.epsilonLink(i,l);this.buildNDFA(r,t,l,n)}break;case PAT_TYPE_BIND:{var c=e.name;var u=ScriptParser.extendBinding(t,c);l=this.makeNDFAState(false);l.bindingStartName=u;a=this.makeNDFAState(false);a.applyBindingEnd=true;a.bindingEndName=t;this.epsilonLink(i,l);this.epsilonLink(a,n);this.buildNDFA(e.elements[0],u,l,a)}break;case PAT_TYPE_STAR:case PAT_TYPE_PLUS:case PAT_TYPE_OPT:l=this.makeNDFAState(false);a=this.makeNDFAState(false);this.epsilonLink(i,l);this.epsilonLink(a,n);this.buildNDFA(e.elements[0],t,l,a);if(e.type!=PAT_TYPE_OPT){this.epsilonLink(a,l)}if(e.type!=PAT_TYPE_PLUS){this.epsilonLink(i,n)}break;case PAT_TYPE_EXPR:var h=this.makeNDFAState(false);this.epsilonLink(i,h);var d=this.makeNDFAState(false);this.epsilonLink(d,n);d.isOPExit=true;h.transitions.push(new NDFATransition(e,d));break;case PAT_TYPE_PRIMITIVE:i.transitions.push(new NDFATransition(e,n));break;default:tecoreLogger.info("panic unsupported text in expr "+e+" with type="+e.type)}};NDFAMatcher.prototype.runNDFA=function(e,t,i,n){var r=[];var s=null;var o=null;r.push(new NDFASave(this.startState,0,n,null,s,o));while(r.length>0){var l=r.pop();var a=l.state;var c=a.transitions;var u=l.transitionIndex;var h=l.tokenPosition;o=l.currentBindingName;s=l.parsingRecord;if(e.traceNDFA){tecoreLogger.info("ndfa outer loop state = "+a+" pos="+h+" index="+u)}var d=0;while(d>=0){if(e.traceNDFA){tecoreLogger.info("ndfa innerLoop loop state = "+a+" pos="+h+" index="+u+" currBind="+o)}var p=c[u];if(e.traceNDFA){tecoreLogger.info("runNDFA transitions="+c+" transition="+p)}d=p.matcher.match(e,t,i,h);if(e.traceNDFA){tecoreLogger.info("  testResult="+d+" index="+u+" trans.length="+c.length)}if(u+1<c.length){r.push(new NDFASave(a,u+1,h,null,s,o))}if(d>=0){u=0;var f=a;a=p.nextState;if(a.isOPExit){var E=p.matcher;r.push(new NDFASave(f,0,h+d,E.currentOPOutput,s,o));if(d>0){s=new ParsingRecord(o,h,h+d,s);s.syntaxElement=E.currentOPOutput}}else{if(d>0){s=new ParsingRecord(o,h,h+d,s);var T=new SyntaxElement("Terminals");var _;for(_=0;_<d;_++){if(h+_<i){var g=t[h+_];if(!(e.ignoreWhitespace&&g.type==e.whitespaceTokenType)&&!(e.ignoreComments&&g.type==e.commentTokenType)){T.addChild(new SyntaxElement("Terminal",g))}}}s.syntaxElement=T}}c=a.transitions;h+=d;if(a.bindingStartName!=null){o=a.bindingStartName}if(a.applyBindingEnd){o=a.bindingEndName}c=a.transitions;if(a.isTerminal){if(e.traceNDFA){tecoreLogger.info("at terminal cpr="+s)}e.lastParsingRecord=s;return h}}}if(e.traceNDFA){tecoreLogger.info("Out of inner loop stackSize="+r.length)}}return-1};NDFAMatcher.prototype.epsilonLink=function(e,t){e.transitions.push(new NDFATransition(theEpsilonMatcher,t))};function NDFAState(e){this.isTerminal=e;this.transitions=[];this.id=0;this.isOPExit=false;this.applyBindingEnd=false;this.bindingStartName=null;this.bindingEndName=null}NDFAState.prototype.toString=function(){return"<NDFAState "+this.id+":"+(this.isTerminal?" TERMINAL":"")+" "+this.transitions+">"};function NDFATransition(e,t){this.matcher=e;this.nextState=t}NDFATransition.prototype.toString=function(){return"<NDFA-X "+this.matcher+" to "+(this.nextState!=null?this.nextState.id:0)+">"};function NDFASave(e,t,i,n,r,s){this.state=e;this.transitionIndex=t;this.tokenPosition=i;this.opTree=n;this.parsingRecord=r;this.currentBindingName=s}const OP_SPEC_UNKNOWN=1;const OP_SPEC_BINARY=2;const OP_SPEC_UNARY=3;const OP_SPEC_GROUP=4;const OP_SPEC_FUNCTION=5;const OP_SPEC_SYNTAX_ELEMENT=6;function OPSpec(){this.opSpecType=OP_SPEC_UNKNOWN}makeSubclass(Op,OPSpec);function Op(e,t,i){this.tokenType=e;this.operationName=t;this.arity=0;this.precedence=0;this.isLeftAssociative=i}Op.prototype.toString=function(){return"<OP "+this.operationName+" prec="+this.precedence+" arity="+this.arity+">"};makeSubclass(BinaryOp,Op);function BinaryOp(e,t,i){if(arguments.length==2){i=t;t=e;e=TOKEN_SYMBOL}this.tokenType=e;this.opSpecType=OP_SPEC_BINARY;this.operationName=t;this.arity=0;this.precedence=0;this.isLeftAssociative=i}makeSubclass(UnaryOp,Op);function UnaryOp(e,t,i){if(arguments.length==2){i=t;t=e;e=TOKEN_SYMBOL}this.tokenType=e;this.opSpecType=OP_SPEC_UNARY;this.operationName=t;this.arity=0;this.precedence=0;this.isLeftAssociative=i}makeSubclass(FunctionOp,Op);function FunctionOp(e,t,i){this.tokenType=e;this.opSpecType=OP_SPEC_FUNCTION;this.operationName=t;this.arity=0;this.precedence=0;this.isLeftAssociative=i}makeSubclass(OpGroup,OPSpec);function OpGroup(e){var t;this.ops=[];this.opSpecType=OP_SPEC_GROUP;for(t=0;t<arguments.length;t++){this.ops[t]=arguments[t]}}const OP_STANDARD_PARENTHESES=1;const OP_STANDARD_FUNCTION_CALL=2;function OPSet(e,t){var i;this.specifications=[];this.flags=e;for(i=1;i<arguments.length;i++){this.specifications.push(arguments[i])}this.unaryOps=[];this.symbolOps={};this.tokenTypeToOperation=[];var n=-1;for(i=0;i<this.specifications.length;i++){var r=this.specifications[i];if(r.opSpecType===OP_SPEC_BINARY){var s=r;s.precedence=i;if(s.tokenType==TOKEN_SYMBOL){this.symbolOps.put(s.operationName.toUpperCase(),s)}else{if(s.tokenType>n){n=s.tokenType}}}else if(r.opSpecType===OP_SPEC_UNARY){var o=r;o.precedence=i;if(o.tokenType==TOKEN_SYMBOL){this.symbolOps[o.operationName.toUpperCase()]=o}else{this.unaryOps[o.tokenType]=o}}else if(r.opSpecType===OP_SPEC_GROUP){var l=r;var a;for(a=0;a<l.ops.length;a++){var s=l.ops[a];if(s.opSpecType===OP_SPEC_UNARY){var o=s;o.precedence=i;if(o.tokenType==TOKEN_SYMBOL){this.symbolOps[o.operationName.toUpperCase()]=o}else{this.unaryOps[o.tokenType]=o}}else{s.precedence=i;if(s.tokenType==TOKEN_SYMBOL){this.symbolOps[s.operationName.toUpperCase()]=s}else{if(s.tokenType>n){n=s.tokenType}}}}}else{throw new ParseException("unexpected OPSpec "+r)}}var c=n+1;for(i=0;i<this.specifications.length;i++){var r=this.specifications[i];if(r.opSpecType===OP_SPEC_BINARY){var s=r;if(s.tokenType!=TOKEN_SYMBOL){this.tokenTypeToOperation[s.tokenType]=s}}else if(r.opSpecType===OP_SPEC_GROUP){var l=r;var a;for(a=0;a<l.ops.length;a++){var s=l.ops[a];if(s.opSpecType===OP_SPEC_BINARY){if(s.tokenType!=TOKEN_SYMBOL){this.tokenTypeToOperation[s.tokenType]=s}}}}}}OPSet.prototype.getOperation=function(e){if(e.type==TOKEN_SYMBOL){return this.symbolOps[e.getText().toUpperCase()]}else{return e.type<this.tokenTypeToOperation.length?this.tokenTypeToOperation[e.type]:null}};OPSet.prototype.getUnaryOp=function(e){if(e.type==TOKEN_SYMBOL){var t=this.symbolOps[e.getText().toUpperCase()];return t!=null&&t.opSpecType==OP_SPEC_UNARY?t:null}else{return this.unaryOps[e.type]}};OPSet.prototype.toString=function(){return"<OPSet "+this.specifications+">"};function ParsingRecordStream(e){this.position=0;this.records=[];var t=0;var i=e;while(i!=null){t++;i=i.previous}i=e;var n=1;while(i!=null){this.records[t-n]=i;n++;i=i.previous}}ParsingRecordStream.prototype.getRecord=function(){return this.records[this.position++]};ParsingRecordStream.prototype.hasMoreRecords=function(){return this.position<this.records.length};var bceTrace=false;function SyntaxElement(e,t){this.tokensConsumed=0;this.name=e;this.opSpecType=OP_SPEC_SYNTAX_ELEMENT;this.children=[];this.t=t?t:null}ScriptParser.binarySyntaxElement=function(e,t,i){var n=new SyntaxElement(e);n.children.push(t);n.children.push(i);return n};ScriptParser.unarySyntaxElement=function(e,t){var i=new SyntaxElement(e);i.children.push(t);return i};ScriptParser.variadicSyntaxElement=function(e,t){var i=new SyntaxElement(e);i.children=t;return i};ScriptParser.literalSyntaxElement=function(e,t){var i=new SyntaxElement(e);i.t=t;i.tokensConsumed=1;return i};ScriptParser.parseResultSyntaxElement=function(e,t){var i=new SyntaxElement(e);var n=new ParsingRecordStream(t);i.bce2(i,n);return i};SyntaxElement.prototype.addChild=function(e){if(this.children==null){this.children=[]}this.children.push(e)};SyntaxElement.prototype.lastChild=function(){if(this.children==null||this.children.length==0){return null}else{return this.children[this.children.length-1]}};SyntaxElement.prototype.prefixMatchLength=function(e,t){var i=Math.min(e.length,t.length);var n;for(n=0;n<i;n++){if(!e[n]==t[n].name){return n=1}}return i};SyntaxElement.prototype.bce2=function(e,t){var i=[];var n=e;var r=null;while(t.hasMoreRecords()){var s=t.getRecord();tecoreLogger.info("BuildComplex PR: "+s.bindingName+" start="+s.startPosition+" end="+s.endPosition+" "+s.syntaxElement);var o=s.bindingName;if(o==null){while(i.length>0){i.pop()}tecoreLogger.info("removed all");n=e;continue}var l=o.split("$");tecoreLogger.info("binding="+o+" frags="+l);if(bceTrace){tecoreLogger.info("bindingFragments "+l)}var a=this.prefixMatchLength(l,i);while(i.length>a){n=i.pop();if(bceTrace){tecoreLogger.info("removed "+n.name)}}var c=l.length-1;if(bceTrace){tecoreLogger.info("add start "+a+" end "+c)}var u;for(u=a;u<c;u++){i.push(n);if(bceTrace){tecoreLogger.info("adding "+l[u])}var h=new SyntaxElement(l[u]);n.addChild(h);n=h}if(bceTrace){tecoreLogger.info("before adding binding stackSize="+i.length+" bindFrag.len="+l.length)}if(l.length>i.length){tecoreLogger.info("currentElement="+n);var d=n.lastChild();var p=l[l.length-1];if(bceTrace){tecoreLogger.info("  case 1, lastChild="+d+" newBindingName="+p)}if(d!=null&&p==d.name&&r!=null&&r.endPosition==s.startPosition&&d.getFirstChild()=="Terminals"&&s.syntaxElement.name.equals("Terminals")){d.getFirstChild().addChild(s.syntaxElement.getFirstChild())}else{var f=new SyntaxElement(p);f.addChild(s.syntaxElement);n.addChild(f)}}else{if(bceTrace){tecoreLogger.info("  case 2\n")}n.addChild(s.syntaxElement)}r=s}};SyntaxElement.prototype.toString=function(){if(this.t!=null){return"<SyntaxElement "+this.name+" "+this.t+">"}else{return"<SyntaxElement "+this.name+" childCount="+(this.children!=null?this.children.length:0)+">"}};SyntaxElement.prototype.isLeaf=function(){return this.children==null||this.children.length==0};SyntaxElement.prototype.isPenultimate=function(){if(this.isLeaf()){return false}else{var e;for(e=0;e<this.children.length;e++){var t=this.children[e];if(!t.isLeaf()){return false}}return true}};SyntaxElement.prototype.getChildByName=function(e){if(this.isLeaf()){return null}else{var t;for(t=0;t<this.children.length;t++){var i=this.children[t];if(i.name==e){return i}}return null}};SyntaxElement.prototype.getFirstChild=function(){if(this.isLeaf()){return null}else{return this.children[0]}};ScriptParser.pprintTree=function(e,t,i){if(arguments.length<3){i=false}if(arguments.length<2){t=0}var n={text:""};ScriptParser.pprintTree1(e,t,i,n)};ScriptParser.pprintTree1=function(e,t,i,n){var r;if(e.isLeaf()){if(i){n.text="";for(r=0;r<t;r++){n.text+=" "}}if(e.t!=null){n.text+="("+e.name+" "+e.t.getText()+")"}else{n.text+="("+e.name+")"}}else{n.text="";for(r=0;r<t;r++){n.text+=" "}n.text+="("+e.name;if(e.isPenultimate()){if(e.children!=null){var s;for(s=0;s<e.children.length;s++){var o=e.children[s];n.text+=" ";ScriptParser.pprintTree1(o,0,false,n)}}tecoreLogger.info(n.text+")");n.text=""}else{if(e.children!=null){var s;for(s=0;s<e.children.length;s++){var o=e.children[s];tecoreLogger.info(n.text);ScriptParser.pprintTree1(o,t+2,true,n)}}}}};ScriptParser.prototype.matchPrimary=function(e,t,i){tecoreLogger.info("PANIC!! - match primary should be overridden");return-1};const OP_STATUS_MISMATCH_PARENTHESIS=-1;const OP_STATUS_NO_ALTERNATIVE=-2;const OP_STATUS_UNARY_OP_FAILURE=-3;const OP_STATUS_UNBALANCED_EXPRESSION=-4;const OP_STATUS_UNEXPECTED_FUNCTION_CALL=-5;const OP_STATUS_FUNCTION_ARGUMENT_SYNTAX_ERROR=-6;ScriptParser.isStopTokenType=function(e,t,i,n){var r;for(r=0;r<e.length;r++){var s=e[r];if(s==n){if(n==LPAREN_CHAR){return i==1}else if(n==RPAREN_CHAR){return i==-1}else{return true}}}return false};ScriptParser.prototype.makeFCall=function(){var e=new FunctionOp(F_UPPER_CHAR,"FCALL",false);e.precedence=Integer_MAX_VALUE;return e};ScriptParser.prototype.isFCall=function(e){return e.tokenType==F_UPPER_CHAR};ScriptParser.prototype.runShuntingYard=function(e,t,i,n,r,s){tecoreLogger.info("Run shunting yard starting at "+n);var o=n;var l=[];var a=[];var c=new Op(LPAREN_CHAR,"(",false);c.precedence=Integer_MAX_VALUE;var k=new Op(RPAREN_CHAR,")",false);var B=new Op(COMMA_CHAR,",",false);var u=true;var h=(e.flags&OP_STANDARD_PARENTHESES)!=0;var d=(e.flags&OP_STANDARD_FUNCTION_CALL)!=0;var p=0;var f=this.ignoreWhitespace;var E;for(E=0;E<r.length;E++){var T=r[E];if(T==TOKEN_WHITE){f=false;break}}while(o<i){var T=t[o];if(this.traceOP){tecoreLogger.info("loop top pos="+o+" token "+T);tecoreLogger.info("  stack="+a)}if(f&&T.type==this.whitespaceTokenType||this.ignoreComments&&T.type==this.commentTokenType){o++;continue}var _=e.getOperation(T);tecoreLogger.info("OPLOOKUP token="+T+" "+_+", stopSymbol="+s);if(_==null&&T.type==TOKEN_SYMBOL){_=e.getUnaryOp(T);tecoreLogger.info("OPLOOKUP UNARY token="+T+" "+_+", from "+e.symbolOps)}var g=null;var S=o+1;var C=_==null?this.matchPrimary(t,i,o):null;if(T.type==LPAREN_CHAR){p++}else if(T.type==RPAREN_CHAR){p--}if(this.traceOP){tecoreLogger.info("token "+T+" yields primary="+C+" isStop="+isStopTokenType(r,h,p,T.type)+" parenBalance=%d\n",p)}if(ScriptParser.isStopTokenType(r,h,p,T.type)||s!=null&&T.type==TOKEN_SYMBOL&&equalsIgnoreCase(T.getText(),s)){tecoreLogger.info("breaking on stop token.type=0x%x\n",T.type);break}else if(C!=null){l.push(C);S=o+C.tokensConsumed;u=false}else if(h&&T.type==LPAREN_CHAR){if(u){a.push(c)}else if(d){tecoreLogger.info("probably function at "+o);a.push(this.makeFCall())}else{return OP_STATUS_UNEXPECTED_FUNCTION_CALL}u=true}else if(d&&T.type==COMMA_CHAR){var R=false;var m=null;while(a.length>0){m=a.pop();if(this.isFCall(m)){m.arity++;R=true;break}else{l.push(m)}}if(R){a.push(m)}else if(ScriptParser.isStopTokenType(r,h,p,COMMA_CHAR)){tecoreLogger.info("fcall stop 2");break}else{return OP_STATUS_FUNCTION_ARGUMENT_SYNTAX_ERROR}u=true}else if((h||d)&&T.type==RPAREN_CHAR){var N=false;if(this.traceOP){tecoreLogger.info("OpStack at RPAREN "+a)}while(a.length>0){var m=a.pop();tecoreLogger.info("rparen unstack op="+m);if(m==c){N=true;break}else if(this.isFCall(m)){N=true;if(!u){m.arity++}l.push(m);break}else{l.push(m)}}if(!N){tecoreLogger.info("Mismatch 1");return OP_STATUS_MISMATCH_PARENTHESIS}u=false}else if(_==null){tecoreLogger.info("no alternative break");break}else{if(u){if(this.traceOP){tecoreLogger.info("op before unary check "+_);tecoreLogger.info("table="+e.unaryOps)}var A=_.opSpecType==OP_SPEC_UNARY?_:e.getUnaryOp(T);if(this.traceOP){tecoreLogger.info("op after unary check %s\n",A)}if(A!=null){a.push(A)}else{return OP_STATUS_UNARY_OP_FAILURE}}else{tecoreLogger.info("before op push loop op1="+_+" opStack="+a);while(a.length>0&&(g=a[a.length-1])!=null&&(_.isLeftAssociative?_.precedence>=g.precedence:_.precedence>g.precedence)){var y=a.pop();if(this.traceOP){tecoreLogger.info("with op1="+_+" op2="+g+", popped="+y)}l.push(y)}tecoreLogger.info("before op push loop op1="+_+" op2="+g);a.push(_)}u=true}o=S}while(a.length>0){var m=a.pop();if(m==c){tecoreLogger.info("Mismatch 2\n");return OP_STATUS_MISMATCH_PARENTHESIS}else{l.push(m)}}tecoreLogger.info("Dijkstra sez: "+l);expStack=[];var I;for(I=0;I<l.length;I++){var O=l[I];tecoreLogger.info("o="+I+" expStack="+expStack);var b=O.opSpecType;if(!(typeof b==="number")){throw new ParseException("unexpected opSpecType in "+O)}else if(b===OP_SPEC_BINARY){var P=expStack.pop();var D=expStack.pop();expStack.push(ScriptParser.binarySyntaxElement(O.operationName,D,P))}else if(b===OP_SPEC_FUNCTION){var L=O;var v=L.arity+1;tecoreLogger.info("functionOP.arity="+L.arity);var M=[];var w;for(w=1;w<=v;w++){M.push(null)}for(w=1;w<=v;w++){M[v-w]=expStack.pop()}expStack.push(ScriptParser.variadicSyntaxElement(L.operationName,M))}else if(b===OP_SPEC_UNARY){var F=expStack.pop();expStack.push(ScriptParser.unarySyntaxElement(O.operationName,F))}else if(b===OP_SPEC_SYNTAX_ELEMENT){expStack.push(O)}else{throw new ParseException("cannot build tree element="+O)}}if(expStack.length==1){this.lastParsedExpression=expStack.pop();return o-n}else{return OP_STATUS_UNBALANCED_EXPRESSION}};makeSubclass(LineDefinition,LineSubContextIntroducer);function LineDefinition(e,t,i){this.name=e;this.pattern=t;this.subContext=i}LineDefinition.prototype.getPattern=function(){return this.pattern};LineDefinition.prototype.getName=function(){return this.name};LineDefinition.prototype.getLineSubContext=function(){return this.subContext};function LineContextDefinition(e,t,i){this.name=e;this.endStatementName=t;this.midLines=[];var n;for(n=2;n<arguments.length;n++){this.midLines[n-2]=arguments[n]}}const WHITESPACE=1;const MINUS=2;const PLUS=3;const SYMBOL=4;const STRING_ACCUMULATE=5;const STRING_QUOTE=6;const INTEGER=7;const DOT=8;const INTEGER_EXPONENT=9;const FLOAT_EXPONENT=10;const AMPERSAND=11;const HASH=12;const COMMENT=13;const FLOAT_FRACTION=14;const COLOR=15;const LESS_THAN=16;const GREATER_THAN=17;const LINE_CONTINUATION=18;const stateNames=["<unk>","WHITE","MINUS","PLUS","SYMBOL","STRING+","STRINGQ","INT","DOT","INT_EXP","FLOAT_EXP","AMP","HASH","COMMENT","FLOAT_FRACTION","COLOR","LT","GT"];const TOKEN_MAX=1024;function CharacterTest(){}CharacterTest.isWhitespace=function(e){return e==9||e==32};CharacterTest.isDigit=function(e){return e>=48&&e<=57};CharacterTest.isLetter=function(e){return e>=65&&e<=90||e>=97&&e<=122};CharacterTest.isLetterOrDigit=function(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122};CharacterTest.isLetterOrDigitOrUnderscore=function(e){return CharacterTest.isLetterOrDigit(e)||e==95};makeSubclass(BasicParser,ScriptParser);function LineSource(e){this.lines=e.split(/[\r\n]/g);this.position=0}LineSource.prototype.hasMoreLines=function(){return this.position<this.lines.length};LineSource.prototype.getNextLine=function(){if(this.hasMoreLines()){return this.lines[this.position++]}else{return null}};function BasicParser(e){this.lineCount=0;this.tokenPos=0;this.tokenStart=0;this.currentTokenArray=[];var t;for(t=0;t<TOKEN_MAX;t++){this.currentTokenArray[t]=null}this.currentCharArray="";this.traceTokenization=false;this.lines=[];this.lastLine=null;this.lastText="";this.blockLimit=1e5;this.atEOF=false;this.isExplicit=false;this.vars=[];this.lineSource=new LineSource(e)}BasicParser.prototype.finishToken=function(e,t){if(e==TOKEN_WHITE&&t-this.tokenStart==0){return}var i=null;if(this.currentTokenArray[this.tokenPos]==null){i=new Token(e);this.currentTokenArray[this.tokenPos]=i}else{i=this.currentTokenArray[this.tokenPos]}if(this.traceTokenization){tecoreLogger.info("finish token type="+e+" s="+this.tokenStart+" e="+t)}i.type=e;i.start=this.tokenStart;i.end=t;i.sourceChars=this.currentCharArray;this.tokenStart=t;this.tokenPos++};BasicParser.prototype.tokenize=function(e,t){if(!t){t=0}var i=WHITESPACE;this.tokenPos=t;this.tokenStart=0;this.currentCharArray=e;var n;for(n=0;n<e.length;n++){var r=e.charCodeAt(n);if(this.traceTokenization){tecoreLogger.info("TokenLoop: i="+n+" 0x"+hex(r)+" state="+stateNames[i])}var s=false;switch(i){case WHITESPACE:if(CharacterTest.isWhitespace(r)){}else{this.finishToken(TOKEN_WHITE,n);s=true}break;case LINE_CONTINUATION:if(!CharacterTest.isWhitespace(r)){throw new IllegalStateException(String.format("illegal tokenization step, state=%d (%s)\n",i,stateNames[i]))}break;case SYMBOL:if(CharacterTest.isLetterOrDigitOrUnderscore(r)){}else{this.finishToken(TOKEN_SYMBOL,n);s=true}break;case STRING_ACCUMULATE:if(r==DOUBLE_QUOTE_CHAR){i=STRING_QUOTE}else{}break;case STRING_QUOTE:if(r==DOUBLE_QUOTE_CHAR){i=STRING_ACCUMULATE}else{this.finishToken(TOKEN_STRING_LITERAL,n);s=true}break;case LESS_THAN:if(r==EQUALS_CHAR){this.finishToken(TOKEN_LTE,n);i=WHITESPACE}else if(r==GREATER_THAN_CHAR){this.finishToken(TOKEN_NE,n);i=WHITESPACE}else{this.finishToken(LESS_THAN_CHAR,n);s=true}break;case GREATER_THAN:if(r==EQUALS_CHAR){this.finishToken(TOKEN_GTE,n);i=WHITESPACE}else{this.finishToken(GREATER_THAN_CHAR,n);s=true}break;case INTEGER:if(CharacterTest.isDigit(r)){}else if(r==DOT_CHAR){i=FLOAT_FRACTION}else if(r==E_LOWER_CHAR||r==E_UPPER_CHAR){i=INTEGER_EXPONENT}else{this.finishToken(TOKEN_INT_LITERAL,n);s=true}break;case DOT:if(CharacterTest.isDigit(r)){i=FLOAT_FRACTION}else{this.finishToken(DOT_CHAR,n);s=true}break;case AMPERSAND:if(r==H_UPPER_CHAR){i=COLOR}else{this.finishToken(AMPERSAND_CHAR,n);s=true}break;default:throw new ParseException("illegal tokenization step, state="+i+" ("+stateNames[i]+")")}if(s){if(this.traceTokenization){tecoreLogger.info("start new token")}if(CharacterTest.isLetter(r)){i=SYMBOL}else if(CharacterTest.isDigit(r)){i=INTEGER}else if(CharacterTest.isWhitespace(r)){i=WHITESPACE}else if(r==UNDERSCORE_CHAR){i=LINE_CONTINUATION}else if(r==APOSTROPHE_CHAR){i=COMMENT;break}else if(r==DOUBLE_QUOTE_CHAR){i=STRING_ACCUMULATE}else if(r==LESS_THAN_CHAR){i=LESS_THAN}else if(r==GREATER_THAN_CHAR){i=GREATER_THAN}else if(r==DOT_CHAR){i=DOT}else if(r==HASH_CHAR){i=HASH}else if(r==AMPERSAND_CHAR){i=AMPERSAND}else if(r>32&&r<127){this.finishToken(r,n+1);i=WHITESPACE}else{throw new ParseException("start new token with c=0x"+hex(r))}}}switch(i){case LINE_CONTINUATION:if(this.lineSource.hasMoreLines()){this.tokenize(this.lineSource.getNextLine(),this.tokenPos)}else{throw new IOException("Line continuation found at end of script!")}break;case SYMBOL:this.finishToken(TOKEN_SYMBOL,n);break;case STRING_ACCUMULATE:this.finishToken(TOKEN_BAD_STRING,n);break;case WHITESPACE:this.finishToken(TOKEN_WHITE,n);break;case INTEGER:this.finishToken(TOKEN_INT_LITERAL,n);break;case COMMENT:this.finishToken(TOKEN_COMMENT,e.length);break;case STRING_QUOTE:this.finishToken(TOKEN_STRING_LITERAL,n);break;default:throw new ParseException("problem finishing last token "+stateNames[i])}return this.tokenPos};BasicParser.prototype.reGetLine=function(){return this.getLine(this.lastText)};BasicParser.prototype.getLine=function(e){var t=null;if(typeof e==="undefined"){tecoreLogger.info("need line from "+this.lineSource);if(this.lineSource.hasMoreLines()){t=this.lineSource.getNextLine()}else{t=null}}else{t=e}this.lastText=t;if(t==null){tecoreLogger.info("insta-fail!");this.atEOF=true;return new Line(null,++this.lineCount,this.currentTokenArray,0)}else{tecoreLogger.info("starting tokenize"+t);var i=this.tokenize(t,0);var n;for(n=0;n<i;n++){tecoreLogger.info(" "+this.currentTokenArray[n])}tecoreLogger.info("");return new Line(null,++this.lineCount,this.currentTokenArray,i)}};BasicParser.prototype.matchPrimary=function(e,t,i){tecoreLogger.info("GOOD NEWS: using BasicParser.matchPrimary");if(i<t){var n=e[i];switch(n.type){case TOKEN_SYMBOL:return ScriptParser.literalSyntaxElement("IDENTIFIER",n);case TOKEN_INT_LITERAL:case TOKEN_STRING_LITERAL:case TOKEN_COLOR:return ScriptParser.literalSyntaxElement("LITERAL",n);default:return null}}else{return null}};BasicParser.prototype.parseStatement=function(e,t,i,n,r){if(arguments.length<5){r=-1}if(arguments.length<4){n=0}if(arguments.length<3){i=true}if(arguments.length<2){t=null}try{var s=t==null?this.getLine():t;tecoreLogger.info("And so we got the line "+JSON.stringify(s));this.lines.push(s);lastLine=s;if(r==-1){r=s.tokens.length}if(r<=n){tecoreLogger.info("empty line "+s.number);return new SyntaxElement("BLANK_LINE")}else{var o=s.tokens[n];var l=o.type;var a=o.getText();var c=false;var u=false;if(l==TOKEN_COMMENT||equalsIgnoreCase(a,"REM")){c=true}else if(l==TOKEN_WHITE){var h=n+1;u=true;while(h<r){var d=s.tokens[h].type;if(d==TOKEN_COMMENT){c=true;break}else if(d!=TOKEN_WHITE){u=false;break}h++}}if(c){var p=new Token(TOKEN_COMMENT);p.start=0;p.sourceChars=this.lastText;p.end=p.sourceChars.length;tecoreLogger.info("comment at line "+s.number);return ScriptParser.literalSyntaxElement("COMMENT",p)}else if(u){tecoreLogger.info("empty line "+s.number);return new SyntaxElement("BLANK_LINE")}else{var f;tecoreLogger.info("Line context definition midlines length="+e.midLines.length);for(f=0;f<e.midLines.length;f++){var E=e.midLines[f];var T=E.getPattern();var _=BasicParser.getMatcher(T);var g=_.runNDFA(this,s.tokens,r,n);if(g>0){tecoreLogger.info("Line Matched - NDFA result "+g);var S=this.lastParsingRecord;tecoreLogger.info("after result lPR is "+this.lastParsingRecord);while(S!=null){tecoreLogger.info("PR: "+S.bindingName+" start="+S.startPosition+" "+S.syntaxElement);S=S.previous}var C=ScriptParser.parseResultSyntaxElement(E.getName(),this.lastParsingRecord);ScriptParser.pprintTree(C);tecoreLogger.info("");var R=E.getLineSubContext();if(this.isExplicit&&C.name=="dimStatement"){tecoreLogger.info("parseStatement: explicit and dim statement seen, adding var\n")}if(C.name=="ifStatement"){tecoreLogger.info("parseStatement: about to handle if");return this.parseIf(C,e)}else if(R!=null){tecoreLogger.info("parseStatement: about to go to sub context "+R.name);return this.parseBlock(C,R)}else{tecoreLogger.info("parseStatement: normal case");return C}}}if(i){tecoreLogger.info("attempting expressionStatement on "+s.text);var m=this.parseStatement(expressionStatementContext,s,false,n,r);if(m==null){var N;for(N=n;N<r;N++){var A=s.tokens[N];tecoreLogger.info(""+A)}throw new ParseException(s+"could not parse statement at all")}else{return m}}else{tecoreLogger.info("Returning null line 485");return null}}}}catch(e){if(e instanceof ParseException){throw e}tecoreLogger.info("Got exception, e="+e.message);traceTokenization=true;this.reGetLine();tecoreLogger.info("Returning null line 497");return null}};BasicParser.prototype.parseClass=function(){return null};BasicParser.prototype.parseIf=function(e,t){var i=e.getChildByName("multilineIfThenIndicator");if(i!=null){var n=new SyntaxElement("elseIfs");var r=new SyntaxElement("thenBlock");var s=null;e.addChild(r);var o=r;var l=false;var a=false;while(!this.atEOF){var c=this.parseStatement(t);if(this.atEOF){break}else if(c!=null){if(c.name=="elseIfStatement"){if(l){throw new ParseException(lastLine,"unexpected elseIf")}var u=new SyntaxElement("elseIf");u.addChild(c);o=u;n.addChild(u)}else if(c.name=="elseStatement"){l=true;s=new SyntaxElement("else");e.addChild(s);o=s}else if(c.name=="endIfStatement"){a=true}else{o.addChild(c)}}else{tecoreLogger.info("--- our last line was "+lastLine.tokens);throw new ParseException("failed to parse statement inside IF-THEN "+lastLine)}if(a){break}}if(n.children!=null){e.addChild(n)}}else{var h=lastLine.tokens.length;var d=ScriptParser.findToken(lastLine.tokens,0,h,"THEN");tecoreLogger.info("singleline if seen, positionOf THEN is "+d);if(d==-1){throw new ParseException("internal error: if w/o THEN case in "+lastLine)}var p=d+1;var o=new SyntaxElement("thenBlock");var s=null;e.addChild(o);var f=false;var l=false;tecoreLogger.info("singleline if before loop");while(!f){tecoreLogger.info("singleline top of loop chunkStart="+p);var E=ScriptParser.findToken(lastLine.tokens,p,h,"ELSE",":");var T;if(E==-1){E=h;T=TOKEN_EOF;f=true}else{T=lastLine.tokens[E].type;if(T==TOKEN_SYMBOL){l=true;s=new SyntaxElement("elseBlock");e.addChild(s)}}tecoreLogger.info("should parse chunk from "+p+" to"+E);var _=this.parseStatement(t,lastLine,true,p,E);if(_!=null){o.addChild(_)}else{throw new ParseException(lastLine,"failed to parse internal statement of single-line if-then-else")}if(l){o=s}p=E+1}tecoreLogger.info("single line if result\n");ScriptParser.pprintTree(e)}return e};BasicParser.prototype.parseBlock=function(e,t){tecoreLogger.info("Entered parseblock with arguments...");tecoreLogger.info("--blockStartElement="+e);tecoreLogger.info("--lineContextDefinition="+t);var i=new SyntaxElement("block");e.addChild(i);var n=0;while(n<this.blockLimit){tecoreLogger.info("______BlockStatement___________________________________________________________\n");var r=this.parseStatement(t);if(this.atEOF){break}else if(r==null){var s;for(s=0;s<lastLine.tokens.length;s++){var o=lastLine.tokens[s].type;if(!(o===TOKEN_COMMENT||o===TOKEN_WHITE)){throw new ParseException("failed line parse, likely unhandled line case in "+lastLine)}}}else if(r.name==t.endStatementName){tecoreLogger.info("parseBlock: found end statement\n");break}else if(stringArrayContains(secondaryStatementNames,r.name)){throw new ParseException(lastLine,r.name+" seen in unexpected place")}else{i.addChild(r)}n++}return e};var simpleExpressions=new OPSet(OP_STANDARD_PARENTHESES|OP_STANDARD_FUNCTION_CALL,new OpGroup(new UnaryOp(MINUS_CHAR,"UMINUS",false)),new OpGroup(new BinaryOp(ASTERISK_CHAR,"MULT",true),new BinaryOp(SLASH_CHAR,"DIV",true)),new OpGroup(new BinaryOp(PLUS_CHAR,"ADD",true),new BinaryOp(MINUS_CHAR,"SUB",true)),new OpGroup(new BinaryOp(GREATER_THAN_CHAR,"GT",true),new BinaryOp(LESS_THAN_CHAR,"LT",true)));var constExpr=new OPSet(OP_STANDARD_PARENTHESES|OP_STANDARD_FUNCTION_CALL,new OpGroup(new UnaryOp(MINUS_CHAR,"UMINUS",false)),new OpGroup(new BinaryOp(ASTERISK_CHAR,"MULT",true),new BinaryOp(SLASH_CHAR,"DIV",true)),new OpGroup(new BinaryOp(PLUS_CHAR,"ADD",true),new BinaryOp(MINUS_CHAR,"SUB",true)),new OpGroup(new BinaryOp(GREATER_THAN_CHAR,"GT",true),new BinaryOp(LESS_THAN_CHAR,"LT",true)));var expr=new OPSet(OP_STANDARD_PARENTHESES|OP_STANDARD_FUNCTION_CALL,new OpGroup(new BinaryOp(DOT_CHAR,"DEREF",true)),new OpGroup(new UnaryOp(MINUS_CHAR,"UMINUS",false)),new OpGroup(new BinaryOp(ASTERISK_CHAR,"MULT",true),new BinaryOp(SLASH_CHAR,"DIV",true)),new OpGroup(new BinaryOp(BACKSLASH_CHAR,"INT_DIV",true)),new OpGroup(new BinaryOp("MOD",true)),new OpGroup(new BinaryOp(PLUS_CHAR,"ADD",true),new BinaryOp(MINUS_CHAR,"SUB",true)),new OpGroup(new BinaryOp(AMPERSAND_CHAR,"CONCAT",true)),new OpGroup(new BinaryOp(TOKEN_NE,"NE",true),new BinaryOp(TOKEN_GTE,"GTE",true),new BinaryOp(TOKEN_LTE,"LTE",true),new BinaryOp(EQUALS_CHAR,"EQ",true),new BinaryOp(GREATER_THAN_CHAR,"GT",true),new BinaryOp(LESS_THAN_CHAR,"LT",true)),new OpGroup(new UnaryOp("NOT",false)),new OpGroup(new BinaryOp("AND",true)),new OpGroup(new BinaryOp("OR",true)),new OpGroup(new BinaryOp("XOR",true)));ScriptParser.list=function(e,t){return new Seq(e,new Star(new Seq(t,e)))};const boundReferencedName=new Bind("name",new Seq(TOKEN_SYMBOL,new Star(new Seq(DOT_CHAR,TOKEN_SYMBOL))));const boundName=new Bind("name",TOKEN_SYMBOL);const boundArguments=new Bind("arguments",new Seq(LPAREN_CHAR,ScriptParser.list(new Seq(TOKEN_SYMBOL),COMMA_CHAR),RPAREN_CHAR));const optionalArgumentList=new Opt(new Alt(new Seq(LPAREN_CHAR,RPAREN_CHAR),new Seq(LPAREN_CHAR,new Bind("arguments",ScriptParser.list(new Seq(TOKEN_SYMBOL),COMMA_CHAR)),RPAREN_CHAR)));const subscripts=new Bind("subscriptList",new Seq(new Expr(constExpr,COMMA_CHAR,RPAREN_CHAR),new Star(new Seq(COMMA_CHAR,new Expr(constExpr,COMMA_CHAR,RPAREN_CHAR)))));const varDef=new Bind("var",new Seq(boundName,new Opt(new Seq(LPAREN_CHAR,new Opt(subscripts),RPAREN_CHAR))));const redimVarDef=new Bind("var",new Seq(boundName,new Seq(LPAREN_CHAR,subscripts,RPAREN_CHAR)));const expressionList=new Bind("expressionList",new Seq(new Expr(expr,COMMA_CHAR,RPAREN_CHAR),new Star(new Seq(COMMA_CHAR,new Expr(expr,COMMA_CHAR,RPAREN_CHAR)))));const expressionList2=new Bind("expressionList",new Seq(new Expr(expr,COMMA_CHAR),new Star(new Seq(COMMA_CHAR,new Expr(expr,COMMA_CHAR)))));const lValueBase=new Seq(new Bind("functionName",TOKEN_SYMBOL),new Opt(new Seq(LPAREN_CHAR,expressionList,RPAREN_CHAR)));const lValue=new Seq(lValueBase,new Star(new Seq(DOT_CHAR,lValueBase)));const fcallArgList=ScriptParser.list(new Expr(expr,COMMA_CHAR,RPAREN_CHAR),COMMA_CHAR);const fcallArgList2=ScriptParser.list(new Seq(TOKEN_SYMBOL),COMMA_CHAR);const lValues=new Bind("lValues",ScriptParser.list(new Seq(TOKEN_SYMBOL,new Opt(new Seq(LPAREN_CHAR,new Opt(new Bind("arguments",fcallArgList)),RPAREN_CHAR))),DOT_CHAR));const boundStatement=new Bind("statement",new Alt(new Seq(DOUBLE_QUOTE_CHAR,ScriptParser.list(new Seq(TOKEN_SYMBOL),COLON_CHAR),DOUBLE_QUOTE_CHAR),boundName));const boundSeed=new Bind("seed",TOKEN_SYMBOL);const eraseStatement=new Seq("ERASE",boundName,TOKEN_EOF);const executeStatement=new Seq("EXECUTE",boundStatement,TOKEN_EOF);const executeGlobalStatement=new Seq("EXECUTEGLOBAL",boundStatement,TOKEN_EOF);const exitDoStatement=new Seq("EXIT","DO",TOKEN_EOF);const exitForStatement=new Seq("EXIT","FOR",TOKEN_EOF);const exitFunctionStatement=new Seq("EXIT","FUNCTION",TOKEN_EOF);const exitPropertyStatement=new Seq("EXIT","PROPERTY",TOKEN_EOF);const exitSubStatement=new Seq("EXIT","SUB",TOKEN_EOF);const randomizeStatement=new Seq("RANDOMIZE",new Opt(boundSeed),TOKEN_EOF);const redimStatement=new Seq("REDIM",new Opt(new Bind("arguments",new Seq("PRESERVE"))),ScriptParser.list(redimVarDef,COMMA_CHAR),TOKEN_EOF);const stopStatement=new Seq("STOP",TOKEN_EOF);const optionExplicitStatement=new Seq("OPTION","EXPLICIT",TOKEN_EOF);const classStatement=new Seq("CLASS",boundName,TOKEN_EOF);const constantDefinition=new Bind("const",new Seq(boundName,EQUALS_CHAR,new Bind("expression",new Expr(constExpr,COMMA_CHAR))));const accessOptions=new Opt(new Bind("options",new Alt("PUBLIC","PRIVATE")));const constStatement=new Seq(accessOptions,"CONST",ScriptParser.list(constantDefinition,COMMA_CHAR),TOKEN_EOF);const dimStatement=new Seq("DIM",ScriptParser.list(varDef,COMMA_CHAR),TOKEN_EOF);const doStatement=new Seq("DO",new Opt(new Seq(new Bind("conditionType",new Alt("WHILE","UNTIL")),new Bind("condition",new Expr(expr)))),TOKEN_EOF);const forEachStatement=new Seq("FOR","EACH",boundName,"IN",new Bind("group",new Expr(expr)),TOKEN_EOF);const forNextStatement=new Seq("FOR",boundName,EQUALS_CHAR,new Bind("initialValue",new Expr(expr,"TO")),"TO",new Bind("finalValue",new Expr(expr,"STEP")),new Opt(new Seq("STEP",new Bind("stepValue",new Expr(expr)))),TOKEN_EOF);const functionStatement=new Seq(new Bind("accessOptions",new Opt(new Alt(new Seq("PUBLIC",new Opt("DEFAULT")),new Seq("PRIVATE")))),"FUNCTION",boundName,optionalArgumentList,TOKEN_EOF);const ifStatement=new Seq("IF",new Bind("condition",new Expr(expr,"THEN")),"THEN",new Bind("multilineIfThenIndicator",new Opt(TOKEN_EOF)));const elseIfStatement=new Seq("ELSEIF",new Bind("condition",new Expr(expr,"THEN")),"THEN",TOKEN_EOF);const elseStatement=new Seq("ELSE",TOKEN_EOF);const withPropertySetStatement=new Seq(DOT_CHAR,lValueBase,new Seq(new Opt(new Bind("assignmentIndicator",EQUALS_CHAR)),new Opt(new Bind("expression",new Expr(expr)))),TOKEN_EOF);const setStatement=new Seq("SET",boundReferencedName,EQUALS_CHAR,new Bind("value",new Expr(expr)),TOKEN_EOF);const expressionStatement1=new Seq(new Bind("lValue",lValue),EQUALS_CHAR,new Bind("expression",new Expr(expr)),TOKEN_EOF);const callStatement=new Seq("CALL",new Bind("lValue",lValue),TOKEN_EOF);const expressionStatement2=new Seq(new Bind("lValue",lValue),new Opt(new Bind("args",expressionList2)),TOKEN_EOF);const loopStatement=new Seq("LOOP",new Opt(new Seq(new Bind("conditionType",new Alt("WHILE","UNTIL")),new Bind("condition",new Expr(expr)))),TOKEN_EOF);const nextStatement=new Seq("NEXT",new Opt(boundName),TOKEN_EOF);const onErrorStatement=new Seq("ON","ERROR",new Alt(new Seq("RESUME",new Bind("resume",TOKEN_SYMBOL)),new Seq("GOTO",new Bind("goto",TOKEN_INT_LITERAL))),TOKEN_EOF);const propertyGetOptions=new Opt(new Bind("options",new Alt(new Seq("PUBLIC",new Opt("DEFAULT")),"PRIVATE")));const propertyGetStatement=new Seq(propertyGetOptions,"PROPERTY","GET",optionalArgumentList,TOKEN_EOF);const propertyLetStatement=new Seq(accessOptions,"PROPERTY","LET",LPAREN_CHAR,optionalArgumentList,new Bind("value",TOKEN_SYMBOL),RPAREN_CHAR);const propertySetStatement=new Seq(accessOptions,"PROPERTY","SET",LPAREN_CHAR,optionalArgumentList,new Bind("reference",TOKEN_SYMBOL),RPAREN_CHAR);const privateStatement=new Seq("PRIVATE",ScriptParser.list(varDef,COMMA_CHAR),TOKEN_EOF);const publicStatement=new Seq("PUBLIC",ScriptParser.list(varDef,COMMA_CHAR),TOKEN_EOF);const caseExpressions=new Bind("caseValues",ScriptParser.list(new Expr(expr,COMMA_CHAR),COMMA_CHAR));const stuff=new Seq("STUFF");const simpleCase=new Bind("caseValue",new Alt(TOKEN_INT_LITERAL,TOKEN_SYMBOL));const selectStatement=new Seq("SELECT","CASE",new Bind("testExpression",new Expr(expr)),TOKEN_EOF);const selectCaseBlock=new Seq("CASE",caseExpressions,TOKEN_EOF);const selectCaseSimple=new Seq("CASE",simpleCase,TOKEN_EOF);const selectElseBlock=new Seq("CASE","ELSE",TOKEN_EOF);const selectElseSimple=new Seq("CASE","ELSE",stuff,TOKEN_EOF);const subStatement=new Seq(new Bind("accessOptions",new Opt(new Alt(new Seq("PUBLIC",new Opt("DEFAULT")),new Seq("PRIVATE")))),"SUB",boundName,new Opt(new Bind("arguments",new Seq(LPAREN_CHAR,ScriptParser.list(new Seq(TOKEN_SYMBOL),COMMA_CHAR),RPAREN_CHAR))),TOKEN_EOF);const whileStatement=new Seq("WHILE",new Bind("condition",new Expr(expr)),TOKEN_EOF);const endClassStatement=new Seq("END","CLASS",TOKEN_EOF);const endFunctionStatement=new Seq("END","FUNCTION",TOKEN_EOF);const endIfStatement=new Seq("END","IF",TOKEN_EOF);const endSelectStatement=new Seq("END","SELECT",TOKEN_EOF);const endSubStatement=new Seq("END","SUB",TOKEN_EOF);const wendStatement=new Seq("WEND",TOKEN_EOF);const withStatement=new Seq("WITH",boundName,TOKEN_EOF);const endWithStatement=new Seq("END","WITH",TOKEN_EOF);BasicParser.getBasicPattern=function(e){if(e.toUpperCase()=="DIM"){return dimStatement}else if(e.toUpperCase()=="SET"){return setStatement}else if(e.toUpperCase()=="SUB"){return subStatement}else if(e.toUpperCase()=="DO"){return doStatement}else if(e.toUpperCase()=="IF"){return ifStatement}else if(e.toUpperCase()=="FOREACH"){return forEachStatement}else if(e.toUpperCase()=="FORNEXT"){return forNextStatement}else if(e.toUpperCase()=="WEND"){return wendStatement}else if(e.toUpperCase()=="WITH"){return withStatement}else if(e.toUpperCase()=="WHILE"){return whileStatement}else if(e.toUpperCase()=="OPTION"){return optionExplicitStatement}else if(e.toUpperCase()=="ERASE"){return eraseStatement}else if(e.toUpperCase()=="RANDOMIZE"){return randomizeStatement}else if(e.toUpperCase()=="REDIM"){return redimStatement}else if(e.toUpperCase()=="CONST"){return constStatement}else if(e=="EXP1"){return expressionStatement1}else if(e=="EXP2"){return expressionStatement2}else{return null}};BasicParser.prototype.patTest=function(e){var t=BasicParser.getBasicPattern(e);var i=new NDFAMatcher(t);this.traceNDFA=true;this.traceOP=false;this.eofTokenType=TOKEN_EOF;this.keywordTokenType=TOKEN_SYMBOL;this.whitespaceTokenType=TOKEN_WHITE;this.commentTokenType=TOKEN_COMMENT;this.ignoreWhitespace=true;this.ignoreComments=true;var n=this.getLine();var r=n.tokens.length;tecoreLogger.info("read tokens, token count = "+r);tecoreLogger.info("____here's the matcher dump:______");i.dump();tecoreLogger.info("____TOKENS________________________\n");var s;for(s=0;s<r;s++){tecoreLogger.info(""+n.tokens[s])}tecoreLogger.info("_____________________________________\n");var o=i.runNDFA(this,n.tokens,r,0);tecoreLogger.info("NDFA result "+o);var l=this.lastParsingRecord;tecoreLogger.info("after result lPR is "+this.lastParsingRecord);while(l!=null){tecoreLogger.info("PR: "+l.bindingName+" start="+l.startPosition+" "+l.syntaxElement);l=l.previous}var a=ScriptParser.parseResultSyntaxElement(e,this.lastParsingRecord);tecoreLogger.info("fullLineParse="+a);ScriptParser.pprintTree(a);tecoreLogger.info("")};BasicParser.getMatcher=function(e){var t=e.cached_matcher;if(t==null){t=new NDFAMatcher(e);e.cached_matcher=t}return t};makeSubclass(RoutineContext,LineContextDefinition);function RoutineContext(e,t,i){this.name=e;this.endStatementName=t;this.midLines=i}const doContext=new LineContextDefinition("do","loopStatement");const forNextContext=new LineContextDefinition("forNext","nextStatement");const forEachContext=new LineContextDefinition("forEach","nextStatement");const selectContext=new LineContextDefinition("select","endSelectStatement");const whileContext=new LineContextDefinition("while","wendStatement");const withContext=new LineContextDefinition("with","endWithStatement");var secondaryStatementNames=["elseIfStatement","elseStatement","endIfStatement","endSelectStatement","endSubStatement","wendStatement","endFunctionStatement","loopStatement","nextStatement","endWithStatement","exitDoStatement","exitForStatement","exitFunctionStatement","exitPropertyStatement","exitSubStatement"];var routineStatements=[new LineDefinition("constStatement",constStatement,null),new LineDefinition("dimStatement",dimStatement,null),new LineDefinition("doStatement",doStatement,doContext),new LineDefinition("elseIfStatement",elseIfStatement,null),new LineDefinition("endIfStatement",endIfStatement,null),new LineDefinition("endFunctionStatement",endFunctionStatement,null),new LineDefinition("endSelectStatement",endSelectStatement,null),new LineDefinition("endSubStatement",endSubStatement,null),new LineDefinition("endWithStatement",endWithStatement,null),new LineDefinition("elseStatement",elseStatement,null),new LineDefinition("executeStatement",executeStatement,null),new LineDefinition("forEachStatement",forEachStatement,forEachContext),new LineDefinition("forNextStatement",forNextStatement,forNextContext),new LineDefinition("loopStatement",loopStatement,null),new LineDefinition("nextStatement",nextStatement,null),new LineDefinition("ifStatement",ifStatement,null),new LineDefinition("onErrorStatement",onErrorStatement,null),new LineDefinition("selectStatement",selectStatement,selectContext),new LineDefinition("selectElseBlock",selectElseBlock,null),new LineDefinition("selectCaseSimple",selectCaseSimple,null),new LineDefinition("selectCaseBlock",selectCaseBlock,null),new LineDefinition("setStatement",setStatement,null),new LineDefinition("stopStatement",stopStatement,null),new LineDefinition("wendStatement",wendStatement,null),new LineDefinition("withStatement",withStatement,withContext),new LineDefinition("withPropertySetStatement",withPropertySetStatement,null),new LineDefinition("whileStatement",whileStatement,whileContext),new LineDefinition("redimStatement",redimStatement,null),new LineDefinition("randomizeStatement",randomizeStatement,null),new LineDefinition("eraseStatement",eraseStatement,null),new LineDefinition("exitDoStatement",exitDoStatement,null),new LineDefinition("exitForStatement",exitForStatement,null),new LineDefinition("exitFunctionStatement",exitFunctionStatement,null),new LineDefinition("exitPropertyStatement",exitPropertyStatement,null),new LineDefinition("exitSubStatement",exitSubStatement,null)];fixupLineContexts=function(){doContext.midLines=routineStatements;forNextContext.midLines=routineStatements;forEachContext.midLines=routineStatements;whileContext.midLines=routineStatements;withContext.midLines=routineStatements;selectContext.midLines=routineStatements};var subContext=new RoutineContext("sub","endSubStatement",routineStatements);var functionContext=new RoutineContext("function","endFunctionStatement",routineStatements);var classContext=new LineContextDefinition("class","endClassStatement",new LineDefinition("privateStatement",privateStatement,null),new LineDefinition("publicStatement",publicStatement,null),new LineDefinition("subStatement",subStatement,subContext),new LineDefinition("functionStatement",functionStatement,functionContext),new LineDefinition("propertyGetStatement",propertyGetStatement,null),new LineDefinition("propertyLetStatement",propertyLetStatement,null),new LineDefinition("propertySetStatement",propertySetStatement,null));var expressionStatementContext=new LineContextDefinition("expressionStatement",null,new LineDefinition("callStatement",callStatement,null),new LineDefinition("expressionStatement1",expressionStatement1,null),new LineDefinition("expressionStatement2",expressionStatement2,null));var topContext=new LineContextDefinition("top",null,new LineDefinition("optionExplicitStatement",optionExplicitStatement,null),new LineDefinition("redimStatement",redimStatement,null),new LineDefinition("randomizeStatement",randomizeStatement,null),new LineDefinition("eraseStatement",eraseStatement,null),new LineDefinition("classStatement",classStatement,classContext),new LineDefinition("constStatement",constStatement,null),new LineDefinition("dimStatement",dimStatement,null),new LineDefinition("doStatement",doStatement,doContext),new LineDefinition("elseIfStatement",elseIfStatement,null),new LineDefinition("endIfStatement",endIfStatement,null),new LineDefinition("elseStatement",elseStatement,null),new LineDefinition("executeStatement",executeStatement,null),new LineDefinition("forEachStatement",forEachStatement,forEachContext),new LineDefinition("forNextStatement",forNextStatement,forNextContext),new LineDefinition("functionStatement",functionStatement,functionContext),new LineDefinition("ifStatement",ifStatement,null),new LineDefinition("onErrorStatement",onErrorStatement,null),new LineDefinition("selectStatement",selectStatement,selectContext),new LineDefinition("setStatement",setStatement,null),new LineDefinition("subStatement",subStatement,subContext),new LineDefinition("stopStatement",stopStatement,null),new LineDefinition("withStatement",withStatement,withContext));function parseBasicFile(e,t,i){var r=new FileReader;r.onload=function(e){var t=r.result;var i=[];lineContexts=[];var n=topContext};r.readAsText(e)}const javascriptBinaryOps={LT:"<",GT:">",EQ:"==",NE:"!=",ADD:"+",SUB:"-",MULT:"*",DIV:"/",CONCAT:"+",GTE:">=",LTE:"<="};const javascriptUnaryOps={NOT:"!",UMINUS:"-"};const VBS_DIALECT=1;const VBA_DIALECT=2;function JavascriptGenerator(e,t){this.writer=null;this.outputText="";this.depth=0;this.outputText+="var vbscript = new VBScript();\n";this.aFunctionList=[]}JavascriptGenerator.prototype.newline=function(){this.outputText+="\n";for(var e=0;e<this.depth;e++){this.outputText+=" "}};JavascriptGenerator.prototype.generate=function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){this.generate(t[e])}return}var i=t.name;if(i=="COMMENT"){this.outputText+="\n";this.outputText+=t.t.getText().replace(/'/,"//")}else if(i=="constStatement"){this.newline();this.outputText+="const ";var n=true;for(let e of t.children){if(!n){this.outputText+=", "}else{n=false}var r=e.getChildByName("name");if(r!=null){var s=getTextFromTerminals(r);this.outputText+=s+" = ";var o=e.getChildByName("expression");if(o!=null){var l=generateExpressionToString(o.children[0],0);this.outputText+=l;putIntoVarMap(s,new ConstVar(l))}else{putInfoVarMap(s,new ConstVar(null))}}}this.outputText+=";"}else if(i=="redimStatement"){this.writeDim(true,t)}else if(i=="dimStatement"){this.writeDim(false,t)}else if(i=="doStatement"){this.newline();this.generateDo(t)}else if(i=="expressionStatement1"){this.newline();this.generateExpressionStatement(t)}else if(i=="expressionStatement2"||i=="callStatement"){this.newline();this.generateExpressionStatement2(t)}else if(i=="forEachStatement"){this.newline();this.generateForEach(t)}else if(i=="forNextStatement"){this.newline();this.generateForNext(t)}else if(i=="functionStatement"){this.newline();this.generateFunction(t)}else if(i=="ifStatement"){this.generateIf(t)}else if(i=="setStatement"){this.newline();this.generateSet(t)}else if(i=="subStatement"){var a=t.getChildByName("block");var c=t.getChildByName("name");var u=t.getChildByName("arguments");this.newline();putIntoVarMap(getTextFromTerminals(c),new FunctionVar(null));this.outputText+="function* "+getTextFromTerminals(c)+" ";if(u!=null){this.outputText+=getTextFromTerminals(u);this.outputText+="{"}else{this.outputText+="(){"}tecoreLogger.info("sub block is "+a+"\n");if(a!=null){this.depth+=2;this.generate(a.children);this.depth-=2;if(u!=null){this.newline()}this.newline();this.outputText+="}"}else{throw new IllegalStateException("subs must have blocks")}}else if(i=="optionExplicitStatement"){this.outputText+='"use strict";\n'}else if(i=="whileStatement"){this.newline();this.generateWhile(t)}else if(i=="BLANK_LINE"){this.outputText+="\n"}else{tecoreLogger.info("JavascriptGenerator: unhandledStatement "+i+"\n")}};JavascriptGenerator.prototype.generateFunction=function(e){var t=e.getChildByName("name");var i=getTextFromTerminals(t);putIntoVarMap(i,new FunctionVar(null));var n=e.getChildByName("block");this.outputText+="function* "+i;var r=[];if(e.getChildByName("arguments")!=null){var s=e.children;this.outputText+="(";for(let e of s){if(e.name=="arguments"){var o=getTextFromTerminals(e);if(o!=","){this.outputText+=o+", ";r.push(o)}}}this.outputText=this.outputText.substring(0,this.outputText.length-2);this.outputText+=")"}this.outputText+=" {";if(n!=null){this.depth+=2;this.generateFunctionBlock(n.children,r,i);this.depth-=2}this.newline();this.outputText+="}"};JavascriptGenerator.prototype.generateFunctionBlock=function(t,e,i){this.newline();var n=jQuery.extend(true,{},varMap);this.outputText+="var returnValues = {};";for(let e of t){var r=e.name;if(r=="expressionStatement1"){var s=new LValue(true,e.getChildByName("lValue"),this);var o=s.getFullName(AS_ARRAY);if(equalsIgnoreCase(o,i)){this.newline();var l='returnValues["functionReturn"]';this.outputText+=l;this.outputText+=" = ";var a=e.getChildByName("expression");var c=generateRSide(a.children[0],0,l);this.outputText+=c;this.outputText+=";"}else{this.generate(e)}}else{this.generate(e)}}if(e!=null){for(var u=0;u<e.length;u++){var h=e[u];this.newline();this.outputText+='returnValues["'+h+'"] = '+h}}this.newline();this.outputText+="return returnValues;";varMap=n};JavascriptGenerator.prototype.generateForNext=function(e){var t=getTextFromTerminals(e.getChildByName("name"));var i=this.generateExpressionToString(e.getChildByName("initialValue").children[0],0);var n=this.generateExpressionToString(e.getChildByName("finalValue").children[0],0);var r=e.getChildByName("stepValue");var s=null;if(r!=null){s=this.generateExpressionToString(r.children[0],0)}this.outputText+="for (var ";this.outputText+=t;this.outputText+=" = ";this.outputText+=i;this.outputText+="; ";this.outputText+=t;if(s!=null){try{var o=Number(s);if(o<0){this.outputText+=" >= "}}catch(e){this.outputText+=" <= "}}else{this.outputText+=" <= "}this.outputText+=n;this.outputText+="; ";this.outputText+=t;if(s!=null){this.outputText+="+=";this.outputText+=s;this.outputText+="){"}else{this.outputText+="++){"}this.depth+=2;blockChildren=e.getChildByName("block").children;if(blockChildren!=null){for(let e of blockChildren){generate(e)}}this.depth-=2;this.newline();this.outputText+="}"};JavascriptGenerator.prototype.generateForEach=function(e){var t=e.getChildByName("block");var i=getTextFromTerminals(e.getChildByName("name"));var n=this.generateExpressionToString(e.getChildByName("group").children[0],0);this.outputText+="for (let ";this.outputText+=i;this.outputText+=" of ";this.outputText+=n;this.outputText+="){";this.depth+=2;var r=e.getChildByName("block").children;if(r!=null){for(let e of r){this.generate(e)}}this.depth-=2;this.newline();this.outputText+="}"};JavascriptGenerator.prototype.generateWhile=function(e){var t=this.generateExpressionToString(e.getChildByName("condition").children[0],0);this.outputText+="while (";this.outputText+=t;this.outputText+="){";this.depth+=2;var i=e.getChildByName("block").children;if(i!=null){for(let e of i){this.generate(e)}}this.depth-=2;this.newline();this.outputText+="}"};JavascriptGenerator.prototype.generateDo=function(e){var t=getTextFromTerminals(e.getChildByName("conditionType"));var i=this.generateExpressionToString(e.getChildByName("condition")[0],0);this.outputText+="do {";this.depth+=2;var n=e.getChildByName("block").children;if(n!=null){for(let e of n){this.generate(e)}}this.depth-=2;this.newline();this.outputText+="} while (";if(t.equals("Until")){this.outputText+="!(";this.outputText+=i;this.outputText+=")"}else{this.outputText+=i}this.outputText+=");"};JavascriptGenerator.prototype.generateSet=function(e){var t=e.getChildByName("name");var i=getTextFromTerminals(t);this.outputText+=i+" = ";var n=e.getChildByName("value");var r=n.children[0];var s=this.generateRSide(r,0,i);this.outputText+=s+";"};JavascriptGenerator.prototype.writeDim=function(e,i){for(let t of i.children){var n=t.getChildByName("name");var r=getTextFromTerminals(n);this.newline();if(e){this.outputText+=r}else{this.outputText+="var "+r}if(t.children.length>1){this.outputText+=" = ";if(t.getChildByName("subscriptList")!=null){var s=[];for(let e of t.children){var o=e.name;if(o=="subscriptList"){var l=e.getFirstChild();if(l.children==null){s.push(l.t.getText())}}}this.createArrayDimensions(r,s);putIntoVarMap(r,new DimVar(s))}else{this.outputText+="[];"}}else{putIntoVarMap(r,new DimVar(null));this.outputText+=";"}}};JavascriptGenerator.prototype.createArrayDimensions=function(e,t){this.outputText+="new Array("+t[0]+");";for(var i=1;i<t.size();i++){this.newline();var n="dimension"+i;this.outputText+="for (var "+n+"=0; "+n+"<"+t[i-1]+"; "+n+"++) {";this.depth+=2;this.newline();this.outputText+=e;for(var r=0;r<i;r++){this.outputText+="[dimension"+(r+1)+"]"}this.outputText+=" = new Array("+t[i]+");"}for(var i=t.size()-2;i>-1;i--){this.depth-=2;this.newline();this.outputText+="}"}};JavascriptGenerator.prototype.generateIf=function(e){var t=e.getChildByName("condition");var i=e.getChildByName("thenBlock");var n=e.getChildByName("elseIfs");var r=e.getChildByName("elseBlock");this.newline();this.outputText+="if (";var s=this.generateExpressionToString(t.children[0],0);this.outputText+=s;this.outputText+="){";this.depth+=2;for(let e of i.children){this.generate(e)}this.depth-=2;if(n!=null){for(let t of n.children){this.newline();var o=t.getChildByName("elseIfStatement").getChildByName("condition");this.outputText+="} else if (";var l=this.generateExpressionToString(o.children[0],0);this.outputText+=l;this.outputText+="){";this.depth+=2;for(let e of t.children){if(e!=o){this.generate(e)}}this.depth-=2}}if(r!=null){this.newline();this.outputText+="} else {";this.depth+=2;for(let e of r.children){this.generate(e)}this.depth-=2}this.newline();this.outputText+="}"};JavascriptGenerator.prototype.generateArrayArgs=function(t,i){for(let e of i){t+="[";var n=this.generateExpressionToString(e.children[0],0);t+=n;t+="]"}return t};JavascriptGenerator.prototype.generateFunctionArgs=function(t,i){t+="(";for(let e of i){var n=this.generateExpressionToString(e.children[0],0);t+=n;t+=","}t=t.substring(0,t.length-1);t+=")";return t};JavascriptGenerator.prototype.generateExpressionStatement2=function(e){var t=e.getChildByName("lValue");var i=this.getExpressionStatement2LValue(t);this.outputText+=i;this.outputText+=";"};JavascriptGenerator.prototype.getExpressionStatement2LValue=function(e){var t=new LValue(true,e,this);var i=t.getParts();var n=i[0].name;var r=varMap[n];if(r!=null){var s=r.getType();if(s=="function"&&i.length===1){if(i[i.length-1].args.length===0){return"yield *"+t.toString(AS_FUNCTION)+"()"}return"yield *"+t.toString(AS_FUNCTION)}else if(s=="object"){return this.getObjectCallString(t)}}else{if(i[i.length-1].args.length===0){return"yield *"+t.toString(AS_FUNCTION)+"()"}return"yield *"+t.toString(AS_FUNCTION)}return t.toString(AS_FUNCTION)};JavascriptGenerator.prototype.getObjectCallString=function(e){var t=e.getParts();var i=vbScriptFunctions[e.getFullName(AS_FUNCTION).toUpperCase()];if(i!=null){return this.generateVBScriptFunction(i,t[t.length-1].args)}var n=t[0].name;var r=this.getFullyQualifiedName(n);tecoreLogger.info("-- put in "+n+" got out "+r);var s=[];var o=r.split(".");var l=0;while(l<o.length-1){s.push(new LValuePart(o[l],null,this));l++}s.push(new LValuePart(o[l],t[0].args,this));if(t.length>1){for(var l=1;l<t.length;l++){s.push(t[l])}}var a=e.toString(AS_FUNCTION);var c=objectDefinitionMap[s[0].name.toUpperCase()];if(c!=null){var u=c;l=1;while(l<s.length-1){u=u.getAttribute(s[l].name.toUpperCase());if(u.getType()!=ATTRIBUTE_TYPE.OBJECT){tecoreLogger.info("Expected to see OBJECT attribute for mid level of function call, but found "+u.getType());return""}l++}u=u.getAttribute(s[l].name.toUpperCase());if(u.getType()==ATTRIBUTE_TYPE.FUNCTION){if(u.requiresYield()){a="yield *"+a}var h=u.getArgumentsByType(OUT_ARG);if(!(h.length==0)){this.newline();var d="js_"+e.getFullName(AS_FUNCTION).replace(/[.]/g,"")+"_returnObj";var p=d;l=1;while(varMap[p]){p=d+l++}varMap[p]=new ObjectVar(a);this.outputText+="var "+p+" = "+a;this.newline();var f=t[t.length-1].args;var E="";E=this.generateFunctionArgs(E,f);var T=E.substring(1,E.length-1).split(",");for(let e of h){if((e.getType()&RETURN_VALUE_ARG)!=RETURN_VALUE_ARG){this.outputText+=T[e.getPosition()]+" = "+p+"['"+e.getName()+"'];";this.newline()}}return p+'["functionReturn"]'}}}if(a.endsWith(")")){return a}return a+"()"};JavascriptGenerator.prototype.generateVBScriptFunction=function(e,t){var i="";i=this.generateFunctionArgs(i,t);var n=i;if(e=="vbscript.createObject"){if(n.length==0){tecoreLogger.info("Warning: can createObject really have no arguments?");return e+"(automationObject)"}return e+"(automationObject, "+n.substring(1,n.length-1)+")"}return e+n};JavascriptGenerator.prototype.getFullyQualifiedName=function(e){var t=e;var i=null;var n="";while(i=varMap[t]){var r=i.getValue();if(r!=null){var s=r.indexOf(".");if(s!=-1){n=r.substring(s+1)+n;t=r.substring(0,s)}else{t=r}}else{tecoreLogger.info("Value of def for "+t+" was null!");return e}}if(n.length!=0){n="."+n}n=t+n;return n};JavascriptGenerator.prototype.generateExpressionStatement=function(e){var t=e.getChildByName("lValue");var i=new LValue(true,t,this);var n=i.toString(AS_ARRAY);var r=i.getFullName(AS_ARRAY);var s=e.getChildByName("expression");var o=this.generateRSide(s.children[0],0,r);this.outputText+=n;this.outputText+=" = ";this.outputText+=o;this.outputText+=";"};JavascriptGenerator.prototype.generateRSide=function(e,t,i){var n=this.generateExpressionToString(e,t);if(n.startsWith("vbscript.createObject")){var r=n.indexOf(",")+1;var s=n.substring(r).match(/[,)]/).index;var o=n.substring(r,r+s).trim();if(o.includes('"')){putIntoVarMap(i,new ObjectVar(o.substring(1,o.length-1).toUpperCase()))}else{putIntoVarMap(i,new ObjectVar(varMap[o].getValue()))}}else{var l=varMap[i];if(l==null){putIntoVarMap(i,new ExpressionVar(n))}else if(!l.getType()=="dim"){putIntoVarMap(i,new ExpressionVar(n))}}return n};JavascriptGenerator.prototype.translateText=function(e){var t=leafMap[e.toUpperCase()];if(t!=null){return t}return e};JavascriptGenerator.prototype.generateExpressionToString=function(e,t){var i="";i=this.generateExpression(i,e,t,null);return i};JavascriptGenerator.prototype.generateExpression=function(e,t,i,n){if(t.isLeaf()){var r=this.translateText(t.t.getText());if(n!=null&&n.name=="DEREF"){var s=new Token(t.t.type);s.start=0;var o=r;s.sourceChars=o;s.end=o.length-1;aFunctionList.push(new SyntaxElement(t.name,s))}else{e+=r}return e}var l=t.name;var a=javascriptBinaryOps[l];var c=javascriptUnaryOps[l];if(a!=null){if(i>0){e+="("}e=this.generateExpression(e,t.children[0],i+1,t);e+=a;e=this.generateExpression(e,t.children[1],i+1,t);if(i>0){e+=")"}}else if(c!=null){if(i>0){e+="("}e+=c;var u="";u=this.generateExpression(u,t.children[0],i+1,t);var h=Number(u);if(h!==h){e+="(";e+=u;e+=")"}else{e+=h}if(i>0){e+=")"}}else if(l=="FCALL"){if(n!=null&&n.name=="DEREF"){aFunctionList.push(t)}else{var d;var p=[];var f=[];var E=1;while(E<t.children.length){f.push(ScriptParser.unarySyntaxElement("expressionList",t.children[E]));E++}p.push(new LValuePart(t.children[0].t.getText(),f,this));d=new LValue(false,p,this);var T=this.getObjectCallString(d);e+=T}}else if(l=="DEREF"){e=this.generateExpression(e,t.children[0],i,t);e=this.generateExpression(e,t.children[1],i,t);if(n==null||!n.name=="DEREF"){var d;var p=[];if(aFunctionList!=null){for(let e of aFunctionList){if(e.name=="FCALL"){var f=[];var E=1;while(E<e.children.length){f.push(ScriptParser.unarySyntaxElement("expressionList",e.children[E]));E++}p.push(new LValuePart(e.children[0].t.getText(),f,this))}else{p.push(new LValuePart(e.t.getText(),[],this))}}}d=new LValue(false,p,this);var T=this.getObjectCallString(d);e+=T;aFunctionList=[]}}return e};JavascriptGenerator.prototype.generateFCall=function(e,t){tecoreLogger.info("---Rside is "+e);var i=vbScriptFunctions[e.toUpperCase()];if(i!=null){if(i=="vbscript.createObject"){if(t.length==0){tecoreLogger.info("Warning: can createObject really have no arguments?");return i+"(automationObject)"}var n=t.toString();return i+"(automationObject, "+n+")"}var n=t.toString();return i+"("+n+")"}else{var n=t.toString();var r=e.indexOf(".");var s=r!=-1?e.substring(0,r):e;var o=varMap[e];if(o!=null){if(o.getType()=="function"){var l="js_"+e+"_returnObj";this.outputText+="var "+l+" = "+"yield *"+e+"("+n+");";this.newline();var a=1;for(let e of t){this.outputText+=e+" = "+l+"["+a+++"];";this.newline()}return l+"[0]"}else if(o.getType()=="dim"){var c="";c+=e;for(let e of t){c+="[";c+=e;c+="]"}return c}else{tecoreLogger.info("WARNING: Don't recognize this function, keeping as-is");return"BASICFunctionOrArrayCall("+e+", "+n+")"}}else{tecoreLogger.info("WARNING: Don't recognize this function, keeping as-is");return"BASICFunctionOrArrayCall("+e+", "+n+")"}}};function getArgumentListFromTerminals(e){var t=e.getChildByName("Terminals");if(t!=null){if(t.children.length>=1){var i=[];for(let e of t.children){var n=e.t.getText();if(!n==","){i.push(n)}}return i}else{throw new IllegalStateException("ill-formed terminals children="+t.children)}}else{throw new IllegalStateException("expected 'Terminals' as child, got "+e.children)}}getTextFromTerminals=function(e){if(!e)throw new IllegalStateException("expected parameter is null or undeifed");var t=e.getChildByName("Terminals");if(t!=null){if(t.children.length>=1){var i="";for(let e of t.children){var n=e.t.getText();i+=n}return i}else{throw new IllegalStateException("ill-formed terminals children="+t.children)}}else{throw new IllegalStateException("expected 'Terminals' as child, got "+e.children)}};const IN_ARG=1;const OUT_ARG=16;const RETURN_VALUE_ARG=256;const OPTIONAL_ARG=4096;const REQUIRES_YIELD=true;const NO_YIELD=false;function ArgumentDefinition(e,t,i){this.name=e;this.type=t;this.position=i}ArgumentDefinition.prototype.getType=function(){return this.type};ArgumentDefinition.prototype.getPosition=function(){return this.position};ArgumentDefinition.prototype.getName=function(){return this.name};const ATTRIBUTE_TYPE={FUNCTION:"FUNCTION",OBJECT:"OBJECT",PROPERTY:"PROPERTY"};function AttributeDefinition(){this.type=null}AttributeDefinition.prototype.getType=function(){return this.type};makeSubclass(FunctionDefinition,AttributeDefinition);makeSubclass(ObjectDefinition,AttributeDefinition);function FunctionDefinition(e,t){this.args=e;this.willYield=t}FunctionDefinition.prototype.getArguments=function(){return this.args};FunctionDefinition.prototype.getArgument=function(e){return this.args[e]};FunctionDefinition.prototype.getArgumentsByType=function(t){var i=[];for(let e of this.args){if((e.getType()&t)==t){i.push(e)}}return i};FunctionDefinition.prototype.requiresYield=function(){return this.willYield};FunctionDefinition.prototype.getType=function(){return ATTRIBUTE_TYPE.FUNCTION};function ObjectDefinition(e){this.attributeDefinitionMap=e}ObjectDefinition.prototype.getAttribute=function(e){return this.attributeDefinitionMap[e]};ObjectDefinition.prototype.getType=function(){return ATTRIBUTE_TYPE.OBJECT};const whllObjAttributeMap={SENDKEY:new FunctionDefinition([new ArgumentDefinition("KeyString",IN_ARG,0),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,1)],NO_YIELD),WAITREADY:new FunctionDefinition([new ArgumentDefinition("Timeout",IN_ARG,0),new ArgumentDefinition("ExtraWait",IN_ARG,1),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,2)],REQUIRES_YIELD),GETCURSOR:new FunctionDefinition([new ArgumentDefinition("Row",OUT_ARG,0),new ArgumentDefinition("Column",OUT_ARG,1),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,2)],NO_YIELD),READSCREEN:new FunctionDefinition([new ArgumentDefinition("ToString",OUT_ARG,0),new ArgumentDefinition("Length",IN_ARG,1),new ArgumentDefinition("Row",IN_ARG,2),new ArgumentDefinition("Col",IN_ARG,3),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,4)],NO_YIELD),SETCURSOR:new FunctionDefinition([new ArgumentDefinition("Row",IN_ARG,0),new ArgumentDefinition("Col",IN_ARG,1),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,2)],NO_YIELD),GETSESSIONNAME:new FunctionDefinition([new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,0)],NO_YIELD),GETSESSIONID:new FunctionDefinition([new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,0)],NO_YIELD),FIELD:new FunctionDefinition([new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,0)],NO_YIELD),WRITESCREEN:new FunctionDefinition([new ArgumentDefinition("FromString",IN_ARG,0),new ArgumentDefinition("Row",IN_ARG,1),new ArgumentDefinition("Col",IN_ARG,2),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,3)],NO_YIELD),CONNECT:new FunctionDefinition([new ArgumentDefinition("Var1",IN_ARG|OPTIONAL_ARG,0),new ArgumentDefinition("Var2",IN_ARG|OPTIONAL_ARG,1),new ArgumentDefinition("pRetval",OUT_ARG|RETURN_VALUE_ARG,2)],NO_YIELD),SETSELECTIONSTARTPOS:new FunctionDefinition([new ArgumentDefinition("Row",IN_ARG,0),new ArgumentDefinition("Column",IN_ARG,1)],NO_YIELD),EXTENDSELECTIONRECT:new FunctionDefinition([new ArgumentDefinition("Row",IN_ARG,0),new ArgumentDefinition("Column",IN_ARG,1)],NO_YIELD)};const bzwhllMap={WHLLOBJ:new ObjectDefinition(whllObjAttributeMap)};var objectDefinitionMap={BZWHLL:new ObjectDefinition(bzwhllMap)};function LValuePart(e,t,i){if(typeof e==="string"){this.name=e}else{this.name=getTextFromTerminals(e)}this.args=t;this.generator=i}LValuePart.prototype.toString=function(e){sb="";sb+=this.name;if(this.args!=null&&this.args.length>0){if(e){sb=this.generator.generateArrayArgs(sb,this.args)}else{sb=this.generator.generateFunctionArgs(sb,this.args)}}return sb};function LValue(e,t,i){this.fullName=null;this.asString=null;this.generator=i;if(e===true){this.generatePartsFromElement(t)}else{this.parts=t}tecoreLogger.info("Parts are "+this.parts)}LValue.prototype.generatePartsFromElement=function(e){this.parts=[];var t=e.children;var i=null;var n=[];for(let e of t){var r=e.name;if(r=="functionName"){if(i!=null){this.parts.push(new LValuePart(i,n,this.generator));n=[]}i=e}else if(r=="expressionList"){if(e.children.length!=1){n.push(e)}else if(e.getChildByName("Terminals")==null){n.push(e)}else{tecoreLogger.info("Stupid comma expression")}}}this.parts.push(new LValuePart(i,n,this.generator))};LValue.prototype.getParts=function(){return this.parts};LValue.prototype.generateString=function(e){var t="";var i=0;while(i<this.parts.length-1){t+=this.parts[i].toString(e);t+=".";i++}this.fullName=t+this.parts[i].name;t+=this.parts[i].toString(e);this.asString=t};LValue.prototype.toString=function(e){if(this.asString==null){this.generateString(e)}return this.asString};LValue.prototype.getFullName=function(e){if(this.fullName==null){this.generateString(e)}return this.fullName};const AS_ARRAY=true;const AS_FUNCTION=false;var vbScriptFunctions={ABS:"vbscript.abs",ARRAY:"vbscript.array",ASC:"vbscript.asc",ATN:"vbscript.atn",CBOOL:"vbscript.cbool",CBYTE:"vbscript.cbyte",CDBL:"vbscript.cdbl",CHR:"vbscript.chr",CINT:"vbscript.cint",CLNG:"vbscript.clng",COS:"vbscript.cos",CSNG:"vbscript.csng",CSTR:"vbscript.cstr",CREATEOBJECT:"vbscript.createObject",DAY:"vbscript.day",ESCAPE:"vbscript.escape",EVAL:"vbscript.eval",EXP:"vbscript.exp",FILTER:"vbscript.filter",HEX:"vbscript.hex",HOUR:"vbscript.hour",INSTR:"vbscript.inStr",INSTRREV:"vbscript.inStrRev",FIX:"vbscript.fix",INT:"vbscript.int",ISARRAY:"vbscript.isArray",ISEMPTY:"vbscript.isEmpty",ISNULL:"vbscript.isNull",ISNUMERIC:"vbscript.isNumeric",JOIN:"vbscript.join",LBOUND:"vbscript.lbound",LCASE:"vbscript.lcase",LEFT:"vbscript.left",LEN:"vbscript.len",LOG:"vbscript.log",TRIM:"vbscript.trim",RTRIM:"vbscript.rtrim",LTRIM:"vbscript.ltrim",MID:"vbscript.mid",MINUTE:"vbscript.minute",MONTH:"vbscript.month",MONTHNAME:"vbscript.monthName",OCT:"vbscript.oct",REPLACE:"vbscript.replace",RGB:"vbscript.rgb",RIGHT:"vbscript.right",UBOUND:"vbscript.ubound"};var lValueMap={MSGBOX:"automationObject.msgBox","WSCRIPT.ECHO":"alert","CSCRIPT.ECHO":"tecoreLogger.info"};for(var attribute in vbScriptFunctions){lValueMap[attribute]=vbScriptFunctions[attribute]}var leafMap={TRUE:"true",FALSE:"false",NOTHING:"null"};function VarDefinition(){this.type=null;this.value=null}VarDefinition.prototype.getType=function(){return this.type};VarDefinition.prototype.getValue=function(){return this.value};VarDefinition.prototype.setValue=function(e){this.value=e};VarDefinition.prototype.toString=function(){return"VarDefinition: type="+this.type+", value="+this.value};makeSubclass(ExpressionVar,VarDefinition);makeSubclass(FunctionVar,VarDefinition);makeSubclass(ObjectVar,VarDefinition);makeSubclass(ConstVar,VarDefinition);makeSubclass(DimVar,VarDefinition);function ExpressionVar(e){this.type="expression";this.value="value"}function FunctionVar(e){this.type="function";this.value=e}function ObjectVar(e){this.type="object";this.value=e}function ConstVar(e){this.type="const";this.value=e}function DimVar(e){this.type="dim";this.value=e}var varMap={};putIntoVarMap=function(e,t){varMap[e]=t;tecoreLogger.info("Varmap now contains...");tecoreLogger.info(JSON.stringify(varMap))};function parseBasicText(e,t){var i=new LineSource(e);tecoreLogger.info("My text is "+JSON.stringify(i.lines));var n=[];var r=[];var s=topContext;var o=new BasicParser(e);o.traceNDFA=false;o.traceOP=false;o.eofTokenType=TOKEN_EOF;o.keywordTokenType=TOKEN_SYMBOL;o.whitespaceTokenType=TOKEN_WHITE;o.commentTokenType=TOKEN_COMMENT;o.ignoreWhitespace=true;o.ignoreComments=true;o.blockLimit=t;for(var l=0;l<t;l++){tecoreLogger.info("______Top___________________________________________________________\n");var a=o.parseStatement(s);if(a){if(secondaryStatementNames.indexOf(a.name)!=-1){throw new ParseException(o.lastLine,a.name+" seen in unexpected place")}else{tecoreLogger.info("parsedStatement.name = "+a.name);n.push(a)}}if(o.atEOF){break}}return n}function translateBasicText(e,t){var i=parseBasicText(e,t);tecoreLogger.info("___FULL_FILE_PARSE___________________________________");for(var n=0;n<i.length;n++){ScriptParser.pprintTree(i[n]);tecoreLogger.info("");tecoreLogger.info("")}var r=new JavascriptGenerator(null,VBS_DIALECT);r.generate(i);tecoreLogger.info("Generation done. result is:");var s=r.outputText.split("\n");for(var n=0;n<s.length;n++){tecoreLogger.info(s[n])}return r.outputText}const keyNameAliasMap={Esc:"Escape",Nonconvert:"NonConvert",Spacebar:" ",ArrowLeft:"Left",ArrowRight:"Right",ArrowDown:"Down",ArrowUp:"Up",Del:"Delete","U+001B":"Escape","U+007F":"Delete","U+0008":"Backspace","U+0009":"Tab",OS:"Win",Meta:"Win",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MediaTrackNext:"MediaNextTrack",MediaTrackPrevious:"MediaPreviousTrack",AudioVolumeMute:"VolumeMute",AudioVolumeDown:"VolumeDown",AudioVolumeUp:"VolumeUp",Caps:"CapsLock",Ctrl:"Control",Ins:"Insert",Ent:"Enter"};const KEYMAP_NORMAL=0;const KEYMAP_SHIFT=1;const KEYMAP_CTRL=2;const KEYMAP_ALT=4;const KEYMAP_CTRLSHIFT=3;const KEYMAP_ALTSHIFT=5;const KEYMAP_CTRLALT=6;const KEYMAP_CTRLALTSHIFT=7;const KEYMAP_TYPE_STRING=1;const KEYMAP_TYPE_KEY=2;const KEYMAP_TYPE_3270FUNCTION=4;const KEYMAP_TYPE_SCRIPT=8;const KEYMAP_TYPE_VTFUNCTION=16;const KEYMAP_TYPE_5250FUNCTION=32;const KEYMAP_TYPE_FALLBACK=64;const KEYMAP_TYPE_UNICODE_BYTES=128;const KEYMAP_TYPE_3270DESKTOP=256;const KEYMAP_TYPE_5250DESKTOP=512;const KEYMAP_TYPE_VTDESKTOP=1024;const SCRIPT_LANGUAGE_JS=1;const SCRIPT_LANGUAGE_VBS=2;const SCRIPT_LOCATION_CLOUD=1;const SCRIPT_LOCATION_FILE=2;const SCRIPT_LOCATION_VALUE=4;const FunctionGroup5250=["Alternate View","Attention","Auto Reverse","Back Tab","Backspace","CF01","CF02","CF03","CF04","CF05","CF06","CF07","CF08","CF09","CF10","CF11","CF12","CF13","CF14","CF15","CF16","CF17","CF18","CF19","CF20","CF21","CF22","CF23","CF24","Clear","Close","Cursor Down","Cursor Left","Cursor Right","Cursor Up","Delete","Dup","End","Enter","Erase EOF","Erase Field","Erase Input","Erase Word","Field -","Field +","Field Exit","Field Mark","Help","Hex Entry","Home / Record Backspace","Insert","New Line","Null","Overstrike Sequence","PA1","PA2","PA3","Print Screen","Rapid Left","Rapid Right","Reset","Reverse/Push","Page Down","Page Up","System Request","Tab / Field Advance","Test Request","Toggle RDE/RTE"];const FunctionGroup3270=["Alternate View","APL On/Off","Attention","Auto Reverse","Back Tab","Backspace","Clear","Clear Partition","Close","Cursor Down","Cursor Left","Cursor Right","Cursor Select","Cursor Up","DBCS On/Off","Delete","Dup","End","Enter","Erase EOF","Erase Field","Erase Input","Erase Word","Field Mark","Hex Entry","Home","Insert","Jump Partition","New Line","Null","Overstrike Sequence","PA1","PA2","PA3","PF01","PF02","PF03","PF04","PF05","PF06","PF07","PF08","PF09","PF10","PF11","PF12","PF13","PF14","PF15","PF16","PF17","PF18","PF19","PF20","PF21","PF22","PF23","PF24","Print Screen","Rapid / Word Left","Rapid / Word Right","Reset","Reverse/Push","Screen Direction","Scroll Partition Down","Scroll Partition Up","System Request","Tab","Test Request","Toggle RDE/RTE"];function ScriptKeyMapping(e,t,i){this.language=e;this.location=t;this.value=i}function KeyMapping(e,t,i=false){this.type=e;this.value=t;this.isNotTemplate=i}function KeyDefinition(e,t,i,n,r,s,o,l){var a=[];a[KEYMAP_NORMAL]=e;a[KEYMAP_SHIFT]=t;a[KEYMAP_CTRL]=i;a[KEYMAP_ALT]=n;a[KEYMAP_CTRLALT]=r;a[KEYMAP_CTRLSHIFT]=s;a[KEYMAP_ALTSHIFT]=o;a[KEYMAP_CTRLALTSHIFT]=l;return a}var keyNameMap={Accept:null,Again:null,AllCandidates:null,Alphanumeric:null,ContextMenu:null,Attn:null,BrowserBack:null,BrowserFavorites:null,BrowserForward:null,BrowserHome:null,BrowserRefresh:null,BrowserSearch:null,BrowserStop:null,CapsLock:null,Clear:null,CodeInput:null,Compose:null,Crsel:null,Convert:null,Copy:null,Cut:null,Down:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Down"),null,null,null,null,null,null,null),End:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"End"),null,null,null,null,null,null,null),Enter:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Enter"),null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"New Line"),null,null,null,null,null),EraseEof:null,Execute:null,Exsel:null,F1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF01"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF13"),null,null,null,null,null,null),F2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF02"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF14"),null,null,null,null,null,null),F3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF03"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF15"),null,null,null,null,null,null),F4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF04"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF16"),null,null,null,null,null,null),F5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF05"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF17"),null,null,null,null,null,null),F6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF06"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF18"),null,null,null,null,null,null),F7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF07"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF19"),null,null,null,null,null,null),F8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF08"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF20"),null,null,null,null,null,null),F9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF09"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF21"),null,null,null,null,null,null),F10:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF10"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF22"),null,null,null,null,null,null),F11:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF11"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF23"),null,null,null,null,null,null),F12:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF12"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF24"),null,null,null,null,null,null),F13:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF13"),null,null,null,null,null,null,null),F14:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF14"),null,null,null,null,null,null,null),F15:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF15"),null,null,null,null,null,null,null),F16:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF16"),null,null,null,null,null,null,null),F17:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF17"),null,null,null,null,null,null,null),F18:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF18"),null,null,null,null,null,null,null),F19:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF19"),null,null,null,null,null,null,null),F20:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF20"),null,null,null,null,null,null,null),F21:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF21"),null,null,null,null,null,null,null),F22:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF22"),null,null,null,null,null,null,null),F23:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF23"),null,null,null,null,null,null,null),F24:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PF24"),null,null,null,null,null,null,null),FinalMode:null,Find:null,FullWidth:null,HalfWidth:null,HangulMode:null,HanjaMode:null,Help:null,Hiragana:null,Home:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Home"),null,null,null,null,null,null,null),Insert:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Insert"),null,null,null,null,null,null,null),JapaneseHiragana:null,JapaneseKatakana:null,JapaneseRomaji:null,JunjaMode:null,KanaMode:null,KanjiMode:null,Katakana:null,LaunchApplication1:null,LaunchApplication2:null,LaunchMail:null,Left:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Left"),null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Rapid Left"),null,null,null,null,null),MediaNextTrack:null,MediaPlayPause:null,MediaPreviousTrack:null,MediaStop:null,ModeChange:null,Nonconvert:null,NumLock:null,PageDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"PageDown"),null,null,null,null,null,null,null),PageUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"PageUp"),null,null,null,null,null,null,null),Paste:null,Pause:null,Play:null,PreviousCandidate:null,PrintScreen:null,Process:null,Props:null,Right:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Right"),null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Rapid Right"),null,null,null,null,null),RomanCharacters:null,ScrollLock:null,Select:null,SelectMedia:null,Stop:null,Up:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Up"),null,null,null,null,null,null,null),Undo:null,VolumeDown:null,VolumeMute:null,VolumeUp:null,Win:null,Zoom:null," ":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY," "),new KeyMapping(KEYMAP_TYPE_KEY," "),null,null,null,null,null,null),"!":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"!"),null,null,null,null,null,null,null),'"':new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,'"'),null,null,null,null,null,null),"#":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"#"),null,null,null,null,null,null),$:new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"$"),null,null,null,null,null,null),"%":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"%"),null,null,null,null,null,null),"&":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"&"),null,null,null,null,null,null),"'":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"'"),null,null,null,null,null,null,null),"(":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"("),null,null,null,null,null,null),")":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,")"),null,null,null,null,null,null),"*":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"*"),null,null,null,null,null,null),"+":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"+"),null,null,null,null,null,null),",":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,","),null,null,null,null,null,null,null),"-":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"-"),null,null,null,null,null,null,null),".":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"."),null,null,null,null,null,null,null),"/":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"/"),null,null,null,null,null,null,null),0:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"0"),null,null,null,null,null,null,null),1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"1"),null,new KeyMapping(KEYMAP_TYPE_KEY,"|"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PA1"),null,null,null,null),2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"2"),null,null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PA2"),null,null,null,null),3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"3"),null,null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"PA3"),null,null,null,null),4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"4"),null,null,null,null,null,null,null),5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"5"),null,null,null,null,null,null,null),6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"6"),null,new KeyMapping(KEYMAP_TYPE_KEY,String.fromCharCode.apply(null,[172])),null,null,null,null,null),7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"7"),null,null,null,null,null,null,null),8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"8"),null,null,null,null,null,null,null),9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"9"),null,null,null,null,null,null,null),Numpad0:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"0"),null,null,null,null,null,null,null),Numpad1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"1"),null,null,new KeyMapping(KEYMAP_TYPE_KEY,"PA1"),null,null,null,null),Numpad2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"2"),null,null,new KeyMapping(KEYMAP_TYPE_KEY,"PA2"),null,null,null,null),Numpad3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"3"),null,null,new KeyMapping(KEYMAP_TYPE_KEY,"PA3"),null,null,null,null),Numpad4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"4"),null,null,null,null,null,null,null),Numpad5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"5"),null,null,null,null,null,null,null),Numpad6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"6"),null,null,null,null,null,null,null),Numpad7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"7"),null,null,null,null,null,null,null),Numpad8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"8"),null,null,null,null,null,null,null),Numpad9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"9"),null,null,null,null,null,null,null),"Numpad/":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"/"),null,null,null,null,null,null,null),"Numpad*":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"*"),null,null,null,null,null,null,null),"Numpad-":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"-"),null,null,null,null,null,null,null),"Numpad+":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"+"),null,null,null,null,null,null,null),NumpadEnter:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Enter"),null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"New Line"),null,null,null,null,null),"Numpad.":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"."),null,null,null,null,null,null,null),NumpadUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Up"),null,null,null,null,null,null,null),NumpadDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Down"),null,null,null,null,null,null,null),NumpadLeft:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Left"),null,null,null,null,null,null,null),NumpadRight:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Cursor Right"),null,null,null,null,null,null,null),NumpadHome:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Home"),null,null,null,null,null,null,null),NumpadPageUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"PageUp"),null,null,null,null,null,null,null),NumpadPageDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"PageDown"),null,null,null,null,null,null,null),NumpadEnd:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"End"),null,null,null,null,null,null,null),NumpadInsert:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Insert"),null,null,null,null,null,null,null),NumpadDelete:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Delete"),null,null,null,null,null,null,null),":":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,":"),null,null,null,null,null,null),";":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,";"),null,null,null,null,null,null,null),"<":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"<"),null,null,null,null,null,null),"=":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"="),null,null,null,null,null,null,null),">":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,">"),null,null,null,null,null,null),"?":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"?"),null,null,null,null,null,null),"@":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"@"),null,null,null,null,null,null),"[":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"["),null,new KeyMapping(KEYMAP_TYPE_KEY,String.fromCharCode.apply(null,[162])),null,null,null,null,null),"\\":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"\\"),null,null,null,null,null,null,null),"]":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"]"),null,null,null,null,null,null,null),"^":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"^"),null,null,null,null,null,null),_:new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"_"),null,null,null,null,null,null),"`":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"`"),null,null,null,null,null,null,null),KeyA:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"a"),new KeyMapping(KEYMAP_TYPE_KEY,"A"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Attn"),null,null,null,null,null),b:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"b"),new KeyMapping(KEYMAP_TYPE_KEY,"B"),null,null,null,null,null,null),c:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"c"),new KeyMapping(KEYMAP_TYPE_KEY,"C"),null,null,null,null,null,null),d:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"d"),new KeyMapping(KEYMAP_TYPE_KEY,"D"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Dup"),null,null,null,null,null),e:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"e"),new KeyMapping(KEYMAP_TYPE_KEY,"E"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Erase EOF"),null,null,null,null,null),f:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"f"),new KeyMapping(KEYMAP_TYPE_KEY,"F"),null,null,null,null,null,null),g:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"g"),new KeyMapping(KEYMAP_TYPE_KEY,"G"),null,null,null,null,null,null),h:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"h"),new KeyMapping(KEYMAP_TYPE_KEY,"H"),null,null,null,null,null,null),i:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"i"),new KeyMapping(KEYMAP_TYPE_KEY,"I"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Erase Input"),null,null,null,null,null),j:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"j"),new KeyMapping(KEYMAP_TYPE_KEY,"J"),null,null,null,null,null,null),k:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"k"),new KeyMapping(KEYMAP_TYPE_KEY,"K"),null,null,null,null,null,null),l:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"l"),new KeyMapping(KEYMAP_TYPE_KEY,"L"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Erase Field"),null,null,null,null,null),m:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"m"),new KeyMapping(KEYMAP_TYPE_KEY,"M"),null,null,null,null,null,null),n:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"n"),new KeyMapping(KEYMAP_TYPE_KEY,"N"),null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Null"),null,null,null,null),o:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"o"),new KeyMapping(KEYMAP_TYPE_KEY,"O"),null,null,null,null,null,null),p:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"p"),new KeyMapping(KEYMAP_TYPE_KEY,"P"),null,null,null,null,null,null),KeyQ:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"q"),new KeyMapping(KEYMAP_TYPE_KEY,"Q"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Sys Req"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Sys Req"),null,null,null,null),KeyR:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"r"),new KeyMapping(KEYMAP_TYPE_KEY,"R"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Reset"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Reset"),null,null,null,null),s:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"s"),new KeyMapping(KEYMAP_TYPE_KEY,"S"),null,null,null,null,null,null),t:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"t"),new KeyMapping(KEYMAP_TYPE_KEY,"T"),null,null,null,null,null,null),u:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"u"),new KeyMapping(KEYMAP_TYPE_KEY,"U"),null,null,null,null,null,null),v:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"v"),new KeyMapping(KEYMAP_TYPE_KEY,"V"),null,null,null,null,null,null),w:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"w"),new KeyMapping(KEYMAP_TYPE_KEY,"W"),null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Erase Word"),null,null,null,null),x:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"x"),new KeyMapping(KEYMAP_TYPE_KEY,"X"),null,null,null,null,null,null),y:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"y"),new KeyMapping(KEYMAP_TYPE_KEY,"Y"),null,null,null,null,null,null),z:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"z"),new KeyMapping(KEYMAP_TYPE_KEY,"Z"),null,null,null,new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Clear"),null,null),"{":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"{"),null,null,null,null,null,null),"|":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"|"),null,null,null,null,null,null),"}":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"}"),null,null,null,null,null,null),"~":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"~"),null,null,null,null,null,null),Backspace:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Backspace"),null,null,null,null,null,null,null),Tab:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Tab"),new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Back Tab"),null,null,null,null,null,null),"U+0018":null,Escape:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"Escape"),null,null,null,null,null,null,null),Delete:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Delete"),null,null,null,null,null,null,null),"U+00A1":null,"U+0300":null,"U+0301":null,"U+0302":null,"U+0303":null,"U+0304":null,"U+0306":null,"U+0307":null,"U+0308":null,"U+030A":null,"U+030B":null,"U+030C":null,"U+0327":null,"U+0328":null,"U+0345":null,"U+20AC":null,"U+3099":null,"U+309A":null,ControlLeft:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Reset"),null,null,null,null,null,null,null),ControlRight:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_3270FUNCTION,"Enter"),null,null,null,null,null,null,null)};var defaultTn5250Map={Accept:null,Again:null,AllCandidates:null,Alphanumeric:null,ContextMenu:null,Attn:null,BrowserBack:null,BrowserFavorites:null,BrowserForward:null,BrowserHome:null,BrowserRefresh:null,BrowserSearch:null,BrowserStop:null,CapsLock:null,Clear:null,CodeInput:null,Compose:null,Crsel:null,Convert:null,Copy:null,Cut:null,Down:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Down"),null,null,null,null,null,null,null),End:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"End"),null,null,null,null,null,null,null),Enter:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Enter"),null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"New Line"),null,null,null,null,null),EraseEof:null,Execute:null,Exsel:null,F1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF01"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF13"),null,null,null,null,null,null),F2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF02"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF14"),null,null,null,null,null,null),F3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF03"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF15"),null,null,null,null,null,null),F4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF04"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF16"),null,null,null,null,null,null),F5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF05"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF17"),null,null,null,null,null,null),F6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF06"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF18"),null,null,null,null,null,null),F7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF07"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF19"),null,null,null,null,null,null),F8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF08"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF20"),null,null,null,null,null,null),F9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF09"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF21"),null,null,null,null,null,null),F10:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF10"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF22"),null,null,null,null,null,null),F11:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF11"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF23"),null,null,null,null,null,null),F12:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF12"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF24"),null,null,null,null,null,null),F13:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF13"),null,null,null,null,null,null,null),F14:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF14"),null,null,null,null,null,null,null),F15:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF15"),null,null,null,null,null,null,null),F16:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF16"),null,null,null,null,null,null,null),F17:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF17"),null,null,null,null,null,null,null),F18:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF18"),null,null,null,null,null,null,null),F19:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF19"),null,null,null,null,null,null,null),F20:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF20"),null,null,null,null,null,null,null),F21:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF21"),null,null,null,null,null,null,null),F22:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF22"),null,null,null,null,null,null,null),F23:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF23"),null,null,null,null,null,null,null),F24:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"CF24"),null,null,null,null,null,null,null),FinalMode:null,Find:null,FullWidth:null,HalfWidth:null,HangulMode:null,HanjaMode:null,Help:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Help"),null,null,null,null,null,null,null),Hiragana:null,Home:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Home"),null,null,null,null,null,null,null),Insert:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Insert"),null,null,null,null,null,null,null),JapaneseHiragana:null,JapaneseKatakana:null,JapaneseRomaji:null,JunjaMode:null,KanaMode:null,KanjiMode:null,Katakana:null,LaunchApplication1:null,LaunchApplication2:null,LaunchMail:null,Left:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Left"),null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Rapid Left"),null,null,null,null,null),MediaNextTrack:null,MediaPlayPause:null,MediaPreviousTrack:null,MediaStop:null,ModeChange:null,Nonconvert:null,NumLock:null,PageDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Page Down"),null,null,null,null,null,null,null),PageUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Page Up"),null,null,null,null,null,null,null),Paste:null,Pause:null,Play:null,PreviousCandidate:null,PrintScreen:null,Process:null,Props:null,Right:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Right"),null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Rapid Right"),null,null,null,null,null),RomanCharacters:null,ScrollLock:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Help"),null,null,null,null,null,null,null),Select:null,SelectMedia:null,Stop:null,Up:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Up"),null,null,null,null,null,null,null),Undo:null,VolumeDown:null,VolumeMute:null,VolumeUp:null,Win:null,Zoom:null," ":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY," "),new KeyMapping(KEYMAP_TYPE_KEY," "),null,null,null,null,null,null),"!":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"!"),null,null,null,null,null,null,null),'"':new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,'"'),null,null,null,null,null,null),"#":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"#"),null,null,null,null,null,null),$:new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"$"),null,null,null,null,null,null),"%":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"%"),null,null,null,null,null,null),"&":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"&"),null,null,null,null,null,null),"'":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"'"),null,null,null,null,null,null,null),"(":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"("),null,null,null,null,null,null),")":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,")"),null,null,null,null,null,null),"*":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"*"),null,null,null,null,null,null),"+":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"+"),null,null,null,null,null,null),",":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,","),null,null,null,null,null,null,null),"-":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"-"),null,null,null,null,null,null,null),".":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"."),null,null,null,null,null,null,null),"/":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"/"),null,null,null,null,null,null,null),0:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"0"),null,null,null,null,null,null,null),1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"1"),null,new KeyMapping(KEYMAP_TYPE_KEY,"|"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"PA1"),null,null,null,null),2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"2"),null,null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"PA2"),null,null,null,null),3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"3"),null,null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"PA3"),null,null,null,null),4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"4"),null,null,null,null,null,null,null),5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"5"),null,null,null,null,null,null,null),6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"6"),null,new KeyMapping(KEYMAP_TYPE_KEY,String.fromCharCode.apply(null,[172])),null,null,null,null,null),7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"7"),null,null,null,null,null,null,null),8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"8"),null,null,null,null,null,null,null),9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"9"),null,null,null,null,null,null,null),Numpad0:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"0"),null,null,null,null,null,null,null),Numpad1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"1"),null,null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"PA1"),null,null,null,null),Numpad2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"2"),null,null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"PA2"),null,null,null,null),Numpad3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"3"),null,null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"PA3"),null,null,null,null),Numpad4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"4"),null,null,null,null,null,null,null),Numpad5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"5"),null,null,null,null,null,null,null),Numpad6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"6"),null,null,null,null,null,null,null),Numpad7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"7"),null,null,null,null,null,null,null),Numpad8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"8"),null,null,null,null,null,null,null),Numpad9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"9"),null,null,null,null,null,null,null),"Numpad/":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"/"),null,null,null,null,null,null,null),"Numpad*":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"*"),null,null,null,null,null,null,null),"Numpad-":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Field -"),null,null,null,null,null,null,null),"Numpad+":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"+"),null,null,null,null,null,null,null),NumpadEnter:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Enter"),null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"New Line"),null,null,null,null,null),"Numpad.":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"."),null,null,null,null,null,null,null),NumpadUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Up"),null,null,null,null,null,null,null),NumpadDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Down"),null,null,null,null,null,null,null),NumpadLeft:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Left"),null,null,null,null,null,null,null),NumpadRight:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Cursor Right"),null,null,null,null,null,null,null),NumpadHome:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Home"),null,null,null,null,null,null,null),NumpadPageUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Page Up"),null,null,null,null,null,null,null),NumpadPageDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Page Down"),null,null,null,null,null,null,null),NumpadEnd:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"End"),null,null,null,null,null,null,null),NumpadInsert:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"Insert"),null,null,null,null,null,null,null),NumpadDelete:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Delete"),null,null,null,null,null,null,null),":":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,":"),null,null,null,null,null,null),";":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,";"),null,null,null,null,null,null,null),"<":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"<"),null,null,null,null,null,null),"=":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"="),null,null,null,null,null,null,null),">":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,">"),null,null,null,null,null,null),"?":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"?"),null,null,null,null,null,null),"@":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"@"),null,null,null,null,null,null),"[":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"["),null,new KeyMapping(KEYMAP_TYPE_KEY,String.fromCharCode.apply(null,[162])),null,null,null,null,null),"\\":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"\\"),null,null,null,null,null,null,null),"]":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"]"),null,null,null,null,null,null,null),"^":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"^"),null,null,null,null,null,null),_:new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"_"),null,null,null,null,null,null),"`":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"`"),null,null,null,null,null,null,null),a:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"a"),new KeyMapping(KEYMAP_TYPE_KEY,"A"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Attn"),null,null,null,null,null),b:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"b"),new KeyMapping(KEYMAP_TYPE_KEY,"B"),null,null,null,null,null,null),c:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"c"),new KeyMapping(KEYMAP_TYPE_KEY,"C"),null,null,null,null,null,null),d:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"d"),new KeyMapping(KEYMAP_TYPE_KEY,"D"),null,null,null,null,null,null),e:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"e"),new KeyMapping(KEYMAP_TYPE_KEY,"E"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Erase EOF"),null,null,null,null,null),f:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"f"),new KeyMapping(KEYMAP_TYPE_KEY,"F"),null,null,null,null,null,null),g:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"g"),new KeyMapping(KEYMAP_TYPE_KEY,"G"),null,null,null,null,null,null),h:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"h"),new KeyMapping(KEYMAP_TYPE_KEY,"H"),null,null,null,null,null,null),i:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"i"),new KeyMapping(KEYMAP_TYPE_KEY,"I"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Erase Input"),null,null,null,null,null),j:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"j"),new KeyMapping(KEYMAP_TYPE_KEY,"J"),null,null,null,null,null,null),k:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"k"),new KeyMapping(KEYMAP_TYPE_KEY,"K"),null,null,null,null,null,null),l:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"l"),new KeyMapping(KEYMAP_TYPE_KEY,"L"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Erase Field"),null,null,null,null,null),m:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"m"),new KeyMapping(KEYMAP_TYPE_KEY,"M"),null,null,null,null,null,null),n:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"n"),new KeyMapping(KEYMAP_TYPE_KEY,"N"),null,null,null,null,null,null),o:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"o"),new KeyMapping(KEYMAP_TYPE_KEY,"O"),null,null,null,null,null,null),p:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"p"),new KeyMapping(KEYMAP_TYPE_KEY,"P"),null,null,null,null,null,null),q:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"q"),new KeyMapping(KEYMAP_TYPE_KEY,"Q"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Sys Req"),null,null,null,null,null),r:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"r"),new KeyMapping(KEYMAP_TYPE_KEY,"R"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Reset"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Reset"),null,null,null,null),s:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"s"),new KeyMapping(KEYMAP_TYPE_KEY,"S"),null,null,null,null,null,null),t:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"t"),new KeyMapping(KEYMAP_TYPE_KEY,"T"),null,null,null,null,null,null),u:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"u"),new KeyMapping(KEYMAP_TYPE_KEY,"U"),null,null,null,null,null,null),v:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"v"),new KeyMapping(KEYMAP_TYPE_KEY,"V"),null,null,null,null,null,null),w:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"w"),new KeyMapping(KEYMAP_TYPE_KEY,"W"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Erase Word"),null,null,null,null,null),x:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"x"),new KeyMapping(KEYMAP_TYPE_KEY,"X"),null,null,null,null,null,null),y:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"y"),new KeyMapping(KEYMAP_TYPE_KEY,"Y"),null,null,null,null,null,null),z:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"z"),new KeyMapping(KEYMAP_TYPE_KEY,"Z"),null,null,null,new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Clear"),null,null),"{":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"{"),null,null,null,null,null,null),"|":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"|"),null,null,null,null,null,null),"}":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"}"),null,null,null,null,null,null),"~":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"~"),null,null,null,null,null,null),Backspace:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Backspace"),null,null,null,null,null,null,null),Tab:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Tab"),new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Back Tab"),null,null,null,null,null,null),"U+0018":null,Escape:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"Escape"),null,null,null,null,null,null,null),Delete:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_5250FUNCTION,"Delete"),null,null,null,null,null,null,null),"U+00A1":null,"U+0300":null,"U+0301":null,"U+0302":null,"U+0303":null,"U+0304":null,"U+0306":null,"U+0307":null,"U+0308":null,"U+030A":null,"U+030B":null,"U+030C":null,"U+0327":null,"U+0328":null,"U+0345":null,"U+20AC":null,"U+3099":null,"U+309A":null};var defaultVTkeyNameMap={Accept:null,Again:null,AllCandidates:null,Alphanumeric:null,ContextMenu:null,Attn:null,BrowserBack:null,BrowserFavorites:null,BrowserForward:null,BrowserHome:null,BrowserRefresh:null,BrowserSearch:null,BrowserStop:null,CapsLock:null,Clear:null,CodeInput:null,Compose:null,Crsel:null,Convert:null,Copy:null,Cut:null,Down:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Down"),null,null,null,null,null,null,null),End:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"End"),null,null,null,null,null,null,null),Enter:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Enter"),null,null,null,null,null,null,null),EraseEof:null,Execute:null,Exsel:null,F1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F1"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F13"),null,null,null,null,null,null),F2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F2"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F14"),null,null,null,null,null,null),F3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F3"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F15"),null,null,null,null,null,null),F4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F4"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F16"),null,null,null,null,null,null),F5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F5"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F17"),null,null,null,null,null,null),F6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F6"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F18"),null,null,null,null,null,null),F7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F7"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F19"),null,null,null,null,null,null),F8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F8"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F20"),null,null,null,null,null,null),F9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F9"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F21"),null,null,null,null,null,null),F10:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F10"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F22"),null,null,null,null,null,null),F11:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F11"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F23"),null,null,null,null,null,null),F12:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F12"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F24"),null,null,null,null,null,null),F13:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F13"),null,null,null,null,null,null,null),F14:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F14"),null,null,null,null,null,null,null),F15:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F15"),null,null,null,null,null,null,null),F16:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F16"),null,null,null,null,null,null,null),F17:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F17"),null,null,null,null,null,null,null),F18:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F18"),null,null,null,null,null,null,null),F19:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F19"),null,null,null,null,null,null,null),F20:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F20"),null,null,null,null,null,null,null),F21:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F21"),null,null,null,null,null,null,null),F22:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F22"),null,null,null,null,null,null,null),F23:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F23"),null,null,null,null,null,null,null),F24:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"F24"),null,null,null,null,null,null,null),FinalMode:null,Find:null,FullWidth:null,HalfWidth:null,HangulMode:null,HanjaMode:null,Help:null,Hiragana:null,Home:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Home"),null,null,null,null,null,null,null),Insert:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Insert"),null,null,null,null,null,null,null),JapaneseHiragana:null,JapaneseKatakana:null,JapaneseRomaji:null,JunjaMode:null,KanaMode:null,KanjiMode:null,Katakana:null,LaunchApplication1:null,LaunchApplication2:null,LaunchMail:null,Left:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Left"),null,null,null,null,null,null,null),MediaNextTrack:null,MediaPlayPause:null,MediaPreviousTrack:null,MediaStop:null,ModeChange:null,Nonconvert:null,NumLock:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"KP_PF01"),null,null,null,null,null,null,null),PageDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Page Down"),null,null,null,null,null,null,null),PageUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Page Up"),null,null,null,null,null,null,null),Paste:null,Pause:null,Play:null,PreviousCandidate:null,PrintScreen:null,Process:null,Props:null,Right:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Right"),null,null,null,null,null,null,null),RomanCharacters:null,ScrollLock:null,Select:null,SelectMedia:null,Stop:null,Up:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Up"),null,null,null,null,null,null,null),Undo:null,VolumeDown:null,VolumeMute:null,VolumeUp:null,Win:null,Zoom:null," ":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY," "),new KeyMapping(KEYMAP_TYPE_KEY," "),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+@"),null,null,null,null,null),"!":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"!"),null,null,null,null,null,null,null),'"':new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,'"'),null,null,null,null,null,null),"#":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"#"),null,null,null,null,null,null),$:new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"$"),null,null,null,null,null,null),"%":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"%"),null,null,null,null,null,null),"&":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"&"),null,null,null,null,null,null),"'":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"'"),null,null,null,null,null,null,null),"(":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"("),null,null,null,null,null,null),")":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,")"),null,null,null,null,null,null),"*":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"*"),null,null,null,null,null,null),"+":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"+"),null,null,null,null,null,null),",":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,","),null,null,null,null,null,null,null),"-":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"-"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+_"),null,null,null,null,null),".":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"."),null,null,null,null,null,null,null),"/":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"/"),null,null,null,null,null,null,null),0:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"0"),null,null,null,null,null,null,null),1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"1"),null,null,null,null,null,null,null),2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"2"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+@"),null,null,null,null,null),3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"3"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+3"),null,null,null,null,null),4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"4"),null,null,null,null,null,null,null),5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"5"),null,null,null,null,null,null,null),6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"6"),null,new KeyMapping(KEYMAP_TYPE_KEY,String.fromCharCode.apply(null,[172])),null,null,null,null,null),7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"7"),null,null,null,null,null,null,null),8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"8"),null,null,null,null,null,null,null),9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"9"),null,null,null,null,null,null,null),Numpad0:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"0"),null,null,null,null,null,null,null),Numpad1:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"1"),null,null,null,null,null,null,null),Numpad2:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"2"),null,null,null,null,null,null,null),Numpad3:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"3"),null,null,null,null,null,null,null),Numpad4:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"4"),null,null,null,null,null,null,null),Numpad5:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"5"),null,null,null,null,null,null,null),Numpad6:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"6"),null,null,null,null,null,null,null),Numpad7:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"7"),null,null,null,null,null,null,null),Numpad8:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"8"),null,null,null,null,null,null,null),Numpad9:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"9"),null,null,null,null,null,null,null),"Numpad/":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"KP_PF02"),null,null,null,null,null,null,null),"Numpad*":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"KP_PF03"),null,null,null,null,null,null,null),"Numpad-":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"KP_PF04"),null,null,null,null,null,null,null),"Numpad+":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"+"),null,null,null,null,null,null,null),NumpadEnter:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Enter"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"New Line"),null,null,null,null,null),"Numpad.":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"."),null,null,null,null,null,null,null),NumpadUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Up"),null,null,null,null,null,null,null),NumpadDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Down"),null,null,null,null,null,null,null),NumpadLeft:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Left"),null,null,null,null,null,null,null),NumpadRight:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Cursor Right"),null,null,null,null,null,null,null),NumpadHome:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Home"),null,null,null,null,null,null,null),NumpadPageUp:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"PageUp"),null,null,null,null,null,null,null),NumpadPageDown:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"PageDown"),null,null,null,null,null,null,null),NumpadEnd:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"End"),null,null,null,null,null,null,null),NumpadInsert:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Insert"),null,null,null,null,null,null,null),NumpadDelete:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Delete"),null,null,null,null,null,null,null),":":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,":"),null,null,null,null,null,null),";":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,";"),null,null,null,null,null,null,null),"<":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"<"),null,null,null,null,null,null),"=":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"="),null,null,null,null,null,null,null),">":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,">"),null,null,null,null,null,null),"?":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"?"),null,null,null,null,null,null),"@":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"@"),null,null,null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+@"),null,null),"[":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"["),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+["),null,null,null,null,null),"\\":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"\\"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+\\"),null,null,null,null,null),"]":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"]"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+]"),null,null,null,null,null),"^":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"^"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+^"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Record Separator"),null,null),_:new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"_"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+_"),null,new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Unit Separator"),null,null),"`":new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"`"),null,null,null,null,null,null,null),KeyA:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"a"),new KeyMapping(KEYMAP_TYPE_KEY,"A"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+a"),null,null,null,null,null),KeyB:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"b"),new KeyMapping(KEYMAP_TYPE_KEY,"B"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+b"),null,null,null,null,null),KeyC:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"c"),new KeyMapping(KEYMAP_TYPE_KEY,"C"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+c"),null,null,null,null,null),KeyD:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"d"),new KeyMapping(KEYMAP_TYPE_KEY,"D"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+d"),null,null,null,null,null),KeyE:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"e"),new KeyMapping(KEYMAP_TYPE_KEY,"E"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+e"),null,null,null,null,null),KeyF:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"f"),new KeyMapping(KEYMAP_TYPE_KEY,"F"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+f"),null,null,null,null,null),KeyG:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"g"),new KeyMapping(KEYMAP_TYPE_KEY,"G"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+g"),null,null,null,null,null),KeyH:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"h"),new KeyMapping(KEYMAP_TYPE_KEY,"H"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+h"),null,null,null,null,null),KeyI:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"i"),new KeyMapping(KEYMAP_TYPE_KEY,"I"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+i"),null,null,null,null,null),KeyJ:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"j"),new KeyMapping(KEYMAP_TYPE_KEY,"J"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+j"),null,null,null,null,null),KeyK:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"k"),new KeyMapping(KEYMAP_TYPE_KEY,"K"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+k"),null,null,null,null,null),KeyL:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"l"),new KeyMapping(KEYMAP_TYPE_KEY,"L"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+l"),null,null,null,null,null),KeyM:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"m"),new KeyMapping(KEYMAP_TYPE_KEY,"M"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+m"),null,null,null,null,null),KeyN:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"n"),new KeyMapping(KEYMAP_TYPE_KEY,"N"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+n"),null,null,null,null,null),KeyO:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"o"),new KeyMapping(KEYMAP_TYPE_KEY,"O"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+o"),null,null,null,null,null),KeyP:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"p"),new KeyMapping(KEYMAP_TYPE_KEY,"P"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+p"),null,null,null,null,null),KeyQ:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"q"),new KeyMapping(KEYMAP_TYPE_KEY,"Q"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+q"),null,null,null,null,null),KeyR:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"r"),new KeyMapping(KEYMAP_TYPE_KEY,"R"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+r"),null,null,null,null,null),KeyS:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"s"),new KeyMapping(KEYMAP_TYPE_KEY,"S"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+s"),null,null,null,null,null),KeyT:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"t"),new KeyMapping(KEYMAP_TYPE_KEY,"T"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+t"),null,null,null,null,null),KeyU:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"u"),new KeyMapping(KEYMAP_TYPE_KEY,"U"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+u"),null,null,null,null,null),KeyV:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"v"),new KeyMapping(KEYMAP_TYPE_KEY,"V"),null,null,null,null,null,null),KeyW:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"w"),new KeyMapping(KEYMAP_TYPE_KEY,"W"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+w"),null,null,null,null,null),KeyX:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"x"),new KeyMapping(KEYMAP_TYPE_KEY,"X"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+x"),null,null,null,null,null),KeyY:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"y"),new KeyMapping(KEYMAP_TYPE_KEY,"Y"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+y"),null,null,null,null,null),KeyZ:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_KEY,"z"),new KeyMapping(KEYMAP_TYPE_KEY,"Z"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Control+z"),null,null,null,null,null),"{":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"{"),null,null,null,null,null,null),"|":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"|"),null,null,null,null,null,null),"}":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"}"),null,null,null,null,null,null),"~":new KeyDefinition(null,new KeyMapping(KEYMAP_TYPE_KEY,"~"),null,null,null,null,null,null),Backspace:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Backspace"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Erase Character"),new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Delete Character"),null,null,null,null,null),Tab:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Tab"),null,null,null,null,null,null,null),"U+0018":null,Escape:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Escape"),null,null,null,null,null,null,null),Delete:new KeyDefinition(new KeyMapping(KEYMAP_TYPE_VTFUNCTION,"Delete"),null,null,null,null,null,null,null),"U+00A1":null,"U+0300":null,"U+0301":null,"U+0302":null,"U+0303":null,"U+0304":null,"U+0306":null,"U+0307":null,"U+0308":null,"U+030A":null,"U+030B":null,"U+030C":null,"U+0327":null,"U+0328":null,"U+0345":null,"U+20AC":null,"U+3099":null,"U+309A":null};"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Recorder=void 0;const DEFAULT_WAIT_TIMEOUT=5e3;class Recorder{constructor(e){this.actions=["automationObject.connect();\n"];this.recording=false;this.playing=false;this.charBuffer="";this.paused=false;this.insertStepDelay=false;this.stepDelay=0;this.waitTimeout=DEFAULT_WAIT_TIMEOUT;this.recordInput=false;this.isHideField=false;this.recordPassword=false;this.preCheckEditableField=false;this.pausedKbRestoreTimes=-1;this.screen=e}static formatString(n){let r="";let e=n.length;for(let i=0;i<e;i++){let e=n[i];let t=e.codePointAt(0);if(t!==undefined&&t<32){let e=t.toString(16).toUpperCase();while(e.length<4){e="0"+e}r+="\\u"+e}else if(t===92){r+=e;r+=e}else if(e==="'"){r+="\\'"}else{r+=e}}return r}setActions(e){this.actions=e}setPreCheckStatus(e){this.preCheckEditableField=e}getActions(){return this.actions}play(t,i,n){if(this.recording===false&&this.playing===false){this.screen.invisibleInput.focus();this.screen.renderer.hasFocus=true;if((this.screen.oiaProgramMessage===2||this.screen.lockedByScripting)&&this.screen.sessionType!="VT"){tecoreLogger.debug("Put Script in Type Ahead queue");let e={type:"SCRIPT",triggeredLock:false,yieldDelayMS:t,successCallback:i,errorCallback:n,actions:this.actions};this.screen.typeAheadQueue.push(e);return}var e=new ScriptManager;var r=e.create("js","s1",this.actions.join(" "),null);r.compile();this.screen.kbRestoreTimes=0;if(this.screen){this.playing=true;tecoreLogger.debug("Recorder play:  about to playback script="+r);var s=this.screen.callbacks.getScreens();var o=new ScriptExecutionContext(s,r,t,this.screen.sessionShortName,e=>{this.playing=false;if(i&&typeof i=="function"){i(e)}if(this.screen.typeAheadTimer==0){this.screen.typeAheadTimer=setTimeout(()=>{this.screen.emptyTypeAhead();this.screen.typeAheadTimer=0},10)}},e=>{this.playing=false;tecoreLogger.warn("Recorder play: Cannot execute script,"+JSON.stringify(e));if(n&&typeof n=="function"){n(new Error("Error encounted during script execution"))}},this.preCheckEditableField);if(this.screen.invisibleInput){this.screen.invisibleInput.focus()}o.runTillWaitOrComplete();return o}else{tecoreLogger.warn("Recorder play: Error encounted during script execution, screen is not ready");if(n&&typeof n=="function"){n(new Error("Error encounted during script execution, screen is not ready"))}}}else{tecoreLogger.warn("Recorder play: Cannot execute script, currently recording or in playback!!");if(n&&typeof n=="function"){n(new Error("Recorder: Cannot execute script, currently recording or in playback!!"))}}return null}record(e,t,i){this.actions=["automationObject.connect();\n"];this.recording=true;this.paused=false;this.insertStepDelay=e?true:false;this.stepDelay=t?t:0;this.waitTimeout=i?i:DEFAULT_WAIT_TIMEOUT;this.screen.kbRestoreTimes=0}startRecordInput(){this.recordInput=true}stopRecordInput(){this.recordInput=false}flushCharBuffer(){if((this.recording===true||this.recordInput===true)&&this.charBuffer.length>0){this.actions.push("automationObject.autoTypeJS('"+Recorder.formatString(this.charBuffer)+"');\n");if(this.navRecorder){if(this.isHideField){this.navRecorder.recordPutPassword(Recorder.formatString(this.charBuffer))}else{this.navRecorder.recordPutText(Recorder.formatString(this.charBuffer))}}if(this.inputHistory&&this.recordInput===true){if(!this.isHideField){this.inputHistory.inputText(Recorder.formatString(this.charBuffer))}}this.handleStepDelay();this.charBuffer=""}}handleStepDelay(){if(this.insertStepDelay){this.actions.push("yield *automationObject.waitJS("+this.stepDelay+");\n")}}stopRecord(){this.flushCharBuffer();this.recording=false;this.paused=false;this.screen.kbRestoreTimes=-1}pauseRecord(){if(this.recording){this.flushCharBuffer();this.recording=false;this.paused=true}}resumeRecord(){if(this.paused){this.recording=true;this.paused=false;this.screen.kbRestoreTimes=this.pausedKbRestoreTimes}}stopPlay(e){if(e&&e.generator){e.generator.return()}this.playing=false}waitForString(e){if(this.recording===true&&typeof e=="string"){this.actions.push("yield *automationObject.waitForString('"+Recorder.formatString(e)+"', "+this.waitTimeout+");\n")}}typeChar(e){if(this.recording===true||this.recordInput===true){this.setKbRestoreTimes();if(this.inputHistory&&this.recordInput===true){this.inputHistory.inputText(Recorder.formatString(e))}if(this.navRecorder){this.navRecorder.recordPutText(Recorder.formatString(e))}else{this.actions.push("automationObject.autoTypeJS('"+Recorder.formatString(e)+"');\n");this.handleStepDelay()}}}promptPassword(){if(this.recording===true){this.setKbRestoreTimes();this.actions.push("yield *automationObject.typePassword();\n")}}bufferChar(e,t){this.isHideField=!!t;if(this.recording===true||this.recordInput===true){this.charBuffer+=e}}setCursor(e,t,i){if(this.recording===true||this.recordInput===true){this.flushCharBuffer();if(this.navRecorder){this.navRecorder.recordSetCursor(e,t)}if(this.inputHistory&&this.recordInput===true){this.inputHistory.setCursor(e,t)}if(!i||!["O_IC"].includes(i)){this.actions.push("automationObject.setRowColumn("+e+", "+t+");\n");this.handleStepDelay()}}}handleNoYieldFunction(t){if(this.recording===true||this.recordInput===true){this.setKbRestoreTimes();this.flushCharBuffer();let e=t.replace("'","\\'");this.actions.push("automationObject.sendFunction('"+e+"');\n");const i=["Attn","Reset","Sys Req","Help"];const n=["Erase EOF","Erase Field","Erase Input","Erase Word","Delete"];if(this.navRecorder){if(i.includes(t)){this.navRecorder.recordSendKey(e,false)}else{if(n.includes(t)){this.navRecorder.recordPutText("")}this.navRecorder.recordSetCursor()}}if(this.inputHistory&&this.recordInput===true){if(i.includes(t)){this.inputHistory.sendKey(e,false)}else{if(n.includes(t)){this.inputHistory.inputText("")}if(this.inputHistory){this.inputHistory.setCursor()}}}this.handleStepDelay()}}setKbRestoreTimes(){let e=this.screen.getProtocolType();if(e===TERMINAL_PROTOCOL_TN3270){if(this.screen.kbRestoreTimes>1){let e=this.actions.length-1;for(;e>=0;e--){const t=this.actions[e];if(t.startsWith("yield *automationObject.sendFunctionYield(")){const i="yield *automationObject.sendFunctionYield("+t.substring(42,t.length-3)+","+this.screen.kbRestoreTimes+");\n";this.actions[e]=i;break}}}this.screen.kbRestoreTimes=0}}handleYieldFunction(t){if(this.recording===true||this.recordInput===true){this.flushCharBuffer();let e=this.screen.getProtocolType();if(e===TERMINAL_PROTOCOL_TN3270||e===TERMINAL_PROTOCOL_TN5250){this.setKbRestoreTimes();if(t)this.actions.push("yield *automationObject.sendFunctionYield('"+t.replace("'","\\'")+"');\n")}if(this.navRecorder){this.navRecorder.recordSendKey(t?t.replace("'","\\'"):"",true)}if(this.inputHistory&&this.recordInput===true){this.inputHistory.sendKey(t?t.replace("'","\\'"):"",true)}}}}exports.Recorder=Recorder;var __awaiter=this&&this.__awaiter||function(e,o,i,l){function a(t){return t instanceof i?t:new i(function(e){e(t)})}return new(i||(i=Promise))(function(t,i){function n(e){try{s(l.next(e))}catch(e){i(e)}}function r(e){try{s(l["throw"](e))}catch(e){i(e)}}function s(e){e.done?t(e.value):a(e.value).then(n,r)}s((l=l.apply(e,o||[])).next())})};var ftpLogger=window["COM_RS_COMMON_LOGGER"].makeComponentLogger("com.rs.tecore.ftp");const FTP_WS_CODE_MAP=new Map([[10054,1e3]]);const WAITING_SERVER_RESP=0;function equalsIgnoringCase(e,t){return e.localeCompare(t,undefined,{sensitivity:"accent"})===0}const debounceFTP=(e,t)=>{let i;clearTimeout(i);i=setTimeout(e,t)};function startFTP(e,t){let i=e["url"];let n=e["downloadurl"];let r=e["connData"];let s=0;let o=0;let l="";let a="binary";let c="binary";let u=[];var h="0";var d="1";if(e.security&&typeof e.security=="object"){if(e.security.type&&typeof e.security.type=="number"){s=e.security.type}if(e.security.badCert&&typeof e.security.badCert=="number"){o=e.security.badCert}if(e.security.principle&&typeof e.security.principle=="string"){l=e.security.principle}}if(e.ftpConfig&&typeof e.ftpConfig=="object"){if(e.ftpConfig.transferMode&&typeof e.ftpConfig.transferMode=="string"){a=e.ftpConfig.transferMode}if(e.ftpConfig.autoMode&&typeof e.ftpConfig.autoMode=="string"){c=e.ftpConfig.autoMode}if(e.ftpConfig.exceptions&&typeof e.ftpConfig.exceptions=="object"){u=e.ftpConfig.exceptions}}if(e.keepAlive&&typeof e.keepAlive=="object"){if(e.keepAlive.timerOptions&&typeof e.keepAlive.timerOptions=="string"){h=e.keepAlive.timerOptions}if(e.keepAlive.timerValue&&typeof e.keepAlive.timerValue=="string"){d=e.keepAlive.timerValue}}let p={host:e.host,port:Number(e.port),username:e.username,password:e.password,hostdir:e.hostdir,sessionType:e.sessionType,security:s,certificateAction:o,alternatePrincipleName:l,tlsMinVersion:e.tlsMinVersion,tlsMaxVersion:e.tlsMaxVersion,passive:e.passive,transferMode:a,autoMode:c,autoExtList:u,keepAliveTimerOptions:h,keepAliveTimerValue:d};return new FileTransferProtocol({websocketURL:i,downloadURL:n},p,r,t)}class FileTransferProtocol{constructor(e,t,i,n){this.LOG_STATUS_MSG=0;this.LOG_HOST_MSG=1;this.LOG_CLIENT_MSG=2;this.LOG_ERROR_MSG=3;this.CONNECT_STATE_DISCONNECTED=0;this.CONNECT_STATE_CONNECTING=1;this.CONNECT_STATE_CONNECTED=2;this.WEBSOCKET_BZW_INTERNAL_ERROR=4999;this.dirCommonds=["CWD","CD","CDUP","XCWD","XCUP","XRMD","XMKD"];this.refreshComm=["DELE","MKD","RNFR","RNTO","RMD","MKDIR","RMDIR","RENAME","LIST","SITE CHMOD","CHMOD"];this.listComm=["LIST","LS"];this.invalidComm=["STOR","STOU","RETR","APPE","CCC","USER","PASS","REIN","PORT","PASV","NLST"];this.accepts={accept:true,isCert:false,explicit:false};this.hostInfo=t;this.connData=i;this.setTransferTypeSettings({transferMode:t.transferMode,autoMode:t.autoMode,exceptions:t.autoExtList});this.connectState=this.CONNECT_STATE_DISCONNECTED;this.loadwsState=this.CONNECT_STATE_DISCONNECTED;this.callbacks=n;this.username=(t.username||"").trim();this.password=t.password;this.initialDir=t.hostdir;this.bAUTH=false;this.bCCC=false;this.bEPRT=false;this.bEPSV=false;this.bHOST=false;this.bLANG=false;this.bMDTM=false;this.bMLST=false;this.bMLSD=false;this.bPASV=false;this.bPBSZ=false;this.bPROT=false;this.bREST=false;this.bSIZE=false;this.bTVFS=false;this.bUTF8=false;this._downloader=window["downloader"];this.loginStatus="none";this.loadURL=e.downloadURL||e.websocketURL+"download";this.url=e.websocketURL;this.uploads={isReady:false,start:null};this.downloads={isReady:false,preData:false,result:null,received:WAITING_SERVER_RESP};this.config={};this.intervalBar=null;this.downloaderWriter=new Map;this.namefmt=0;this.connectLoadWs(e.downloadURL,t,()=>{this.connect(e.websocketURL,t,i)});this.numberFormat=Intl?new Intl.NumberFormat("en"):{format:e=>e}}connect(e,t,i){this.connectState=this.CONNECT_STATE_CONNECTING;if(t.sessionType==="SFTP"&&!t.username){this.loginStatus="username";this.logMessage("Add Prompt for username logic here!!!",this.LOG_ERROR_MSG);this.callbacks.promptCallback(this);return}else if(t.sessionType==="SFTP"&&!t.password){this.loginStatus="password";this.logMessage("Add Prompt for password logic here!!!",this.LOG_ERROR_MSG);this.callbacks.promptCallback(this);return}this.ws=new WebSocket(e);let n=this.ws;let r=this;n.onopen=()=>{if(t.host&&t.port){let e={t:"CONFIG",host:t.host,port:Number(t.port),username:t.username,password:t.password,hostdir:t.hostdir,sessionType:t.sessionType,certificateAction:t.certificateAction,alternatePrincipleName:t.alternatePrincipleName,keepAliveTimerOptions:t.keepAliveTimerOptions,keepAliveTimerValue:t.keepAliveTimerValue,tlsMinVersion:t.tlsMinVersion,tlsMaxVersion:t.tlsMaxVersion,passive:t.passive,connData:Object.assign({},i)};this.config=e;this.intervalBar=setInterval(function(){if(n.readyState===1){n.send(JSON.stringify(e));r.logDebug("sent"+JSON.stringify(e));clearInterval(r.intervalBar)}},50)}else{r.connectState=r.CONNECT_STATE_DISCONNECTED}};n.onmessage=function(e){r.wsOnMessage(e)};n.onerror=function(e){r.handleWebsocketError(e);r.connectState=r.CONNECT_STATE_DISCONNECTED;n=null;clearInterval(this.timerId);clearInterval(this.intervalBar)};n.onclose=function(e){if(r.connectState!=r.CONNECT_STATE_DISCONNECTED){r.handleWebsocketClose(e);r.connectState=r.CONNECT_STATE_DISCONNECTED;r.logDebug("Unbind status");n=null;clearInterval(this.timerId);clearInterval(this.intervalBar)}}}heartbeat(e,t){this.logMessage("ftp deal with message, message is from = "+e);if(t){t()}}isWsAlive(e){return e&&e.readyState===e.OPEN}connectLoadWs(e,t,i){this.loadws=new WebSocket(e);let n=this.loadws;let o;let l;let a=0;let c=[];let r=null;let u=0;let h=0;let d=new Map;const p=()=>{a=0;h=0;u=0;d=new Map;this.downloads.preData=true;this.downloads.received=WAITING_SERVER_RESP;if(this.downloads.result){this.downloads.isReady=true}o=undefined;this.downloaderWriter.delete(l)};const f=()=>__awaiter(this,void 0,void 0,function*(){yield o.ready;const e=[];while(h<d.size){const t=d.get(h);if(t!=="BUFF_PLACE_HOLDER"&&t!==null){e.push(t);this.logVerbose("DEBUG: WRITE INDEX: "+h);d.set(h,null);h++;continue}else{break}}e.forEach(e=>{this.logVerbose(e);o.write(e)})});const E=e=>{o=this.downloaderWriter.get(e);if(!o){o=this._downloader.getStreamWriter(e);this.downloaderWriter.set(e,o)}};const s=()=>{var e;if(!Number(t.keepAliveTimerOptions))return;if(this.isWsAlive(this.loadws)){this.loadws.send("NOOP");this.heartbeat("send",(e=this.callbacks)===null||e===void 0?void 0:e.heartbeatCallback)}r=setTimeout(s,Number(t.keepAliveTimerValue)*60*1e3)};const T=()=>{if(r){clearTimeout(r)}};const _=()=>{var e;this.ws.send(JSON.stringify({t:"DOWNLOAD_FINISH"}));this.heartbeat("send",(e=this.callbacks)===null||e===void 0?void 0:e.heartbeatCallback)};n.onopen=()=>{if(i){i()}this.loadwsState=this.CONNECT_STATE_CONNECTING;s()};n.onmessage=e=>{const r=u++;this.logVerbose("DEBUG: RECEIVE INDEX: "+r);d.set(r,"BUFF_PLACE_HOLDER");const s=function(t){try{return JSON.parse(t)}catch(e){return t}}(e.data);if(s&&s.name&&s.type==="start download"){h++;l=s.isFolder?s.name+".zip":s.name;console.time("Time elapsed for downloading "+l);return}if(s&&s.type==="abort download"){return Promise.all(c).then(()=>{try{if(o!==undefined){o.abort()}this.logError(s.reason)}catch(e){this.logWarn(e)}finally{console.timeEnd("Time elapsed for downloading "+l);p()}_()})}if(s&&s.type==="end download"){return Promise.all(c).then(()=>__awaiter(this,void 0,void 0,function*(){try{if(a===0&&o===undefined){d.set(1,new Uint8Array([]));E(l)}if(o!==undefined){yield f();o.close()}}catch(e){this.logWarn(e)}finally{console.timeEnd("Time elapsed for downloading "+l);p()}_()}))}E(l);const t=new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){try{this.logVerbose(`${l}, data package size: ${s.size}`);if(s.size>0){const e=yield new Response(s).arrayBuffer();const t=new Uint8Array(e);d.set(r,t);this.logVerbose(`${l}, buffer index: ${r}, buffer size: ${t.length}`);a+=s.size;if(u>1){this.downloads.received=a}yield f()}i(true)}catch(e){if(e){this.logError(e)}n("Failed writing file stream")}}));t.catch(e=>{this.logWarn(e)});c.push(t)};n.onerror=e=>{this.logError(e);n=null;this.loadwsState=this.CONNECT_STATE_DISCONNECTED;T()};n.onclose=e=>__awaiter(this,void 0,void 0,function*(){try{this.logWarn("Websocket of downloading closed");if(o){yield o.abort()}}catch(e){this.logWarn(e)}n=null;this.loadwsState=this.CONNECT_STATE_DISCONNECTED;T()})}wsOnMessage(e){this.logDebug("wsOnMessage: "+e.data,this.LOG_HOST_MSG);try{if(e.data){var t=JSON.parse(e.data);const i=["command not understood","500 unknown command","500 unknown site command.","command not implemented","subcommand not recognized","534 command rein not allowed for connection to secure port","534 server does not support","534 secure connection was already negotiated."];const n="500 subcommand",r="not valid.";const s=(t.message||{}).message||t.message;if(s&&i.findIndex(e=>s.toLowerCase().indexOf(e)>-1)>-1||s&&s.toLowerCase().startsWith(n)&&s.toLowerCase().endsWith(r)){this.processMessage(t)}else if(t.code===500){this.handleWebsocketError(e);return}else if(t.code===530||t.code===534){const o=t.code===534;this.callbacks.notificateCallback(t,o)}else if(t.code===555){this.callbacks.notificateCallback(t,false)}else if(t.code>=400){this.logError(JSON.stringify(t))}else if(t.err&&t.err.code>400&&this.uploads.start){this.uploads.abort(t)}else if(t.message&&t.message.code===550&&this.uploads.start){t.err=t.message;this.uploads.abort(t)}else{}this.processMessage(t)}}catch(e){this.logError(e)}}handleWebsocketError(e){this.handleWebsocketCloseInner(this.WEBSOCKET_BZW_INTERNAL_ERROR,e.data,"Connection to host closed due to error.\nHost: "+this.hostInfo.host+"\nPort: "+this.hostInfo.port+"\nError:"+e.data);return}handleWebsocketClose(e){this.handleWebsocketCloseInner(e.code,e.reason,"Connection to host closed.\nHost: "+this.hostInfo.host+"\nPort: "+this.hostInfo.port+"\nCode: "+e.code+"\nReason: "+e.reason);return}handleWebsocketCloseInner(e,t,i){if(e===1e3&&t==="user cancel login"){this.logWarn("Warning: "+t,this.LOG_STATUS_MSG);return}if(e===3001&&t==="user close session"){return}setTimeout(()=>{if(e!=this.expectWsCode){this.callbacks.notificateCallback({message:i},true)}this.closeConnection(e,t)},500)}isConnected(){return this.connectState===this.CONNECT_STATE_CONNECTED}disconnect(){this.logInfo("Disconnected terminal with ID="+this.FTPClientID);this.closeConnection(4e3,"Terminal Closed")}closeConnection(e,t){return __awaiter(this,void 0,void 0,function*(){this.logWarn("Warning: "+t,this.LOG_STATUS_MSG);this.close({code:e,info:t});this.expectWsCode=e;this.callbacks.closeCallback();this.ws=null;this.loadws=null})}keepAlive(){}getLogColor(e){switch(e){case 0:return"color: blue";case 1:default:return"color: black";case 2:return"color: green";case 3:return"color: red"}}getLogLevel(){const e=window["COM_RS_COMMON_LOGGER"]&&window["COM_RS_COMMON_LOGGER"].getComponentLevel;return e?window["COM_RS_COMMON_LOGGER"].getComponentLevel("com.rs.tecore.ftp"):2}logError(t,i=3){ftpLogger.severe("Error encountered!");if(t){let e=typeof t==="string"?t:t["stack"]?t["stack"]:t["message"];if(!e)e=JSON.stringify(t);console.error("%c"+e,this.getLogColor(i))}}logWarn(e,t){if(this.getLogLevel()<1)return;console.warn("%c"+e,this.getLogColor(t))}logInfo(e,t){if(this.getLogLevel()<2)return;console.log("%c"+e,this.getLogColor(t))}logMessage(e,t){this.logInfo(e,t)}logDebug(e,t){if(this.getLogLevel()<3)return;console.log("%c"+e,this.getLogColor(t))}logVerbose(e,t){if(this.getLogLevel()<4)return;console.log("%c"+e,this.getLogColor(t))}processMessage(e){var t;this.heartbeat("onmessage",(t=this.callbacks)===null||t===void 0?void 0:t.heartbeatCallback);let i=this;switch(e.t){case"CONNECT":i.passToCONNHandler(e);break;case"CERT_REJECT":this.callbacks.closeCallback();break;case"CERT_PROMPT":if(i.callbacks&&i.callbacks.certificateCheck){i.callbacks.certificateCheck(i.hostInfo.host,e.fp,(e,t)=>{this.accepts.accept=e;this.accepts.isCert=true;i.ws.send(JSON.stringify({t:"CERT_RES",a:e}));if(this.hostInfo.sessionType=="FTPES"&&this.loginStatus==="none"&&this.accepts.explicit&&e){this.loginProcess()}if(!e){i.logInfo("Rejecting TLS certificate and closing connection. Reason="+t);this.disconnect()}})}else{i.ws.send(JSON.stringify({t:"CERT_RES",a:true}))}break;case"EXPLICIT":if(this.accepts.accept&&(this.accepts.isCert||this.hostInfo.certificateAction===0)){this.loginProcess()}else{this.accepts.explicit=true}break;case"COMM":i.passToCOMMHandler(e);break;case"Err":i.passToErrHandler(e);break;case"LIST":i.passToListHandler(e);break;case"CLOSED":this.logMessage("Connection closed from FTP server",this.LOG_ERROR_MSG);if(!i.ws){this.logWarn("Warning: "+"Connection closed from FTP server",this.LOG_STATUS_MSG)}else if(this.hostInfo.sessionType=="SFTP"){i.ws.close(i.translateCode(e.error.code),e.error.message)}else{i.ws.close(i.translateCode(e.error.code),"Connection closed from FTP server")}break;case"DOWNLOAD":this.logMessage("Download from FTP server",this.LOG_STATUS_MSG);i.passToDownHandler(e);break;case"UPLOAD":this.logMessage("Upload to FTP server",this.LOG_STATUS_MSG);i.passToUPHandler(e);break}}lsCommandProcess(t={},i={},n){return __awaiter(this,void 0,void 0,function*(){var e=yield this.request("LIST");e.dir=t.message;e.sys=i.message;e.warning=n;this.callbacks.ftpClientRender(e);if(e.code>=400){this.callbacks.notificateCallback(e)}})}downloadProcess(s){const t=s.name;if(this.loadwsState===this.CONNECT_STATE_DISCONNECTED){this.connectLoadWs(this.loadURL,this.hostInfo)}const o=s.type==="folder"?t+".zip":t;this.downloads={isReady:false,preData:false,result:null,received:WAITING_SERVER_RESP};s.update({name:o,start:true,isEnd:false,succ:false,received:WAITING_SERVER_RESP,show:true});return new Promise((n,r)=>__awaiter(this,void 0,void 0,function*(){this.logDebug("downloadProcess",this.LOG_STATUS_MSG);if(this.getTransferType(t)=="ascii"){yield this.request("TYPE A")}else{yield this.request("TYPE I")}Object.defineProperties(this.downloads,{isReady:{get:()=>{},set:e=>{const t=this.downloads.result;let i=false;if(t.status==="successfully"){i=true;n(t)}else{r(t)}s.update({name:o,start:false,isEnd:true,succ:i})}},received:{get:()=>{},set:e=>{s.update({name:o,received:this.numberFormat.format(e),show:true})}}});this.logCommand("RETR "+t);const e=yield this.request("DOWNLOAD",{remotePath:t,type:s.type,autoMode:s.autoMode});if(e.code>=400){this.downloads.result={name:o,status:"failed",err:e}}else{this.downloads.result={name:o,status:"successfully",message:e}}if(this.downloads.preData){this.downloads.isReady=true}}))}uploadPrepare(r,s,o){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){var e;let t;if(this.loadwsState===this.CONNECT_STATE_DISCONNECTED){this.connectLoadWs(this.loadURL,this.hostInfo)}this.loadws.send(JSON.stringify({type:"new upload prepare",name:r,size:o}));this.heartbeat("send",(e=this.callbacks)===null||e===void 0?void 0:e.heartbeatCallback);if(this.getTransferType(r)=="ascii"){t=yield this.request("TYPE A")}else{t=yield this.request("TYPE I")}this.logCommand("STOR "+r);this.uploads={isReady:false,result:"",start:true,abort:e=>{s(e)}};if(t.code>=400){n({status:"failed",err:t})}else{i({status:"successfully",message:t})}}))})}uploadTransfer(e){var t,i,n,r;return __awaiter(this,void 0,void 0,function*(){if(this.loadwsState===this.CONNECT_STATE_DISCONNECTED){this.connectLoadWs(this.loadURL,this.hostInfo)}this.logDebug("uploadProcess",this.LOG_STATUS_MSG);if(e.isStart){this.loadws.send(JSON.stringify({type:`ftp start upload`,name:e.name,isLast:e.isLast}));this.heartbeat("send",(t=this.callbacks)===null||t===void 0?void 0:t.heartbeatCallback)}if(e.isTransfer&&this.loadws){this.loadws.send(JSON.stringify({type:"ftp upload transfer",name:e.name,data:Array.from(new Uint8Array(e.data))}));this.heartbeat("send",(i=this.callbacks)===null||i===void 0?void 0:i.heartbeatCallback)}if(e.isEnd&&this.loadws){this.loadws.send(JSON.stringify({type:"ftp end upload",name:e.name,isLast:e.isLast}));this.heartbeat("send",(n=this.callbacks)===null||n===void 0?void 0:n.heartbeatCallback)}if(e.isEnd&&e.isLast&&this.loadws){this.loadws.send(JSON.stringify({type:"upload stop prepare binary data",name:e.name,isLast:e.isLast}));this.heartbeat("send",(r=this.callbacks)===null||r===void 0?void 0:r.heartbeatCallback)}})}uploadProcess(e){return __awaiter(this,void 0,void 0,function*(){const n=(e,t)=>{const i=this.uploads.result;if(i.status==="successfully"){e(i)}else{t(i)}};return new Promise((t,i)=>{if(this.uploads.isReady){n(t,i)}Object.defineProperties(this.uploads,{isReady:{get:()=>{},set:e=>{n(t,i)}}})})})}executeProcess(l){return __awaiter(this,void 0,void 0,function*(){const e=this.dirCommonds.findIndex(e=>l.toUpperCase().startsWith(e))>-1;if(e){return this.changeDirectory(l,l)}return new Promise((s,o)=>__awaiter(this,void 0,void 0,function*(){const e=this.invalidComm.findIndex(e=>l.toUpperCase().startsWith(e))>-1;if(e){o({status:"failed",err:{code:400,message:"Invalid command for bzw ftp."}});return}let t=yield this.request(l);t.list=null;if(t.code>=400){o({status:"failed",err:t})}else{const i=this.listComm.findIndex(e=>l.toUpperCase().startsWith(e))>-1;const n=this.refreshComm.findIndex(e=>l.toUpperCase().startsWith(e))>-1;let e="LIST";if(i){t.list=t.data;e=l}else if(n){const r=yield this.request(e);t.list=r.data}if(l.toLowerCase().startsWith("user ")&&t.message.indexOf("Password required")>-1){this.username=l.split(" ")[1];this.password=this.hostInfo.password;this.loginStatus="password";this.loginProcess(true);return}s({status:"successfully",message:t})}}))})}changeDirectory(s,o,l=false){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,r)=>__awaiter(this,void 0,void 0,function*(){let e;if(s){if(this.hostInfo.sessionType=="SFTP"){o=o||`CWD ${s}`;e=yield this.request(o);if(e.code<400){const t=yield this.request("LIST");t.upDir=true;t.dir=e.message;this.logMessage("parse the list...",this.LOG_STATUS_MSG);if(!l){e.upDir=true;e.list=t.data;e.dir=e.message;e.warning=false}else{t.sys=this.syst.message;this.callbacks.ftpClientRender(t)}if(t.code>=400){e.err=t}n({status:"successfully",message:e})}else{r({status:"failed",err:e})}}else{o=o||`CWD ${s}`;e=yield this.request(o);const i=yield this.request("PWD");if(e.code<400){if(i.code<400){const t=yield this.request("LIST");t.upDir=true;t.dir=i.message;this.logMessage("parse the list...",this.LOG_STATUS_MSG);if(!l){e.upDir=true;e.list=t.data;e.dir=i.message;e.warning=false}else{t.sys=this.syst.message;this.callbacks.ftpClientRender(t)}if(t.code>=400){e.err=t}n({status:"successfully",message:e})}else{r({status:"failed",err:e})}}else{r({status:"failed",err:e})}}}}))})}addDirectory(r){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){if(r){let e="MKD "+r;let t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t})}else{i({status:"successfully",message:t})}}}))})}renameProcess(r,s){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){if(r&&s){if(this.hostInfo.sessionType=="SFTP"){let e='RENAME "'+r+'" '+s;let t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t})}else{i({status:"successfully",message:t})}}else{let e="RNFR "+r;let t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t})}else{e="RNTO "+s;t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t})}else{i({status:"successfully",message:t})}}}}}))})}permissionProcess(s){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,r)=>__awaiter(this,void 0,void 0,function*(){const e=this.hostInfo.sessionType=="SFTP"?"CHMOD":"SITE CHMOD";const t=`${e} ${s.permission} ${s.name}`;const i=yield this.request(t);if(i.code>=400){r({status:"failed",name:s.name,err:i})}else{n({status:"successfully",name:s.name,message:i})}}))})}changePermissions(r,s){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){if(r){if(this.hostInfo.sessionType=="SFTP"){let e="CHMOD "+r+" "+s;let t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t})}else{i({status:"successfully",message:t})}}else{let e="SITE CHMOD "+s+" "+r;let t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t})}else{i({status:"successfully",message:t})}}}}))})}deleteProcess(r){return __awaiter(this,void 0,void 0,function*(){if(r.type==="folder"){return this.deleteFolderProcess(r)}return new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){if(r){let e=`${r.type==="folder"?"RMD":"DELE"} `+r.name;let t=yield this.request(e);if(t.code>=400){n({status:"failed",err:t,name:r.name})}else{i({status:"successfully",message:t,name:r.name})}}}))})}deleteFolderProcess(r){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,n)=>__awaiter(this,void 0,void 0,function*(){if(!r){n({status:"failed",err:{message:"file do not exist"},name:""});return}let e=`RMD `+r.name;let t=yield this.request(e);if(t.message.indexOf("550 Access is denied")>-1||t.message.startsWith("550 Unable to delete")&&t.message.endsWith("(Error code: 0210, Reason Code: 0000, S99ERSN code X'00000000').")){n({status:"failed",err:t,name:r.name});return}if(t.code>=400){this.deleteFolder(r.name,i,n,r)}else{i({status:"successfully",message:t,name:r.name})}}))})}resetDir(e){return __awaiter(this,void 0,void 0,function*(){yield this.request(`CWD ${e.dir}`)})}deleteFolder(l,i,a,c){return __awaiter(this,void 0,void 0,function*(){const r={code:550,message:"550 Remove directory operation failed.",t:"COMM"};if(l===""){yield this.resetDir(c);a({status:"failed",err:r,name:c.name});return}const s=yield this.request(`CWD ${l}`);const e=yield this.request("LIST");if(s.code>=400||(e.data||[]).length===0){yield this.resetDir(c);a({status:"failed",err:r,name:l})}else{const o=Object.keys(e.data[0])[0];const t=i=>{if(i[o].length===0){return new Promise((e,t)=>__awaiter(this,void 0,void 0,function*(){e({status:"Ignore",message:s,name:i[o]})}))}let n=`${i.type==="folder"?"RMD":"DELE"} `+i[o];return new Promise((t,e)=>__awaiter(this,void 0,void 0,function*(){let e=yield this.request(n);if(e.message.indexOf("550 Access is denied")>-1){yield this.resetDir(c);r.message=e.message;a({status:"failed",err:r,name:l})}if(e.code>=400){this.deleteFolder(i[o],t,a,c)}else{t({status:"successfully",message:s,name:i[o]})}}))};this.processMulti(e.data,t,a).then(e=>__awaiter(this,void 0,void 0,function*(){yield this.request("CDUP");let e=`RMD `+l;let t=yield this.request(e);if(t.code<400){i({status:"successfully",message:t,name:l})}else{yield this.resetDir(c);a({status:"failed",err:r,name:c.name})}})).catch(e=>__awaiter(this,void 0,void 0,function*(){yield this.resetDir(c);a({status:"failed",err:r,name:c.name})}))}})}processMulti(r,s,o){const l=[];const a=e=>{if(e!=null){l.push(e)}};const c=(e,t,i)=>{s(e).then(e=>{a(e);t({result:l})}).catch(e=>{a(e);i({result:l})})};return new Promise((i,n)=>{let e=Promise.resolve();r.forEach(t=>{return e=e.then(e=>{a(e);if(l.length===r.length-1){c(t,i,n)}else{return s(t)}}).catch(e=>{n(e);o({code:550,message:e.message,t:"COMM"});return false})})})}refreshProcess(){return __awaiter(this,void 0,void 0,function*(){return new Promise((t,i)=>__awaiter(this,void 0,void 0,function*(){var e=yield this.request("LIST");if(e.code>=400){i({status:"failed",err:e})}else{t({status:"successfully",message:e})}}))})}getDirectory(){return __awaiter(this,void 0,void 0,function*(){return new Promise((t,i)=>__awaiter(this,void 0,void 0,function*(){var e=yield this.request("PWD");if(e.code>=400){i({status:"failed",err:e})}else{t({status:"successfully",message:e})}}))})}relogin(e,t){return __awaiter(this,void 0,void 0,function*(){if(this.loginStatus==="username"){this.username=(e||"").trim()}else if(this.loginStatus==="password"){this.password=t}if(this.hostInfo.sessionType=="SFTP"){if(this.loginStatus==="username"){this.hostInfo.username=this.username}else if(this.loginStatus==="password"){this.hostInfo.password=this.password}this.connect(this.url,this.hostInfo,this.connData)}else{this.loginProcess(true)}})}translateCode(e){const t=typeof e==="number"&&(e===1e3||e>=3e3&&e<5e3);return FTP_WS_CODE_MAP.get(e)||(t?e:1e3)}close(i={code:1e3,info:"user cancel login"}){return __awaiter(this,void 0,void 0,function*(){debounceFTP(()=>__awaiter(this,void 0,void 0,function*(){this.loginStatus="none";const{code:e,info:t}=i;if(this.isWsAlive(this.ws)){if(this.hostInfo.sessionType!="SFTP"&&e!=10054){yield this.request("QUIT")}this.ws.close(this.translateCode(e),t)}if(this.isWsAlive(this.loadws)){this.loadws.close(this.translateCode(e),t)}}),100)})}request(e,t={}){return this.handle(e,(e,t)=>{if(e instanceof Error){t.reject(e)}else{t.resolve(e)}},t)}logCommand(e){let t=e.startsWith("PASS ")?"PASS <Hidden>":e;this.logMessage(t,this.LOG_CLIENT_MSG)}handle(o,l,a={}){let c=this;return new Promise((t,i)=>{var e;c.logCommand(o);const n=(new Error).stack||"Unknown call stack";const r={resolve:(...e)=>{t.apply(null,e)},reject:e=>{i(e)}};c._task={stack:n,resolver:r,responseHandler:l};let s;if(o.toUpperCase().substring(0,4)=="LIST"){s="LIST"}else if(o=="DOWNLOAD"){s="DOWNLOAD"}else if(o=="UPLOAD"){s="UPLOAD"}else{s="COMM"}if(o.length>0){if(c.isWsAlive(c.ws)){c.ws.send(JSON.stringify({t:s,cmd:o,option:a}));this.heartbeat("send",(e=this.callbacks)===null||e===void 0?void 0:e.heartbeatCallback)}else{if(o.toUpperCase().substring(0,4)!="PASS")this.logWarn(`Command ${o} not executed. Websocket is not alive.`)}}})}passToCOMMHandler(e){if(this._task){this._task.responseHandler(e,this._task.resolver)}}passToCONNHandler(e){return __awaiter(this,void 0,void 0,function*(){if(this.hostInfo.sessionType=="FTPES"){let e=yield this.AuthTLS();if(e.code<400)console.log("TLS encrypted");else{this.handleWebsocketCloseInner(e.code,"Explicit TLS failed: "+e.message,"Explicit TLS failed: "+e.message);return}return}if(!this.accepts.accept)return;this.loginProcess()})}passToListHandler(e){if(this._task){this._task.responseHandler(e,this._task.resolver)}}passToErrHandler(e){if(this._task){this._task.responseHandler(e,this._task.resolver)}}passToDownHandler(e){if(this._task){this._task.responseHandler(e,this._task.resolver)}}passToUPHandler(t){return __awaiter(this,void 0,void 0,function*(){if(t.isLast&&t.status==="successfully"){const e=yield this.request("LIST");t.message.list=e.data}this.uploads.result=t;this.uploads.isReady=true})}processSYST(i){if(i.code==215){this.ftpserverType=4;let e;e=i.message.substring(4);e=e.trim();let t=e.indexOf(" ");if(t>-1){e=e.substring(0,t)}if(equalsIgnoringCase(e,"OS/400")||equalsIgnoringCase(e,"z/400"))this.ftpserverType=0;else if(equalsIgnoringCase(e,"UNIX"))this.ftpserverType=4;else if(equalsIgnoringCase(e,"Windows_NT"))this.ftpserverType=5;else if(equalsIgnoringCase(e,"Windows2000"))this.ftpserverType=5;else if(equalsIgnoringCase(e,"MVS")||equalsIgnoringCase(e,"OS/MVS")||equalsIgnoringCase(e,"z/MVS"))this.ftpserverType=1;else if(equalsIgnoringCase(e,"VM")||equalsIgnoringCase(e,"OS/VM")||equalsIgnoringCase(e,"z/VM"))this.ftpserverType=2;else if(equalsIgnoringCase(e,"VSE")||equalsIgnoringCase(e,"OS/VSE")||equalsIgnoringCase(e,"z/VSE"))this.ftpserverType=3;else if(equalsIgnoringCase(e,"VMS")||equalsIgnoringCase(e,"OS/VMS")||equalsIgnoringCase(e,"z/VMS"))this.ftpserverType=7;else if(equalsIgnoringCase(e,"NETWARE"))this.ftpserverType=8;else if(equalsIgnoringCase(e,"VOS"))this.ftpserverType=9;else if(equalsIgnoringCase(e,"Nonstop"))this.ftpserverType=10;this.logMessage("FTP Server Type: "+this.ftpserverType,this.LOG_STATUS_MSG)}}processFEAT(e){if(e.code==211){let t=e.message.split("\n").map(function(e){return e.trim()});for(let e=0;e<t.length;e++){if(equalsIgnoringCase(t[e],"AUTH"))this.bAUTH=true;else if(equalsIgnoringCase(t[e],"CCC"))this.bCCC=true;else if(equalsIgnoringCase(t[e],"EPRT"))this.bEPRT=true;else if(equalsIgnoringCase(t[e],"EPSV"))this.bEPSV=true;else if(equalsIgnoringCase(t[e],"HOST"))this.bHOST=true;else if(equalsIgnoringCase(t[e],"LANG"))this.bLANG=true;else if(equalsIgnoringCase(t[e],"MDTM"))this.bMDTM=true;else if(equalsIgnoringCase(t[e],"MLST")){this.bMLST=true;this.bMLSD=true}else if(equalsIgnoringCase(t[e],"MLSD"))this.bMLSD=true;else if(equalsIgnoringCase(t[e],"PASV"))this.bPASV=true;else if(equalsIgnoringCase(t[e],"PBSZ"))this.bPBSZ=true;else if(equalsIgnoringCase(t[e],"PROT"))this.bPROT=true;else if(equalsIgnoringCase(t[e],"REST"))this.bREST=true;else if(equalsIgnoringCase(t[e],"SIZE"))this.bSIZE=true;else if(equalsIgnoringCase(t[e],"TVFS"))this.bTVFS=true;else if(equalsIgnoringCase(t[e],"UTF8"))this.bUTF8=true}if(this.bAUTH)this.logMessage("Server accepts: Auth",this.LOG_STATUS_MSG);if(this.bCCC)this.logMessage("Server accepts: CCC",this.LOG_STATUS_MSG);if(this.bEPRT)this.logMessage("Server accepts: EPRT",this.LOG_STATUS_MSG);if(this.bEPSV)this.logMessage("Server accepts: EPSV",this.LOG_STATUS_MSG);if(this.bHOST)this.logMessage("Server accepts: HOST",this.LOG_STATUS_MSG);if(this.bLANG)this.logMessage("Server accepts: LANG",this.LOG_STATUS_MSG);if(this.bMDTM)this.logMessage("Server accepts: MDTM",this.LOG_STATUS_MSG);if(this.bMLST)this.logMessage("Server accepts: MLST",this.LOG_STATUS_MSG);if(this.bMLSD)this.logMessage("Server accepts: MLSD",this.LOG_STATUS_MSG);if(this.bPASV)this.logMessage("Server accepts: PASV",this.LOG_STATUS_MSG);if(this.bPBSZ)this.logMessage("Server accepts: PBSZ",this.LOG_STATUS_MSG);if(this.bPROT)this.logMessage("Server accepts: PROT",this.LOG_STATUS_MSG);if(this.bREST)this.logMessage("Server accepts: REST",this.LOG_STATUS_MSG);if(this.bSIZE)this.logMessage("Server accepts: SIZE",this.LOG_STATUS_MSG);if(this.bTVFS)this.logMessage("Server accepts: TVFS",this.LOG_STATUS_MSG);if(this.bUTF8)this.logMessage("Server accepts: UTF8",this.LOG_STATUS_MSG)}}processNAMEFMT(i){if(i.code==250){let e;e=i.message.substring(4);e=e.trim();let t=e.indexOf("1");if(t>-1){this.namefmt=1}else{this.namefmt=0}}}AuthTLS(){var i;return __awaiter(this,void 0,void 0,function*(){let e=this;let t={t:"EXPLICIT",certificateAction:this.hostInfo.certificateAction,alternatePrincipleName:this.hostInfo.alternatePrincipleName,tlsMinVersion:this.hostInfo.tlsMinVersion,tlsMaxVersion:this.hostInfo.tlsMaxVersion};e.ws.send(JSON.stringify(t));this.heartbeat("send",(i=this.callbacks)===null||i===void 0?void 0:i.heartbeatCallback);e.logDebug("Sent "+JSON.stringify(t));return yield this.request("")})}loginProcess(e=false){return __awaiter(this,void 0,void 0,function*(){this.logInfo("loginProcess");var i={};if(this.hostInfo.sessionType=="SFTP"){this.connectState=this.CONNECT_STATE_CONNECTED;this.syst={code:215,message:"215 UNIX",t:"COMM"};this.ftpserverType=4;let e=null,t=null;this.hostDir=yield this.request("PWD");if(this.initialDir){try{e=yield this.changeDirectory(this.initialDir,"",true)}catch(e){t=e.err;this.logWarn(e)}}if(!this.initialDir||!e){if(this.hostDir.code<400){this.lsCommandProcess(this.hostDir,this.syst,t)}else{this.config=Object.assign(this.config,{username:this.username,password:this.password});if(!this.username){this.loginStatus="username";this.callbacks.promptCallback(this);return}if(!this.password){this.logMessage("Add Prompt for password logic here!!!",this.LOG_ERROR_MSG);this.loginStatus="password";this.callbacks.promptCallback(this)}}}return}if(e&&this.loginStatus==="username"||!e){this.connectState=this.CONNECT_STATE_CONNECTED;if(!this.username){this.logMessage("Add Prompt for username logic here!!!",this.LOG_ERROR_MSG);this.loginStatus="username";this.callbacks.promptCallback(this);return}let e="USER "+this.username;i=yield this.request(e)}if(e&&this.loginStatus==="password"||i.code==331){while(this.isConnected()){if(!this.password){this.logMessage("Add Prompt for password logic here!!!",this.LOG_ERROR_MSG);this.loginStatus="password";this.callbacks.promptCallback(this);break}let e="PASS "+this.password;i=yield this.request(e);this.logMessage("code: "+i.code,this.LOG_STATUS_MSG);if(i.code!=230){this.password=null;let e="USER "+this.username;i=yield this.request(e)}else{break}}}if(i.code==230){this.loginStatus="success";this.logMessage("Logged in...",this.LOG_STATUS_MSG);i=yield this.request("SYST");this.syst=JSON.parse(JSON.stringify(i));this.processSYST(i);i=yield this.request("FEAT");this.processFEAT(i);if(this.hostInfo.sessionType=="FTPS"&&this.bPBSZ&&this.bPROT){i=yield this.request("PBSZ 0");i=yield this.request("PROT P")}if(!this.ftpserverType){i=yield this.request("SITE NAMEFMT");this.processNAMEFMT(i);if(this.namefmt)this.logInfo("namefmt is 1");else this.logInfo("namefmt is 0")}let e=null,t=null;if(this.initialDir){try{e=yield this.changeDirectory(this.initialDir,"",true)}catch(e){t=e.err;this.logError(e)}}if(!this.initialDir||!e){this.hostDir=yield this.request("PWD");if(this.hostDir.code<400){this.lsCommandProcess(this.hostDir,this.syst,t)}}}else if(!e&&i.code===530){setTimeout(()=>{this.callbacks.closeCallback()},1e3)}})}setTransferTypeSettings(e){this.transferMode=e.transferMode;this.logInfo("transferMode: "+this.transferMode);this.autoMode=e.autoMode;this.logInfo("autoMode: "+this.autoMode);this.autoExtList=e.exceptions;this.logInfo("autoExtList: "+this.autoExtList)}getTransferType(e){this.logInfo("Get transfer type for: "+e);if(this.transferMode!="auto"){this.logInfo("Transfer mode: "+this.transferMode);return this.transferMode}const t=e.indexOf(".")>-1?e.split(".").pop():"";this.logInfo("ext: "+t);const i=(this.autoExtList||[]).findIndex(e=>e.toLowerCase()===(t||"").toLowerCase());this.logInfo("index: "+i);if(i===-1){this.logInfo("Transfer mode: "+this.autoMode);return this.autoMode}else{if(this.autoMode=="ascii"){this.logInfo("Transfer mode: binary");return"binary"}else{this.logInfo("Transfer mode: ascii");return"ascii"}}}}((e,t)=>{window.createStreamSaver=t})("streamSaver",()=>{"use strict";let p=null;let f=false;const e=e=>{try{e()}catch(e){}};const t=window.WebStreamsPolyfill||{};const i=window.isSecureContext;let E=/constructor/i.test(window.HTMLElement)||!!window.safari||!!window.WebKitPoint;const T=i||"MozAppearance"in document.documentElement.style?"iframe":"navigate";const _={createWriteStream:r,WritableStream:window.WritableStream||t.WritableStream,supported:true,version:{full:"2.0.0",major:2,minor:0,dot:0},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function g(e){if(!e)throw new Error("meh");const t=document.createElement("iframe");t.hidden=true;t.sandbox="allow-same-origin allow-top-navigation allow-forms allow-scripts allow-downloads";t.src=e;t.loaded=false;t.name="iframe";t.isIframe=true;t.postMessage=(...e)=>t.contentWindow.postMessage(...e);t.addEventListener("load",()=>{t.loaded=true},{once:true});document.body.appendChild(t);window.addEventListener("message",e=>{if(e.source!==t.contentWindow){return}if(e.data==="STREAM_SAVER_SW_FAIL")window.STREAM_SAVER_useBlobFallback=true});return t}function n(e){const t="width=200,height=100";const i=document.createDocumentFragment();const n={frame:window.open(e,"popup",t),loaded:false,isIframe:false,isPopup:true,remove(){n.frame.close()},addEventListener(...e){i.addEventListener(...e)},dispatchEvent(...e){i.dispatchEvent(...e)},removeEventListener(...e){i.removeEventListener(...e)},postMessage(...e){n.frame.postMessage(...e)}};const r=e=>{if(e.source===n.frame){n.loaded=true;window.removeEventListener("message",r);n.dispatchEvent(new Event("load"))}};window.addEventListener("message",r);return n}try{new Response(new ReadableStream);if(i&&!("serviceWorker"in navigator)){E=true}if(window.STREAM_SAVER_useBlobFallback)E=true}catch(e){E=true}e(()=>{const{readable:e}=new TransformStream;const t=new MessageChannel;t.port1.postMessage(e,[e]);t.port1.close();t.port2.close();f=false;Object.defineProperty(_,"TransformStream",{configurable:false,writable:false,value:TransformStream})});function S(){if(!p){p=i?g(_.mitm):n(_.mitm)}}function r(i,e,t){let n={size:null,pathname:null,writableStrategy:undefined,readableStrategy:undefined};let r=0;let s=null;let o=null;let l=null;if(Number.isFinite(e)){[t,e]=[e,t];console.warn("[StreamSaver] Depricated pass an object as 2nd argument when creating a write stream");n.size=t;n.writableStrategy=e}else if(e&&e.highWaterMark){console.warn("[StreamSaver] Depricated pass an object as 2nd argument when creating a write stream");n.size=t;n.writableStrategy=e}else{n=e||{}}if(!E&&!window.STREAM_SAVER_useBlobFallback){S();o=new MessageChannel;i=encodeURIComponent(i.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const c={transferringReadable:f,pathname:n.pathname||Math.random().toString().slice(-6)+"/"+i,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+i}};if(n.size){c.headers["Content-Length"]=n.size}const u=[c,"*",[o.port2]];if(f){const h=T==="iframe"?undefined:{transform(e,t){r+=e.length;t.enqueue(e);if(s){location.href=s;s=null}},flush(){if(s){location.href=s}}};l=new _.TransformStream(h,n.writableStrategy,n.readableStrategy);const d=l.readable;o.port1.postMessage({readableStream:d},[d])}o.port1.onmessage=e=>{if(e.data.download){if(T==="navigate"){p.remove();p=null;if(r){location.href=e.data.download}else{s=e.data.download}}else{if(p.isPopup){p.remove();p=null;if(T==="iframe"){g(_.mitm)}}g(e.data.download)}}};if(p.loaded){p.postMessage(...u)}else{p.addEventListener("load",()=>{p.postMessage(...u)},{once:true})}}let a=[];return!E&&l&&l.writable||new _.WritableStream({write(e){if(E||window.STREAM_SAVER_useBlobFallback){a.push(e);return}o.port1.postMessage(e);r+=e.length;if(s){location.href=s;s=null}},close(){if(E||window.STREAM_SAVER_useBlobFallback){const e=new Blob(a,{type:"application/octet-stream; charset=utf-8"});const t=document.createElement("a");t.href=URL.createObjectURL(e);t.download=i;t.click()}else{o.port1.postMessage("end")}},abort(){a=[];if(E||window.STREAM_SAVER_useBlobFallback)return;o.port1.postMessage("abort");o.port1.onmessage=null;o.port1.close();o.port2.close();o=null}},n.writableStrategy)}return _});const BROWSERS_SUPPORT_STREAM_SAVER=["Chrome","Edge"];class Downloader{constructor(){this.checkEnv()}setBZWDomain(e){if(e){this.domain=e.trim();this.streamSaver.mitm=this.domain+"/ZLUX/plugins/com.rs.bzshared/web/assets/StreamSaver/mitm.html"}}setEnv(e){window.STREAM_SAVER_useBlobFallback=e;if(window.createStreamSaver){this.streamSaver=window["streamSaver"]=window.createStreamSaver()}else{throw"StreamSaver not found"}if(location.href.indexOf("/ZLUX/plugins/")>0){this.setBZWDomain(location.href.substr(0,location.href.indexOf("/ZLUX/plugins/")))}else{tecoreLogger.warn("terminal.js is not loaded inside BZW UI context.");if(this.streamSaver.mitm.startsWith("https://jimmywarting.github.io")){tecoreLogger.warn("Using default domain for StreamSaver. This requires internet access to https://jimmywarting.github.io");tecoreLogger.warn("To avoid potentual security issues, suggest changing to the domain of BZW with: downloader.setBZWDomain('https://BZW_SERVER_DOMAIN:PORT')")}}}getBrowser(){tecoreLogger.info("User agent: "+navigator.userAgent);if((navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!=-1){return"Opera"}else if(navigator.userAgent.indexOf("Edg")!=-1){return"Edge"}else if(navigator.userAgent.indexOf("Chrome")!=-1){return"Chrome"}else if(navigator.userAgent.indexOf("Safari")!=-1){return"Safari"}else if(navigator.userAgent.indexOf("Firefox")!=-1){return"Firefox"}else if(navigator.userAgent.indexOf("MSIE")!=-1||!!document.documentMode==true){return"IE"}else{return"unknown"}}checkEnv(){if(t===undefined){var t={info:console.log,warn:console.warn,error:console.error}}if(!(window.WebStreamsPolyfill||window.WritableStream)){throw Error("WritableStream is not supported by this web browser. Please make sure WebStreamsPolyfill is loaded")}const e=this.getBrowser();if(e!=="Chrome"&&e!=="Firefox"&&e!=="Edge"){t.warn("This product is only tested on Chrome, Firefox and Edge. ")}if(!BROWSERS_SUPPORT_STREAM_SAVER.includes(e)){t.info("Using BLOB as downloading solution");this.setEnv(true);return}t.info("Testing server security status for downloading solution");if(navigator.serviceWorker){navigator.serviceWorker.register("../../com.rs.bzshared/web/assets/StreamSaver/httpsTest.js",{scope:"../../com.rs.bzshared/web/assets/StreamSaver/"}).then(e=>{e.unregister();t.info("Server is working in secure domain, downloading solution is stream saver");this.setEnv()}).catch(e=>{if(e==="StreamSaver not found")throw e;t.warn("Server is not running in secure domain, downloading solution is BLOB");this.setEnv(true)})}else{t.warn("Server is not running in secure domain, downloading solution is BLOB");this.setEnv(true)}}getStreamWriter(e,t){const i=this.streamSaver.createWriteStream(e,{size:t});const n=i.getWriter();window.onunload=()=>n.abort();return n}downloadStream(e,t,i){const n=this.streamSaver.createWriteStream(t,{size:i});window.onunload=()=>n.getWriter().abort();e.pipeTo(n).then(e=>{tecoreLogger.log(`File ${t} downloaded.`)},e=>{tecoreLogger.error(`Failed downloading file ${t}. Reason: `+e)})}}var downloader=window.downloader=new Downloader;if(typeof module!=="undefined"){module.exports={Downloader:Downloader}}class Tracer{constructor(){this._contents=new Map;this._isRecording=false;this._CHAR_ENTER="\r\n";this._CHAR_APC=String.fromCharCode(159);this._txtEncoder=new TextEncoder;this._downloader=window.downloader}trigger(){this._contents=new Map;this._isRecording=true}pause(){this._isRecording=false}reset(){this._contents=new Map;this._isRecording=false}logReceivedData(e,t){if(!this._isRecording)return;this._pushEvent("Socket Data Received",t);this._hexDump(e,t)}logSentData(e,t){if(!this._isRecording)return;this._pushEvent("Socket Data Sent",t);this._hexDump(e,t)}download(){this.pause();this._contents.forEach((e,t)=>{e.push(this._getTraceFooter());this._download(e,t)});this.reset()}_download(e,t){const i=this._downloader.getStreamWriter(`bzw_${t}_${this._getNow().fullTime}.trc`);e.forEach(e=>{i.write(this._txtEncoder.encode(e))});i.ready.then(()=>{i.close()})}_getNow(){const e=new Date;const t=e.getFullYear();const i=(e.getMonth()+1).toString().padStart(2,"0");const n=e.getDate().toString().padStart(2,"0");const r=e.getHours().toString().padStart(2,"0");const s=e.getMinutes().toString().padStart(2,"0");const o=e.getSeconds().toString().padStart(2,"0");const l=e.getMilliseconds().toString().padStart(3,"0");const a=`${r}:${s}:${o}.${l}`;return{fullTime:`${t}${i}${n}-${r}${s}${o}-${l}`,time:a,date:`${i}/${n}/${t}`}}_getAscChar(e,t,i,n){if(e>=32&&e<=126){if(t&&t.isVt&&i.length>0){var r=i[n];if(r&&r.maskChar!=null){e=r.maskChar}}return String.fromCharCode(e)}else{return"."}}_getEbcdicChar(e,t,i,n){if(e<64)return".";if(t&&t.renderer&&t.renderer.unicodeConversionTable){if(i.length>0){var r=i[n];if(r&&r.maskChar!=null){e=r.maskChar}}return String.fromCharCode(t.renderer.unicodeConversionTable[e])}return this._getAscChar(e,t,i,n)}_getScreenId(e){return e.rendererSettings&&e.rendererSettings.sessionProperties?e.rendererSettings.sessionProperties.name+"_"+e.sessionShortName:"session_"+e.sessionShortName}_getTraceHeader(e){const t=this._getNow();let i=`${this._CHAR_ENTER}BlueZone Web    Trace Started ${t.date} at ${t.time}${this._CHAR_ENTER}`;if(e&&e.rendererSettings&&e.rendererSettings.sessionProperties){const n=e.rendererSettings.sessionProperties;const r=n.is3270Session?"3270":n.is5250Session?"5250":"VT";i+=`${this._CHAR_ENTER}Host name: ${n.TCPHost}`;i+=`${this._CHAR_ENTER}Port: ${n.TCPPort}`;i+=`${this._CHAR_ENTER}Terminal Type: ${r}`;i+=`${this._CHAR_ENTER}Session Type: ${n.sessionAliasType}${this._CHAR_ENTER}`}return i}_getTraceContent(e){const t=this._getScreenId(e);if(!this._contents.has(t)){this._contents.set(t,[this._getTraceHeader(e)])}return this._contents.get(t)}_getTraceFooter(){const e=this._getNow();return`${this._CHAR_ENTER}Trace Ended ${e.date} at ${e.time}${this._CHAR_ENTER}`}_pushData(e,t){const i=this._getTraceContent(t);i.push(e+this._CHAR_ENTER)}_pushEvent(e,t){const i=this._getNow().time;const n=this._getTraceContent(t);n.push(`${this._CHAR_ENTER}Time:  ${i}    Event:  ${e}${this._CHAR_ENTER}${this._CHAR_ENTER}`)}_hex(t){if(t||t===0){const e=t.toString(16);return(e.length>1?e:"0"+e).toUpperCase()}else{return"00"}}_hexDump(t,i){let n="";let r="";let s="";let o=0;let l=o;var a=new Array;if(i.rendererSettings&&i.rendererSettings.dataSecurity){if(i.rendererSettings.dataSecurity.globalApply){var e="";for(var c=0;c<t.length;c++){var u=t[c];if(i.isVt){e=e+String.fromCharCode(u)}else{if(u<64){e=e+"."}else{e=e+String.fromCharCode(i.renderer.unicodeConversionTable[u])}}var h={index:c};a.push(h)}e=e.replaceAll(/[\u00e2][/\u0030-\u0039/]/g,"..");i.matchRules(e,a,0)}}for(let e=0;e<t.length;e++){const d=this._hex(t[e]);n+=d;n+=" ";r+=this._getAscChar(parseInt(d,16),i,a,e);s+=this._getEbcdicChar(parseInt(d,16),i,a,e);if(e%16==15){this._pushData(l.toString(16).padStart(4,"0")+"  "+n+` '${r}'  '${s}'`,i);n="";r="";s="";l=o+1}o++}if(n.length>0){this._pushData(l.toString(16).padStart(4,"0")+"  "+n+` '${r}'  '${s}'`,i)}}}if(typeof module!=="undefined"){module.exports={Tracer:Tracer}}var tracer=new Tracer;var oPolicies=null;var oFactors=null;var lastActiveElement=null;var initialDologinFactor=null;var selectedPolicyName="";var pcimode=0;var nmiresponse=null;var defaultApiVersion=2;var error_policyauth_rc_48="This User ID is unable to authenticate via the specified policy.";var error_policyauth_rc_44="Invalid credentials specified for the User ID.";var error_policyauth_rc_40_rsn_0="Invalid User ID";var error_policyauth_rc_40_rsn_1="No policy is connected to the User ID.";var error_policyauth_rc_40_rsn_2="An invalid factor set is connected to the specified policy.";var error_policyauth_rc_40_rsn_5="The policy is not connected to the User ID.";var error_policyprompt_rc_40_rsn_2="The policy exists but is not connected to any factors.";var error_policyprompt_rc_40_rsn_5="The specified policy does not exist.";var error_policyprompt_rc_48_rsn_5="There was an error generating a prompt for the specified policy.";window.MFA={Options:{policyBasedAuth:false,newLoginURL:"",isNewLogin:false,isBookmarked:false,bzhao:null},Init:function(){MFA.createBzwOverlay();var e="mfaCss";if(!document.getElementById(e)){var t=document.getElementsByTagName("head")[0];var i=document.createElement("link");i.id=e;i.rel="stylesheet";i.type="text/css";i.href="/ZLUX/plugins/com.rs.bzw/web/lib/js/mfa.css";t.appendChild(i)}this.mfaElements=[];var n=document.getElementById("bzwMFA");if(n)return;let r=document.createElement("FORM");var n=r;r.name="loginForm";r.id="bzwMFA";r.method="POST";r.style.display="block";r.style.zIndex="1500";r.style.width="100%";r.style.height="100%";r.style.overflow="auto";r.style.position="fixed";this.mfaElements[0]=r;document.body.appendChild(r);r=document.createElement("div");r.id="id_banner";r.className="banner";r.style.display="none";this.mfaElements[1]=r;this.mfaElements[0].appendChild(r);r=document.createElement("div");r.className="banner_right";this.mfaElements[2]=r;this.mfaElements[1].appendChild(r);r=document.createElement("div");r.className="banner_logo";this.mfaElements[3]=r;this.mfaElements[2].appendChild(r);r=document.createElement("img");r.src=MFA.serverURL+"/images/ibm-logo.png";r.alt="IBM LOGO";r.setAttribute("aria-label","IBM LOGO");this.mfaElements[4]=r;this.mfaElements[3].appendChild(r);r=document.createElement("div");r.className="banner_left";this.mfaElements[5]=r;this.mfaElements[1].appendChild(r);r=document.createElement("span");r.className="banner_left_style";r.id="title";this.mfaElements[6]=r;this.mfaElements[5].appendChild(r);r=document.createElement("div");r.id="dynContainer";this.mfaElements[7]=r;this.mfaElements[0].appendChild(r);r=document.createElement("div");r.id="id_footer";r.className="footer";r.style.display="none";this.mfaElements[8]=r;this.mfaElements[0].appendChild(r);r=document.createElement("p");r.id="id_footer_content";r.innerHTML="IBM* Rocket** Licensed Materials-Property of IBM 5655-MA1";this.mfaElements[9]=r;this.mfaElements[8].appendChild(r);r=document.createElement("p");r.innerHTML="Copyright IBM Corp. 2016, 2020 All Rights Reserved.  Copyright Rocket Software Inc. or its affiliates 2016, 2020 All Rights Reserved.";this.mfaElements[10]=r;this.mfaElements[8].appendChild(r);r=document.createElement("p");r.innerHTML="Trademark of International Business Machines  **Trademark of RocketSoftware, Inc.";this.mfaElements[11]=r;this.mfaElements[8].appendChild(r);n.onkeyup=function(e){if(e.keyCode==13){e.preventDefault();COMMON.resetScroll();MFA.FactorPCIAuthentication(selectedPolicyName,"POST")}else if(e.keyCode==27){e.preventDefault();MFA.RemoveMFAForm(n,true)}};sessionStorage.setItem("dopost","false");var s=new MFA.Request("/i18n/translate.json",null,0);MFA.MakeRequest(s)},createBzwOverlay:function(){let e=document.getElementById("bzwOverlay");if(e)return;let t=document.createElement("div");t.name="bzwOverlay";t.id="bzwOverlay";t.className="bzw_mfa_overlay";document.body.appendChild(t)},removeBzwOverlay:function(){const e=document.getElementById("bzwOverlay");if(!e)return;e.style.display="none";document.body.removeChild(e)},doPostInit:function(){if(!MFA.userPolicyName||MFA.Options.alwaysShowPolicyNameUI){selectedPolicyName=null;MFA.CreateStaticLoginPage();MFA.PolicyAuth()}else{selectedPolicyName=MFA.userPolicyName;window.setTimeout(function(){MFA.CreateStaticLoginPage();MFA.MakeBookMarkedPolicy(selectedPolicyName)},0)}},translateStaticHTMLText:function(){COMMON.translateTextForElement("title",["Multi-Factor_title"])},MakeRequest:function(t,n){var e=null;if(MFA.IsWaitingForRequestDone())return;try{oSendingJSON=JSON.parse(t.data)}catch(e){var i=COMMON.doTranslate("Invalid local JSON object constructed")+": \n\n"+e+" \n\n JSON = \n"+t.data;COMMON.ShowMessage(i,"E");return}COMMON.RemoveMessage();var r=new XMLHttpRequest;r.withCredentials=true;r.onreadystatechange=function(){if(this.readyState==4){COMMON.RemoveSpin();if(this.status==200){var e=r.getResponseHeader("content-type")||"";if(e.indexOf("html")>-1){COMMON.ShowMessage(COMMON.doTranslate("The server response was invalid"),"E")}else if(e.indexOf("json")>-1){if(n){n(this.responseText)}}else if(e.indexOf("text")>-1){COMMON.GetTranslation(this.responseText,function(e){if(e){MFA.translateStaticHTMLText();MFA.doPostInit()}})}}else{let e,t;if(this.status==403){e="A secure connection to the server does not exist"+this.status;t=COMMON.doTranslate("HTTP Request Status:")+this.status+" "+COMMON.doTranslate("A secure connection to the server does not exist.")}else{e="Unexpected HTTP resp status from /submitURL:"+this.status;t=COMMON.doTranslate("HTTP Request Status:")+this.status+" "+COMMON.doTranslate("Failed to retrieve a required object from the server.")}console.log(e);COMMON.ShowMessage(t,"E");COMMON.resetFieldsAfterError();var i=document.getElementById("bzwMFA");if(i){i.style.display="none";MFA.RemoveMFAForm(i,true)}else{MFA.removeBzwOverlay()}alert(t+" "+COMMON.doTranslate("If the problem persists, please contact your MFA administrator."));return null}}};if(typeof MFA.TestMFA==="function"){if(!t.url.startsWith("http")){t.url=serverAddress+t.url}}let s;sessionStorage.setItem("requestURL",t.url);try{if(t.action&&t.action==1){r.open("POST",t.url,true);if(t.data){r.send(t.data)}else{r.send()}}else{if(oSendingJSON&&oSendingJSON.policyName&&oSendingJSON.policyName.length>0){var o;console.log("oSendingJSON: "+oSendingJSON);if(oSendingJSON.policyName.match(/%[0-9a-f]{2}/i)===null){o=decodeURI(COMMON.NormalizeJSONString(oSendingJSON.policyName)).trim().toUpperCase();console.log("policyName1: "+o)}else{o=oSendingJSON.policyName.trim().toUpperCase();console.log("policyName2: "+o)}selectedPolicyName=o;o=encodeURIComponent(o);r.open("GET",t.url+"/"+o,true)}else{r.open("GET",t.url,true)}r.send()}}catch(e){s='Error "'+e+'" when opening request to '+t.url+".";console.log(s);COMMON.ShowMessage(s,"E");COMMON.resetFieldsAfterError();var l=document.getElementById("bzwMFA");if(l){l.style.display="none";MFA.RemoveMFAForm(l,true)}else{MFA.removeBzwOverlay()}alert(s+" "+COMMON.doTranslate("If the problem persists, please contact your MFA administrator."));return}},Request:function(e,t,i){if(e.indexOf("/")==0)this.url=MFA.serverURL+e;else this.url=e;this.data=t;this.action=i},LoginSatus:function(){var e,t,i,n;i=null;t="/OOB/status";n=1;MFA.authtoken=null;oFactors=null;e=new MFA.Request(t,i,n);MFA.MakeRequest(e,MFA.Factors)},PolicyAuth:function(){var e={type:"prompt",mode:1,heading:"",subheading:COMMON.doTranslate("title_text"),output:[{outputType:2,prompt:{promptType:"Interactive",promptHeading:"",promptFields:[{fieldLabel:COMMON.doTranslate("Policy Name"),fieldType:"textField",fieldName:"userid",maxLength:24}]}}]};for(var t=0;t<e.output.length;t++){output=e.output[t];if(output.outputType==2&&output.prompt){MFA.CreateLoginPage(output.prompt)}sessionStorage.setItem("reloaded","false")}},MakeBookMarkedPolicy:function(e){var t,i,n,r;if(typeof MFA.TestMFA==="function"){i="/OOB/policyPrompt"}else i="/policyPrompt";n='{"policyName":"'+e.trim()+'"}';r=0;MFA.authtoken=null;oFactors=null;MFA.Options.isBookmarked=true;t=new MFA.Request(i,n,r);MFA.MakeRequest(t,MFA.Factors)},IsPolicyAuth:function(){var e,t,i,n;var r=document.getElementById("id_username").value.trim();var s=document.getElementById("id_password").value;var o=false;var l=document.getElementById("id_newpassword");var a=document.getElementById("id_confirmnewpassword");var c=document.getElementById("id_login_table").rows["id_newpassword_tr"];if(c.style.display=="table-row"){o=true;if(a.value&&l.value){if(a.value!=l.value){COMMON.ShowMessage(COMMON.doTranslate("The new password and its confirmation field do not match"),"E");return}}else{COMMON.ShowMessage(COMMON.doTranslate("You must input the new password, and enter the same new password to confirm it"),"E");return}}if(MFA.Options.policyBasedAuth&&r)r=r.toUpperCase();n='{"policyName":"'+decodeURI(COMMON.NormalizeJSONString(r))+'"}';if(n){if(typeof MFA.TestMFA==="function"){t="/OOB/policyPrompt"}else t="/policyPrompt";i=0;MFA.Options.isNewLogin=true;if(MFA.Options.isBookmarked){MFA.Options.isBookmarked=false;if(location&&location.pathname){var u=location.pathname.split("/");if(u&&u.length>1){MFA.Options.newLoginURL=location.origin+"/"+u[1]}}}else{MFA.Options.newLoginURL=window.location.href}e=new MFA.Request(t,n,i);MFA.MakeRequest(e,MFA.Factors)}else{COMMON.resetFieldsAfterError();COMMON.ShowMessage(COMMON.doTranslate("The User ID or password are invalid"),"E")}},IspfLogin:function(){return MFA.IsPolicyAuth()},IspfLogout:function(){var e,t,i,n;i=null;t="/OOB/logout";n=1;oPolicies=null;oFactors=null;MFA.authToken=null;initialDologinFactor=null;COMMON.RemoveSpin();MFA.RemoveTokenOverlay();MFA.RemoveOverlay();MFA.Logout().hide();e=new MFA.Request(t,i,n);if(!MFA.Options.policyBasedAuth){MFA.MakeRequest(e,MFA.Factors)}else{MFA.MakeRequest(e,null)}},FactorAuthentication:function(e,t,i,n){var r,s,o,l;var e=e.trim();var t=t.trim();var a=null;var c=MFA.GetFactor(t);var u=null;if(c&&(c.factorName!==null||c.factorName!==undefined)){if(e&&e.length>0){u=document.getElementById("fid_"+e+"_"+c.factorName.trim())}else{u=document.getElementById("fid_"+c.factorName.trim())}}if(i.toUpperCase()=="POST"){var h=u.getElementsByTagName("input");var d="";var p=false;for(var f=0;f<h.length;++f){if(h[f].type=="text"||h[f].type=="password"){if(h[f].value&&h[f].value.length>0){if(!p)p=true;else d+=",";d+='"'+COMMON.NormalizeJSONString(h[f].id)+'":"'+COMMON.NormalizeJSONString(h[f].value)+'"'}}}if(d.trim().length==0){COMMON.ShowMessage(COMMON.doTranslate("A required input field is empty"),"i")}else{MFA.requestServerAPIVersion(function(){a+='"apiVersion":'+parseInt(defaultApiVersion)+",";if(e&&e.length>0){a='{"factorName":"'+t+'","policyName":"'+e+'"'}else{a='{"factorName":"'+t+'"'}a=a+',"challengeResponse":{'+d+"}}";s=n;l=a;o=1;r=new MFA.Request(s,l,o);MFA.MakeRequest(r,MFA.Factors)})}}else if(i.toUpperCase()=="GET"){if(e&&e.length>0){a='{"policyName":"'+e+'"}'}if(n){s=n;l=a;o=0;r=new MFA.Request(s,l,o);MFA.MakeRequest(r,MFA.Factors)}}},FactorPCIAuthentication:function(e,t){var n,r,s,o;var l=null;var a=null;var c,u;var h,d;var p;var f=null;if(e)f=e.trim();var E=null;var T=document.getElementById("userid");if(T)E=T.value.trim();if(!f){COMMON.ShowMessage(COMMON.doTranslate("Invalid policy or no such policy found"),"E");return}if(oPolicies){for(i=0;i<oPolicies.length;i++){if(oPolicies[i]["policyName"]==f){a=oPolicies[i];break}}}if(a){u=false;h="";for(j=0;j<a["policyFactors"].length;j++){if(!a["policyFactors"][j].ignoreValueByResume){p=a["policyFactors"][j].factorName.trim();d=MFA.getAllFieldValuesByFactor(f,p);if(p!="AZFCERT1"&&d.trim().length==0){COMMON.ShowMessage(COMMON.doTranslate("A required input field was empty"),"i");return}else{if(!u)u=true;else h+=",";if(p=="AZFCERT1")h+='{"factorName":"'+p+'"}';else h+='{"factorName":"'+p+'",'+d+"}"}}}}if(h){MFA.requestServerAPIVersion(function(){if(sessionStorage.getItem("apiversionmatch")==="true"){l="{";l+='"apiVersion":'+parseInt(defaultApiVersion)+",";if(a.resumeID&&a.resumeID.length>0){l+='"resumeID":"'+a.resumeID+'",'}else{if(MFA.Options.policyBasedAuth)l+='"userid":"'+MFA.getUserID(f)+'",';else l+='"userid":"'+COMMON.NormalizeJSONString(E)+'",';l+='"policyName":"'+f+'",'}l+='"factors": [ '+h+"]";l+="}";if(a.submitURL&&a.submitURL.length>0)r=a.submitURL;else r="/policyAuth";o=l;s=1;n=new MFA.Request(r,o,s);MFA.MakeRequest(n,MFA.Factors)}})}},getUserID:function(e){var t=null;var i="useridforpolicyauth";var n="";var e=e.trim();if(!MFA.Options.policyBasedAuth)return"";if(e&&e.length>0){t=document.getElementById("fid_"+e+"_"+i)}else t=document.getElementById("fid_"+i);inputs=t.getElementsByTagName("input");if(inputs&&inputs.length>0){n=COMMON.NormalizeJSONString(inputs[0].value)}return n},getAllFieldValuesByFactor:function(e,t){var i=MFA.GetFactor(t);var n="";var r;var s=null;var e=e.trim();if(i&&e&&e.length>0){s=document.getElementById("fid_"+e+"_"+i.factorName.trim())}if(s){r=s.getElementsByTagName("input");if(r&&r.length>0){n+='"credentialObject":{';var o=r.length;for(var l=0;l<o;++l){if(r[l].type=="text"||r[l].type=="password"){if(r[l].value&&r[l].value.length>0){if(l!==0){n+=","}n+='"'+COMMON.NormalizeJSONString(r[l].id)+'":"'+COMMON.NormalizeJSONString(r[l].value)+'"'}else{if(l!==0){n+=","}n+='"'+COMMON.NormalizeJSONString(r[l].id)+'":"'+'"'}}}n+="}"}}return n},autoTypeMfaInfo:function(e){if(MFA.passPos&&(MFA.authToken.length>MFA.passLen||MFA.passLen<11)){alert(COMMON.doTranslate("MFA integration is not enabled for this host system. If the problem persists, please contact your MFA administrator."))}else{const t=e?e:MFA.userId;if(!MFA.userProtected&&MFA.userId&&MFA.userPos>4){MFA.Options.bzhao.setPos(MFA.userPos);MFA.Options.bzhao.sendFunction("Erase EOF");MFA.Options.bzhao.autoTypeJS(t)}if(MFA.passPos){MFA.Options.bzhao.setPos(MFA.passPos);MFA.Options.bzhao.autoTypeJS(MFA.authToken);if(MFA.Options.autoEnterKey)MFA.Options.bzhao.sendFunction("Enter")}}},callCheckCTC:function(e,t,i){const n=t?t:MFA.authToken;const r=e?e:MFA.userId;const s=i>-1?i:-1;var o="/checkCTC";var l='{"userid":"'+r+'",'+'"apiVersion":'+parseInt(defaultApiVersion)+","+'"ctc":"'+COMMON.NormalizeJSONString(n)+'"}';var a=1;var c=new MFA.Request(o,l,a);MFA.MakeRequest(c,MFA.handleCTCResponse.bind(this,s))},handleCTCResponse:function(e,t){if(t){checkCTCResponse=JSON.parse(t);if(checkCTCResponse.rc===0&&checkCTCResponse.rsn===0){if(e!==-1)MFA.ctcs[e].isValid=true}else{if(e===-1)MFA.authToken=null;COMMON.ShowMessage("Access not granted for this username and CTC combination.\n\n","E")}}else{if(e===-1)MFA.authToken=null;COMMON.ShowMessage("Invalid JSON object received.\n\n","E")}if(e===-1){if(MFA.authToken){lastActiveElement.focus();MFA.autoTypeMfaInfo()}else{MFA.Init()}}else if(e===MFA.ctcs.length-1){const i=MFA.ctcs.filter(e=>e.isValid);if(i.length===0){MFA.Init()}else if(MFA.ctcsPrompt){lastActiveElement.blur();MFA.ctcsPrompt(i,e=>{if(!e){MFA.Init()}else{lastActiveElement.focus();MFA.userId=e.mfaUserId||"";MFA.authToken=e.ctc||"";MFA.autoTypeMfaInfo(e.hostUserId||"")}})}}},checkToken:function(e){lastActiveElement=MFA.invisibleInput;if(e&&MFA.authToken){MFA.callCheckCTC()}else if(!e&&MFA.ctcs&&MFA.ctcs.length>0){MFA.ctcs.forEach((e,t)=>{MFA.callCheckCTC(e.mfaUserId,e.ctc,t)})}else{MFA.authToken=null;MFA.Init()}},Factors:function(e){var i;var t=null;var n=0;if(e){try{i=JSON.parse(e)}catch(e){COMMON.ShowMessage(COMMON.doTranslate("Invalid JSON object received"),"E");return}}else return;if(i.mode&&i.mode==1){pcimode=1}if(i.type==="ctc"){if(i.ctc){nmiresponse=null;MFA.authToken=i.ctc;if(MFA.authToken){MFA.userId=document.getElementById("userid").value;var r=document.getElementById("bzwMFA");r.style.display="none";MFA.RemoveMFAForm(r);MFA.autoTypeMfaInfo()}}else{COMMON.ShowMessage(COMMON.doTranslate("Invalid JSON object received"),"E")}}else if(i.type==="error"){var s=i.rc;let e,t=document.getElementById("userid");if(t)e=t.value;COMMON.resetFieldsAfterError();if(t)t.value=e;var o=sessionStorage.getItem("requestURL");if(o.indexOf("policyAuth")!==-1){if(s===40){var l=i.rsn;if(l===0){COMMON.ShowMessage(COMMON.doTranslate(error_policyauth_rc_40_rsn_0),"E")}else if(l===1){COMMON.ShowMessage(COMMON.doTranslate(error_policyauth_rc_40_rsn_1),"E")}else if(l===2){COMMON.ShowMessage(COMMON.doTranslate(error_policyauth_rc_40_rsn_2),"E")}else if(l===5){COMMON.ShowMessage(COMMON.doTranslate(error_policyauth_rc_40_rsn_5),"E")}else{COMMON.ShowMessage(COMMON.doTranslate("Unknown error code from server"),"E")}sessionStorage.setItem("reloaded","false")}else if(s===44){if(i.factors){var a=i.factors;sessionStorage.removeItem("message");for(var n=0;n<a.length;n++){var c=a[n].factorName.trim();var u=a[n].msg;var h=sessionStorage.getItem("message");if(u!==""&&u!==undefined){if(h!==null&&h!==undefined){sessionStorage.setItem("message","\n"+h+"\n\n"+u+"\n")}else{sessionStorage.setItem("message",u)}}else{if(h!==null&&h!==undefined){sessionStorage.setItem("message","\n"+h+"\n\n"+COMMON.doTranslate(error_policyauth_rc_44)+"\n")}else{sessionStorage.setItem("message",COMMON.doTranslate(error_policyauth_rc_44))}}}}if(nmiresponse!==null){sessionStorage.setItem("reloaded","true");const b=document.getElementById("divFactors");if(b){const P=b.parentNode;if(P){P.removeChild(b)}}MFA.MakeBookMarkedPolicy(selectedPolicyName);nmiresponse=null}else{sessionStorage.setItem("reloaded","false");COMMON.ShowMessage(sessionStorage.getItem("message"),"E")}}else if(s===48){MFA.resetToPolicyPromptPage();COMMON.ShowMessage(COMMON.doTranslate(error_policyauth_rc_48),"E")}}else if(o.indexOf("policyPrompt")!==-1){if(s===40){var l=i.rsn;MFA.resetToPolicyPromptPage();if(l===2){COMMON.ShowMessage(COMMON.doTranslate(error_policyprompt_rc_40_rsn_2),"E")}else if(l===5){COMMON.ShowMessage(COMMON.doTranslate(error_policyprompt_rc_40_rsn_5),"E")}}else if(s===48&&i.rsn===5){MFA.resetToPolicyPromptPage();COMMON.ShowMessage(COMMON.doTranslate(error_policyprompt_rc_48_rsn_5),"E")}}else{COMMON.ShowMessage(COMMON.doTranslate("Unknown error code from server"),"E");sessionStorage.setItem("reloaded","false")}}else if(i.type==="nmi"){var d=null;nmiresponse=i;if(oPolicies&&oPolicies.length>0){for(n=0;n<oPolicies.length;n++){if(oPolicies[n]["policyName"].trim()==selectedPolicyName.trim()){d=oPolicies[n];d.resumeID=i.resumeID;break}}}for(n=0;n<i.factors.length;n++){var p={};var f=i.factors[n];p.factorName=f["factorName"].trim();p.promptType=f.promptSpec.promptType;p.promptHeading=f.promptSpec.promptHeading;p.promptFields=[];var E=f.promptSpec.promptFields;if(E){for(var T=0;T<E.length;T++){var _={};_.fieldLabel=E[T].fieldLabel;_.fieldType=E[T].fieldType;_.fieldName=E[T].fieldName;_.maxLength=E[T].maxLength;p.promptFields.push(_)}}p.status=-1;MFA.SetStatus(selectedPolicyName,p.factorName,COMMON.doTranslate("More Info"));MFA.ReplaceAFactor(selectedPolicyName,p)}for(n=0;n<d.policyFactors.length;n++){var g=d.policyFactors[n].factorName.trim();var S=false;for(T=0;T<i.factors.length;T++){if(i.factors[T].factorName.trim()==g){S=true;break}}if(!S){var C=null;var R=null;if(!d.policyFactors[n].ignoreValueByResume){d.policyFactors[n].ignoreValueByResume=true;if(selectedPolicyName&&selectedPolicyName.length>0)C=document.getElementById("id_policies_"+selectedPolicyName);else C=document.getElementById("divFactors");if(selectedPolicyName&&selectedPolicyName.length>0)R=document.getElementById("fid_"+selectedPolicyName+"_"+g);else R=document.getElementById("fid_"+g);if(C&&R){while(R.firstChild){R.removeChild(R.firstChild)}C.removeChild(R)}}}}if(sessionStorage.getItem("reloaded")==="true"){COMMON.ShowMessage(sessionStorage.getItem("message"),"E");sessionStorage.setItem("reloaded","false")}}else if(i.type==="prompt"){policyBasedAuth=true;nmiresponse=null;pcimode=1;if(i.payload){let e=i.payload.policyName;if(MFA.updatePolicyNameCallback&&e!==MFA.userPolicyName){MFA.userPolicyName=e;MFA.updatePolicyNameCallback(e)}oPolicies=[];var d=i.payload;oPolicies.push(d);oFactors=[];var m=i.payload.policyFactors;for(n=0;n<m.length;n++){var N={};if(m[n].promptSpec)N=m[n].promptSpec;else{COMMON.ShowMessage(COMMON.doTranslate("Invalid data received"),"E");return}if(m[n].factorName=="AZFCERT1"&&d.submitURL.indexOf("policyAuth")!==-1&&navigator.userAgent.indexOf("Trident")!=-1){var A=window.location.port;var y=d.submitURL.match(/:\d{1,5}\//g)[0].substring(1);var I=y.substring(0,y.length-1);var O="https://"+window.location.hostname+":"+I+"/mfa"+"/"+d.policyName.trim();if(A!==I){document.execCommand("ClearAuthenticationCache","false");window.location.href=O;console.log("IE ONLY: Switching to mutual auth port to avoid CORS errors cause by the browser")}}N["status"]=-1;oFactors.push(N)}i["pcimode"]=1;i.payload={};i.payload["policies"]=oPolicies;i.payload["factors"]=oFactors;COMMON.DisplayOverlay(i)}if(sessionStorage.getItem("reloaded")==="true"){COMMON.ShowMessage(sessionStorage.getItem("message"),"i");sessionStorage.setItem("reloaded","false")}}},Logout:function(){var e=document.getElementById("id_logout");return{hide:function(){e.style.display="none"},show:function(){e.style.display=""}}},GetFactor:function(e){var t=null;var e=e.trim();if(oFactors&&e){for(var i=0;i<oFactors.length;i++){if(oFactors[i].factorName==e){t=oFactors[i];break}}}return t},CreateStaticLoginPage:function(){var e=document.getElementById("dynContainer");e.className="dynContent";var t=document.createElement("div");t.id="sectionLogin";t.className="login_section_style";var i=document.createElement("div");i.id="id_login_msg_holder";t.appendChild(i);e.appendChild(t);var n=document.createElement("table");n.className="dynContent_bottomTable";var r,s,o,l,a;var c;n.className="dynContent_btm_tbl_login";n.id="id_login_table";r=document.createElement("tr");r.align="left";s=document.createElement("td");var u=document.createElement("button");u.id="policy_close";u.value="X";u.innerHTML="X";u.className="close_button_style";u.style.float="right";u.style.padding="16px 0px";u.onclick=function(e){e.preventDefault();if(e.detail){var t=document.getElementById("bzwMFA");MFA.RemoveMFAForm(t,true)}};s.appendChild(u);a=document.createElement("p");a.id="id_header";a.className="header_style";a.innerHTML=COMMON.doTranslate("title_text");var h=document.createElement("hr");h.className="header_divider";s.appendChild(a);s.appendChild(h);r.appendChild(s);n.appendChild(r);r=document.createElement("tr");r.align="left";r.id="id_header_promptheading_tr";s=document.createElement("td");o=document.createElement("p");o.id="id_header_promptheading";o.textContent="    ";s.appendChild(o);r.appendChild(s);n.appendChild(r);r=document.createElement("tr");r.align="left";r.id="id_username_label_tr";s=document.createElement("td");o=document.createElement("p");o.id="id_username_label";o.textContent=COMMON.doTranslate("User Name");s.appendChild(o);r.appendChild(s);n.appendChild(r);r=document.createElement("tr");r.align="left";r.id="id_username_tr";s=document.createElement("td");s.style.cssText="width:340px";s.align="left";l=document.createElement("input");l.type="text";l.id="id_username";l.size=22;l.maxLength=50;l.name="txtUserName";if(MFA.Options.policyBasedAuth){l.onkeypress=function(e){var t=e.which||e.keyCode;if(t&&t==32){e.preventDefault()}}}l.onkeyup=function(e){e.preventDefault();let t=document.getElementById("id_submit");if(e.target.value!==null&&e.target.value!==""){t.disabled=false;if(e.keyCode==13){window.MFA.IspfLogin()}}else{t.disabled=true;console.log("Value cannot be null or empty")}};s.appendChild(l);r.appendChild(s);r.style.display="none";n.appendChild(r);r=document.createElement("tr");r.align="left";r.id="id_password_tr";s=document.createElement("td");s.style.cssText="text-align: right ; width: 35%;";o=document.createElement("p");o.id="id_password_label";o.textContent=COMMON.doTranslate("Password");s.appendChild(o);r.appendChild(s);s=document.createElement("td");s.align="left";l=document.createElement("input");l.type="password";l.id="id_password";l.title="password";l.size=22;l.maxLength=50;l.name="txtPassword";l.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){window.MFA.IspfLogin()}};s.appendChild(l);r.appendChild(s);r.style.display="none";n.appendChild(r);r=document.createElement("tr");r.align="left";r.id="id_newpassword_tr";s=document.createElement("td");s.style.cssText="text-align: right ; width: 35%;";o=document.createElement("p");o.id="id_newpassword_label";o.textContent=COMMON.doTranslate("New Password");s.appendChild(o);r.appendChild(s);r.style.display="none";s=document.createElement("td");s.align="left";l=document.createElement("input");l.type="password";l.id="id_newpassword";l.size=22;l.maxLength=50;l.name="txtNewPassword";l.enabled=false;l.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){window.MFA.IspfLogin()}};s.appendChild(l);r.appendChild(s);r.style.display="none";n.appendChild(r);r=document.createElement("tr");r.id="id_confirmnewpassword_tr";r.align="left";s=document.createElement("td");s.style.cssText="text-align: right ; width: 35%;";o=document.createElement("p");o.id="id_confirmnewpassword_label";o.textContent=COMMON.doTranslate("Confirm New Password");s.appendChild(o);r.appendChild(s);s=document.createElement("td");s.align="left";l=document.createElement("input");l.type="password";l.id="id_confirmnewpassword";l.size=22;l.maxLength=50;l.name="txtConfirmNewPassword";l.enabled=false;l.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){window.MFA.IspfLogin()}};s.appendChild(l);r.appendChild(s);r.style.display="none";n.appendChild(r);for(let e=0;e<5;e++){r=document.createElement("tr");r.align="left";s=document.createElement("td");o=document.createElement("p");o.textContent="    ";s.appendChild(o);r.appendChild(s);n.appendChild(r)}r=document.createElement("tr");r.id="id_submit_tr";r.align="left";s=document.createElement("td");s.align="left";myElement=document.createElement("img");myElement.src="/ZLUX/plugins/com.rs.bzw/web/lib/js/RocketLogo.png";myElement.style.width="200px";s.appendChild(myElement);l=document.createElement("input");l.type="button";l.id="id_submit";l.name="Submit";l.className="button_submit";l.disabled=true;l.onclick=function(){window.MFA.IspfLogin();COMMON.resetScroll()};l.style="vertical-align:top; float:right";s.appendChild(l);r.appendChild(s);n.appendChild(r);r=document.createElement("tr");r.align="left";s=document.createElement("td");o=document.createElement("p");o.textContent="    ";s.appendChild(o);r.appendChild(s);n.appendChild(r);t.appendChild(n)},requestServerAPIVersion:function(n){if(sessionStorage.getItem("apiversionmatch")===null){var e=new MFA.Request("/versionInfo",null,"GET");MFA.MakeRequest(e,function(e){var t=JSON.parse(e);var i;if(t){i=t.apiVersions.auth.policyAuth.toString();if(i&&i!==null&&i!==undefined){if(i.indexOf(defaultApiVersion)!==-1){sessionStorage.setItem("apiversionmatch","true")}else{console.log("Server and client web API versions are incompatible.");MFA.ShowMessage(COMMON.doTranslate("Server and client web API versions are incompatible."),"E");sessionStorage.setItem("apiversionmatch","false")}}else{MFA.ShowMessage(COMMON.doTranslate("Cannot retrieve server API version."),"E");sessionStorage.setItem("apiversionmatch","false")}}else{MFA.ShowMessage(COMMON.doTranslate("Cannot retrieve server API version."),"E");sessionStorage.setItem("apiversionmatch","false")}n()})}else{n()}},CreateLoginPage:function(e){var t=e;var n,i;var r=document.getElementById("id_login_table");var s;if(t){n=document.getElementById("id_header_promptheading");n.textContent=" "+t.promptHeading+" ";var o=r.getElementsByTagName("input");for(l=0;l<o.length;l++){if(o[l].type=="text"||o[l].type=="password"){o[l].disabled=true;if(o[l].type=="password")o[l].value=""}}n=document.getElementById("id_submit");if(MFA.selectedPolicyName||MFA.userPolicyName)n.disabled=false;else n.disabled=true;n.className="button_submit";n.value=COMMON.doTranslate("Continue");for(var l=0;l<t.promptFields.length;l++){i=t.promptFields[l];if(i.fieldName.toLowerCase().indexOf("user")>-1){n=document.getElementById("id_username_label");n.innerHTML=i.fieldLabel;n.className="field_label_flex";n=document.getElementById("id_username");if(MFA.selectedPolicyName){let i=document.getElementById("id_policylist");if(!i){i=document.createElement("select");i.id="id_policylist";i.className="policy_list";i.onchange=function(){let e=document.getElementById("id_username");e.value=this.value};n.parentElement.appendChild(i);for(let t=0;t<MFA.selectedPolicyName.length;t++){let e=document.createElement("option");e.value=e.text=MFA.selectedPolicyName[t];if(t===MFA.userPolicyNameIndex){e.selected=true}i.appendChild(e)}}}n.maxLength=i.maxLength&&i.maxLength>0?i.maxLength:8;if(i.fieldType&&i.fieldType.toLowerCase()=="securetextfield"){n.type="password"}n.disabled=false;if(MFA.selectedPolicyName){n.style.display="none";n.value=MFA.userPolicyName||MFA.selectedPolicyName[0]}else{n.value=MFA.userPolicyName}s=r.rows["id_username_tr"];if(s)s.style.display="table-row"}if(pcimode)break;if(i.fieldName.toLowerCase()=="password"){n=document.getElementById("id_password_label");n.innerHTML=i.fieldLabel;n.className="field_label_flex";n=document.getElementById("id_password");n.maxLength=i.maxLength&&i.maxLength>0?i.maxLength:99;if(i.fieldType&&i.fieldType.toLowerCase()=="securetextfield"){n.type="password"}n.disabled=false;s=r.rows["id_password_tr"];if(s)s.style.display="table-row"}if(i.fieldName.toLowerCase()=="newpassword"){n=document.getElementById("id_newpassword_label");n.innerHTML=i.fieldLabel;n.className="field_label_flex";n=document.getElementById("id_newpassword");n.maxLength=i.maxLength&&i.maxLength>0?i.maxLength:99;if(i.fieldType&&i.fieldType.toLowerCase()=="securetextfield"||i.fieldType.toLowerCase()=="secureconfirmtextfield"){n.type="password"}n.disabled=false;s=r.rows["id_newpassword_tr"];if(s)s.style.display="table-row";if(i.fieldType&&i.fieldType.toLowerCase()=="secureconfirmtextfield"){n=document.getElementById("id_confirmnewpassword_label");n.innerHTML="Confirm "+i.fieldLabel;n=document.getElementById("id_confirmnewpassword");n.maxLength=i.maxLength&&i.maxLength>0?i.maxLength:99;if(i.fieldType.toLowerCase()=="securetextfield"||i.fieldType.toLowerCase()=="secureConfirmTextField"){n.type="password"}n.disabled=false;s=r.rows["id_confirmnewpassword_tr"];s.style.display="table-row"}}}n=document.getElementById("id_login_table");n.style.display="block";n.style.backgroundColor="white";if(MFA.selectedPolicyName){n=document.getElementById("id_policylist");n.focus();n.scrollIntoView()}else MFA.HandleLoginPageFocus()}},HandleLoginPageFocus:function(){window.setTimeout(function(){var e=document.getElementById("id_username");if(!e.disabled){e.focus();e.scrollIntoView()}else{e=document.getElementById("id_password");e.focus();e.scrollIntoView()}},0)},CreateFactors:function(e){var t,i;var n=document.createElement("div");n.id="divFactors";n.className="dc_factor";var r=document.createElement("button");r.id="id_factor_close";r.className="infoModalButton";r.setAttribute("aria-label","Close");r.type="button";r.align="right";r.onclick=function(e){e.preventDefault();var t=document.getElementById("bzwMFA");MFA.RemoveMFAForm(t,true)};var s=document.createElement("span");s.setAttribute("aria-hidden","true");s.style="color:black;font-size:22px";s.textContent="x";r.appendChild(s);n.appendChild(r);var o=document.createElement("p");o.id="id_factor_header";o.className="header_style";o.align="left";var l="";if(selectedPolicyName&&selectedPolicyName!==""){l=selectedPolicyName}o.textContent=l;n.appendChild(o);var a=document.createElement("hr");a.className="header_divider";n.appendChild(a);var c=document.createElement("label");c.id=n.id+"_token";c.textContent="";n.appendChild(c);var u=null;var h=null;var d=null;if(oPolicies&&oPolicies.length>0){u=document.createElement("div");u.id="id_policies";u.style.cssText="width:100%";var p="";for(t=0;t<oPolicies.length;t++){if(oPolicies[t]["policyName"])oPolicies[t]["policyName"]=oPolicies[t]["policyName"];p=oPolicies[t]["policyName"].trim();h=document.createElement("div");h.id=u.id+"_"+p;h.className=u.className+"_tab";var f="useridforpolicyauth";var E=document.createElement("div");E.align="left";if(p&&p.length>0)E.id="fid_"+p+"_"+f;else E.id="fid_"+f;E.className="dc_factor_item";E.align="left";var T=document.createElement("p");E.appendChild(T);fieldLabelUserid=document.createElement("label");fieldLabelUserid.innerHTML="MFA User ID ";fieldLabelUserid.className="field_label_flex";var T=document.createElement("p");E.appendChild(T);fieldInputUserid=document.createElement("input");fieldInputUserid.id="userid";fieldInputUserid.name="userid";fieldInputUserid.size=16;fieldInputUserid.maxLength=16;fieldInputUserid.type="text";if(MFA.userId&&MFA.userId.length>0)fieldInputUserid.value=MFA.userId;E.appendChild(fieldLabelUserid);E.appendChild(fieldInputUserid);var T=document.createElement("p");E.appendChild(T);h.appendChild(E);for(i=0;i<oPolicies[t]["policyFactors"].length;i++){d=MFA.CreateAFactor(p,oPolicies[t]["policyFactors"][i].factorName.trim());if(d){h.appendChild(d)}}if(pcimode){var _=document.createElement("div");_.className="dc_factor_item";_.align="right";var T=document.createElement("p");_.appendChild(T);myElement=document.createElement("img");myElement.src="/ZLUX/plugins/com.rs.bzw/web/lib/js/RocketLogo.png";myElement.align="left";myElement.style.width="200px";_.appendChild(myElement);var g=document.createElement("span");g.className="dc_factor_item_link";var S=document.createElement("input");S.type="button";S.value=COMMON.doTranslate("Submit");S.name=oPolicies[t]["policyName"].trim()+"_Submit";S.id=oPolicies[t]["policyName"].trim()+"_Submit";S.className="button_submit";S.onclick=function(e){var t=e;return function(e){e.preventDefault();COMMON.resetScroll();MFA.FactorPCIAuthentication(t,"POST")}}(p);g.appendChild(S);_.appendChild(g);T=document.createElement("p");_.appendChild(T);h.appendChild(_)}u.appendChild(h)}}if(u)n.appendChild(u);else{for(t=0;t<oFactors.length;t++){d=MFA.CreateAFactor(null,oFactors[t].factorName.trim());if(d){n.appendChild(d)}}}return n},ShowFactorTab:function(e){if(e){var e=e.trim();var t=document.getElementById("id_policies");var i,n,r;i=t.getElementsByClassName("dc_tabs_tab");for(r=0;r<i.length;r++){if(i[r].id==t.id+"_"+e){i[r].style.display="block";var s=i[r].getElementsByTagName("input");for(var o=0;o<s.length;o++){if(!s[o].disabled){s[o].focus();s[o].scrollIntoView();break}}}else{i[r].style.display="none"}}n=t.getElementsByClassName("dc_tabs_links");for(r=0;r<n.length;r++){n[r].className=n[r].className.replace(" active","");n[r].parentNode.style.borderColor="";if(n[r].textContent==e){n[r].className+=" active";n[r].parentNode.style.borderColor="black"}}}},CreateAFactor:function(e,t){var i=null;var e=e.trim();var t=t.trim();var n=MFA.GetFactor(t);if(n){i=MFA.CreateFactor(e,n)}return i},ReplaceAFactor:function(e,t){var i=MFA.GetFactor(t.factorName.trim());var e=e.trim();if(i==null){oFactors.add(t)}i=t;var n=null;if(i){n=MFA.CreateFactor(e,i,true)}return n},GetPolicyFactorDescription:function(e,t){var n="";var e=e.trim();if(e&&e.length>0){if(oPolicies){for(var r=0;r<oPolicies.length;r++){if(e==oPolicies[r].policyName){for(i=0;i<oPolicies[r].policyFactors.length;i++){if(t.trim()==oPolicies[r].policyFactors[i].factorName.trim()){n=oPolicies[r].policyFactors[i].factorDescription}}}}}}return n},RepalceFactorFieldsWithMessage:function(e,t,i){var n=null;var r,s;var e=e.trim();var t=t.trim();if(e&&e.length>0)r="fid_"+e+"_"+t+"_fields";else if(t&&t.length>0)r="fid_"+t+"_fields";if(r&&r.length>0){n=document.getElementById(r);while(n.firstChild){n.removeChild(n.firstChild)}s=document.createElement("p");s.innerHTML=i;n.appendChild(s)}},CreateFactor:function(t,i,e){var n=null;var r,s;var t=t.trim();var o=i.factorName.trim();if(e){if(t&&t.length>0)n=document.getElementById("fid_"+t+"_"+o);else n=document.getElementById("fid_"+o);while(n.firstChild){n.removeChild(n.firstChild)}}else{n=document.createElement("div");n.align="left";if(t&&t.length>0)n.id="fid_"+t+"_"+o;else n.id="fid_"+o;n.className="dc_factor_item"}var l=document.createElement("p");l.style.cssText="font-weight:bold";var a=MFA.GetPolicyFactorDescription(t,o);if(a&&a.length>0){l.innerHTML=a}else{l.innerHTML=""}l.tabIndex=0;var c=document.createElement("div");c.id=n.id+"_fields";c.align="left";c.style.cssText="display: block";if(i.promptType.toLowerCase()=="interactive"){var u=document.createElement("p");u.innerHTML=i.promptHeading;c.appendChild(u);var h,d,p;for(r=0;r<i.promptFields.length;r++){h=i.promptFields[r];d=document.createElement("input");d.name=h.fieldName;d.id=h.fieldName;d.placeholder=h.fieldLabel;d.title=h.fieldLabel;d.size=h.size&&h.size>0?h.size:16;d.maxLength=h.maxLength&&h.maxLength>0?h.maxLength:16;if(h.fieldType&&h.fieldType.toLowerCase()=="securetextfield"){d.type="password"}d.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){if(!pcimode){MFA.FactorAuthentication(t,o,"POST","/OOB/preauth")}}};if(0==r){d.focus()}p=document.createElement("p");c.appendChild(p);c.appendChild(d);p=document.createElement("p");c.appendChild(p)}var f=document.createElement("span");f.className="dc_factor_item_link";if(!pcimode){var E=document.createElement("input");E.type="button";E.value=COMMON.doTranslate("Submit");E.name="Submit";E.className="button_submit";E.onclick=function(e){e.preventDefault();COMMON.resetScroll();MFA.FactorAuthentication(t,o,"POST","/OOB/preauth")};f.appendChild(E)}p=document.createElement("p");c.appendChild(p);c.appendChild(f);p=document.createElement("p");c.appendChild(p)}else if(i.promptType.toLowerCase()=="interactive_nmi"){var u=document.createElement("p");u.innerHTML=i.promptHeading;c.appendChild(u);var h,d,p;for(r=0;r<i.promptFields.length;r++){h=i.promptFields[r];d=document.createElement("input");d.name=h.fieldName;d.id=h.fieldName;d.placeholder=h.fieldLabel;d.size=h.size&&h.size>0?h.size:16;d.maxLength=h.maxLength&&h.maxLength>0?h.maxLength:16;if(h.fieldType&&h.fieldType.toLowerCase()=="securetextfield"){d.type="password"}d.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){if(!pcimode){MFA.FactorAuthentication(t,o,"POST","/OOB/preauth")}}};if(0==r){d.focus()}p=document.createElement("p");p=document.createElement("p");c.appendChild(p);c.appendChild(d);p=document.createElement("p");c.appendChild(p)}var f=document.createElement("span");f.className="dc_factor_item_link";if(!pcimode){var E=document.createElement("input");E.type="button";E.value=COMMON.doTranslate("Submit");E.name="Submit";E.className="button_submit";E.onclick=function(e){e.preventDefault();COMMON.resetScroll();MFA.FactorAuthentication(t,o,"POST","/OOB/preauth")};f.appendChild(E)}p=document.createElement("p");c.appendChild(p);c.appendChild(f);p=document.createElement("p");c.appendChild(p)}else if(i.promptType.toLowerCase()=="getlink"){var T=document.createElement("span");T.className="dc_factor_item_link";var _=document.createElement("input");_.type="button";_.id=n.id+"_lnk";_.value=i.promptHeading;_.onclick=function(e){if(_.disabled){return false}_.disabled=true;COMMON.resetScroll();MFA.FactorAuthentication(t,o,"GET",i.promptURL);setTimeout(function(){_.disabled=false},1e3);return false};_.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){COMMON.resetScroll();MFA.FactorAuthentication(t,o,"GET",i.promptURL)}return false};T.appendChild(_);c.appendChild(T);p=document.createElement("p");c.appendChild(p)}else if(i.promptType.toLowerCase()=="submiturl"){var g=document.createElement("p");g.className="dc_factor_item_msg";g.innerHTML=i.promptHeading;c.appendChild(g);p=document.createElement("p");c.appendChild(p)}else if(i.promptType.toLowerCase()=="message"){var g=document.createElement("p");g.className="dc_factor_item_msg";g.innerHTML=i.promptHeading;c.appendChild(g);p=document.createElement("p");c.appendChild(p)}else if(i.promptType.toLowerCase()=="newwindow"){var S=document.createElement("span");S.id=n.id+"_certenroll";S.className="dc_factor_item_link";var _=document.createElement("input");_.type="button";_.id=S.id+"_lnk";_.value=i.promptHeading;var C=screen.height-200;var R=screen.width-200;_.onclick=function(e){e.preventDefault();COMMON.resetScroll();var t=window.open(i.promptURL,"_blank","location=yes,height="+C+",width="+R+",scrollbars=yes,status=yes,menubar=yes");t.focus();return false};_.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){COMMON.resetScroll();var t=window.open(i.promptURL,"_blank","location=yes,height="+C+",width="+R+",scrollbars=yes,status=yes,menubar=yes");t.focus()}return false};S.appendChild(_);c.appendChild(S);p=document.createElement("p");c.appendChild(p)}n.appendChild(l);n.appendChild(c);return n},SetStatus:function(e,t,i){var n=null;var e=e.trim();var t=t.trim();var r=MFA.GetFactor(t);var s=null;if(r){if(e&&e.length>0)n=document.getElementById("fid_"+e+"_"+t);else n=document.getElementById("fid_"+t);if(n){s=n.getElementsByTagName("p");if(s&&s.length>0){s[0].innerHTML=s[0].innerHTML+" - ["+i+"]";if(i&&i.toLowerCase()=="passed"||i&&i.toLowerCase()=="succeeded"){r.status=0;s[0].style.color="blue"}else if(i&&i.toLowerCase()=="More Info"){r.status=r.status+1}}}}},IsWaitingForRequestDone:function(){var e=document.getElementById("overlay_spin");if(e){return true}else return false},resetToPolicyPromptPage:function(){var e=document.getElementById("sectionLogin");e.parentNode.removeChild(e);MFA.CreateStaticLoginPage();MFA.PolicyAuth()},DisplayToken:function(e){var t,i,n,r;var s=document.getElementById("overlay_token");var o=document.getElementById("divFactors");var l=document.getElementById("dynContainer");if(l&&o){o.disabled=true;var a,c;c=o.getElementsByTagName("input");for(a=0;a<c.length;a++){c[a].disabled=true}c=o.getElementsByTagName("a");for(a=0;a<c.length;a++){c[a].tabIndex="-1"}c=o.getElementsByTagName("p");for(a=0;a<c.length;a++){c[a].tabIndex="-1"}}t=document.createElement("table");t.id="overlay_token";i=document.createElement("tbody");n=document.createElement("tr");r=document.createElement("td");var u=document.createElement("div");u.id=t.id+"_divToken";var h=document.createElement("h5");h.id=u.id+"_header";h.innerHTML=COMMON.doTranslate("Authentication Token");u.appendChild(h);var d=document.createElement("input");var p=document.createElement("label");d.id=u.id+"_token";d.value=e;d.style.textAlign="center";d.readOnly=true;setTimeout(function(){_this=d;_this.focus()},0);d.onclick=function(e){this.focus();this.select();this.selectionStart=0;this.selectionEnd=9999;var t=e||e.originalEvent;if(t&&t.clipboardData&&t.clipboardData.setData){t.clipboardData.setData("text/plain",MFA.authToken)}else if(window.clipboardData&&window.clipboardData.setData){clipboardData.setData("Text",MFA.authToken)}else{document.execCommand("copy")}return false};p.appendChild(d);u.appendChild(p);var f=document.createElement("h5");f.id=u.id+"_cp";f.innerHTML="<span style='font-size:14px;font-weight:normal'>"+COMMON.doTranslate("Click the above Cache Token Credential to copy it to Clipboard")+", <br>"+COMMON.doTranslate("and use this in place of your password to access applications")+"</span>";u.appendChild(f);r.appendChild(u);n.appendChild(r);i.appendChild(n);n=document.createElement("tr");r=document.createElement("td");r.id=u.id+"_empty";r.innerHTML="<p>&nbsp;&nbsp;&nbsp;&nbsp;</p>";n.appendChild(r);i.appendChild(n);t.appendChild(i);var E=document.getElementById("id_banner");var T=E.offsetHeight;t.className="ol_token";t.style.top=T+"px";var _=document.getElementById("dynContainer");if(_)_.appendChild(t);else return},RemoveTokenOverlay:function(){var e=document.getElementById("overlay_token");var t=document.getElementById("dynContainer");if(t&&e){e.style.display="none";t.removeChild(e)}},RemoveOverlay:function(){var e=document.getElementById("overlay");var t=document.getElementById("dynContainer");var i;if(t&&e){t.removeChild(e);i=document.getElementById("id_login_table");i.style.display="block";i=document.getElementById("id_login_table").rows["id_newpassword_tr"];i.style.display="none";i=document.getElementById("id_login_table").rows["id_confirmnewpassword_tr"];i.style.display="none";i=document.getElementById("id_password_label");i.innerHTML="Password";i=document.getElementById("id_password");i.value="";if(!MFA.Options.policyBasedAuth){var n=document.getElementById("id_header");var r=document.getElementById("id_header_description");var s=document.getElementById("id_header_promptheading");if(initialDologinFactor&&initialDologinFactor.heading)n.innerHTML=initialDologinFactor.heading;else n.innerHTML="";s.innerHTML="";if(initialDologinFactor&&initialDologinFactor.output){for(var o=0;o<initialDologinFactor.output.length;o++){if(initialDologinFactor.output[o].outputType==2){s.innerHTML=initialDologinFactor.output[o].prompt.promptHeading;break}}}}MFA.HandleLoginPageFocus()}},RemoveMFAForm:function(e,t){if(!e){return}document.body.removeChild(e);this.mfaElements=null;lastActiveElement.focus();MFA.removeBzwOverlay();if(t&&MFA.scriptExecutionContext){MFA.scriptExecutionContext.stop()}}};if(!String.prototype.startsWith){String.prototype.startsWith=function(e,t){t=t||0;return this.indexOf(e,t)===t}}if(!String.prototype.endsWith){String.prototype.endsWith=function(e,t){var i=this.toString();if(t===undefined||t>i.length){t=i.length}t-=e.length;var n=i.indexOf(e,t);return n!==-1&&n===t}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}window.onresize=function(){COMMON.resizeMessageBox()};function gatherUserAgentInfo(){const e=navigator.userAgent;const t=navigator.platform==="iPhone";const i=e.includes("Mac")&&"ontouchend"in document;const n=/mini|iP(ad|od|hone)/.test(navigator.appVersion);const r=n||/Mobile|Fennec|Android/.test(navigator.appVersion);const s=r||i||t;let o=false;let l=false;if(s){if(e.includes("Android")){o=true}else if(e.includes("iOS")||n||i||t){l=true}else{}}const a=e.includes("Mac")&&!("ontouchend"in document);const c=/constructor/i.test(_global.HTMLElement)||_global.safari;const u=navigator.userAgent.indexOf("Firefox")!=-1;return{isAndroid:o,isIOS:l,isMobile:s,isMacBook:a,isSafari:c,isFirefox:u}}window.COMMON={translationTextArray:new Object,GetTranslation:function(e,t){if(e){try{var i=JSON.parse(e);for(var n in i){COMMON.translationTextArray[n]=i[n]}if(t){t(true)}}catch(e){COMMON.ShowMessage(COMMON.doTranslate("Invalid JSON object received"),"E");if(t){t(false)}}}else if(t){t(false)}},translateTextForElement:function(e,t){var n=document.getElementById(e);if(n!==null&&n!==undefined){var r="";for(i=0;i<t.length;i++){r=r+COMMON.doTranslate(t[i])}n.innerHTML=r}else{console.log("translateTextForElement: DOM element with Id: "+e+" does not exist")}},doTranslate:function(e){if(COMMON.translationTextArray&&COMMON.translationTextArray[e]!==null&&COMMON.translationTextArray[e]!==undefined&&COMMON.translationTextArray[e]!==""){return COMMON.translationTextArray[e]}else{console.log("Untranslated: "+e);return e}},NormalizeJSONString:function(e){var t=/\\/g;var i=/"/g;if(e&&e.length>0){e=e.replace(t,"\\\\");return e.replace(i,'\\"')}else{return e}},resetScroll:function(){var e=document.getElementById("sectionLogin");var t=document.getElementById("sectionOverlay");if(e){e.scrollTop=0}if(t){t.scrollTop=0}},ShowMessage:function(e,t){var i=null;if(document.getElementById("overlay")&&document.getElementById("overlay").style.display==="block"){i=document.getElementById("id_overlay_msg_holder");if(i&&document.getElementById("id_login_msg_holder")){document.getElementById("id_login_msg_holder").style.cssText="display:none"}}else{i=document.getElementById("id_login_msg_holder");if(i&&document.getElementById("id_overlay_msg_holder")){document.getElementById("id_overlay_msg_holder").style.cssText="display:none"}if(i){i.style.display="block";i.backgroundColor="white"}}if(i){var n=document.getElementById(i.id+"_content");i.style.display="block";if(n){i.removeChild(n)}n=COMMON.CreateMsgElement(i,e,t);n.style.display="block";n.backgroundColor="white";i.appendChild(n);COMMON.resizeMessageBox()}return true},RemoveMessage:function(){var e=null;var t=null;if(document.getElementById("overlay")&&document.getElementById("overlay").style.display==="block"){e=document.getElementById("id_overlay_msg_holder")}else{e=document.getElementById("id_login_msg_holder")}if(e){var t=document.getElementById(e.id+"_content");e.style.display="none";if(t){e.removeChild(t)}}return true},CreateMsgElement:function(e,t,i){var n,r;var s=document.createElement("div");s.id=e.id+"_content";s.className="dc_msg";var o;if(document.getElementById("id_login_table")){if(document.getElementById("id_login_table").clientWidth===0){if(document.getElementById("overlay"))o=document.getElementById("overlay").clientWidth}else{o=document.getElementById("id_login_table").clientWidth}}if(document.getElementById("overlay")){if(document.getElementById("overlay").clientWidth===0){if(o=document.getElementById("id_login_table"))o=document.getElementById("id_login_table").clientWidth}else{o=document.getElementById("overlay").clientWidth}}s.style.width=o+"px";var l=document.createElement("div");l.className="dc_msg_nav";l.align="left";var a=document.createElement("span");a.className="dc_msg_nav_label";if(i&&i.toLocaleLowerCase()=="i".toLocaleLowerCase()){a.textContent=COMMON.doTranslate("Information");a.style.color="#3B5C7D";s.style.borderColor="#3B5C7D"}else if(i&&i.toLocaleLowerCase()=="w".toLocaleLowerCase()){a.textContent=COMMON.doTranslate("Warning");a.style.color="#3B5C7D";s.style.borderColor="#3B5C7D"}else{a.textContent=COMMON.doTranslate("Error");a.style.color="red";s.style.borderColor="red"}var c=document.createElement("button");c.id="NavBar_close";c.value="X";c.innerHTML="X";c.className="close_button_style";c.style.float="right";c.onclick=function(e){COMMON.RemoveMessage()};c.onkeyup=function(e){e.preventDefault();if(e.keyCode==13){COMMON.RemoveMessage()}};l.appendChild(a);l.appendChild(c);s.appendChild(l);var u=document.createElement("table");u.id=s.id+"_msgtbl";u.className="dc_msgtbl";var h=document.createElement("tbody");var d=document.createElement("tr");r=document.createElement("td");r.className="dc_msgtbl_content";n=document.createElement("span");n.style.width="100%";n.id=u.id+"_content";var p=/\n/;t.replace(p,"<br/>");n.textContent=t;r.appendChild(n);d.appendChild(r);h.appendChild(d);u.appendChild(h);s.appendChild(u);return s},DisplaySpin:function(e){var t,i,n,r;var s=document.getElementById("overlay_spin");if(s){return true}t=document.createElement("table");i=document.createElement("tbody");n=document.createElement("tr");r=document.createElement("td");r.id="overlay_spin_Holder";r.innerHTML="    ";t.id="overlay_spin";n.appendChild(r);i.appendChild(n);t.appendChild(i);var o=document.getElementById("id_banner");var l=o.offsetHeight+28;t.className="ol_spin";t.style.top=l+"px";var a=document.getElementById("dynContainer");if(a){a.appendChild(t)}return true},RemoveSpin:function(){var e=document.getElementById("overlay_spin");var t=document.getElementById("dynContainer");if(t&&e){e.style.display="none";t.removeChild(e)}},DisplayOverlay:function(t){var e=document.createElement("table");var i=document.createElement("tbody");var n=document.createElement("tr");var r=document.createElement("td");r.id="overlay_Holder";e.id="overlay";e.className="ol_all";n.appendChild(r);i.appendChild(n);e.appendChild(i);var s=document.getElementById("id_banner");var o=s.offsetHeight+72;var l=document.getElementById("sectionLogin");if(l){if(!document.getElementById("id_login_msg_holder")){var a=document.createElement("div");a.id="id_login_msg_holder";l.appendChild(a)}l.appendChild(e)}else return;var c;var u=document.getElementById("overlay_Holder");if(u){if(t.payload.factors){c=MFA.CreateFactors(t);u.appendChild(c);console.log("window.location.href= "+window.location.href);window.setTimeout(function(){var e=document.getElementById("id_login_table");e.style.display="none";var t,i;t=document.getElementById("id_policies");if(!MFA.Options.policyBasedAuth){if(t){i=t.querySelectorAll("ul > li:first-child > a")}if(i&&i.length>0){MFA.ShowFactorTab(i[0].innerHTML.toUpperCase())}}else{MFA.ShowFactorTab(selectedPolicyName.toUpperCase().trim())}},0);let e=u.getElementsByTagName("input");var h=0;if(MFA.userId&&MFA.userId.length>0)h++;e[h].focus();e[h].scrollIntoView()}else{u.innerHTML="Please wait"}}},resizeMessageBox:function(){var e=document.getElementById("sectionOverlay");var t=document.getElementById("sectionLogin");var i;if(e){i=e}else if(t){i=t}if(i){if(i.scrollHeight>i.clientHeight){i.style.overflowY="scroll"}else{i.style.overflowY="auto"}}},resetFieldsAfterError:function(){var e=document.getElementById("overlay_Holder");var t=document.getElementById("sectionLogin");if(e){var n=e.getElementsByTagName("input");for(i=0;i<n.length;i++){if(n[i].type!=="button")n[i].value=""}}if(t){sectionLogininputFields=t.getElementsByTagName("input");for(i=0;i<sectionLogininputFields.length;i++){if(sectionLogininputFields[i].type!=="button")sectionLogininputFields[i].value=""}}},setCookie:function(e,t,i,n){const r=Object.assign({SameSite:"Lax",expires:new Date((new Date).getTime()+(i||1)*24*36e5)},n);let s=encodeURIComponent(e)+"="+btoa(encodeURIComponent(JSON.stringify(t)));Object.keys(r).forEach(e=>{s+=";"+e+r[e]});document.cookie=s},getCookie:function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(this.isBase64(t[1])?atob(t[1]):t[1]):undefined},clearCookie:function(e){this.setCookie(e,"",{"max-age":-1})},isBase64(e){const t=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;return t.test(e)},userAgentInfo:gatherUserAgentInfo()};FixedIndfAsciiEbcdic=[0,1,2,3,55,45,46,47,22,5,37,11,12,13,14,15,16,17,18,19,60,61,50,38,24,25,63,39,28,29,30,31,64,90,127,123,91,108,80,125,77,93,92,78,107,96,75,97,240,241,242,243,244,245,246,247,248,249,122,94,76,126,110,111,124,193,194,195,196,197,198,199,200,201,209,210,211,212,213,214,215,216,217,226,227,228,229,230,231,232,233,74,224,79,95,109,121,129,130,131,132,133,134,135,136,137,145,146,147,148,149,150,151,152,153,162,163,164,165,166,167,168,169,192,106,208,161,7,32,33,34,35,36,21,6,23,40,41,42,43,44,9,10,27,48,49,26,51,52,53,54,8,56,57,58,59,4,20,62,225,65,66,67,68,69,70,71,72,73,81,82,83,84,85,86,87,88,89,98,99,100,101,102,103,104,105,112,113,114,115,116,117,118,119,120,128,138,139,140,141,142,143,144,154,155,156,157,158,159,160,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,202,203,204,205,206,207,218,219,220,221,222,223,234,235,236,237,238,239,250,251,252,253,254,255];FixedIndfEbcdicAscii=[0,1,2,3,156,9,134,127,151,141,142,11,12,13,14,15,16,17,18,19,157,133,8,135,24,25,146,143,28,29,30,31,128,129,130,131,132,10,23,27,136,137,138,139,140,5,6,7,144,145,22,147,148,149,150,4,152,153,154,155,20,21,158,26,32,160,161,162,163,164,165,166,167,168,91,46,60,40,43,93,38,169,170,171,172,173,174,175,176,177,33,36,42,41,59,94,45,47,178,179,180,181,182,183,184,185,124,44,37,95,62,63,186,187,188,189,190,191,192,193,194,96,58,35,64,39,61,34,195,97,98,99,100,101,102,103,104,105,196,197,198,199,200,201,202,106,107,108,109,110,111,112,113,114,203,204,205,206,207,208,209,126,115,116,117,118,119,120,121,122,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,123,65,66,67,68,69,70,71,72,73,232,233,234,235,236,237,125,74,75,76,77,78,79,80,81,82,238,239,240,241,242,243,92,159,83,84,85,86,87,88,89,90,244,245,246,247,248,249,48,49,50,51,52,53,54,55,56,57,250,251,252,253,254,255];Indfile=function(e){this.screen=e;this.translationTextArray={};this.bSend=0;this.tempindf={bHostSys:1,HostFile:"",DataSet:"",FileType:"",FileMode:"",PCFile:"",bTextBin:0,bCrlf:1,bAppend:0,bPacketIndex:3,bLocalXlat:1,bRecFmt:0,dwRecLen:0,dwBlkSize:0,bSpace:0,dwAVBlk:0,dwAllocSize:0,dwIncrement:0,TransName:"IND$FILE",FilePass:"",bLeftP:1,bRightP:0,bAutoErase:0,Params:"",DSNLevel:""};this.PacketSizes=[2048,4096,8192,16384,32512];this.SfPacketSize=16384;this.ResponseString=[0,0,208,0,8,105,4,0,0];this.InsertResp=[0,11,208,71,5,99,6,0,0,0,0];this.GetResp=[0,0,208,70,5,99,6,0,0,0,0,192,128,97,0,0];this.OpenRequest1=[1,6,1,1,4,3,10,10,0];this.OpenRequest2=[0,0,0,0,1,0,80,5,82,3,240];this.OpenRequest3=[0,0,17,1,1,0,80,5,82,3,240];this.InsertRequest1=[17,1,5,0,128,0];this.InsertRequest2=[4,192,128,97];this.GetRequest1=[17,1,5,0,6,0,9,5,1,3,0];this.GetRequest2=[17,1,4,0,128];this.FileData="FT:DATA";this.ScrnData="FT:MSG ";this.FileSpec="";this.ScrnBufData=[];this.FileBuf=[];this.FileBufPos=0;this.DataBlock=0;this.DataState=0;this.IndfileStr="";this.bAnimate=false;this.hIndfFile=false;this.IndfTotal=0;this.MsgRetCode=0;this.lastMsg="";this.bLastIndByte=0;this.theWriteBuf=null;this.destfile="";this.bScriptTransfer=false;this.InitSFBuf();this._downloader=window["downloader"];this.downloaderWriter=new Map;let t=undefined;this.tree={};this.transferStartTime=0;this.transferStartedTimer=null;this.bSoftHyphenLang=true;if(this.screen.charsetInfo.name.indexOf("Russia")!=-1)this.euroAsciiChar=136;else this.euroAsciiChar=128;this.reader=new FileReader;this.file=null;this.offset=0;this.fileReadEnd=false;this.readFile=()=>{return new Promise((t,i)=>{this.reader.onload=e=>{this.offset+=this.SfPacketSize-18;this.FileBuf=[...new Uint8Array(e.target.result)];t(this.reader)};this.reader.onerror=e=>i(e)})};this.seek=async e=>{if(this.file.size===0){this.fileReadEnd=true;this.FileBuf=[];return}if(this.offset>=this.file.size){this.fileReadEnd=true;this.FileBuf=[];if(!indfClass.hIndfFile){let e=document.getElementById("id_fileinput");if(e)e.value=null}return}let t=this.file.slice(this.offset,this.offset+this.SfPacketSize-18);this.reader.readAsArrayBuffer(t)}};Indfile.prototype.IndFileStart=function(e){tecoreLogger.debug("IndFileStart()");let t;this.InitSFBuf();this.bXferAbort=0;this.Console=false;this.bIndFileOpen=0;this.screen.actionEraseEOF();for(t=0;t<e.length;t++)this.screen.handleCharCodeInput(e.charCodeAt(t));this.IndFileSendEnter();this.bStarting=1};Indfile.prototype.IndFileSendEnter=function(){this.screen.sfrd=this.SfTransfer;if(this.screen.isKeyboardReady&&!this.screen.pblock.inReceiveState)this.screen.handleFunction("Enter")};Indfile.prototype.IndFileEndXfer=function(){tecoreLogger.debug("IndFileEndXfer()");this.IndFileMessages(IND_CLOSE,0,0)};Indfile.prototype.IndFileAbortXfer=function(){tecoreLogger.debug("IndFileAbortXfer()");this.bXferAbort=1;this.IndFileMessages(IND_ABORT,0,0)};Indfile.prototype.GetSFByte=function(){if(this.ScrnBufGet<this.ScrnBufPut){let e=this.ScrnBufData[this.ScrnBufGet++];return e}else{return null}};Indfile.prototype.PutSFByte=function(e){if(this.ScrnBufData){if(this.ScrnBufPut<this.SfPacketSize){this.ScrnBufData[this.ScrnBufPut++]=e}this.SfTransfer=true}};Indfile.prototype.LastSFByte=function(){};Indfile.prototype.InitSFPtrs=function(){tecoreLogger.debug("InitSFPtrs()");this.ScrnBufPut=0;this.ScrnBufGet=0;this.ScrnBufData=[]};Indfile.prototype.InitSFBuf=function(){tecoreLogger.debug("InitSFBuf()");this.SfPacketSize=this.PacketSizes[this.tempindf.bPacketIndex];this.ScrnBufData=[];this.ScrnBufPut=0;this.ScrnBufGet=0;this.FileBufPos=0};Indfile.prototype.compareArrays=function(t,i){if(t.length!=i.length)return false;for(let e=0;e<t.length;e++){if(t[e]!=i[e])return false}return true};Indfile.prototype.VerifyBytes=function(e,t,i){let n=this.ScrnBufGet;let r=this.ScrnBufData.slice(n,n+t);if(this.compareArrays(r,e)){tecoreLogger.debug("VerifyBytes() A");this.ScrnBufGet+=t;return true}else{tecoreLogger.debug("VerifyBytes() B");this.ScrnBufGet+=t;this.ResponseType=BAD;this.ResponseCode=i;return false}};Indfile.prototype.UseBytes=function(e){let t=this.ScrnBufGet;let i=this.ScrnBufData.slice(t,t+e);let n="";for(t=0;t<i.length;t++)n+=String.fromCharCode(i[t]);this.ScrnBufGet+=e;this.SfLen-=e;return n};Indfile.prototype.WasteBytes=function(e){this.ScrnBufGet+=e;this.SfLen-=e};Indfile.prototype.LOBYTE=function(e){let t=e&255;return t};Indfile.prototype.HIBYTE=function(e){let t=(e&65280)>>8;return t};Indfile.prototype.LOWORD=function(e){let t=e&65535;return t};Indfile.prototype.HIWORD=function(e){let t=(e&4294901760)>>16;return t};Indfile.prototype.indfGetEbcdicForUnicode=function(e){let t=true;switch(this.screen.charsetInfo.name){case"Baltic Multilingual EBCDIC 1112":case"Danish/Norwegian EBCDIC 1142":case"Finnish/Swedish EBCDIC 1143":case"French EBCDIC 1147":case"German/Austrian EBCDIC 1141":case"Greek EBCDIC 4971":case"International EBCDIC 1047":case"International EBCDIC 1148":case"Italian EBCDIC 1144":case"Japanese Katakana 290":case"Spain EBCDIC 1145":case"Turkish EBCDIC 1155":case"US/Canada EBCDIC 1140":if(e==173)return 202;if(e>128&&e<159)t=false;break;case"Croat/Czech/Polish/Serbian/Slovak EBCDIC 1153":if(e==173)return 202;if(e==124)return 106;if(e<32||e>126&&e<138||e==139||e>143&&e<154||e==155||e==169||e>170&&e<175||e==177||e>180&&e<184||e==187||e==255){t=false}break;case"Cyrillic(Russian) EBCDIC 1154":if(e<32||e==127||e==130||e>131&&e<138||e==139||e>144&&e<154||e==155||e>163&&e<167||e==169||e>170&&e<175||e>175&&e<178||e>179&&e<184||e==187){t=false}break;case"Arabic (type 4) EBCDIC 420":case"Farsi Bilingual EBCDIC 1097":break;case"Hebrew EBCDIC 424":break;case"Devanagari EBCDIC 1137":case"Urdu EBCDIC 918":break;case"Thai EBCDIC 1160":break;default:break}if(t)e=this.screen.getEbcdicForUnicode(e);else e=96;return e};Indfile.prototype.isSoftHyphenLang=function(){let e=false;switch(this.screen.charsetInfo.name){case"Baltic Multilingual EBCDIC 1112":case"Danish/Norwegian EBCDIC 1142":case"Finnish/Swedish EBCDIC 1143":case"French EBCDIC 1147":case"German/Austrian EBCDIC 1141":case"Greek EBCDIC 4971":case"International EBCDIC 1047":case"International EBCDIC 1148":case"Italian EBCDIC 1144":case"Japanese Katakana 290":case"Spain EBCDIC 1145":case"Turkish EBCDIC 1155":case"US/Canada EBCDIC 1140":case"Croat/Czech/Polish/Serbian/Slovak EBCDIC 1153":e=true;break;case"Cyrillic(Russian) EBCDIC 1154":case"Arabic (type 4) EBCDIC 420":case"Farsi Bilingual EBCDIC 1097":case"Hebrew EBCDIC 424":case"Devanagari EBCDIC 1137":case"Urdu EBCDIC 918":case"Thai EBCDIC 1160":break;default:break}return e};Indfile.prototype.SendResponse=async function(){let t,i;let n;this.InitSFPtrs();if(this.bXferAbort){tecoreLogger.debug("SendResponse() A");this.ResponseType=BAD;this.ResponseCode=96}if(this.ResponseType==GOOD){tecoreLogger.debug("SendResponse() B");if(this.SfSubType==70){tecoreLogger.debug("SendResponse() C");let e=await this.IndFileMessages(IND_GETSTRING,this.SfPacketSize-18,this.GetResp.length);t=e.length;if(this.tempindf.bLocalXlat&&!this.tempindf.bTextBin){for(i=0;i<t;i++){n=e[i];if(this.tempindf.bHostSys!=2&&!this.tempindf.bCrlf||n!=13&&n!=10&&n!=26){if(this.screen.charsetInfo.sbcsEuroPosition>0&&n==this.euroAsciiChar){e[i]=FixedIndfEbcdicAscii[this.screen.charsetInfo.sbcsEuroPosition]}else{n=this.indfGetEbcdicForUnicode(n);e[i]=FixedIndfEbcdicAscii[n]}}}}if(!t){tecoreLogger.debug("SendResponse() D");this.ResponseType=BAD;this.ResponseCode=34}else{tecoreLogger.debug("SendResponse() E");this.GetResp[7]=this.HIBYTE(this.HIWORD(this.DataBlock));this.GetResp[8]=this.LOBYTE(this.HIWORD(this.DataBlock));this.GetResp[9]=this.HIBYTE(this.LOWORD(this.DataBlock));this.GetResp[10]=this.LOBYTE(this.LOWORD(this.DataBlock));t+=5;this.GetResp[14]=this.HIBYTE(this.LOWORD(t));this.GetResp[15]=this.LOBYTE(this.LOWORD(t));t+=11;this.GetResp[0]=this.HIBYTE(this.LOWORD(t));this.GetResp[1]=this.LOBYTE(this.LOWORD(t));this.ScrnBufData=this.GetResp.concat(e);this.ScrnBufPut=t}}else if(this.SfSubType==71){tecoreLogger.debug("SendResponse() F");this.InsertResp[7]=this.HIBYTE(this.HIWORD(this.DataBlock));this.InsertResp[8]=this.LOBYTE(this.HIWORD(this.DataBlock));this.InsertResp[9]=this.HIBYTE(this.LOWORD(this.DataBlock));this.InsertResp[10]=this.LOBYTE(this.LOWORD(this.DataBlock));this.ScrnBufData=this.InsertResp;this.ScrnBufPut=this.InsertResp.length}else{tecoreLogger.debug("SendResponse() G");this.ResponseString[1]=5;this.ResponseString[3]=this.SfSubType;this.ResponseString[4]=9;this.ScrnBufData=this.ResponseString;this.ScrnBufPut=5}}if(this.ResponseType==BAD){tecoreLogger.debug("SendResponse() H");this.ResponseString[1]=9;this.ResponseString[3]=this.SfSubType;this.ResponseString[4]=8;this.ResponseString[7]=this.ResponseCode;this.ScrnBufData=this.ResponseString;this.ScrnBufPut=9}this.SfBufDir=1;this.IndFileSendEnter()};Indfile.prototype.ProcessSf=async function(){let i=false,e=false,t=false;let n,r;let s,o;let l;while(!i){tecoreLogger.debug("ProcessSf() A");if((n=this.GetSFByte())===null){tecoreLogger.debug("ProcessSf() B");if(!this.bIndFileOpen){this.bXferActive=0;this.ScrnBufData=[]}return true}this.screen.partition.keyboardLocked=0;this.screen.pblock.inReceiveState=0;this.SfLen=n<<8;n=this.GetSFByte();this.SfLen|=n;this.SfLen-=2;this.SfType=this.GetSFByte();if((this.SfSubType=this.GetSFByte())===null){tecoreLogger.debug("ProcessSf() C");this.finished=true;return true}this.SfLen-=2;tecoreLogger.debug("ProcessSf() - SfSubType is "&this.SfSubType);switch(this.SfSubType){case 0:n=this.GetSFByte();if(n!=9){if(n==8){n=this.GetSFByte();n=this.GetSFByte();n=this.GetSFByte();n=this.GetSFByte()}else{e=true;if(n=this.VerifyBytes(this.OpenRequest1,this.OpenRequest1.length,113)){n=this.GetSFByte();if(n==1){if(this.VerifyBytes(this.OpenRequest2,this.OpenRequest2.length,113)){e=false}}else if(n==0){if(this.VerifyBytes(this.OpenRequest3,this.OpenRequest3.length,113)){e=false}}}if(e){this.ResponseType=BAD;this.ResponseCode=113;i=true}while(!e){n=this.GetSFByte();switch(n){case 8:case 40:n=this.GetSFByte();s=n-2;this.WasteBytes(s);break;case 3:n=this.GetSFByte();s=n-2;this.FileSpec=this.UseBytes(s);if(this.FileSpec==this.FileData){this.bAnimate=true;this.DataBlock=0;this.ResponseType=GOOD;this.Console=false;this.bIndFileOpen=true;if(this.bSend==0){if(this.tempindf.bAppend)await this.IndFileMessages(IND_APPEND,0,0);else await this.IndFileMessages(IND_REPLACE,0,0)}await this.IndFileMessages(IND_MESSAGE,0,"File Transfer In Progress...")}else if(this.FileSpec==this.ScrnData){this.DataBlock=0;this.ResponseType=GOOD;this.Console=true}else{this.ResponseType=BAD;this.ResponseCode=113}e=true;i=true;break;default:this.ResponseType=BAD;this.ResponseCode=113;e=true;i=true;break}}}}this.DataState=1;this.screen.pblock.inReceiveState=0;break;case 65:this.ResponseType=GOOD;await this.SendResponse();t=true;i=true;this.IndFileEndXfer();break;case 69:if(!this.VerifyBytes(this.GetRequest1,this.GetRequest1.length,96)){i=true}break;case 70:if(this.VerifyBytes(this.GetRequest2,this.GetRequest2.length,96)){this.DataBlock++;this.ResponseType=GOOD}i=true;break;case 71:if(this.DataState==1){if(this.VerifyBytes(this.InsertRequest1,this.InsertRequest1.length,96)){this.DataState=2}else{i=true}}else{this.DataBlock++;if(this.VerifyBytes(this.InsertRequest2,this.InsertRequest2.length,96)){n=this.GetSFByte();this.SfLen=n<<8;n=this.GetSFByte();this.SfLen|=n;this.SfLen-=5;this.ResponseType=GOOD;if(this.Console){let e;let t="";this.SfLen=Math.min(this.SfLen,255);for(e=0;e<this.SfLen;e++){n=this.GetSFByte();if(!n||n=="$".charCodeAt(0)||n==163||n==165||n==197){break}else{t+=String.fromCharCode(n)}}await this.IndFileMessages(IND_MESSAGE,0,t);if(t.charCodeAt(5)=="0".charCodeAt(0)&&t.charCodeAt(6)=="3".charCodeAt(0))l=1e3;else l=3e3;i=true;bIndFileOpen=false;this.IndFileEndXfer();this.bXferActive=0;if(l!=1e3){setTimeout(()=>{INDFILE.enableSendReceiveButtons(1);indfClass.screen.handleFunction("Enter")},1500)}}else{this.SfLen=Math.min(this.SfLen,this.ScrnBufPut-this.ScrnBufGet);if(this.tempindf.bLocalXlat&&!this.tempindf.bTextBin){for(o=this.ScrnBufGet;o<this.ScrnBufGet+this.SfLen;o++){r=this.ScrnBufData[o];if(this.tempindf.bHostSys!=2&&!this.tempindf.bCrlf||r!=13&&r!=10&&r!=26){if(this.screen.charsetInfo.sbcsEuroPosition>0&&this.screen.charsetInfo.sbcsEuroPosition==FixedIndfAsciiEbcdic[r]){this.ScrnBufData[o]=this.euroAsciiChar}else{r=FixedIndfAsciiEbcdic[r];if(r==202&&this.bSoftHyphenLang)this.ScrnBufData[o]=173;else this.ScrnBufData[o]=this.screen.charsetInfo.sbcsMapper[r]}}}}if(await this.IndFileMessages(IND_PUTSTRING,this.SfLen,1)!=this.LOWORD(this.SfLen)){this.ResponseType=BAD;this.ResponseCode=71}await this.SendResponse();t=true;i=true}}else{i=true}this.DataState=1}break;default:await this.IndFileMessages(IND_MESSAGE,0,"ERROR: An invalid structured field type was received");this.IndFileAbortXfer();break}}return t};Indfile.prototype.Trail=async function(){tecoreLogger.debug("Trail() A");if((!this.screen.pblock.inReceiveState||this.SfTransfer)&&this.bXferActive){tecoreLogger.debug("Trail() B");if(this.SfTransfer){tecoreLogger.debug("Trail() C");if(this.SfBufDir==0){tecoreLogger.debug("Trail() D");if(!await this.ProcessSf()){tecoreLogger.debug("Trail() E");await this.SendResponse()}}}else{tecoreLogger.debug("Trail() F");if(this.bXferAbort){await this.IndFileMessages(IND_CLOSE,0,0);this.bXferActive=0}else if(this.bStarting){let e=Math.floor(this.screen.cursorPos/this.screen.width);let t=Math.floor(this.screen.cursorPos%this.screen.width)-4;let i=e+1;let n=t+3;let r=this.screen.getScreenContents(t,n,e,i,false,true,false,false,false);if(r.indexOf("***")!=-1){setTimeout(()=>{indfClass.IndFileSendEnter()},1500)}}}}};Indfile.prototype.Send=function(e){if(!this.screen.isPrinter){this.bXferActive=INDFILE_SEND;this.SfTransfer=false;this.IndFileStart(e)}return 0};Indfile.prototype.Receive=function(e){if(!this.screen.isPrinter){this.bXferActive=INDFILE_RECEIVE;this.SfTransfer=false;this.IndFileStart(e)}return 0};Indfile.prototype.AnimateTransfer=function(){if(this.bAnimate){if(this.bSend!=1){}else{}}};Indfile.prototype.SessionIndfileStarted=function(){tecoreLogger.debug("SessionIndfileStarted()");this.status2.data=this.lastMsg+" - "+"0 bytes transferred"};Indfile.prototype.SessionIndfileInProgress=function(e){tecoreLogger.debug("SessionIndfileInProgress()"+e);this.status2.data=this.lastMsg+" - "+e.toString()+" bytes transferred"};Indfile.prototype.SessionIndfileFinished=function(){tecoreLogger.debug("SessionIndfileFinished()")};Indfile.prototype.OpenTransFile=function(){tecoreLogger.debug("OpenTransFile()");this.destfile=this.tempindf.PCFile;this.setWriter(this.destfile);if(this.tempindf.bHostSys==2){this.hIndfFile=true}else{this.hIndfFile=true}this.SessionIndfileStarted()};Indfile.prototype.DisplayLastError=function(){alert("IND$FILE Write Error")};Indfile.prototype.ReadFile=async function(e,t){await this.seek();if(this.fileReadEnd){return[]}await this.readFile()};Indfile.prototype.WriteFile=function(e,t){if(this.theWriteBuf){if(this.writer){this.writer.write(Uint8Array.from(this.theWriteBuf))}}this.theWriteBuf=t;return true};Indfile.prototype.DeleteFile=function(e){};Indfile.prototype.IndFileMessages=async function(e,t,i){let n=0;let r;let s;let o;let l;let a;let c=i;if(c){if(e==IND_PUTSTRING||e==IND_GETSTRING){this.bAnimate=true;r=t;if(e==IND_PUTSTRING){tecoreLogger.debug("IND_PUTSTRING - wParam is "+t);if(!this.hIndfFile){return this.LOWORD(r)}c=this.ScrnBufData.slice(this.ScrnBufGet,this.ScrnBufGet+r);if(!this.tempindf.bTextBin){this.bLastIndByte=c[c.length-1]}if(!this.WriteFile(this.hIndfFile,c)){this.DisplayLastError();return 0}}else{await this.ReadFile(this.hIndfFile,r);c=this.FileBuf;tecoreLogger.debug("IND_GETSTRING - lpStr is "+c)}this.IndfTotal+=c.length;this.SessionIndfileInProgress(this.IndfTotal);if(e==IND_PUTSTRING)return this.LOWORD(r);else return c}else if(e==IND_MESSAGE){tecoreLogger.debug("IND_MESSAGE - ");if(i){if(this.transferStartedTimer){clearInterval(this.transferStartedTimer);this.transferStartedTimer=null}l=i;a="";for(o=0;o<l.length;o++){if(l.charCodeAt(o)>47&&l.charCodeAt(o)<58)a+=l.charAt(o)}if(a.length){n=Number(a);this.MsgRetCode=n}tecoreLogger.debug(a);this.lastMsg=l}}else if(e==IND_MESSAGEBOX){tecoreLogger.debug("IND_MESSAGEBOX - ");if(i){l=i;a="";for(o=0;o<l.length;o++){if(l.charCodeAt(o)>47&&l.charCodeAt(o)<58)a+=l.charAt(o)}if(a.length){n=Number(a);this.MsgRetCode=n}tecoreLogger.debug(i);alert(i)}}}else if(e==IND_APPEND){if(this.bSend==0){tecoreLogger.debug("IND_APPEND");if(this.hIndfFile){this.hIndfFile=false}if(!this.hIndfFile)this.OpenTransFile();if(this.hIndfFile){}}}else if(e==IND_REPLACE){if(this.bSend==0){tecoreLogger.debug("IND_REPLACE");if(this.hIndfFile){this.hIndfFile=false}this.DeleteFile(this.tempindf.PCFile);if(!this.hIndfFile)this.OpenTransFile()}}else if(e==IND_CLOSE){tecoreLogger.debug("IND_CLOSE");if(this.hIndfFile){this.bAnimate=false;l=this.IndfTotal;this.hIndfFile=false;if(!this.bSend){if(!this.tempindf.bTextBin){if(this.bLastIndByte==26){this.theWriteBuf.pop();this.IndfTotal--}}this.WriteFile(this.hIndfFile,null);this.FileBuf=null}if(this.writer!==undefined){this.WriterReady(this.writer);this.writer.close();this.writer=undefined;this.downloaderWriter.delete(this.destfile)}this.hIndfFile=false;INDFILE.enableSendReceiveButtons(1);let e=document.getElementById("id_fileinput");if(e)e.value=null}if(this.MsgRetCode){this.SessionIndfileInProgress(this.IndfTotal)}}else if(e==IND_ABORT){tecoreLogger.debug("IND_ABORT");this.bAnimate=false;l=" "+this.IndfTotal.toString();this.hIndfFile=false;if(!this.bSend){if(!this.tempindf.bTextBin){if(this.bLastIndByte==26){this.theWriteBuf.pop();this.IndfTotal--}}this.WriteFile(this.hIndfFile,null);this.FileBuf=null}if(this.writer!==undefined){this.writer.abort();this.writer=undefined;this.downloaderWriter.delete(this.destfile)}INDFILE.enableSendReceiveButtons(1);let e=document.getElementById("id_fileinput");if(e)e.value=null;this.SessionIndfileInProgress(this.IndfTotal)}return false};Indfile.prototype.BuildTransferStr=function(e){let t=0;this.IndfileStr="";this.IndfileStr=this.tempindf.TransName;this.IndfileStr+=" ";if(this.bSend==1)this.IndfileStr+="PUT ";else this.IndfileStr+="GET ";this.IndfileStr+=this.tempindf.HostFile;if(this.tempindf.bHostSys==0){this.IndfileStr+=" ";if(this.tempindf.FileType){this.IndfileStr+=this.tempindf.FileType;this.IndfileStr+=" "}if(this.tempindf.FileMode){this.IndfileStr+=this.tempindf.FileMode;this.IndfileStr+=" "}if(this.tempindf.bAppend||!this.tempindf.bTextBin||this.tempindf.bCrlf||this.tempindf.dwRecLen){this.IndfileStr+="("}}else if(this.tempindf.bHostSys==1){if(this.tempindf.DataSet){if(this.IndfileStr.charAt(this.IndfileStr.length-1)=="'"){t=1;this.IndfileStr=this.IndfileStr.substring(0,this.IndfileStr.length-1)}this.IndfileStr+="(";this.IndfileStr+=this.tempindf.DataSet;this.IndfileStr+=")";if(t)this.IndfileStr+="'"}if(this.tempindf.FilePass){this.IndfileStr+=" /";this.IndfileStr+=window.atob(this.tempindf.FilePass)}this.IndfileStr+=" "}else if(this.tempindf.bHostSys==2){this.IndfileStr+=" ";if(this.tempindf.bLeftP)this.IndfileStr+="(";if(this.tempindf.bTextBin)this.IndfileStr+="BINARY NOCRLF";else this.IndfileStr+="ASCII CRLF";if(this.tempindf.bRightP)this.IndfileStr+=")";if(this.tempindf.Params){this.IndfileStr+=" ";this.IndfileStr+=this.tempindf.Params}return true}if(this.tempindf.bAppend)this.IndfileStr+="APPEND ";if(!this.tempindf.bTextBin){this.IndfileStr+="ASCII "}if(this.tempindf.bCrlf)this.IndfileStr+="CRLF ";if(this.bSend==1){let e="";let t="RVFU";if(this.tempindf.bRecFmt){if(this.tempindf.dwRecLen){if(this.tempindf.bHostSys==0)e="LRECL "+this.tempindf.dwRecLen+" ";else e="LRECL("+this.tempindf.dwRecLen+") ";this.IndfileStr+=e}else if(this.tempindf.bHostSys==0&&(!this.tempindf.bAppend&&this.tempindf.bTextBin&&!this.tempindf.bCrlf)){this.IndfileStr+="("}if(this.tempindf.bHostSys==0)e="RECFM "+t.charAt(this.tempindf.bRecFmt)+" ";else e="RECFM("+t.charAt(this.tempindf.bRecFmt)+") ";this.IndfileStr+=e}if(this.tempindf.bHostSys==1){if(this.tempindf.dwBlkSize){e="BLKSIZE("+this.tempindf.dwBlkSize+") ";this.IndfileStr+=e}if(this.tempindf.dwAllocSize){e="SPACE("+this.tempindf.dwAllocSize+","+this.tempindf.dwIncrement+") ";this.IndfileStr+=e;if(this.tempindf.bSpace==1){e="AVBLOCK("+this.tempindf.dwAVBlk+") ";this.IndfileStr+=e}else if(this.tempindf.bSpace==2)this.IndfileStr+="CYLINDERS ";else if(this.tempindf.bSpace==3)this.IndfileStr+="TRACKS "}}}if(this.tempindf.Params){this.IndfileStr+=this.tempindf.Params}return true};Indfile.prototype.TransferSend=async function(e){this.bSend=1;this.IndfTotal=0;this.IndfCount=0;this.MsgRetCode=0;let t=this.tempindf.PCFile;if(!e&&!this.bScriptTransfer){if(!this.BuildTransferStr(0))return}else if(this.bScriptTransfer){if(!this.BuildTransferStr(1))return}this.hIndfFile=true;if(this.hIndfFile){tecoreLogger.debug("TransferSend( ) "+this.tempindf.PCFile);if(!await this.LuIndFile(this.IndfileStr,INDFILE_SEND)){this.SessionIndfileStarted();if(this.transferStartedTimer){clearInterval(this.transferStartedTimer);this.transferStartedTimer=null}}else{this.hIndfFile=false}}};Indfile.prototype.TransferReceive=async function(e){this.bSend=0;this.IndfTotal=0;this.IndfCount=0;this.MsgRetCode=0;this.bLastIndByte=0;if(!e&&!this.bScriptTransfer){if(!this.BuildTransferStr(0))return}else if(this.bScriptTransfer){if(!this.BuildTransferStr(1))return}hIndfFile=true;tecoreLogger.debug("TransferReceive( ) "+this.tempindf.PCFile);await this.LuIndFile(this.IndfileStr,INDFILE_RECEIVE)};Indfile.prototype.LuIndFile=async function(e,t){if(this.screen.connectState==CONNECT_STATE_CONNECTED){if(t==INDFILE_SEND||t==INDFILE_RECEIVE){if(this.tempindf.bAutoErase){if(this.tempindf.bHostSys==0){await this.TypeFunctionKey("Clear")}else this.screen.actionEraseInput()}}if(t!=INDFILE_ABORT){if(t==INDFILE_SEND)this.lastMsg="Initializing File Transfer...";else this.lastMsg="File Transfer In Progress...";this.status1.data=e;let n=this.status1.data.indexOf("/")+1;if(n){let e=this.status1.data.substring(0,n);let t=this.status1.data.indexOf(" ",n);if(t==-1)t=this.status1.data.length;let i=this.status1.data.substring(t);e+="*".repeat(t-n);e+=i;this.status1.data=e}this.status2.data=" ";this.bSoftHyphenLang=this.isSoftHyphenLang();this.transferStartTime=new Date;this.transferStartedTimer=setInterval(()=>{let e=new Date;if(e.getTime()-indfClass.transferStartTime>=5e3){clearInterval(indfClass.transferStartedTimer);indfClass.transferStartedTimer=null;indfClass.bStarting=0;indfClass.bXferActive=0;let e=INDFILE.doTranslate("IDS_MSG_THE_TRANSFER_FAILED_TO_START_PLEASE_CHECK_THE");alert(e)}},50)}else this.status1.data="Aborting File Transfer...";if(t==INDFILE_SEND)return this.Send(e);else if(t==INDFILE_RECEIVE)return this.Receive(e);else if(t==INDFILE_ABORT){this.IndFileAbortXfer();return 1}}return 1};Indfile.prototype.setWriter=function(e){e=prompt("Specify a name for the file：",e);if(e){this.writer=this.downloaderWriter.get(e);if(!this.writer){this.writer=this._downloader.getStreamWriter(e);this.downloaderWriter.set(e,this.writer)}}};Indfile.prototype.WriterReady=async i=>{return new Promise(async(e,t)=>{await i.ready;e(true)})};Indfile.prototype.GetKeyLockStatus=function(){if(!this.screen.isKeyboardReady||this.screen.pblock.inReceiveState){return true}return false};async function __delay__(t){return new Promise(e=>{t=t||2e3;setTimeout(function(){e()},t)})}async function sleep(t){return new Promise(e=>setTimeout(e,t))}async function waitFor(e,t=20*1e3,i=100){if(typeof e!="function")throw new Error("test should be a function in waitFor(test, [timeout_ms], [frequency])");if(typeof t!="number")throw new Error("timeout argument should be a number in waitFor(test, [timeout_ms], [frequency])");if(typeof i!="number")throw new Error("frequency argument should be a number in waitFor(test, [timeout_ms], [frequency])");let n=Date.now();let r=()=>{if(Date.now()-n>1e3){n=Date.now()}};let s=Date.now()+t;let o=e=>e===undefined||e===false||e===null||e.length===0;let l=e();while(o(l)){if(Date.now()>s){return false}r();await sleep(i);l=e()}return l}Indfile.prototype.TypeStringThenEnter=async function(e){let t;for(t=0;t<e.length;t++)this.screen.handleCharCodeInput(e.charCodeAt(t));if(this.GetKeyLockStatus())return null;function n(e){return e.isKeyboardReady&&!e.pblock.inReceiveState}return new Promise(async(e,t)=>{this.screen.handleFunction("Enter");let i=await waitFor(()=>n(this.screen));e()})};Indfile.prototype.ReadTerminalLine=function(e){let t=e;let i=0;let n=e+1;let r=this.screen.width;str=this.screen.getScreenContents(i,r,t,n,false,true,false,false,false);return str};Indfile.prototype.ReadFirstWordAt=function(e){let i;let n=e.r*this.screen.width+e.c;let r=0;let s="";while(e.c<this.screen.width){let t=this.screen.getScreenElementByPosition(n++);if(t){let e=t.isModified?t.inputEbcdicChar:t.ebcdicChar;i=String.fromCharCode(this.screen.charsetInfo.sbcsMapper[e]);if(i=="\0"||!i.length)i=" "}else{i=" "}if(!r){if(i!=" "&&i!="."){r=1;s+=i}}else{if(i==" ")break;s+=i}e.c++}return s};Indfile.prototype.TypeFunctionKey=async function(n){function r(e){return e.isKeyboardReady&&!e.pblock.inReceiveState}return new Promise(async(e,t)=>{this.screen.handleFunction(n);let i=await waitFor(()=>r(this.screen));e()})};Indfile.prototype.IndfileGetVMFileList=async function(t){let e=0;let i,n;let r={r:0,c:0};if(this.screen.connectState!=CONNECT_STATE_CONNECTED)return 0;if(this.GetKeyLockStatus())return 0;r.r=this.screen.height-2;while(r.r!=-1){r.c=0;i=this.ReadFirstWordAt(r);if(i.length)break;else r.r--}if(r.r==-1||i!="Ready;")return 0;await this.TypeFunctionKey("Clear");if(this.GetKeyLockStatus())return 2;await this.TypeStringThenEnter("filelist * *");if(this.GetKeyLockStatus())return 2;r.c=0;r.r=this.screen.height-1;n=this.ReadFirstWordAt(r);if(n.indexOf("HOLDING")!=-1||n.indexOf("MORE...")!=-1){await this.TypeFunctionKey("PA2");if(this.GetKeyLockStatus())return 2}let s=0;while(s<20){s++;r.c=0;r.r=this.screen.height-1;n=this.ReadFirstWordAt(r);if(n.indexOf("RUNNING")!=-1){await __delay__(50)}else{break}}t.pList=[];await this.TypeFunctionKey("Back Tab");let o=this.screen.getScreenContents(0,this.screen.width-1,1,2,false,true,false,false,false);let l=6;let a=o.indexOf("Filename");if(a!=-1)l=a;while(1){for(r.r=2+e;r.r<this.screen.height-6;r.r++){r.c=l;n=this.ReadFirstWordAt(r);if(n[0]){let e={};i=n;n=this.ReadFirstWordAt(r);if(n[0]){if(i.length<12){i+=" ".repeat(12-i.length)}i+=n;n=this.ReadFirstWordAt(r);if(n[0]){if(i.length<24){i+=" ".repeat(24-i.length)}i+=n}}e.name=i;t.pList.push(e)}else{await this.TypeFunctionKey("PF03");return 1}}e=1;await this.TypeFunctionKey("PF08");if(this.GetKeyLockStatus())return 2}};Indfile.prototype.IndfileGetTSOFileList=async function(t){let e;let i;let n=0;let r=0;let s,o;let l=this.screen.getScriptRowColumnFromPosition(this.screen.cursorPos);let a=l.row-1;let c={r:0,c:0};const u=this.screen.screenElements[this.screen.cursorPos]&&this.screen.screenElements[this.screen.cursorPos].field;const h=u&&u.fieldData.isEditable()&&this.screen.cursorPos!==u.fieldData.position;if(h){l=this.screen.getScriptRowColumnFromPosition(u.fieldData.position);a=l.row-1}if(this.screen.connectState!=CONNECT_STATE_CONNECTED)return 0;if(this.GetKeyLockStatus())return 0;let d=0;if(a>2){s=this.ReadTerminalLine(a-3);if(s.indexOf("ISPF Command Shell")!=-1){d=6;for(e=1;e<5;e++){if(a+e==this.screen.height)break;s=this.ReadTerminalLine(a+e);if(s.indexOf(".  .  .")!=-1)break;d++}}}if(d===10)r=1;else{c.c=1;c.r=a;s=this.ReadFirstWordAt(c);if(s!="READY")return 0}if(!r){await this.TypeStringThenEnter("ispf");if(this.GetKeyLockStatus())return 0;await this.TypeStringThenEnter("6");if(this.GetKeyLockStatus())return 0}s="dslist ";if(this.tempindf.DSNLevel.length)s+=this.tempindf.DSNLevel;else s+="* *";await this.TypeStringThenEnter(s);if(this.GetKeyLockStatus())return 0;s=this.ReadTerminalLine(2);if(s.indexOf("Data Set List Utility")!=-1)await this.TypeFunctionKey("Enter");if(this.GetKeyLockStatus())return 0;c.r=2;s="";while(c.r<this.screen.height&&s.indexOf("---")==-1){c.c=1;s=this.ReadFirstWordAt(c);c.r++}if(c.r<this.screen.height){await this.TypeStringThenEnter("right");if(this.GetKeyLockStatus())return 0;await this.TypeStringThenEnter("right");if(this.GetKeyLockStatus())return 0;i=c.r;t.pList=[];while(c.r<this.screen.height){c.c=1;s=this.ReadFirstWordAt(c);if(s.indexOf("***")!=-1){await this.TypeStringThenEnter("end");if(this.GetKeyLockStatus())n=1;break}else if(s.indexOf(".")!=-1){o=this.ReadFirstWordAt(c);let e={};e.name=s;if(o=="PO"){e["type"]=Tree.FOLDER;e["asynced"]=true}t.pList.push(e)}if(++c.r==this.screen.height){await this.TypeStringThenEnter("down");if(this.GetKeyLockStatus()){n=1;break}c.r=i}}if(!r){for(e=0;e<2;e++){await this.TypeStringThenEnter("exit");if(this.GetKeyLockStatus()){n=1;break}}}}if(n)return 2;else return 1};Indfile.prototype.IndfileGetTSOMemberList=async function(e,t){let i;let n=0;let r=0;let s,o;let l=this.screen.getScriptRowColumnFromPosition(this.screen.cursorPos);let a=l.row-1;let c=[];let u={r:0,c:0};if(!e||e=="")return 0;o=e;t.pList=[];if(this.screen.connectState!=CONNECT_STATE_CONNECTED)return 0;if(this.GetKeyLockStatus())return 0;s=this.ReadTerminalLine(a-3);if(s.indexOf("ISPF Command Shell")!=-1)r=1;else if(a){u.c=1;u.r=a-1;s=this.ReadFirstWordAt(u);if(s!="READY")return 0}if(!r){await this.TypeStringThenEnter("ispf");if(this.GetKeyLockStatus())return 0;await this.TypeStringThenEnter("6");if(this.GetKeyLockStatus())return 0}s="listds '"+o+"' members";await this.TypeStringThenEnter(s);if(this.GetKeyLockStatus())return 0;s=this.ReadTerminalLine(1);if(s.indexOf("ALREADY IN USE")!=-1){t.pList.push(s);await this.TypeStringThenEnter("");return 2}u.r=2;while(1){s="";while(u.r<this.screen.height&&s.indexOf("--MEMBERS--")==-1){s=this.ReadTerminalLine(u.r);if(s.indexOf("ALREADY IN USE")!=-1){t.pList.push(o);await this.TypeStringThenEnter("");return 2}u.c=1;s=this.ReadFirstWordAt(u);u.r++}if(u.r==this.screen.height){u.c=1;l=this.screen.getScriptRowColumnFromPosition(this.screen.cursorPos);u.r=a=l.row-1;s=this.ReadFirstWordAt(u);if(s.indexOf("***")!=-1){await this.TypeStringThenEnter("");if(this.GetKeyLockStatus()){n=1;u.r=this.screen.height}else{u.r=0;continue}}else{u.r=this.screen.height}}break}if(u.r<this.screen.height){while(1){u.c=1;s=this.ReadFirstWordAt(u);if(s.indexOf("***")==-1){let e={};e.name=s;t.pList.push(e);if(u.r+1==this.screen.height){u.r=0;await this.TypeStringThenEnter("");if(this.GetKeyLockStatus()){n=1;break}}else u.r++}else{await this.TypeStringThenEnter("");if(this.GetKeyLockStatus()){n=1;break}u.c=1;l=this.screen.getScriptRowColumnFromPosition(this.screen.cursorPos);u.r=a=l.row-1;s=this.ReadFirstWordAt(u);if(s.indexOf("***")==-1)break;else u.r=0}}if(!r){for(i=0;i<2;i++){await this.TypeStringThenEnter("exit");if(this.GetKeyLockStatus()){n=1;break}}}}if(n)return 2;else return 1};Indfile.prototype.doTransfer=function(e){window.INDFILE.Init(this,e)};window.INDFILE={indfClass:undefined,Init:function(e,t){indfClass=e;let i=window.indFileLabel;const n=t?.connectionSettings?.baseHref||"/ZLUX/plugins/com.rs.bzw/web/";if(!i)i="en-US";INDFILE.loadTranslationTable(i);INDFILE.createBzwOverlay();var r="indfileCss";if(!document.getElementById(r)){var s=document.getElementsByTagName("head")[0];var o=document.createElement("link");o.id=r;o.rel="stylesheet";o.type="text/css";o.href=n+"lib/js/indfile.css";s.appendChild(o)}var l="treeCss";if(!document.getElementById(l)){var s=document.getElementsByTagName("head")[0];var o=document.createElement("link");o.id=l;o.rel="stylesheet";o.type="text/css";o.href=n+"lib/js/tree.css";s.appendChild(o)}this.indfileElements=[];var a=document.getElementById("bzwINDFILE");let c=document.createElement("FORM");var a=c;c.name="indfileForm";c.id="bzwINDFILE";c.method="POST";c.style.display="block";c.style.backgroundColor="white";c.style.zIndex="1500";c.style.width="100%";c.style.height="100%";c.style.overflow="auto";this.indfileElements[0]=c;document.body.appendChild(c);a.onkeyup=async function(e){if(e.keyCode==13){e.preventDefault()}else if(e.keyCode==27){e.preventDefault();if(indfClass.bXferActive){await indfClass.LuIndFile("",INDFILE_ABORT);setTimeout(()=>{INDFILE.RemoveINDFILEForm(a);indfClass.bXferActive=0},2e3)}else{INDFILE.getUISettings();INDFILE.RemoveINDFILEForm(a)}}};var u=document.createElement("div");u.id="dynContainer";u.className="dynContent";this.indfileElements[1]=u;this.indfileElements[0].appendChild(u);var h=document.createElement("div");h.id="sectionIndfile";h.className="indfile_section_style";u.appendChild(h);var d,p,f,E,T,_;var g,S,C;var R=document.createElement("table");R.className="dynContent_btm_tbl_indfile";R.id="id_indfile_table";f=document.createElement("tr");f.align="left";E=document.createElement("td");var m=document.createElement("button");m.id="indfile_close";m.value="X";m.innerHTML="X";m.className="close_button_style";m.style.float="right";m.style.padding="16px 0px";m.onclick=async function(e){e.preventDefault();if(e.detail){if(indfClass.bXferActive){await indfClass.LuIndFile("",INDFILE_ABORT);setTimeout(()=>{var e=document.getElementById("bzwINDFILE");INDFILE.RemoveINDFILEForm(e);indfClass.bXferActive=0},2e3)}else{INDFILE.getUISettings();var t=document.getElementById("bzwINDFILE");INDFILE.RemoveINDFILEForm(t)}}delete window.RTE_BZW_VARIABLE_TEMPTREE;delete window.RTE_BZW_VARIABLE_BOOL_MENUSETTING};E.appendChild(m);S=document.createElement("p");S.id="id_header";S.className="header_style";S.innerHTML=INDFILE.doTranslate("IND$FILE Transfer - Send / Receive");E.appendChild(S);let N=document.createElement("hr");N.className="header_divider";E.appendChild(N);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";f.id="id_hostfile_label_tr";E=document.createElement("td");T=document.createElement("p");T.id="id_hostfile_label";T.textContent=INDFILE.doTranslate("Host File:");E.appendChild(T);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";f.id="id_hostfile_tr";E=document.createElement("td");E.style.cssText="width:580px";g=document.createElement("input");g.type="text";g.id="id_hostfile";g.maxLength=256;g.name="txtHostFile";g.value=indfClass.tempindf.HostFile;g.oninput=function(){INDFILE.checkInputToEnableDisableSendReceive()};E.appendChild(g);f.appendChild(E);f.style.display="true";R.appendChild(f);if(indfClass.tempindf.bHostSys!=0){f=document.createElement("tr");f.align="left";E=document.createElement("td");E.align="left";for(d=0;d<2;d++){p=document.createElement("br");E.appendChild(p)}f.appendChild(E);R.appendChild(f)}if(indfClass.tempindf.bHostSys==0){f=document.createElement("tr");f.align="left";E=document.createElement("td");_=document.createElement("label");_.id="id_filetype_label";_.htmlFor="id_filetype";_.textContent=INDFILE.doTranslate("File Type:")+"   ";E.appendChild(_);g=document.createElement("input");g.type="text";g.id="id_filetype";g.className="filetype";g.maxLength=32;g.value=indfClass.tempindf.FileType||"";E.appendChild(g);_=document.createElement("label");_.id="id_filemode_label";_.htmlFor="id_filemode";_.textContent="     "+INDFILE.doTranslate("File Mode:")+"   ";E.appendChild(_);g=document.createElement("input");g.type="text";g.id="id_filemode";g.className="filemode";g.maxLength=32;g.value=indfClass.tempindf.FileMode||"";E.appendChild(g);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";E=document.createElement("td");E.align="left";for(d=0;d<2;d++){p=document.createElement("br");E.appendChild(p)}f.appendChild(E);R.appendChild(f)}if(indfClass.tempindf.bHostSys!=2){f=document.createElement("tr");f.align="left";E=document.createElement("td");let e=window.RTE_BZW_VARIABLE_TEMPTREE||document.createElement("div");e.id="tree";E.appendChild(e);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";E=document.createElement("td");if(indfClass.tempindf.bHostSys==1){_=document.createElement("label");_.id="id_dsn_label";_.htmlFor="id_dsn";_.textContent=INDFILE.doTranslate("DSN Level:")+"   ";E.appendChild(_);g=document.createElement("input");g.type="text";g.id="id_dsnlevel";g.className="dsnlevel";g.margin=0;g.maxLength=64;g.value=indfClass.tempindf.DSNLevel;E.appendChild(g)}INDFILE.addRefresh(E);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";E=document.createElement("td");E.align="left";for(d=0;d<2;d++){p=document.createElement("br");E.appendChild(p)}f.appendChild(E);R.appendChild(f)}f=document.createElement("tr");f.align="left";E=document.createElement("td");C=document.createElement("select");C.id="id_textbinary";C.className="select_input";C.onchange=function(){let e=document.getElementById("id_textbinary");let t=document.getElementById("id_crlf");if(e.value==INDFILE.doTranslate("Text")){t.checked=indfClass.tempindf.bCrlf=1}else{t.checked=indfClass.tempindf.bCrlf=0;t=document.getElementById("id_append");t.checked=indfClass.tempindf.bAppend=0}};E.appendChild(C);let A=document.createElement("option");A.value=A.text=INDFILE.doTranslate("Text");if(indfClass.tempindf.bTextBin==0)A.selected=true;C.appendChild(A);A=document.createElement("option");A.value=A.text=INDFILE.doTranslate("Binary");if(indfClass.tempindf.bTextBin==1)A.selected=true;C.appendChild(A);E.appendChild(C);g=document.createElement("input");g.type="checkbox";g.id="id_crlf";g.style="margin-left:7%";g.checked=indfClass.tempindf.bCrlf;if(indfClass.tempindf.bHostSys==2){g.style.display="none"}E.appendChild(g);_=document.createElement("label");_.id="id_crlf_label";_.htmlFor="id_crlf";_.textContent="   "+INDFILE.doTranslate("CR/LF");if(indfClass.tempindf.bHostSys==2){_.style.display="none"}E.appendChild(_);g=document.createElement("input");g.type="checkbox";g.id="id_append";g.style="margin-left:7%";g.checked=indfClass.tempindf.bAppend;if(indfClass.tempindf.bHostSys==2){g.style.display="none"}E.appendChild(g);_=document.createElement("label");_.id="id_append_label";_.htmlFor="id_append";_.textContent="   "+INDFILE.doTranslate("Append");if(indfClass.tempindf.bHostSys==2){_.style.display="none"}E.appendChild(_);if(document.getElementById("context-menu-settings")){window.RTE_BZW_VARIABLE_BOOL_MENUSETTING=true}if(document.getElementById("settingsIcon")||window.RTE_BZW_VARIABLE_BOOL_MENUSETTING){let e=document.createElement("input");e.type="button";e.style="float: right;";e.addEventListener("click",function(e){INDFILE.getUISettings();window.RTE_BZW_VARIABLE_TAB="indfile";document.getElementById("bzwINDFILE").style.display="none";if(document.getElementById("settingsIcon")){document.getElementById("settingsIcon").click()}else if(document.getElementById("sessionSettingAdv")){document.getElementById("sessionSettingAdv").click()}else if(window.RTE_BZW_VARIABLE_BOOL_MENUSETTING){window["RTE_BZW_ACTION_OPENSETTING"].toggleSessionSettings()}});e.id="advBtn";e.value=INDFILE.doTranslate("AdvSettings");E.appendChild(e)}f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";E=document.createElement("td");E.align="left";for(d=0;d<2;d++){p=document.createElement("br");E.appendChild(p)}f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";E=document.createElement("td");E.align="left";function y(){setTimeout(()=>{let e=document.getElementById("id_fileinput");if(e){if(!e.value.length){INDFILE.enableSendReceiveButtons(1)}}window.removeEventListener("focus",y,true)},100)}g=document.createElement("input");g.id="id_fileinput";g.type="file";g.style.display="none";g.addEventListener("click",function(e){window.addEventListener("focus",y,true)});g.addEventListener("change",I,false);function I(){const e=this.files;indfClass.file=e[0];indfClass.offset=0;indfClass.fileReadEnd=false;INDFILE.getUISettings();indfClass.TransferSend()}E.appendChild(g);g=document.createElement("input");g.type="button";g.id="id_send";g.value=INDFILE.doTranslate("Send");g.className="button_submit";g.onclick=function(){INDFILE.disableSendReceiveButtons(1);let e=document.getElementById("id_fileinput");if(e)e.click()};g.style="vertical-align:top; float:left; margin-left:15%; width:25%";E.appendChild(g);E.align="right";g=document.createElement("input");g.type="button";g.id="id_receive";g.value=INDFILE.doTranslate("Receive");g.className="button_submit";g.onclick=function(){INDFILE.getUISettings();INDFILE.disableSendReceiveButtons(1);indfClass.TransferReceive()};g.style="vertical-align:top; float:right; margin-right:15%; width:25%";E.appendChild(g);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");f.align="left";E=document.createElement("td");p=document.createElement("br");E.appendChild(p);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");E=document.createElement("td");N=document.createElement("hr");N.className="header_divider";E.appendChild(N);f.appendChild(E);R.appendChild(f);f=document.createElement("tr");E=document.createElement("td");let O=document.createTextNode(" ");O.type="text";O.id="id_indfCommand";E.appendChild(O);f.appendChild(E);R.appendChild(f);indfClass.status1=O;f=document.createElement("tr");E=document.createElement("td");p=document.createElement("br");E.appendChild(p);O=document.createTextNode(" ");O.type="text";O.id="id_indfStatus";E.appendChild(O);f.appendChild(E);R.appendChild(f);indfClass.status2=O;f=document.createElement("tr");f.align="left";E=document.createElement("td");p=document.createElement("br");E.appendChild(p);f.appendChild(E);R.appendChild(f);h.appendChild(R);INDFILE.checkInputToEnableDisableSendReceive();if(indfClass.tempindf.bHostSys!=2&&!window.RTE_BZW_VARIABLE_TEMPTREE){INDFILE.populateHostList()}c=document.getElementById("id_indfile_table");if(c){c.style.display="block";c.style.backgroundColor="white"}},populateHostList:function(){tree=new Tree(document.getElementById("tree"),{navigate:true});tree.on("select",t=>{if(!loadingTree){let i=t.parentNode;let n=t.childNodes[0].data;if(t.type===""&&i.attributes[0].value=="folder"){let e=i.innerText.substring(0,i.innerText.indexOf("\n"));let t=e+"("+n+")";n=t}else{if(indfClass.tempindf.bHostSys==0){let e=n.split(/\s+/g);tecoreLogger.debug(e);n=e[0];let t=document.getElementById("id_filetype");if(t)t.value=e[1]||"";let i=document.getElementById("id_filemode");if(i)i.value=e[2]||""}}if(indfClass.tempindf.bHostSys==1){if(!indfClass.tempindf.DSNLevel.length||indfClass.tempindf.DSNLevel.charCodeAt(0)!=39){let e=n.indexOf(".");if(e>0){n=n.substring(e+1)}}else{let e="'"+n+"'";n=e}}let e=document.getElementById("id_hostfile");if(e)e.value=n;INDFILE.enableSendReceiveButtons(0)}});tree.on("created",(e,t)=>{e.node=t});tree.on("fetch",async e=>{let t=e.node.name;let n;let r={pList:[]};n=await indfClass.IndfileGetTSOMemberList(t,r);if(!n){let e=INDFILE.doTranslate("IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE");alert(e)}else if(n==1){for(i=0;i<r.pList.length;i++){tree.file({name:r.pList[i].name},e)}}else if(n==2){alert(r.pList.toString());setTimeout(()=>{tree.unloadFolder(e)},10)}e.resolve()})},createBzwOverlay:function(){let e=document.getElementById("bzwOverlay");if(e)return;let t=document.createElement("div");t.name="bzwOverlay";t.id="bzwOverlay";t.className="bzw_indfile_overlay";document.body.appendChild(t)},removeBzwOverlay:function(){const e=document.getElementById("bzwOverlay");if(!e)return;e.style.display="none";document.body.removeChild(e)},RemoveINDFILEForm:function(e){if(!e){return}if(document.getElementsByClassName("input-history-container-class")[0]){document.getElementsByClassName("input-history-container-class")[0].style.display="block"}document.body.removeChild(e);this.indfileElements=null;INDFILE.removeBzwOverlay()},getUISettings:function(){let e=document.getElementById("id_hostfile");if(e){indfClass.tempindf.HostFile=e.value;indfClass.tempindf.PCFile=e.value;indfClass.tempindf.PCFile.replace("'","");indfClass.tempindf.PCFile.replace('"',"")}let t=document.getElementById("id_crlf");if(t){indfClass.tempindf.bCrlf=t.checked}let i=document.getElementById("id_append");if(i){indfClass.tempindf.bAppend=i.checked}let n=document.getElementById("id_textbinary");if(n){if(n.value==INDFILE.doTranslate("Text"))indfClass.tempindf.bTextBin=0;else indfClass.tempindf.bTextBin=1}if(indfClass.tempindf.bHostSys==0){let e=document.getElementById("id_filetype");if(e){indfClass.tempindf.FileType=e.value||""}let t=document.getElementById("id_filemode");if(t){indfClass.tempindf.FileMode=t.value||""}}else if(indfClass.tempindf.bHostSys==1){let e=document.getElementById("id_dsnlevel");if(e){indfClass.tempindf.DSNLevel=e.value}}},setUISettings:function(e){indfClass.translationTextArray={};var t=indfClass.tempindf.bPacketIndex;window.RTE_BZW_VARIABLE_TEMPTREE=document.getElementById("tree");if(e.bHostSys==0&&document.getElementById("id_dsnlevel")||e.bHostSys==1&&!document.getElementById("id_dsnlevel")||e.bHostSys==3){delete window.RTE_BZW_VARIABLE_TEMPTREE}INDFILE.RemoveINDFILEForm(document.getElementById("bzwINDFILE"));indfClass.tempindf=e;indfClass.tempindf.bPacketIndex=t;window.INDFILE.Init(indfClass)},addRefresh:function(e){let t=document.createElement("input");t.type="button";t.id="id_refresh";t.value=INDFILE.doTranslate("Refresh");t.className="button_submit";t.disabled=false;t.onclick=async function(){this.disabled=true;INDFILE.disableSendReceiveButtons(0);if(indfClass.tempindf.bHostSys==0){let e=document.getElementById("tree");if(e)e.style.fontFamily="monospace"}else if(indfClass.tempindf.bHostSys==1){let e=document.getElementById("id_dsnlevel");if(e){indfClass.tempindf.DSNLevel=e.value}}tree.clearTree();let e;let t={pList:[]};if(indfClass.tempindf.bHostSys==1)e=await indfClass.IndfileGetTSOFileList(t);else e=await indfClass.IndfileGetVMFileList(t);if(!e){let e=INDFILE.doTranslate("IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE");alert(e)}else if(e==1){t.pList.sort((e,t)=>{return e.name.localeCompare(t.name)});loadingTree=true;tree.json(t.pList);loadingTree=false;this.disabled=false;INDFILE.checkInputToEnableDisableSendReceive()}else if(e==2){alert(t.pList.toString())}};if(indfClass.tempindf.bHostSys==1){t.style="vertical-align:center; float:right; width:25%"}else{e.style="text-align: center";t.style="vertical-align:center; float:center; width:25%"}e.appendChild(t)},disableSendReceiveButtons:function(e){let t=document.getElementById("id_send");let i=document.getElementById("id_receive");if(t)t.disabled=true;if(i)i.disabled=true;if(e){let e=document.getElementById("id_refresh");if(e)e.disabled=true}},enableSendReceiveButtons:function(e){let t=document.getElementById("id_send");let i=document.getElementById("id_receive");if(t)t.disabled=false;if(i)i.disabled=false;if(e){let e=document.getElementById("id_refresh");if(e)e.disabled=false}},checkInputToEnableDisableSendReceive:function(){let e=document.getElementById("id_hostfile");if(e){if(e.value!==null&&e.value!==""){INDFILE.enableSendReceiveButtons(0)}else{INDFILE.disableSendReceiveButtons(0)}}},doTranslate:function(e){let t=indfClass.translationTextArray;if(t&&t[e]!==null&&t[e]!==undefined&&t[e]!==""){return t[e]}else{tecoreLogger.debug("Untranslated: "+e);return e}},loadTranslationTable:function(e){let t={};let i="";switch(e){case"de":i='{"IND$FILE Transfer - Send / Receive": "IND$FILE Übertragung - Senden / Empfangen", "Host File:": "Host Datei:", "File Type:": "Dateityp:", "File Mode:": "Dateimodus:","AdvSettings":"Advanced settings",\t\t\t\t"DSN Level:": "DSN Level:", "Refresh":"Aktualisieren", "Text":"Text", "Binary":"Binär", "CR/LF":"CR/LF", "Append":"Hinzufügen", "Send":"Senden", "Receive":"Empfangen", "IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE":"The session must be at a READY prompt or the ISPF Command Shell screen to query host files.",\t\t\t\t"IDS_MSG_THE_TRANSFER_FAILED_TO_START_PLEASE_CHECK_THE":"Übertragungsstart fehlgeschlagen. Bitte prüfen Sie folgende Punkte:\\r\\nCursor auf dem Hostscreen ist auf gültiger Position um Übertragungsbefehl zu senden.\\r\\n\\r\\nDer \'Name Übertragungsprogramm\' in den erweiterten Übertragungseinstellungen gibt den richtigen Programmnamen für Ihre Sprache an.\\r\\n\\r\\nEventuell müssen Sie die Checkbox Auto-Clear/Erase Input in den Übertragungseinstellungen aktivieren."}';break;case"es":i='{"IND$FILE Transfer - Send / Receive": "IND$FILE Transferir - Enviar / Recibir", "Host File:": "Archivo del host:", "File Type:": "Tipo del archivo:", "File Mode:": "Modo del archivo:","AdvSettings":"Advanced settings",\t\t\t\t"DSN Level:": "Nivel DSN:", "Refresh":"Actualizar", "Text":"Texto", "Binary":"Binario", "CR/LF":"CR/LF", "Append":"Adjuntar", "Send":"Enviar", "Receive":"Recibir", "IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE":"The session must be at a READY prompt or the ISPF Command Shell screen to query host files.",\t\t\t\t"IDS_MSG_THE_TRANSFER_FAILED_TO_START_PLEASE_CHECK_THE":"La transferencia no se pudo empezar, por favor chequear lo siguiente:\\r\\nEl cursor en la pantalla de host está en una ubicación válida para enviar un comando de transferencia.\\r\\n\\r\\nEl nombre del programa de transferencia en el diálogo de configuración de transferencia avanzada está especificando el nombre correcto del programa para su idioma.\\r\\n\\r\\nEs posible que sea necesario habilitar la casilla de entrada de Quitar/Borrar automático en el diálogo de configuración de transferencia."}';break;case"fr":i='{"IND$FILE Transfer - Send / Receive": "IND$FILE Transfert - Envoyer / Recevoir", "Host File:": "Fichier Hôte:", "File Type:": "Type Fichier:", "File Mode:": "Mode Fichier:","AdvSettings":"Advanced settings",\t\t\t\t"DSN Level:": "DSN Level:", "Refresh":"Rafraîchir", "Text":"Texte", "Binary":"Binaire", "CR/LF":"CR/LF", "Append":"Ajouter", "Send":"Envoyer", "Receive":"Recevoir", "IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE":"La session doit être à une invite de prête ou de l\'écran ISPF commande Shell pour fichiers hôte de requête.",\t\t\t\t"IDS_MSG_THE_TRANSFER_FAILED_TO_START_PLEASE_CHECK_THE":"Le transfert n\'a pu démarrer, Vérifier les points suivants:\\r\\nle curseur dans l\'écran d \'accueil se trouve a un emplacement valide pour envoyer une commande de transfert.\\r\\n\\r\\nLe nom du programme de transfert dans la configuration avancée du programme de transfert de dialogue est de  spécifier le nom du programme correct pour votre langue.\\r\\n\\r\\nIl peut être nécessaire d’activer l \'auto-nettoyage/Effacer l’entrée case à cocher dans la boite de dialogue Paramètres de transfert."}';break;case"nl":i='{"IND$FILE Transfer - Send / Receive": "IND$FILE Overdracht - Versturen / Ontvangen", "Host File:": "Host Bestanden:", "File Type:": "Bestandstype:", "File Mode:": "Bestandsmodus","AdvSettings":"Advanced settings",\t\t\t\t"DSN Level:": "DSN Level:", "Refresh":"Verversen", "Text":"Tekst", "Binary":"Binair", "CR/LF":"CR/LF", "Append":"Toevoegen", "Send":"Versturen", "Receive":"Ontvangen", "IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE":"De sessie moet op de READY prompt of het ISPF Command Shell scherm staan om host bestanden over te halen.",\t\t\t\t"IDS_MSG_THE_TRANSFER_FAILED_TO_START_PLEASE_CHECK_THE":"De overdracht kon niet worden gestart, controleer:\\r\\nOf de cursor op het host scherm op een geldige positie staat voor het starten van de overdracht.\\r\\n\\r\\nOf de programmanaam van het overdrachtsprogramma bij de geavanceerde overdrachts instellingen goed en in de juiste taal ingesteld staat.\\r\\n\\r\\nMogelijk moet de optie voor het automatisch schoonmaken worden gebruikt bij de overdrachtsinstellingen."}';break;default:i='{"IND$FILE Transfer - Send / Receive": "IND$FILE Transfer - Send / Receive", "Host File:": "Host File:", "File Type:": "File Type:", "File Mode:": "File Mode:","AdvSettings":"Advanced settings",\t\t\t\t"DSN Level:": "DSN Level:", "Refresh":"Refresh", "Text":"Text", "Binary":"Binary", "CR/LF":"CR/LF", "Append":"Append", "Send":"Send", "Receive":"Receive", "IDS_MSG_THE_SESSION_MUST_BE_AT_A_READY_PROMPT_OR_THE":"The session must be at a READY prompt or the ISPF Command Shell screen to query host files.",\t\t\t\t"IDS_MSG_THE_TRANSFER_FAILED_TO_START_PLEASE_CHECK_THE":"The transfer failed to start, please check the following:\\r\\nThe cursor in the host screen is at a valid location to send a transfer command.\\r\\n\\r\\nThe Transfer Program Name in the IND$FILE-Advanced dialog is specifying the correct program name for your language.\\r\\n\\r\\nIt may be necessary to enable the Auto-Clear/Erase Input checkbox in the IND$FILE-Settings dialog."}';break}t=JSON.parse(i);for(var n in t){indfClass.translationTextArray[n]=t[n]}}};"use strict";{const Emitter=typeof window.Emitter==="undefined"?class Emitter{constructor(){this.events={}}on(e,t){this.events[e]=this.events[e]||[];this.events[e].push(t)}once(e,t){t.once=true;this.on(e,t)}emit(e,...t){if(this.events[e]===undefined){return}for(const i of[...this.events[e]]){i(...t);if(i.once){const n=this.events[e].indexOf(i);this.events[e].splice(n,1)}}}}:window.Emitter;class SimpleTree extends Emitter{constructor(e,i={}){super();e.addEventListener("click",e=>{if(e&&e.clientX&&e.detail===1&&e.offsetX>=0){return e.preventDefault()}const t=this.active();if(t&&t.dataset.type===SimpleTree.FILE){e.preventDefault();this.emit("action",t);if(i["no-focus-on-action"]===true){window.clearTimeout(this.id)}}});e.classList.add("simple-tree");if(i.dark){e.classList.add("dark")}this.treeparent=e;this.parent=e.appendChild(document.createElement("details"));this.parent.appendChild(document.createElement("summary"));this.parent.open=true;this.interrupt=e=>e}append(e,t,i,n=()=>{}){if(i){t.insertBefore(e,i)}else{t.appendChild(e)}n();return e}file(e,t=this.parent,i){t=t.closest("details");e=this.interrupt(e);const n=this.append(Object.assign(document.createElement("a"),{textContent:e.name,href:"#"}),t,i);n.dataset.type=SimpleTree.FILE;this.emit("created",n,e);return n}folder(e,t=this.parent,i){t=t.closest("details");e=this.interrupt(e);const n=document.createElement("details");const r=Object.assign(document.createElement("summary"),{textContent:e.name});n.appendChild(r);this.append(n,t,i,()=>{n.open=e.open;n.dataset.type=SimpleTree.FOLDER});this.emit("created",r,e);return r}open(e){e.open=true}hierarchy(e=this.active()){if(this.parent.contains(e)){const t=[];while(e!==this.parent){if(e.dataset.type===SimpleTree.FILE){t.push(e)}else if(e.dataset.type===SimpleTree.FOLDER){t.push(e.querySelector("summary"))}e=e.parentElement}return t}else{return[]}}siblings(e=this.parent.querySelector("a, details")){if(this.parent.contains(e)){if(e.dataset.type===undefined){e=e.parentElement}return[...e.parentElement.children].filter(e=>{return e.dataset.type===SimpleTree.FILE||e.dataset.type===SimpleTree.FOLDER}).map(e=>{if(e.dataset.type===SimpleTree.FILE){return e}else{return e.querySelector("summary")}})}else{return[]}}children(e){const t=e.querySelector("a, details");if(t){return this.siblings(t)}else{return[]}}clearTree(){const e=this.parent;while(e.firstChild){if(e.firstChild!=this.parent)e.removeChild(e.lastChild)}this.parent.appendChild(document.createElement("summary"))}}SimpleTree.FILE="file";SimpleTree.FOLDER="folder";class AsyncTree extends SimpleTree{constructor(e,t){super(e,t);e.addEventListener("click",e=>{const t=e.target.parentElement;if(t.open&&t.dataset.loaded==="false"){e.preventDefault()}});e.classList.add("async-tree")}folder(...e){const t=super.folder(...e);const i=t.closest("details");i.addEventListener("toggle",e=>{this.emit(i.dataset.loaded==="false"&&i.open?"fetch":"open",t)});t.resolve=()=>{i.dataset.loaded=true;this.emit("open",t)};return t}asyncFolder(e,t,i){const n=this.folder(e,t,i);const r=n.closest("details");r.dataset.loaded=false;if(e.open){this.open(r)}return n}unloadFolder(e){const t=e.closest("details");t.open=false;const i=this.active();if(i&&this.parent.contains(i)){this.select(t)}[...t.children].slice(1).forEach(e=>e.remove());t.dataset.loaded=false}browse(e,t=this.siblings()){for(const i of t){if(e(i)){this.select(i);if(i.dataset.type===SimpleTree.FILE){return this.emit("browse",i)}const n=i.closest("details");if(n.open){return this.browse(e,this.children(n))}else{window.setTimeout(()=>{this.once("open",()=>this.browse(e,this.children(n)));this.open(n)},0);return}}}this.emit("browse",false)}}class SelectTree extends AsyncTree{constructor(e,t={}){super(e,t);e.addEventListener("click",e=>{if(e.detail>1){const t=this.active();if(t&&t!==e.target){if(e.target.tagName==="A"||e.target.tagName==="SUMMARY"){return this.select(e.target,"click")}}if(t){this.focus(t)}}});window.addEventListener("focus",()=>{const e=this.active();if(e){this.focus(e)}});e.addEventListener("focusin",e=>{const t=this.active();if(t!==e.target){this.select(e.target,"focus")}});this.on("created",(e,t)=>{if(t.selected){this.select(e)}});e.classList.add("select-tree");if(t.navigate){this.parent.addEventListener("keydown",e=>{const{code:t}=e;if(t==="ArrowUp"||t==="ArrowDown"){this.navigate(t==="ArrowUp"?"backward":"forward");e.preventDefault()}})}}focus(e){window.clearTimeout(this.id);this.id=window.setTimeout(()=>document.hasFocus()&&e.focus(),100)}select(e){const t=e.querySelector("summary");if(t){e=t}[...this.parent.querySelectorAll(".selected")].forEach(e=>e.classList.remove("selected"));e.classList.add("selected");this.focus(e);this.emit("select",e)}active(){return this.parent.querySelector(".selected")}navigate(e="forward"){const t=this.active();if(t){const i=[...this.parent.querySelectorAll("a, summary")];const n=i.indexOf(t);const r=e==="forward"?i.slice(n+1):i.slice(0,n).reverse();for(const s of r){if(s.getBoundingClientRect().height){return this.select(s)}}}}}class JSONTree extends SelectTree{json(e,i){e.forEach(e=>{if(e.type===SimpleTree.FOLDER){const t=this[e.asynced?"asyncFolder":"folder"](e,i);if(e.children){this.json(e.children,t)}}else{this.file(e,i)}})}}window.Tree=JSONTree}