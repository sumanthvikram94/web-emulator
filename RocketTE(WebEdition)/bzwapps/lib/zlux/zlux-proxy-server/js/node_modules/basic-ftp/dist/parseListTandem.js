"use strict";
//import { FileInfo, FileType } from "./FileInfo"
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformList = exports.parseLine = exports.testLine = void 0;
//const JA_MONTH = "\u6708"
//const JA_DAY   = "\u65e5"
//const JA_YEAR  = "\u5e74"
const RE_LINE = new RegExp(
/*
File         Code             EOF  Last Modification    Owner  RWEP
A1TXT         101             5574 19-Mar-12 10:09:52  92,166 "nnnn"
A2TXT         101             7628 19-Mar-12 10:09:52  92,166 "nnnn"
A8KCMD30      101              334 14-Feb-06 08:18:26  92,165 "nnnn"
A8KCMD37      101             2504 14-Feb-06 08:18:26  92,165 "nnnn"
ABSTRACT      101             6882 19-Apr-00 09:44:51  92,165 "nnnn"
*/
"(\\S+)" // File / Name
    + "\\s+" // separator
    + "(\\d+)" // Code
    + "\\s+" // separator
    + "(\\d+)" // Size / EOF
    + "\\s+" // separator
    + "(\\d+[-/]\\S{3}[-/]\\d+)" // Day-Month-Year
    + "\\s+" // separator
    + "(\\S+)" // Time
    + "\\s+" // separator    
    + "(\\S+)" // Owner
    + "\\s+" // separator
    + "(.*)"); // Permissions
/**
 * Returns true if a given line might be a MVS-style listing.
 *
  */
function testLine(line) {
    if (line == "File         Code             EOF  Last Modification    Owner  RWEP") {
        return true;
    }
    return false;
}
exports.testLine = testLine;
/**
 * Parse a single line of a MVS-style directory listing.
 */
function parseLine(line) {
    if (line == "File         Code             EOF  Last Modification    Owner  RWEP")
        return undefined;
    let groups = line.match(RE_LINE);
    if (groups === null) {
        return undefined;
    }
    let obj = {};
    obj.Name = groups[1];
    obj.Code = groups[2];
    obj.Size = groups[3];
    obj.Date = groups[4] + " " + groups[5];
    obj.Owner = groups[6];
    obj.Permissions = groups[7];
    obj.type = "file";
    return obj;
}
exports.parseLine = parseLine;
function transformList(files) {
    return files;
}
exports.transformList = transformList;
